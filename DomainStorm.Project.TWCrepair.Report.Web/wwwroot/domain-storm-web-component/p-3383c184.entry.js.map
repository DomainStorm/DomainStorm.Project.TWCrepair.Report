{"version":3,"names":["stormNavbarCss","StormNavbar","navbarRef","toggleInnerRef","ticking","scrollY","position","searchable","dataSet","checked","toggleClick","navbarClick","toggle","this","classList","sidenavShow","document","getElementsByClassName","remove","add","listenScroll","e","detail","window","requestAnimationFrame","contains","stopPropagation","SetPosition","map","elem","h","class","SetSearch","label","outline","SetIcon","href","title","placement","role","icon","onClick","handleClick","id","handleToggleClick","preventDefault","emit","render","key","ref","length"],"sources":["src/components/storm-navbar/storm-navbar.css?tag=storm-navbar","src/components/storm-navbar/storm-navbar.tsx"],"sourcesContent":["@import '../../../vendor/material-icons-round/material-icons-round.css';\r\n\r\n.pinned .sidenav-toggler-inner .sidenav-toggler-line:first-child,\r\n.pinned .sidenav-toggler-inner .sidenav-toggler-line:last-child {\r\n  width: 13px;\r\n  transform: translateX(5px);\r\n}\r\n\r\n.navbar .sidenav-toggler-inner {\r\n  width: 18px;\r\n}\r\n\r\n/* .navbar .sidenav-toggler-inner .sidenav-toggler-line:first-child,\r\n.navbar .sidenav-toggler-inner .sidenav-toggler-line:last-child {\r\n  width: 13px;\r\n  transform: translateX(5px);\r\n} */\r\n","import { Component, Event, EventEmitter, h, Listen, Method, Prop } from '@stencil/core';\r\nimport type { NavbarItemInterface } from './interface';\r\n\r\n@Component({\r\n  tag: 'storm-navbar',\r\n  styleUrl: 'storm-navbar.css',\r\n  shadow: false,\r\n})\r\nexport class StormNavbar {\r\n  private navbarRef: HTMLElement;\r\n  private toggleInnerRef: HTMLElement;\r\n  // private checked: boolean = false\r\n  private ticking: boolean = false;\r\n  private scrollY: number;\r\n\r\n  @Prop() position: string[];\r\n  @Prop() searchable: boolean;\r\n  @Prop() dataSet: NavbarItemInterface[];\r\n  @Prop({ mutable: true }) checked: boolean = false;\r\n\r\n  // @Event() toggleClick: EventEmitter<boolean>\r\n  @Event() toggleClick: EventEmitter;\r\n  @Event() navbarClick: EventEmitter<string>;\r\n\r\n  @Method()\r\n  async toggle() {\r\n    this.checked = !this.checked;\r\n    this.toggleInnerRef.classList.toggle('pinned');\r\n\r\n    const sidenavShow = document.getElementsByClassName('g-sidenav-show')[0];\r\n\r\n    if (this.checked) {\r\n      sidenavShow.classList.remove('g-sidenav-pinned');\r\n      sidenavShow.classList.add('g-sidenav-hidden');\r\n    } else {\r\n      sidenavShow.classList.remove('g-sidenav-hidden');\r\n      sidenavShow.classList.add('g-sidenav-pinned');\r\n    }\r\n  }\r\n\r\n  // @Method()\r\n  // async getChecked() {\r\n  //   return this.checked\r\n  // }\r\n\r\n  @Listen('scroll', { target: 'document' })\r\n  listenScroll(e) {\r\n    this.scrollY = e.detail | window.scrollY;\r\n\r\n    if (!this.ticking) {\r\n      requestAnimationFrame(() => {\r\n        if (this.scrollY > 5) {\r\n          if (this.navbarRef.classList.contains('shadow-none')) {\r\n            this.navbarRef.classList.remove('shadow-none');\r\n            this.navbarRef.classList.add('blur', 'shadow-blur', 'left-auto');\r\n          }\r\n        } else {\r\n          this.navbarRef.classList.remove('blur', 'shadow-blur', 'left-auto');\r\n          this.navbarRef.classList.add('shadow-none');\r\n        }\r\n        this.ticking = false;\r\n      });\r\n      this.ticking = true;\r\n    }\r\n\r\n    e.stopPropagation();\r\n  }\r\n\r\n  SetPosition = () => {\r\n    return this.position?.map(elem => {\r\n      return (\r\n        <li class=\"breadcrumb-item text-sm text-dark active\" aria-current=\"page\">\r\n          {elem}\r\n        </li>\r\n      );\r\n    });\r\n  };\r\n\r\n  SetSearch = () => {\r\n    if (!this.searchable) return;\r\n    return <storm-input-group class=\"me-3\" label=\"搜尋\" outline={true}></storm-input-group>;\r\n  };\r\n\r\n  SetIcon = () => {\r\n    return this.dataSet?.map(elem => {\r\n      if (elem.href) {\r\n        return (\r\n          <li class=\"nav-item\">\r\n            <storm-tooltip title={elem.title} placement=\"bottom\">\r\n              <a role=\"button\" href={elem.href} class=\"nav-link text-body font-weight-bold px-2\">\r\n                <i class=\"material-icons me-sm-1\">{elem.icon}</i>\r\n              </a>\r\n            </storm-tooltip>\r\n          </li>\r\n        );\r\n      } else {\r\n        return (\r\n          <li class=\"nav-item\">\r\n            <storm-tooltip title={elem.title} placement=\"bottom\">\r\n              <a role=\"button\" class=\"nav-link text-body font-weight-bold px-2\" onClick={e => this.handleClick(e, elem.id)}>\r\n                <i class=\"material-icons me-sm-1\">{elem.icon}</i>\r\n              </a>\r\n            </storm-tooltip>\r\n          </li>\r\n        );\r\n      }\r\n    });\r\n  };\r\n\r\n  handleToggleClick = (e: Event) => {\r\n    e.preventDefault();\r\n    // this.toggle()\r\n    // this.toggleClick.emit(this.checked)\r\n    this.toggleClick.emit();\r\n  };\r\n\r\n  handleClick = (e: Event, id: string) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.navbarClick.emit(id);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <nav\r\n        class=\"navbar navbar-main navbar-expand-lg position-sticky mt-4 top-1 px-0 mx-4 border-radius-xl z-index-sticky shadow-none\"\r\n        /*id=\"navbarBlur\" data-scroll=\"true\"*/ ref={e => (this.navbarRef = e)}\r\n      >\r\n        {/* <nav slot=\"item-nav\" class=\"navbar navbar-main navbar-expand-lg px-0 mx-4 shadow-none border-radius-xl\" id=\"navbarBlur\" data-scroll=\"true\" navbar-scroll=\"true\" ref={e => this.navbarRef = e}> */}\r\n        <div class=\"container-fluid py-1 px-3\">\r\n          <nav aria-label=\"breadcrumb\">\r\n            <ol class=\"breadcrumb bg-transparent mb-0 pb-0 pt-1 px-0 me-sm-6 me-5\">\r\n              <li class=\"breadcrumb-item text-sm\">\r\n                <a class=\"opacity-5 text-dark\" href=\"/\">\r\n                  <i class=\"material-icons opacity-10\">home</i>\r\n                </a>\r\n              </li>\r\n              {this.SetPosition()}\r\n            </ol>\r\n            <h6 class=\"font-weight-bolder mb-0\">{this.position ? this.position[this.position?.length - 1] : ''}</h6>\r\n          </nav>\r\n          {/* <div class=\"sidenav-toggler sidenav-toggler-inner d-xl-block d-none \"> 伸縮隱藏*/}\r\n          <div class=\"sidenav-toggler sidenav-toggler-inner pinned\" ref={e => (this.toggleInnerRef = e)}>\r\n            <a href=\"javascript:;\" class=\"nav-link text-body p-0\" onClick={e => this.handleToggleClick(e)}>\r\n              <div class=\"sidenav-toggler-inner\">\r\n                <i class=\"sidenav-toggler-line\"></i>\r\n                <i class=\"sidenav-toggler-line\"></i>\r\n                <i class=\"sidenav-toggler-line\"></i>\r\n              </div>\r\n            </a>\r\n          </div>\r\n          <div class=\"collapse navbar-collapse mt-sm-0 mt-2 me-md-0 me-sm-4\" id=\"navbar\">\r\n            <div class=\"ms-md-auto d-flex align-items-center\">\r\n              {this.SetSearch()}\r\n              <ul class=\"navbar-nav  justify-content-end\">{this.SetIcon()}</ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]}