import{r as t,c as i,h as e,H as s,a as h,f as r}from"./p-CSg1USUf.js";import{p as n,g as c,b as o,s as a,d as l,f as d}from"./p-BhAJll2y.js";import{F as u}from"./p-ByOKSj8o.js";const f=":host{display:block}:host>.form-check{padding-left:0.25rem}:host>.form-check.form-switch{padding-left:2.75rem}:host>.form-check.form-switch .form-check-input{margin-top:.3rem}:host>.form-check.form-check-inline{margin-right:.75rem}:host>.form-check:not(.form-switch) .form-check-input[type=checkbox]{margin-top:0}:host .input-group.input-group-static label{margin-left:.25rem;margin-top:.15rem}:host label{cursor:pointer}";const m=class{constructor(e){t(this,e);this.valueChanged=i(this,"valueChanged")}type="checkbox";label;labelClasses="custom-control-label";disabled;checked;indeterminate;isSwitch=false;isInline=false;valueChanged;_uid;async check(){if(this.checked)return;this.checked=true;this.valueChanged.emit(this.checked)}async uncheck(){if(!this.checked)return;this.checked=false;this.valueChanged.emit(this.checked)}renderLabel(){if(!this.label)return;return e("label",{htmlFor:this._uid,class:n(this.labelClasses)},this.label)}render(){if(!this._uid)this._uid=c("storm-checkbox");return e(s,{key:"20911f774c3ab182b2d12b5fe9bd3d9ee745534e"},e("div",{key:"eec8dfdc36ea732595edd2c6a1b84cdc42dd086b",class:{"form-check":true,"form-check-inline":this.isInline,"form-switch":this.isSwitch}},e("input",{key:"ddf54f2cd01cbf539eb7d4d288e80b29ed387f05",class:{"form-check-input":true},id:this._uid,type:this.type,checked:this.checked,disabled:this.disabled,indeterminate:this.indeterminate,onChange:async t=>{t.stopPropagation();if(t.target["checked"])await this.check();else await this.uncheck()}}),this.renderLabel()))}};m.style=f;const p=':host{display:block;-webkit-user-select:none;user-select:none}.list-group-item.active .form-check:not(.form-switch) .form-check-input[type="checkbox"]:checked{background:#fff !important;border-color:#fff !important}.list-group-item.active .form-check:not(.form-switch) .form-check-input[type="checkbox"]::after{color:#e91e63 !important}.list-group-item .form-check{margin-bottom:0 !important}';const k=class{constructor(e){t(this,e);this.nodeSelect=i(this,"nodeSelect");this.nodeUnselect=i(this,"nodeUnselect");this.nodeClick=i(this,"nodeClick");this.nodeDblClick=i(this,"nodeDblClick");this.nodeCheck=i(this,"nodeCheck");this.nodeUncheck=i(this,"nodeUncheck")}_child;get host(){return h(this)}href="javascript:void(0);";dataSet;tree;parent;content;searchText;nodeSelect;nodeUnselect;nodeClick;nodeDblClick;nodeCheck;nodeUncheck;async handleNodeClick(t){if(t.detail!==this.getId())return;if(this.getSelectable()){if(!this.getSelected()){await this.select()}else if(this.tree.nullable){await this.unselect()}}else{t.stopPropagation();if(this.hasChild()){this.expandToggle()}}}expandToggle(){this.getExpanded()?this.collapse():this.expand()}getId(){return o(this.dataSet,this.tree.fieldId)}getHref(){const t=o(this.dataSet,this.tree.fieldHref);return t??this.href}getChild(){return o(this.dataSet,this.tree.fieldChildren)||[]}getSelectable(){const t=o(this.dataSet,this.tree.fieldSelectable);return t??this.tree.selection!="none"}getCheckSelectable(){return o(this.dataSet,this.tree.fieldCheckSelectable)===true}getSelected(){return o(this.dataSet,this.tree.fieldSelected)===true}getChecked(){return o(this.dataSet,this.tree.fieldChecked)===true}getDisabled(){return o(this.dataSet,this.tree.fieldDisabled)===true}setSelected(t){if(o(this.dataSet,this.tree.fieldSelected)===t)return;a(this.dataSet,this.tree.fieldSelected,t);this.rerender()}setChecked(t){if(o(this.dataSet,this.tree.fieldChecked)===t)return;a(this.dataSet,this.tree.fieldChecked,t);this.rerender()}getExpanded(){return o(this.dataSet,this.tree.fieldExpanded)===true}async setExpanded(t){if(this.getExpanded()===t)return;a(this.dataSet,this.tree.fieldExpanded,t);if(t&&!o(this.dataSet,this.tree.fieldChildLoaded)){await this.tree.loadChild(this)}this.rerender()}rerender=l((()=>{r(this)}),100);async select(){if(this.getSelected()){return}this.setSelected(true);this.nodeSelect.emit(this.getId())}async unselect(){if(!this.getSelected()){return}this.setSelected(false);this.nodeUnselect.emit(this.getId())}async check(){if(this.getChecked()){return}this.setChecked(true);this.nodeCheck.emit(this.getId())}async uncheck(){if(!this.getChecked()){return}this.setChecked(false);this.nodeUncheck.emit(this.getId())}async expand(){await this.setExpanded(true)}async collapse(){await this.setExpanded(false)}hasChild(){return!!this.getChild()?.length}renderExpandIcon(){if(this.searchText)return;if(!this.hasChild()||this.getExpanded()&&this.tree.collapseIcon===""||!this.getExpanded()&&this.tree.expandIcon===""){return this.tree.expandIconAlign==="left"?e("span",{class:"indent"}):undefined}const t={"mb-1":true,"mx-1":true,"position-absolute":this.tree.expandIconAlign==="right","end-0":this.tree.expandIconAlign==="right"};return e("span",{class:t,onClick:t=>{t.stopPropagation();this.expandToggle()}},e(u,null,this.getExpanded()?this.tree.collapseIcon:this.tree.expandIcon))}renderIndent(){if(this.searchText)return;const t=[];const i=o(this.dataSet,this.tree.fieldLevel);for(let s=1;s<i;s++){t.push(e("span",{class:"indent"}))}if(!this.hasChild()&&this.tree.expandIconAlign==="left"){t.push(e("span",{class:"leaf"}))}return t}renderChild(){if(this.searchText)return;if(!this.hasChild()||!this.getExpanded())return;this._child=this.getChild().map((t=>this.renderNodeItem(t)));return e("div",{class:"list-group"},this._child)}renderNodeItem(t){let i=o(t,this.tree.fieldLabel);if(i&&this.searchText){i=d(i,this.searchText)}const s=e("storm-tree-node",{tree:this.tree,dataSet:t,content:i,searchText:this.searchText});return s}renderLabel(){return e("span",{innerHTML:this.content})}componentWillLoad(){a(this.dataSet,this.tree.fieldElement,this)}renderCheckbox(){if(!this.getCheckSelectable())return;return e("storm-checkbox",{type:"checkbox",isInline:true,checked:this.getChecked(),onValueChanged:t=>{t.stopPropagation()},onClick:async t=>{t.stopPropagation();if(this.tree.selectToCheck){this.nodeClick.emit(this.getId())}else if(!this.getChecked()){await this.check()}else{await this.uncheck()}}})}render(){if(!this.dataSet)return;return e(s,null,e("a",{href:this.getHref(),class:{"py-1":true,"px-1":true,"list-group-item":true,"list-group-item-action":o(this.dataSet,this.tree.fieldSelectable),"list-group-item-primary":this.tree.color=="primary","list-group-item-secondary":this.tree.color=="secondary","list-group-item-success":this.tree.color=="success","list-group-item-danger":this.tree.color=="danger","list-group-item-warning":this.tree.color=="warning","list-group-item-info":this.tree.color=="info","list-group-item-light":this.tree.color=="light","list-group-item-dark":this.tree.color=="dark","d-flex":true,"align-items-end":true,active:this.getSelected(),disabled:this.getDisabled()},onClick:t=>{t.stopPropagation();this.nodeClick.emit(this.getId())},onDblClick:t=>{t.stopPropagation();this.nodeDblClick.emit(this.getId())}},this.renderIndent(),this.renderExpandIcon(),e(u,null,o(this.dataSet,this.tree.fieldIcon)),this.renderCheckbox(),this.renderLabel()),this.renderChild())}disconnectedCallback(){a(this.dataSet,this.tree.fieldElement,undefined)}};k.style=p;export{m as storm_checkbox,k as storm_tree_node};
//# sourceMappingURL=p-ff9c7aa9.entry.js.map