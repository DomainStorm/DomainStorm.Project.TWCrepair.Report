import{r as t,c as s,a as e,h as a,H as i}from"./p-KLuYAdjz.js";import{g as r}from"./p-DsqHBQPh.js";import"./p-9Du3dL5x.js";import"./p-E-ZsRS8r.js";const h=()=>`:host{display:block}.tab-content{padding:.25rem .5rem .5rem .5rem}`;const n=class{constructor(e){t(this,e);this.activeChanged=s(this,"activeChanged")}_tabRefs={};get host(){return e(this)}value;dataSet;activeChanged;async watchDataSetHandler(){this.initDataSet()}async valueHandler(){this.updateActiveTab()}async getTabPane(t){return this._tabRefs[t]}initDataSet(){if(!this.dataSet||this.dataSet.length===0){return}this.dataSet.forEach((t=>{if(!t.id){t.id=r("storm-nav")}}));if(this.value){this.dataSet.forEach((t=>{t.active=t.id===this.value}))}else if(!this.dataSet.some((t=>t.active))){this.dataSet[0].active=true;this.value=this.dataSet[0].id}}renderTabPane(t){if(this.host.querySelector(`:scope>[slot="${t.id}"]`)){const s=this.host.querySelector(`:scope>[slot="${t.id}"]`);this._tabRefs[t.id]=s;s.classList.add("tab-pane","fade");if(t.active){s.classList.add("show","active")}else{s.classList.remove("show","active")}return a("slot",{name:t.id})}return a("div",{ref:s=>this._tabRefs[t.id]=s,class:{"tab-pane":true,fade:true,show:t.active,active:t.active}})}updateActiveTab(){if(!this.value)return;this.dataSet.forEach((t=>{t.active=t.id===this.value;const s=this._tabRefs[t.id];if(s){s.classList.toggle("show",t.active);s.classList.toggle("active",t.active)}}));this.activeChanged.emit(this.value)}componentWillRender(){this._tabRefs={};this.initDataSet()}render(){if(!this.dataSet)return;return a(i,null,a("storm-navs",{value:this.value,dataSet:this.dataSet,onActiveChanged:async t=>{t.preventDefault();t.stopPropagation();this.value=t.detail}}),a("div",{class:"tab-content"},this.dataSet.map((t=>this.renderTabPane(t)))))}componentDidLoad(){this.updateActiveTab()}static get watchers(){return{dataSet:[{watchDataSetHandler:0}],value:[{valueHandler:0}]}}};n.style=h();export{n as storm_tabs};
//# sourceMappingURL=p-42077cad.entry.js.map