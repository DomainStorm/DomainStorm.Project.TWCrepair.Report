import{r as t,c as e,h as n,a as s,H as o}from"./p-BrLtLH4U.js";import{F as i,d as r}from"./p-B4NwC13r.js";import{m as a,p as l,d as c,g as d,o as u,f as h,h as f,i as m,b as p,r as g}from"./p-D2aESlmX.js";import"./p-9Du3dL5x.js";import"./p-E-ZsRS8r.js";const b=":host{display:block}:host .btn:focus{outline:none !important;box-shadow:none !important}:host .btn-group-sm>.btn i,:host .btn.btn-sm i{font-size:1rem !important;margin-top:-0.2rem !important;margin-bottom:-0.15rem !important;margin-left:-0.2rem !important;margin-right:-0.15rem !important}:host .btn i{padding-left:0.25rem;padding-right:0.25rem}";const w=class{constructor(n){t(this,n);this.buttonClick=e(this,"buttonClick")}buttonStyle;active;disabled;size="";icon;label;type="button";form;rounded;tooltip;buttonData;class;buttonClick;handleClick=t=>{if(this.type==="button"){t.stopPropagation();this.buttonClick.emit()}};iconRender(){if(!this.icon)return;return n("span",{class:"btn-inner--icon"},n(i,null,this.icon))}labelRender(){if(!this.label)return;return n("span",{class:{"btn-inner--text":!!this.icon,"storm-button-label":true}},this.label)}buttonRender(){const t=a({"m-1":true,btn:true,active:this.active===true,disabled:this.disabled===true,"btn-icon-only":!!this.icon&&!this.label,"btn-rounded":this.rounded===true,"d-inline-flex":true,"align-items-center":true,"justify-content-center":true},l(this.class));if(this.size)t["btn-"+this.size]=true;if(this.buttonStyle&&this.buttonStyle.startsWith("gradient-"))t["bg-"+this.buttonStyle]=true;else t["btn-"+(this.buttonStyle??"primary")]=true;return n("button",{type:this.type,class:t,form:this.form,onClick:this.handleClick},this.iconRender(),this.labelRender(),n("slot",null))}render(){if(this.tooltip){return n("storm-tooltip",{heading:this.tooltip},this.buttonRender())}else{return this.buttonRender()}}};w.style=b;const y=Math.min;const v=Math.max;const x=Math.round;const k=Math.floor;const S=t=>({x:t,y:t});const A={left:"right",right:"left",bottom:"top",top:"bottom"};const C={start:"end",end:"start"};function R(t,e,n){return v(t,y(e,n))}function M(t,e){return typeof t==="function"?t(e):t}function z(t){return t.split("-")[0]}function D(t){return t.split("-")[1]}function T(t){return t==="x"?"y":"x"}function H(t){return t==="y"?"height":"width"}const _=new Set(["top","bottom"]);function F(t){return _.has(z(t))?"y":"x"}function L(t){return T(F(t))}function I(t,e,n){if(n===void 0){n=false}const s=D(t);const o=L(t);const i=H(o);let r=o==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";if(e.reference[i]>e.floating[i]){r=U(r)}return[r,U(r)]}function P(t){const e=U(t);return[B(t),e,B(e)]}function B(t){return t.replace(/start|end/g,(t=>C[t]))}const j=["left","right"];const W=["right","left"];const O=["top","bottom"];const $=["bottom","top"];function E(t,e,n){switch(t){case"top":case"bottom":if(n)return e?W:j;return e?j:W;case"left":case"right":return e?O:$;default:return[]}}function N(t,e,n,s){const o=D(t);let i=E(z(t),n==="start",s);if(o){i=i.map((t=>t+"-"+o));if(e){i=i.concat(i.map(B))}}return i}function U(t){return t.replace(/left|right|bottom|top/g,(t=>A[t]))}function q(t){return{top:0,right:0,bottom:0,left:0,...t}}function V(t){return typeof t!=="number"?q(t):{top:t,right:t,bottom:t,left:t}}function X(t){const{x:e,y:n,width:s,height:o}=t;return{width:s,height:o,top:n,left:e,right:e+s,bottom:n+o,x:e,y:n}}function G(t,e,n){let{reference:s,floating:o}=t;const i=F(e);const r=L(e);const a=H(r);const l=z(e);const c=i==="y";const d=s.x+s.width/2-o.width/2;const u=s.y+s.height/2-o.height/2;const h=s[a]/2-o[a]/2;let f;switch(l){case"top":f={x:d,y:s.y-o.height};break;case"bottom":f={x:d,y:s.y+s.height};break;case"right":f={x:s.x+s.width,y:u};break;case"left":f={x:s.x-o.width,y:u};break;default:f={x:s.x,y:s.y}}switch(D(e)){case"start":f[r]-=h*(n&&c?-1:1);break;case"end":f[r]+=h*(n&&c?-1:1);break}return f}const Y=async(t,e,n)=>{const{placement:s="bottom",strategy:o="absolute",middleware:i=[],platform:r}=n;const a=i.filter(Boolean);const l=await(r.isRTL==null?void 0:r.isRTL(e));let c=await r.getElementRects({reference:t,floating:e,strategy:o});let{x:d,y:u}=G(c,s,l);let h=s;let f={};let m=0;for(let n=0;n<a.length;n++){const{name:i,fn:p}=a[n];const{x:g,y:b,data:w,reset:y}=await p({x:d,y:u,initialPlacement:s,placement:h,strategy:o,middlewareData:f,rects:c,platform:r,elements:{reference:t,floating:e}});d=g!=null?g:d;u=b!=null?b:u;f={...f,[i]:{...f[i],...w}};if(y&&m<=50){m++;if(typeof y==="object"){if(y.placement){h=y.placement}if(y.rects){c=y.rects===true?await r.getElementRects({reference:t,floating:e,strategy:o}):y.rects}({x:d,y:u}=G(c,h,l))}n=-1}}return{x:d,y:u,placement:h,strategy:o,middlewareData:f}};async function Z(t,e){var n;if(e===void 0){e={}}const{x:s,y:o,platform:i,rects:r,elements:a,strategy:l}=t;const{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:h=false,padding:f=0}=M(e,t);const m=V(f);const p=u==="floating"?"reference":"floating";const g=a[h?p:u];const b=X(await i.getClippingRect({element:((n=await(i.isElement==null?void 0:i.isElement(g)))!=null?n:true)?g:g.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l}));const w=u==="floating"?{x:s,y:o,width:r.floating.width,height:r.floating.height}:r.reference;const y=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating));const v=await(i.isElement==null?void 0:i.isElement(y))?await(i.getScale==null?void 0:i.getScale(y))||{x:1,y:1}:{x:1,y:1};const x=X(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:y,strategy:l}):w);return{top:(b.top-x.top+m.top)/v.y,bottom:(x.bottom-b.bottom+m.bottom)/v.y,left:(b.left-x.left+m.left)/v.x,right:(x.right-b.right+m.right)/v.x}}const J=function(t){if(t===void 0){t={}}return{name:"flip",options:t,async fn(e){var n,s;const{placement:o,middlewareData:i,rects:r,initialPlacement:a,platform:l,elements:c}=e;const{mainAxis:d=true,crossAxis:u=true,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:p=true,...g}=M(t,e);if((n=i.arrow)!=null&&n.alignmentOffset){return{}}const b=z(o);const w=F(a);const y=z(a)===a;const v=await(l.isRTL==null?void 0:l.isRTL(c.floating));const x=h||(y||!p?[U(a)]:P(a));const k=m!=="none";if(!h&&k){x.push(...N(a,p,m,v))}const S=[a,...x];const A=await Z(e,g);const C=[];let R=((s=i.flip)==null?void 0:s.overflows)||[];if(d){C.push(A[b])}if(u){const t=I(o,r,v);C.push(A[t[0]],A[t[1]])}R=[...R,{placement:o,overflows:C}];if(!C.every((t=>t<=0))){var D,T;const t=(((D=i.flip)==null?void 0:D.index)||0)+1;const e=S[t];if(e){const n=u==="alignment"?w!==F(e):false;if(!n||R.every((t=>F(t.placement)===w?t.overflows[0]>0:true))){return{data:{index:t,overflows:R},reset:{placement:e}}}}let n=(T=R.filter((t=>t.overflows[0]<=0)).sort(((t,e)=>t.overflows[1]-e.overflows[1]))[0])==null?void 0:T.placement;if(!n){switch(f){case"bestFit":{var H;const t=(H=R.filter((t=>{if(k){const e=F(t.placement);return e===w||e==="y"}return true})).map((t=>[t.placement,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])==null?void 0:H[0];if(t){n=t}break}case"initialPlacement":n=a;break}}if(o!==n){return{reset:{placement:n}}}}return{}}}};const K=new Set(["left","top"]);async function Q(t,e){const{placement:n,platform:s,elements:o}=t;const i=await(s.isRTL==null?void 0:s.isRTL(o.floating));const r=z(n);const a=D(n);const l=F(n)==="y";const c=K.has(r)?-1:1;const d=i&&l?-1:1;const u=M(e,t);let{mainAxis:h,crossAxis:f,alignmentAxis:m}=typeof u==="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};if(a&&typeof m==="number"){f=a==="end"?m*-1:m}return l?{x:f*d,y:h*c}:{x:h*c,y:f*d}}const tt=function(t){if(t===void 0){t=0}return{name:"offset",options:t,async fn(e){var n,s;const{x:o,y:i,placement:r,middlewareData:a}=e;const l=await Q(e,t);if(r===((n=a.offset)==null?void 0:n.placement)&&(s=a.arrow)!=null&&s.alignmentOffset){return{}}return{x:o+l.x,y:i+l.y,data:{...l,placement:r}}}}};const et=function(t){if(t===void 0){t={}}return{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:o}=e;const{mainAxis:i=true,crossAxis:r=false,limiter:a={fn:t=>{let{x:e,y:n}=t;return{x:e,y:n}}},...l}=M(t,e);const c={x:n,y:s};const d=await Z(e,l);const u=F(z(o));const h=T(u);let f=c[h];let m=c[u];if(i){const t=h==="y"?"top":"left";const e=h==="y"?"bottom":"right";const n=f+d[t];const s=f-d[e];f=R(n,f,s)}if(r){const t=u==="y"?"top":"left";const e=u==="y"?"bottom":"right";const n=m+d[t];const s=m-d[e];m=R(n,m,s)}const p=a.fn({...e,[h]:f,[u]:m});return{...p,data:{x:p.x-n,y:p.y-s,enabled:{[h]:i,[u]:r}}}}}};const nt=function(t){if(t===void 0){t={}}return{name:"size",options:t,async fn(e){var n,s;const{placement:o,rects:i,platform:r,elements:a}=e;const{apply:l=()=>{},...c}=M(t,e);const d=await Z(e,c);const u=z(o);const h=D(o);const f=F(o)==="y";const{width:m,height:p}=i.floating;let g;let b;if(u==="top"||u==="bottom"){g=u;b=h===(await(r.isRTL==null?void 0:r.isRTL(a.floating))?"start":"end")?"left":"right"}else{b=u;g=h==="end"?"top":"bottom"}const w=p-d.top-d.bottom;const x=m-d.left-d.right;const k=y(p-d[g],w);const S=y(m-d[b],x);const A=!e.middlewareData.shift;let C=k;let R=S;if((n=e.middlewareData.shift)!=null&&n.enabled.x){R=x}if((s=e.middlewareData.shift)!=null&&s.enabled.y){C=w}if(A&&!h){const t=v(d.left,0);const e=v(d.right,0);const n=v(d.top,0);const s=v(d.bottom,0);if(f){R=m-2*(t!==0||e!==0?t+e:v(d.left,d.right))}else{C=p-2*(n!==0||s!==0?n+s:v(d.top,d.bottom))}}await l({...e,availableWidth:R,availableHeight:C});const T=await r.getDimensions(a.floating);if(m!==T.width||p!==T.height){return{reset:{rects:true}}}return{}}}};function st(){return typeof window!=="undefined"}function ot(t){if(at(t)){return(t.nodeName||"").toLowerCase()}return"#document"}function it(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function rt(t){var e;return(e=(at(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function at(t){if(!st()){return false}return t instanceof Node||t instanceof it(t).Node}function lt(t){if(!st()){return false}return t instanceof Element||t instanceof it(t).Element}function ct(t){if(!st()){return false}return t instanceof HTMLElement||t instanceof it(t).HTMLElement}function dt(t){if(!st()||typeof ShadowRoot==="undefined"){return false}return t instanceof ShadowRoot||t instanceof it(t).ShadowRoot}const ut=new Set(["inline","contents"]);function ht(t){const{overflow:e,overflowX:n,overflowY:s,display:o}=Ct(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!ut.has(o)}const ft=new Set(["table","td","th"]);function mt(t){return ft.has(ot(t))}const pt=[":popover-open",":modal"];function gt(t){return pt.some((e=>{try{return t.matches(e)}catch(t){return false}}))}const bt=["transform","translate","scale","rotate","perspective"];const wt=["transform","translate","scale","rotate","perspective","filter"];const yt=["paint","layout","strict","content"];function vt(t){const e=kt();const n=lt(t)?Ct(t):t;return bt.some((t=>n[t]?n[t]!=="none":false))||(n.containerType?n.containerType!=="normal":false)||!e&&(n.backdropFilter?n.backdropFilter!=="none":false)||!e&&(n.filter?n.filter!=="none":false)||wt.some((t=>(n.willChange||"").includes(t)))||yt.some((t=>(n.contain||"").includes(t)))}function xt(t){let e=Mt(t);while(ct(e)&&!At(e)){if(vt(e)){return e}else if(gt(e)){return null}e=Mt(e)}return null}function kt(){if(typeof CSS==="undefined"||!CSS.supports)return false;return CSS.supports("-webkit-backdrop-filter","none")}const St=new Set(["html","body","#document"]);function At(t){return St.has(ot(t))}function Ct(t){return it(t).getComputedStyle(t)}function Rt(t){if(lt(t)){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}return{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Mt(t){if(ot(t)==="html"){return t}const e=t.assignedSlot||t.parentNode||dt(t)&&t.host||rt(t);return dt(e)?e.host:e}function zt(t){const e=Mt(t);if(At(e)){return t.ownerDocument?t.ownerDocument.body:t.body}if(ct(e)&&ht(e)){return e}return zt(e)}function Dt(t,e,n){var s;if(e===void 0){e=[]}if(n===void 0){n=true}const o=zt(t);const i=o===((s=t.ownerDocument)==null?void 0:s.body);const r=it(o);if(i){const t=Tt(r);return e.concat(r,r.visualViewport||[],ht(o)?o:[],t&&n?Dt(t):[])}return e.concat(o,Dt(o,[],n))}function Tt(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Ht(t){const e=Ct(t);let n=parseFloat(e.width)||0;let s=parseFloat(e.height)||0;const o=ct(t);const i=o?t.offsetWidth:n;const r=o?t.offsetHeight:s;const a=x(n)!==i||x(s)!==r;if(a){n=i;s=r}return{width:n,height:s,$:a}}function _t(t){return!lt(t)?t.contextElement:t}function Ft(t){const e=_t(t);if(!ct(e)){return S(1)}const n=e.getBoundingClientRect();const{width:s,height:o,$:i}=Ht(e);let r=(i?x(n.width):n.width)/s;let a=(i?x(n.height):n.height)/o;if(!r||!Number.isFinite(r)){r=1}if(!a||!Number.isFinite(a)){a=1}return{x:r,y:a}}const Lt=S(0);function It(t){const e=it(t);if(!kt()||!e.visualViewport){return Lt}return{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Pt(t,e,n){if(e===void 0){e=false}if(!n||e&&n!==it(t)){return false}return e}function Bt(t,e,n,s){if(e===void 0){e=false}if(n===void 0){n=false}const o=t.getBoundingClientRect();const i=_t(t);let r=S(1);if(e){if(s){if(lt(s)){r=Ft(s)}}else{r=Ft(t)}}const a=Pt(i,n,s)?It(i):S(0);let l=(o.left+a.x)/r.x;let c=(o.top+a.y)/r.y;let d=o.width/r.x;let u=o.height/r.y;if(i){const t=it(i);const e=s&&lt(s)?it(s):s;let n=t;let o=Tt(n);while(o&&s&&e!==n){const t=Ft(o);const e=o.getBoundingClientRect();const s=Ct(o);const i=e.left+(o.clientLeft+parseFloat(s.paddingLeft))*t.x;const r=e.top+(o.clientTop+parseFloat(s.paddingTop))*t.y;l*=t.x;c*=t.y;d*=t.x;u*=t.y;l+=i;c+=r;n=it(o);o=Tt(n)}}return X({width:d,height:u,x:l,y:c})}function jt(t,e){const n=Rt(t).scrollLeft;if(!e){return Bt(rt(t)).left+n}return e.left+n}function Wt(t,e){const n=t.getBoundingClientRect();const s=n.left+e.scrollLeft-jt(t,n);const o=n.top+e.scrollTop;return{x:s,y:o}}function Ot(t){let{elements:e,rect:n,offsetParent:s,strategy:o}=t;const i=o==="fixed";const r=rt(s);const a=e?gt(e.floating):false;if(s===r||a&&i){return n}let l={scrollLeft:0,scrollTop:0};let c=S(1);const d=S(0);const u=ct(s);if(u||!u&&!i){if(ot(s)!=="body"||ht(r)){l=Rt(s)}if(ct(s)){const t=Bt(s);c=Ft(s);d.x=t.x+s.clientLeft;d.y=t.y+s.clientTop}}const h=r&&!u&&!i?Wt(r,l):S(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+h.x,y:n.y*c.y-l.scrollTop*c.y+d.y+h.y}}function $t(t){return Array.from(t.getClientRects())}function Et(t){const e=rt(t);const n=Rt(t);const s=t.ownerDocument.body;const o=v(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth);const i=v(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let r=-n.scrollLeft+jt(t);const a=-n.scrollTop;if(Ct(s).direction==="rtl"){r+=v(e.clientWidth,s.clientWidth)-o}return{width:o,height:i,x:r,y:a}}const Nt=25;function Ut(t,e){const n=it(t);const s=rt(t);const o=n.visualViewport;let i=s.clientWidth;let r=s.clientHeight;let a=0;let l=0;if(o){i=o.width;r=o.height;const t=kt();if(!t||t&&e==="fixed"){a=o.offsetLeft;l=o.offsetTop}}const c=jt(s);if(c<=0){const t=s.ownerDocument;const e=t.body;const n=getComputedStyle(e);const o=t.compatMode==="CSS1Compat"?parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0:0;const r=Math.abs(s.clientWidth-e.clientWidth-o);if(r<=Nt){i-=r}}else if(c<=Nt){i+=c}return{width:i,height:r,x:a,y:l}}const qt=new Set(["absolute","fixed"]);function Vt(t,e){const n=Bt(t,true,e==="fixed");const s=n.top+t.clientTop;const o=n.left+t.clientLeft;const i=ct(t)?Ft(t):S(1);const r=t.clientWidth*i.x;const a=t.clientHeight*i.y;const l=o*i.x;const c=s*i.y;return{width:r,height:a,x:l,y:c}}function Xt(t,e,n){let s;if(e==="viewport"){s=Ut(t,n)}else if(e==="document"){s=Et(rt(t))}else if(lt(e)){s=Vt(e,n)}else{const n=It(t);s={x:e.x-n.x,y:e.y-n.y,width:e.width,height:e.height}}return X(s)}function Gt(t,e){const n=Mt(t);if(n===e||!lt(n)||At(n)){return false}return Ct(n).position==="fixed"||Gt(n,e)}function Yt(t,e){const n=e.get(t);if(n){return n}let s=Dt(t,[],false).filter((t=>lt(t)&&ot(t)!=="body"));let o=null;const i=Ct(t).position==="fixed";let r=i?Mt(t):t;while(lt(r)&&!At(r)){const e=Ct(r);const n=vt(r);if(!n&&e.position==="fixed"){o=null}const a=i?!n&&!o:!n&&e.position==="static"&&!!o&&qt.has(o.position)||ht(r)&&!n&&Gt(t,r);if(a){s=s.filter((t=>t!==r))}else{o=e}r=Mt(r)}e.set(t,s);return s}function Zt(t){let{element:e,boundary:n,rootBoundary:s,strategy:o}=t;const i=n==="clippingAncestors"?gt(e)?[]:Yt(e,this._c):[].concat(n);const r=[...i,s];const a=r[0];const l=r.reduce(((t,n)=>{const s=Xt(e,n,o);t.top=v(s.top,t.top);t.right=y(s.right,t.right);t.bottom=y(s.bottom,t.bottom);t.left=v(s.left,t.left);return t}),Xt(e,a,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Jt(t){const{width:e,height:n}=Ht(t);return{width:e,height:n}}function Kt(t,e,n){const s=ct(e);const o=rt(e);const i=n==="fixed";const r=Bt(t,true,i,e);let a={scrollLeft:0,scrollTop:0};const l=S(0);function c(){l.x=jt(o)}if(s||!s&&!i){if(ot(e)!=="body"||ht(o)){a=Rt(e)}if(s){const t=Bt(e,true,i,e);l.x=t.x+e.clientLeft;l.y=t.y+e.clientTop}else if(o){c()}}if(i&&!s&&o){c()}const d=o&&!s&&!i?Wt(o,a):S(0);const u=r.left+a.scrollLeft-l.x-d.x;const h=r.top+a.scrollTop-l.y-d.y;return{x:u,y:h,width:r.width,height:r.height}}function Qt(t){return Ct(t).position==="static"}function te(t,e){if(!ct(t)||Ct(t).position==="fixed"){return null}if(e){return e(t)}let n=t.offsetParent;if(rt(t)===n){n=n.ownerDocument.body}return n}function ee(t,e){const n=it(t);if(gt(t)){return n}if(!ct(t)){let e=Mt(t);while(e&&!At(e)){if(lt(e)&&!Qt(e)){return e}e=Mt(e)}return n}let s=te(t,e);while(s&&mt(s)&&Qt(s)){s=te(s,e)}if(s&&At(s)&&Qt(s)&&!vt(s)){return n}return s||xt(t)||n}const ne=async function(t){const e=this.getOffsetParent||ee;const n=this.getDimensions;const s=await n(t.floating);return{reference:Kt(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function se(t){return Ct(t).direction==="rtl"}const oe={convertOffsetParentRelativeRectToViewportRelativeRect:Ot,getDocumentElement:rt,getClippingRect:Zt,getOffsetParent:ee,getElementRects:ne,getClientRects:$t,getDimensions:Jt,getScale:Ft,isElement:lt,isRTL:se};function ie(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function re(t,e){let n=null;let s;const o=rt(t);function i(){var t;clearTimeout(s);(t=n)==null||t.disconnect();n=null}function r(a,l){if(a===void 0){a=false}if(l===void 0){l=1}i();const c=t.getBoundingClientRect();const{left:d,top:u,width:h,height:f}=c;if(!a){e()}if(!h||!f){return}const m=k(u);const p=k(o.clientWidth-(d+h));const g=k(o.clientHeight-(u+f));const b=k(d);const w=-m+"px "+-p+"px "+-g+"px "+-b+"px";const x={rootMargin:w,threshold:v(0,y(1,l))||1};let S=true;function A(e){const n=e[0].intersectionRatio;if(n!==l){if(!S){return r()}if(!n){s=setTimeout((()=>{r(false,1e-7)}),1e3)}else{r(false,n)}}if(n===1&&!ie(c,t.getBoundingClientRect())){r()}S=false}try{n=new IntersectionObserver(A,{...x,root:o.ownerDocument})}catch(t){n=new IntersectionObserver(A,x)}n.observe(t)}r(true);return i}function ae(t,e,n,s){if(s===void 0){s={}}const{ancestorScroll:o=true,ancestorResize:i=true,elementResize:r=typeof ResizeObserver==="function",layoutShift:a=typeof IntersectionObserver==="function",animationFrame:l=false}=s;const c=_t(t);const d=o||i?[...c?Dt(c):[],...Dt(e)]:[];d.forEach((t=>{o&&t.addEventListener("scroll",n,{passive:true});i&&t.addEventListener("resize",n)}));const u=c&&a?re(c,n):null;let h=-1;let f=null;if(r){f=new ResizeObserver((t=>{let[s]=t;if(s&&s.target===c&&f){f.unobserve(e);cancelAnimationFrame(h);h=requestAnimationFrame((()=>{var t;(t=f)==null||t.observe(e)}))}n()}));if(c&&!l){f.observe(c)}f.observe(e)}let m;let p=l?Bt(t):null;if(l){g()}function g(){const e=Bt(t);if(p&&!ie(p,e)){n()}p=e;m=requestAnimationFrame(g)}n();return()=>{var t;d.forEach((t=>{o&&t.removeEventListener("scroll",n);i&&t.removeEventListener("resize",n)}));u==null||u();(t=f)==null||t.disconnect();f=null;if(l){cancelAnimationFrame(m)}}}const le=tt;const ce=et;const de=J;const ue=nt;const he=(t,e,n)=>{const s=new Map;const o={platform:oe,...n};const i={...o.platform,_c:s};return Y(t,e,{...o,platform:i})};const fe=":host{display:block}storm-dropdown .dropdown{-webkit-user-select:none;user-select:none;font-size:0.875rem}storm-dropdown .nav-link-text{white-space:pre-wrap !important}storm-dropdown .storm-dropdown-menu{display:none;z-index:2000;overflow:auto;background-color:white;border:1px solid rgba(0, 0, 0, 0.125)}storm-dropdown .storm-dropdown-menu i{min-width:1.5rem;font-size:1.2rem;line-height:1.2rem}storm-dropdown .storm-dropdown-menu .list-group-item{margin-right:0;border:none}storm-dropdown .dropdown[data-show] .storm-dropdown-menu{display:block}storm-dropdown .dropdown-select a.storm-dropdown-toggle{background:no-repeat bottom, 50% calc(100% - 1px);background-size:0 100%, 100% 100%;transition:0.2s ease;background-image:linear-gradient(0deg, #e91e63 2px, rgba(156, 39, 176, 0) 0), linear-gradient(0deg, #d2d2d2 1px, rgba(209, 209, 209, 0) 0)}storm-dropdown .is-focused label{color:#e91e63}storm-dropdown .storm-is-valid .dropdown-select a.storm-dropdown-toggle{background-image:linear-gradient(0deg, #4caf50 2px, rgba(156, 39, 176, 0) 0), linear-gradient(0deg, #d2d2d2 1px, rgba(209, 209, 209, 0) 0)}storm-dropdown .storm-is-valid.is-focused label{color:#4caf50}storm-dropdown .storm-is-invalid .dropdown-select a.storm-dropdown-toggle{background-image:linear-gradient(0deg, #fd5c70 2px, rgba(156, 39, 176, 0) 0), linear-gradient(0deg, #d2d2d2 1px, rgba(209, 209, 209, 0) 0)}storm-dropdown .storm-is-invalid.is-focused label{color:#fd5c70}storm-dropdown .storm-is-valid .storm-label{border-color:#66d432;padding-right:unset;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 10 8'%3e%3cpath fill='%2366d432' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-position:right 0.25rem center;background-size:1rem 1rem}storm-dropdown .storm-is-invalid .storm-label{border-color:#fd5c70;padding-right:unset;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' stroke='%23fd5c70' viewBox='0 0 12 12'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23fd5c70' stroke='none'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-position:right 0.25rem center;background-size:1rem 1rem}storm-dropdown .dropdown[data-show].dropdown-select a{background-size:100% 100%, 100% 100%}storm-dropdown .dropdown-select{background-color:white}storm-dropdown .dropdown .dropdown-clearable,storm-dropdown .storm-dropdown-toggle:has(.dropdown-clearable:hover){cursor:pointer;color:#344767;-webkit-user-select:none;user-select:none;display:none}storm-dropdown .dropdown .dropdown-clearable:hover{color:#e91e63}storm-dropdown:hover .dropdown-clearable{display:block}storm-dropdown .search{min-width:50px}storm-dropdown .btn{margin-bottom:0 !important}storm-dropdown .nav-link-tex.text-truncate{white-space:nowrap}storm-dropdown label{margin:0}storm-dropdown i.toggle{padding-left:.25rem;padding-right:.25rem;transition:transform 0.5s ease}storm-dropdown .is-focused i.toggle{transform:rotate(180deg)}storm-dropdown .storm-dropdown-select .storm-dropdown-toggle{padding-top:.5rem;padding-bottom:.5rem;min-height:2.4rem}storm-dropdown .storm-dropdown-select.storm-dropdown-multiple .storm-dropdown-input-group{padding:0 !important}storm-dropdown .disabled,storm-dropdown .disabled label,storm-dropdown .disabled .storm-dropdown-toggle{cursor:not-allowed;-webkit-user-select:none;-ms-user-select:none;user-select:none}storm-dropdown .disabled .storm-dropdown-toggle{color:#344767 !important;background-color:#e9ecef !important}";const me=class{constructor(n){t(this,n);this.valueChanged=e(this,"valueChanged");this.itemClick=e(this,"itemClick");this.selectChange=e(this,"selectChange");this.unselectedAll=e(this,"unselectedAll");this.showMenu=e(this,"showMenu");this.hideMenu=e(this,"hideMenu");this.keydown=e(this,"keydown")}_dropdownRef;_dropdownToggleRef;_dropdownMenuRef;_cleanupAutoUpdate;_listGroupRef;_dropdownClasses="dropdown";_toggleClasses="storm-dropdown-toggle";get host(){return s(this)}heading;label;icon;text;value;dataSet;disabled;showSelected=true;searchText;searchable=false;valid;required;buttonStyle;selection="single";trigger="click";toggleIcon="expand_more";placement="bottom-start";type="btn";class;dropdownClass;toggleClass;headingClass;nullable=false;autoHideMenu=true;timeStamp;isFocused=false;isValid;valueChanged;itemClick;selectChange;unselectedAll;showMenu;hideMenu;keydown;valueWatcher(t,e){if(c(t,e))return;this.setSelectedItems();this.valueChanged.emit(t);this.validate()}dataSetWatcher(){this.initDataSet();this.setSelectedItems();if(this.showSelected){this.text=undefined}}async itemClickHandler(t){if(this.selection!="none"){const e=t.detail;if(e.selected){this.unselect(e)}else{this.select(e)}this.selectChange.emit(e)}if(this.autoHideMenu)await this.hide()}async showMenuHandler(t){this.isFocused=true;this.updatePosition();if(this._listGroupRef){requestAnimationFrame((async()=>{await this._listGroupRef.setSearchFocus()}))}}hideMenuHandler(t){this.isFocused=false}searchChangedHandler(t){this.searchText=t.detail}keydownHandler(t){if(!this.dataSet||this.dataSet.length===0)return;switch(t.key){case"ArrowDown":this.select(this.getNextItem());break;case"ArrowUp":this.select(this.getPrevItem());break}}async show(){this.showMenu.emit()}async hide(){this.hideMenu.emit()}async selectById(t){for(const e of this.dataSet.filter((e=>t.includes(e.id)))){this.select(e)}}async unselectAll(){this.value=null;this.text=undefined;this.unselectedAll.emit()}select(t){if(t.selected)return;t.selected=true;switch(this.selection){case"single":this.value=t.id;break;case"multiple":{const e=Array.isArray(this.value)?this.value:this.value?[this.value]:[];if(!e.includes(t.id))this.value=[...e,t.id];break}default:console.warn(`Unknown selection mode: ${this.selection}`)}}unselect(t){if(!t.selected)return;t.selected=false;switch(this.selection){case"single":if(this.value===t.id){this.value=null}break;case"multiple":{const e=Array.isArray(this.value)?this.value:this.value?[this.value]:[];if(e.includes(t.id))this.value=e.filter((e=>e!==t.id));break}default:console.warn(`Unknown selection mode: ${this.selection}`)}}initDataSet(){if(!Array.isArray(this.dataSet))return;this.dataSet.forEach((t=>{t.id=t.id||d("ilist-item")}))}setSelectedItems(){if(!Array.isArray(this.dataSet))return;const t=Array.isArray(this.value)?this.value:this.value?[this.value]:[];const e=new Set(t);this.dataSet.forEach((t=>{t.selected=e.has(t.id)}))}validate(){if(this.valid!==undefined||this.required!==true)return;this.isValid=u(this.value)}getNextItem(){const t=this.dataSet.findIndex((t=>t.selected));return this.dataSet[t+1]??this.dataSet[0]}getPrevItem(){const t=this.dataSet.findIndex((t=>t.selected));return this.dataSet[t-1]??this.dataSet[this.dataSet.length-1]}renderDropdownHeading(){return n("div",{class:a({"storm-dropdown-input-group":true,"align-middle":true,"me-auto":true,"nav-link-text":true,"text-truncat":true,"m-1":this.type!=="select","px-0":this.type==="select"},this.headingClass)},this.renderSelectedText(),this.renderHeadingText())}renderSelectedText(){if(this.text!=null&&this.text!=""){return n("span",{class:"inline-block"},this.text)}else if(this.showSelected&&this.dataSet){if(this.selection==="single"||this.type==="btn"){return n("span",{class:"inline-block"},this.dataSet.filter((t=>t.selected)).map((t=>t.title)).join("ã€"))}return this.dataSet.filter((t=>t.selected)).map((t=>n(r,{lable:t.title,onClickCancel:e=>this.unselect(t)})))}}renderHeadingText(){if(this.heading){return n("span",{class:"inline-block"},this.heading)}}renderHeadingIcon(){if(this.showSelected&&this.dataSet){const t=this.dataSet.filter((t=>t.selected&&t.icon));const e=t.length?t[0].icon:this.icon;return n(i,{class:l(this.headingClass)},e)}return n(i,{class:l(this.headingClass)},this.icon)}renderMenus(){if(!this.dataSet)return n("slot",null);return n("storm-list-group",{ref:t=>this._listGroupRef=t,dataSet:this.dataSet,value:this.value,searchable:this.searchable,selection:this.selection,nullable:this.nullable,itemClass:"border-0 rounded-0",onValueChanged:t=>{t.stopPropagation();this.value=t.detail},onItemClick:async t=>{t.stopPropagation();if(this.autoHideMenu)await this.hide()}})}renderItemText(t){return n("span",{class:{"nav-link-text":true},innerHTML:!this.searchText||!t?t:h(t,this.searchText)})}renderLabel(){if(!this.label)return;return n("div",{class:"storm-label d-flex"},n("label",null,this.label))}renderClearButton(){if(this.disabled===true)return;if(!this.nullable||this.value==null||this.value===""||this.selection==="none"||Array.isArray(this.value)&&this.value.length===0)return;return n("div",{role:"button",tabindex:"0","aria-label":"Clear Button",class:{"dropdown-clearable":true,"p-2":true},onClick:async t=>{t.stopPropagation();await this.unselectAll()}},n(i,null,"cancel"))}componentWillLoad(){this.initDataSet();if(!this.value||Array.isArray(this.value)&&this.value.length===0){this.value=f(this.dataSet,this.nullable,this.selection)}this.setSelectedItems();this.validate()}componentWillRender(){this._dropdownClasses=a(this.dropdownClass,this._dropdownClasses);this._toggleClasses=a(this.toggleClass,this._toggleClasses);if(this.type!=="none"){if(!this.dropdownClass){this._dropdownClasses["d-flex"]=true;if(this.type==="select"){this._dropdownClasses["dropdown-select"]=true;this._toggleClasses["w-100"]=true;this._toggleClasses["p-0"]=true}}if(!this.toggleClass){this._toggleClasses["d-flex"]=true;this._toggleClasses["justify-content-end"]=true;this._toggleClasses["align-items-center"]=true;if(this.type==="btn"){this._toggleClasses["btn"]=true;this._toggleClasses["bg-gradient-"+(this.buttonStyle??"primary")]=true}}}this._dropdownClasses["disabled"]=this.disabled===true}render(){return n(o,{key:"d1e8e3b5c025b49b2ab8519ecb6f06caed925505",tabindex:"0"},n("div",{key:"10859b98f7ba90881d115988cfa3e61412c79c11",class:a(this.class,{"align-middle":true,disabled:this.disabled===true,"is-focused":this.isFocused,"storm-dropdown-select":this.type==="select","storm-dropdown-multiple":this.selection==="multiple","storm-is-valid":this.disabled!==true&&(this.valid===true||this.isValid===true),"storm-is-invalid":this.disabled!==true&&this.valid===false||this.isValid===false})},this.renderLabel(),n("div",{key:"53fcc294848f94e1aed95c8026654744600e3088",class:this._dropdownClasses,ref:t=>this._dropdownRef=t},n("a",{key:"46f0300f531e934d13b04e3b353cfa1c4fc91f1c",href:"javascript:void(0);",class:this._toggleClasses,ref:t=>{this._dropdownToggleRef=t},"aria-describedby":"tooltip"},this.renderHeadingIcon(),this.renderDropdownHeading(),this.renderClearButton(),this.disabled!==true?n(i,{class:"toggle"},this.toggleIcon):null),n("div",{key:"df981bf9b1195fa27c2c7fd8cae8ba56d7b263f2",role:"tooltip",tabindex:"-1",class:{"storm-dropdown-menu":true,"p-1":true},ref:t=>this._dropdownMenuRef=t},this.renderMenus()))))}componentDidRender(){if(this.disabled===true)return;if(this._cleanupAutoUpdate){this._cleanupAutoUpdate();this._cleanupAutoUpdate=undefined}if(this._dropdownToggleRef&&this._dropdownMenuRef){this._cleanupAutoUpdate=ae(this._dropdownToggleRef,this._dropdownMenuRef,(()=>this.updatePosition()))}if(this.trigger==="hover"){const t=["mouseenter","focus"];t.forEach((t=>{this.host.removeEventListener(t,this.handleShow);this.host.addEventListener(t,this.handleShow)}));const e=["mouseleave","focusout"];e.forEach((t=>{this.host.removeEventListener(t,this.handleHide);this.host.addEventListener(t,this.handleHide)}))}else{this._dropdownToggleRef.removeEventListener("click",this.handleClick);this._dropdownToggleRef.addEventListener("click",this.handleClick);this.host.removeEventListener("focus",this.handleShow);this.host.addEventListener("focus",this.handleShow);this.host.removeEventListener("focusout",this.handleHide);this.host.addEventListener("focusout",this.handleHide)}if(this.isFocused){this._dropdownRef.setAttribute("data-show","");this.updatePosition()}else{this._dropdownRef.removeAttribute("data-show")}}componentDidLoad(){const t=typeof this.value==="string"&&this.value.trim()!==""||Array.isArray(this.value)&&this.value.length>0;if(t){this.valueChanged.emit(this.value)}}disconnectedCallback(){if(this._cleanupAutoUpdate){this._cleanupAutoUpdate();this._cleanupAutoUpdate=undefined}}async updatePosition(){if(!this._dropdownToggleRef||!this._dropdownMenuRef)return;const t=[le(3),de({fallbackPlacements:["top-start","bottom-start"]}),ce(),ue({apply:({availableWidth:t,availableHeight:e,elements:n})=>{Object.assign(n.floating.style,{maxWidth:`${t}px`,maxHeight:`${e}px`});n.floating.style.minWidth=`${n.reference.getBoundingClientRect().width}px`}})];const{x:e,y:n}=await he(this._dropdownToggleRef,this._dropdownMenuRef,{placement:this.placement,middleware:t});Object.assign(this._dropdownMenuRef.style,{left:`${e}px`,top:`${n}px`,position:"fixed"})}handleClick=t=>{t.stopPropagation();if(this.isFocused){this.host.blur();this.hideMenu.emit()}else{this.host.focus()}};handleHide=t=>{t.stopPropagation();const e=t?.["relatedTarget"];if(!e||!this.host.contains(e)){this.hideMenu.emit()}};handleShow=t=>{t.stopPropagation();this.showMenu.emit()};static get watchers(){return{value:["valueWatcher"],dataSet:["dataSetWatcher"]}}};me.style=fe;const pe=":host{display:block}";const ge=class{constructor(n){t(this,n);this.toolbarAction=e(this,"toolbarAction")}dataSet;timeStamp;class;toolbarAction;renderToolbarItem(t){if(typeof t.visible==="function"&&!t.visible())return;if(typeof t.visible==="boolean"&&!t.visible)return;if(t.type==="group"){return this.renderDropdown(t)}else if(t.type==="divider"){return n("div",{class:"d-inline-flex align-middle mx-2"},n("div",{class:"vr"}))}else{return n("storm-toolbar-item",{dataSet:t,onToolbarAction:e=>{this.handleAction(e,t)}})}}handleAction(t,e,n=null){if(!e.click)return;if(typeof e.click==="string"){if(!m(e.click)){throw new Error("Invalid function string")}e.click=p(e.click)}e.click(e,n);this.toolbarAction.emit(n?n.id:e.id)}renderDropdown(t){if(!t||!t.items||t.items.length===0)return;return n("div",{class:"d-inline-flex align-middle"},n("storm-dropdown",{dataSet:t.items,trigger:"click",toggleIcon:"more_vert",type:"none",selection:"none",nullable:true,showSelected:false,onItemClick:e=>{this.handleAction(e,t,e.detail)}}))}render(){if(!this.dataSet)return;return n("div",{class:"w-100"},n("div",{class:{"d-flex":true,...l(this.class)}},this.dataSet.map((t=>this.renderToolbarItem(t)))))}};ge.style=pe;const be=":host{display:block}";const we=class{constructor(n){t(this,n);this.toolbarAction=e(this,"toolbarAction")}uid;dataSet;toolbarAction;_active;_disabled;handleToolbarAction(t){t.stopPropagation();this.toolbarAction.emit(this.dataSet.id)}initDataSet(){if(this.dataSet.id){this.uid=this.dataSet.id}else if(!this.uid){this.dataSet.id=this.uid=d("storm-toolbar-item")}}componentWillLoad(){this.initDataSet()}async componentWillRender(){const t=[];if(this.dataSet.active){t.push(this.resolveActive().then((t=>this._active=t)))}if(this.dataSet.disabled){t.push(this.resolveDisabled().then((t=>this._disabled=t)))}if(t.length>0){await Promise.all(t)}}async resolveActive(){const t=g(this.dataSet,"active");return t instanceof Promise?await t:t}async resolveDisabled(){const t=g(this.dataSet,"disabled");return t instanceof Promise?await t:t}render(){return n(o,{key:"dc3e95776156a7926116fbb560b3a51f2908bef8",class:l(this.dataSet.class)},n("storm-button",{key:"4294bb8079e439987095353bc3ee1fd06c6e2064",type:this.dataSet.buttonType,label:this.dataSet.label,tooltip:this.dataSet.tooltip,icon:this.dataSet.icon,buttonStyle:this.dataSet.buttonStyle,size:this.dataSet.size,active:this._active,disabled:this._disabled,onButtonClick:t=>this.handleToolbarAction(t),rounded:this.dataSet.rounded}))}};we.style=be;export{w as storm_button,me as storm_dropdown,ge as storm_toolbar,we as storm_toolbar_item};
//# sourceMappingURL=p-5455394e.entry.js.map