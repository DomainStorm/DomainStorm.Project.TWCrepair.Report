import{r as s,a as e,h as t,H as i}from"./p-DTU8m96f.js";import{S as a}from"./p-CAnyxfG4.js";import{b as r}from"./p-eWS9TPc3.js";const o=class{constructor(e){s(this,e)}get host(){return e(this)}dataSet;fade=!1;wrap=!0;carousel;carouselRef;videoRefs;async componentWillLoad(){await a.applyShadowRootStylesAsync(this.host,"material")}componentDidRender(){this.dataSet&&(this.carousel=new r.Carousel(this.carouselRef,{wrap:this.wrap,ride:"carousel"}),this.carouselRef.addEventListener("slid.bs.carousel",(s=>{this.controlInterval(this.dataSet.playListItems[s.to])})),this.dataSet&&this.dataSet.playListItems?.length>0&&this.controlInterval(this.dataSet.playListItems[0]),this.videoRefs?.forEach((s=>{s.addEventListener("ended",(()=>{this.carousel.next()}))})))}addItem(){if(this.dataSet)return this.videoRefs=new Map,this.dataSet.playListItems.map(((s,e)=>t("div",{class:0==e?"carousel-item center active":"carousel-item center","data-bs-interval":s.playDuration>0&&1e3*s.playDuration},this.addItemElement(s))))}addItemElement=s=>"text/html"==s.mimeType?t("div",{innerHTML:s.content}):s.mimeType.startsWith("image/")?t("img",{class:"d-block",src:s.url}):s.mimeType.startsWith("video/")?t("video",{ref:e=>this.videoRefs.set(s,e),controls:!0,autoplay:!0},t("source",{src:s.url,type:s.mimeType})):void 0;controlInterval=s=>{s.mimeType.startsWith("video/")?(this.carousel.pause(),this.videoRefs.get(s).currentTime=0,this.videoRefs.get(s).play()):this.carousel.cycle()};render(){return t(i,{key:"f1dfca311ab036833d9721edf5e4b96c94349baa"},t("div",{key:"e40d1f6985048819fc3fc9f7874eb650fa93b244",id:"carouselControls",class:this.fade?"carousel slide carousel-fade":"carousel slide",ref:s=>this.carouselRef=s},t("div",{key:"6807c8f4fb6c364a21ddf02b73c8abca058598a9",class:"carousel-inner"},this.addItem())))}};o.style=".storm-carousel .center{display:block;text-align:-webkit-center}";export{o as storm_carousel}