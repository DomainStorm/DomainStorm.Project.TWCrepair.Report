{"version":3,"names":["webpackUniversalModuleDefinition","root","factory","module","exports","self","this","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","value","container_1","format_1","leaf_1","scroll_1","inline_1","block_1","embed_1","text_1","attributor_1","class_1","style_1","store_1","Registry","Parchment","Scope","create","find","query","register","Container","default","Format","Leaf","Embed","Scroll","Block","Inline","Text","Attributor","Attribute","Class","Style","Store","__extends","extendStatics","setPrototypeOf","__proto__","Array","b","__","constructor","ParchmentError","_super","message","_this","Error","attributes","classes","tags","types","DATA_KEY","input","match","BlotClass","node","Node","TEXT_NODE","bubble","blot","parentNode","scope","ANY","LEVEL","BLOCK","INLINE","HTMLElement","names","getAttribute","split","tagName","TYPE","Definitions","_i","arguments","length","map","Definition","blotName","attrName","keyName","className","isArray","toUpperCase","tagNames","forEach","tag","diff","equal","extend","op","NULL_CHARACTER","String","fromCharCode","Delta","ops","insert","text","newOp","keys","push","delete","retain","index","lastOp","unshift","splice","chop","pop","filter","predicate","partition","passed","failed","target","reduce","initial","changeLength","elem","slice","start","end","Infinity","iter","iterator","hasNext","nextOp","next","compose","other","thisIter","otherIter","firstOther","peek","firstLeft","peekType","peekLength","delta","Math","min","thisOp","otherOp","rest","concat","strings","prep","join","diffResult","component","opLength","INSERT","DELETE","EQUAL","eachLine","newline","line","indexOf","transform","priority","transformPosition","offset","nextType","hasOwn","toStr","toString","gOPD","getOwnPropertyDescriptor","arr","isPlainObject","obj","hasOwnConstructor","hasIsPrototypeOf","key","setProperty","options","newValue","writable","getProperty","src","copy","copyIsArray","clone","deep","BlockEmbed","bubbleFormats","undefined","_createClass","defineProperties","props","descriptor","Constructor","protoProps","staticProps","_get","receiver","Function","desc","parent","getPrototypeOf","_extend","_extend2","_interopRequireDefault","_quillDelta","_quillDelta2","_parchment","_parchment2","_break","_break2","_inline","_inline2","_text","_text2","_classCallCheck","instance","TypeError","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","NEWLINE_LENGTH","_Parchment$Embed","apply","attach","domNode","formats","values","format","attribute","BLOCK_ATTRIBUTE","formatAt","insertAt","def","endsWith","block","insertBefore","BLOCK_BLOT","_Parchment$Block","_this2","cache","descendants","leaf","deleteAt","lines","shift","children","tail","ref","head","remove","moveChildren","optimize","context","path","removeChild","child","force","defaultChild","allowedChildren","statics","overload","expandConfig","_typeof","Symbol","_slicedToArray","sliceIterator","_arr","_n","_d","_e","_s","done","err","_editor","_editor2","_emitter3","_emitter4","_module","_module2","_selection","_selection2","_logger","_logger2","_theme","_theme2","_defineProperty","debug","Quill","limit","level","__quill","_import","imports","error","overwrite","warn","startsWith","container","html","innerHTML","trim","classList","add","addContainer","setAttribute","scrollingContainer","emitter","scroll","whitelist","editor","selection","theme","keyboard","addModule","clipboard","history","init","on","events","EDITOR_CHANGE","type","TEXT_CHANGE","toggle","isBlank","SCROLL_UPDATE","source","mutations","range","lastRange","modify","update","contents","convert","setContents","clear","placeholder","readOnly","disable","refNode","document","createElement","blur","setRange","deleteText","_this3","_overload","_overload2","enable","enabled","focus","scrollTop","scrollIntoView","_this4","sources","API","getSelection","change","formatLine","formatText","setSelection","SILENT","_this5","_overload3","_overload4","_this6","_overload5","_overload6","getBounds","bounds","containerBounds","getBoundingClientRect","bottom","top","height","left","right","width","getContents","getLength","_overload7","_overload8","getFormat","getIndex","getLeaf","getLine","getLines","Number","MAX_VALUE","getModule","getRange","getText","_overload9","_overload10","hasFocus","insertEmbed","embed","_this7","insertText","_this8","_overload11","_overload12","isEnabled","contains","off","once","pasteHTML","dangerouslyPasteHTML","removeFormat","_this9","_overload13","_overload14","_this10","deleted","applied","applyDelta","ret","_overload15","_overload16","Range","setText","USER","updateContents","_this11","DEFAULTS","strict","version","parchment","userConfig","import","themeConfig","config","moduleNames","moduleConfig","moduleClass","toolbar","querySelector","modifier","oldDelta","shiftRange","_emitter","args","emit","_emitter2","_map","pos","_map2","_map3","max","_map4","_Parchment$Inline","compare","BLOT","isolate","wrap","selfIndex","order","otherIndex","TextBlot","_Parchment$Text","_eventemitter","_eventemitter2","EVENTS","eventName","addEventListener","_len","_key","querySelectorAll","_node$__quill$emitter","handleDOM","Emitter","_EventEmitter","listeners","log","event","_len2","_key2","_ref","handler","listenDOM","SCROLL_BEFORE_UPDATE","SCROLL_OPTIMIZE","SELECTION_CHANGE","Module","quill","levels","method","_console","console","namespace","ns","logger","bind","newLevel","pSlice","objectKeys","isArguments","deepEqual","actual","expected","opts","Date","getTime","objEquiv","isUndefinedOrNull","isBuffer","x","a","ka","kb","e","sort","attributeBit","ATTRIBUTE","item","canAdd","replace","removeAttribute","Code","_block","_block2","_Inline","CodeBlock","_Block","textContent","frag","_descendant","descendant","_descendant2","nextNewline","newlineIndex","prevNewline","isolateLength","_descendant3","_descendant4","searchIndex","reverse","lastIndexOf","appendChild","prev","unwrap","TAB","_op","_op2","_code","_code2","_cursor","_cursor2","_clone","_clone2","_deepEqual","_deepEqual2","ASCII","Editor","getDelta","consumeNextNewline","scrollLength","batchStart","normalizeDelta","_scroll$line","_scroll$line2","_line$descendant","_line$descendant2","batchEnd","lengthRemaining","lineLength","codeIndex","codeLength","leaves","_path","formatsArr","blots","combineFormats","_scroll$line3","_scroll$line4","suffixLength","suffix","cursorIndex","data","textBlot","oldValue","CONTENTS","oldText","newText","diffDelta","combined","merged","image","list","bullet","_toConsumableArray","arr2","from","Selection","composing","mouseDown","cursor","savedRange","handleComposition","handleDragging","setTimeout","native","getNativeRange","textNode","setNativeRange","ignored","_context$range","startNode","startOffset","endNode","endOffset","restore","body","_format","nativeRange","collapsed","after","_scroll$leaf","_scroll$leaf2","_leaf$position","position","_leaf$position2","createRange","setStart","_scroll$leaf3","_scroll$leaf4","_leaf$position3","_leaf$position4","setEnd","side","rect","rangeCount","getRangeAt","normalizeNative","info","normalized","normalizedToRange","activeElement","positions","indexes","_position","startContainer","endContainer","childNodes","lastChild","rangeToNative","_scroll$leaf5","_scroll$leaf6","_leaf$position5","_leaf$position6","first","last","scrollBounds","removeAllRanges","addRange","oldRange","_getRange","_getRange2","Break","insertInto","linked_list_1","shadow_1","ContainerBlot","build","makeBlot","forEachAt","criteria","_a","lengthLeft","detach","childBlot","refBlot","some","memo","targetParent","inclusive","addedNodes","removedNodes","mutation","compareDocumentPosition","DOCUMENT_POSITION_CONTAINED_BY","DOCUMENT_POSITION_FOLLOWING","nextSibling","replaceChild","FormatBlot","toLowerCase","replaceWith","replacement","wrapper","move","LeafBlot","INLINE_BLOT","lib","keepNull","Iterator","retOp","substr","_instanceof","nativeMap","Map","_","nativeSet","Set","nativePromise","Promise","circular","depth","includeNonEnumerable","allParents","allChildren","useBuffer","Buffer","proto","resolve","reject","then","__isArray","__isRegExp","RegExp","__getRegExpFlags","lastIndex","__isDate","allocUnsafe","keyChild","valueChild","set","entryChild","attrs","getOwnPropertySymbols","symbols","symbol","allPropertyNames","getOwnPropertyNames","propertyName","clonePrototype","__objToStr","re","flags","global","ignoreCase","multiline","_container","_container2","isLine","_Parchment$Scroll","batch","_line","_line2","_line3","_line4","_newlineIndex","observer","takeRecords","SHORTKEY","_quill","_quill2","test","navigator","platform","Keyboard","_Module","evt","binding","normalize","which","keyCode","bindings","addBinding","ENTER","shiftKey","handleEnter","metaKey","ctrlKey","altKey","userAgent","BACKSPACE","handleBackspace","handleDelete","prefix","handleDeleteRange","listen","defaultPrevented","_quill$getLine","_quill$getLine2","_quill$getLeaf","_quill$getLeaf2","leafStart","offsetStart","_ref2","leafEnd","offsetEnd","prefixText","suffixText","curContext","empty","prevented","every","preventDefault","ESCAPE","LEFT","UP","RIGHT","DOWN","bold","makeFormatHandler","italic","underline","indent","outdent","makeCodeBlockHandler","tab","cutoff","_quill$getLine3","_quill$getLine4","_quill$getLine5","_quill$getLine6","header","_quill$getLine7","_quill$getLine8","_quill$getLine9","_quill$getLine10","makeEmbedArrowHandler","_ref3","where","_quill$getLeaf3","_quill$getLeaf4","_quill$getLine11","_quill$getLine12","_quill$getLine13","_quill$getLine14","curFormats","prevFormats","nextLength","_quill$getLine15","_quill$getLine16","_quill$getLine17","_quill$getLine18","nextFormats","firstFormats","lastFormats","lineFormats","_quill$scroll$descend","_quill$scroll$descend2","scrollIndex","shortKey","charCodeAt","Cursor","createTextNode","_length","restoreText","_Parchment$Container","ColorStyle","ColorClass","ColorAttributor","_Parchment$Attributor","parseInt","sanitize","Link","url","_sanitize","PROTOCOL_WHITELIST","SANITIZED_URL","protocols","anchor","href","protocol","_keyboard","_keyboard2","_dropdown","_dropdown2","optionsCounter","toggleAriaAttribute","element","Picker","select","buildPicker","style","display","label","togglePicker","escape","buildItem","option","tabIndex","hasAttribute","selectItem","buildLabel","buildOptions","id","selected","close","trigger","selectedIndex","Event","dispatchEvent","createEvent","initEvent","isActive","_embed","_embed2","_scroll","_scroll2","_clipboard","_clipboard2","_history","_history2","ShadowBlot","cloneNode","parentBlot","refDomNode","AttributorStore","styles","attr","ClassAttributor","matches","result","camelize","parts","part","StyleAttributor","Theme","themes","GUARD_TEXT","contentNode","childNode","leftGuard","rightGuard","prevLength","AlignStyle","AlignClass","AlignAttribute","BackgroundStyle","BackgroundClass","_color","DirectionStyle","DirectionClass","DirectionAttribute","FontClass","FontStyle","FontStyleAttributor","SizeStyle","SizeClass","align","center","justify","background","blockquote","clean","code","color","direction","rtl","float","full","formula","link","ordered","check","script","sub","super","strike","video","getLastChangeIndex","History","lastRecorded","ignoreChange","userOnly","record","undo","redo","dest","stack","changeDelta","undoDelta","timestamp","now","delay","maxStack","endsWithNewlineChange","deleteLength","changeIndex","BaseTooltip","_colorPicker","_colorPicker2","_iconPicker","_iconPicker2","_picker","_picker2","_tooltip","_tooltip2","ALIGNS","COLORS","FONTS","HEADERS","SIZES","BaseTheme","_Theme","listener","removeEventListener","tooltip","textbox","hide","pickers","picker","extendToolbar","buildButtons","buttons","icons","button","buildPickers","selects","fillSelect","handlers","edit","fileInput","files","reader","FileReader","onload","readAsDataURL","click","_Tooltip","boundsContainer","save","cancel","mode","preview","restoreFocus","linkRange","extractVideoUrl","defaultValue","LinkedList","append","nodes","cur","curNode","callback","curIndex","curLength","OBSERVER_CONFIG","characterData","characterDataOldValue","childList","subtree","MAX_OPTIMIZE_ITERATIONS","ScrollBlot","MutationObserver","observe","disconnect","records","mark","markParent","remaining","previousSibling","grandChild","isEqual","obj1","obj2","prop","InlineBlot","BlockBlot","EmbedBlot","splitText","_toggle","DOMTokenList","token","searchString","subjectString","isFinite","floor","thisArg","execCommand","DIFF_DELETE","DIFF_INSERT","DIFF_EQUAL","diff_main","text1","text2","cursor_pos","commonlength","diff_commonPrefix","commonprefix","substring","diff_commonSuffix","commonsuffix","diffs","diff_compute_","diff_cleanupMerge","fix_cursor","fix_emoji","longtext","shorttext","hm","diff_halfMatch_","text1_a","text1_b","text2_a","text2_b","mid_common","diffs_a","diffs_b","diff_bisect_","text1_length","text2_length","max_d","ceil","v_offset","v_length","v1","v2","front","k1start","k1end","k2start","k2end","k1","k1_offset","x1","y1","charAt","k2_offset","x2","diff_bisectSplit_","k2","y2","y","text1a","text2a","text1b","text2b","diffsb","pointermin","pointermax","pointermid","pointerstart","pointerend","diff_halfMatchI_","seed","j","best_common","best_longtext_a","best_longtext_b","best_shorttext_a","best_shorttext_b","prefixLength","hm1","hm2","pointer","count_delete","count_insert","text_delete","text_insert","changes","cursor_normalize_diff","current_pos","next_pos","split_pos","d_left","d_right","norm","ndiffs","cursor_pointer","d_next","merge_tuples","compact","starts_with_pair_end","str","ends_with_pair_start","fixed_diffs","left_d","right_d","shim","supportsArgumentsClass","supported","unsupported","propertyIsEnumerable","has","Events","EE","fn","EventEmitter","_events","_eventsCount","eventNames","exists","available","ee","a1","a2","a3","a4","a5","len","removeListener","removeAllListeners","addListener","setMaxListeners","prefixed","matchText","matchSpacing","matchNewline","matchBlot","matchAttributor","_extend3","_align","_background","_direction","_font","_size","DOM_KEY","CLIPBOARD_CONFIG","matchBreak","ELEMENT_NODE","matchStyles","matchIndent","matchAlias","matchIgnore","ATTRIBUTE_ATTRIBUTORS","STYLE_ATTRIBUTORS","Clipboard","onPaste","matchers","selector","matcher","matchVisual","addMatcher","innerText","_prepareMatching","prepareMatching","_prepareMatching2","elementMatchers","textMatchers","traverse","deltaEndsWith","paste","pair","_pair","applyFormat","computeStyle","nodeType","window","getComputedStyle","endText","childrenDelta","nextElementSibling","nodeHeight","offsetHeight","parseFloat","marginTop","marginBottom","offsetTop","fontStyle","fontWeight","textIndent","whiteSpace","replacer","collapse","Bold","addControls","Toolbar","_ret","controls","addHandler","_this$quill$selection","_this$quill$selection2","_quill$selection$getR","_quill$selection$getR2","prompt","addButton","groups","group","control","addSelect","ColorPicker","_Picker","backgroundColor","colorLabel","stroke","fill","IconPicker","defaultItem","Tooltip","TEMPLATE","reference","offsetWidth","rootBounds","verticalShift","show","_base","_base2","_link","_link2","_icons","_icons2","TOOLBAR_CONFIG","SnowTheme","_BaseTheme","SnowTooltip","_BaseTooltip","_core","_core2","_indent","_blockquote","_blockquote2","_header","_header2","_list","_list2","_bold","_bold2","_italic","_italic2","_script","_script2","_strike","_strike2","_underline","_underline2","_image","_image2","_video","_video2","_formula","_formula2","_syntax","_syntax2","_toolbar","_toolbar2","_bubble","_bubble2","_snow","_snow2","IndentClass","ListItem","IdentAttributor","Blockquote","Header","List","_Container","listEventHandler","Italic","_Bold","Script","Strike","Underline","ATTRIBUTES","Image","Video","_BlockEmbed","FormulaBlot","_Embed","katex","render","throwOnError","errorColor","Formula","CodeToken","SyntaxCodeBlock","_CodeBlock","highlight","_highlight","cachedText","Syntax","timer","clearTimeout","interval","hljs","highlightAuto","BubbleTooltip","BubbleTheme","lastLine","_bounds","arrow","marginLeft","stormTextEditorCss","StormTextEditor","quillRef","qlEditor","labelDivRef","componentDidLoad","host","handleFocus","_delta","_oldContents","_source","labelRender","h","class","el","Host"],"sources":["node_modules/quill/dist/quill.js","src/components/storm-text-editor/storm-text-editor.css?tag=storm-text-editor","src/components/storm-text-editor/storm-text-editor.tsx"],"sourcesContent":["/*!\r\n * Quill Editor v1.3.7\r\n * https://quilljs.com/\r\n * Copyright (c) 2014, Jason Chen\r\n * Copyright (c) 2013, salesforce.com\r\n */\r\n(function webpackUniversalModuleDefinition(root, factory) {\r\n\tif(typeof exports === 'object' && typeof module === 'object')\r\n\t\tmodule.exports = factory();\r\n\telse if(typeof define === 'function' && define.amd)\r\n\t\tdefine([], factory);\r\n\telse if(typeof exports === 'object')\r\n\t\texports[\"Quill\"] = factory();\r\n\telse\r\n\t\troot[\"Quill\"] = factory();\r\n})(typeof self !== 'undefined' ? self : this, function() {\r\nreturn /******/ (function(modules) { // webpackBootstrap\r\n/******/ \t// The module cache\r\n/******/ \tvar installedModules = {};\r\n/******/\r\n/******/ \t// The require function\r\n/******/ \tfunction __webpack_require__(moduleId) {\r\n/******/\r\n/******/ \t\t// Check if module is in cache\r\n/******/ \t\tif(installedModules[moduleId]) {\r\n/******/ \t\t\treturn installedModules[moduleId].exports;\r\n/******/ \t\t}\r\n/******/ \t\t// Create a new module (and put it into the cache)\r\n/******/ \t\tvar module = installedModules[moduleId] = {\r\n/******/ \t\t\ti: moduleId,\r\n/******/ \t\t\tl: false,\r\n/******/ \t\t\texports: {}\r\n/******/ \t\t};\r\n/******/\r\n/******/ \t\t// Execute the module function\r\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\r\n/******/\r\n/******/ \t\t// Flag the module as loaded\r\n/******/ \t\tmodule.l = true;\r\n/******/\r\n/******/ \t\t// Return the exports of the module\r\n/******/ \t\treturn module.exports;\r\n/******/ \t}\r\n/******/\r\n/******/\r\n/******/ \t// expose the modules object (__webpack_modules__)\r\n/******/ \t__webpack_require__.m = modules;\r\n/******/\r\n/******/ \t// expose the module cache\r\n/******/ \t__webpack_require__.c = installedModules;\r\n/******/\r\n/******/ \t// define getter function for harmony exports\r\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\r\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\r\n/******/ \t\t\tObject.defineProperty(exports, name, {\r\n/******/ \t\t\t\tconfigurable: false,\r\n/******/ \t\t\t\tenumerable: true,\r\n/******/ \t\t\t\tget: getter\r\n/******/ \t\t\t});\r\n/******/ \t\t}\r\n/******/ \t};\r\n/******/\r\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\r\n/******/ \t__webpack_require__.n = function(module) {\r\n/******/ \t\tvar getter = module && module.__esModule ?\r\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\r\n/******/ \t\t\tfunction getModuleExports() { return module; };\r\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\r\n/******/ \t\treturn getter;\r\n/******/ \t};\r\n/******/\r\n/******/ \t// Object.prototype.hasOwnProperty.call\r\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\r\n/******/\r\n/******/ \t// __webpack_public_path__\r\n/******/ \t__webpack_require__.p = \"\";\r\n/******/\r\n/******/ \t// Load entry module and return exports\r\n/******/ \treturn __webpack_require__(__webpack_require__.s = 109);\r\n/******/ })\r\n/************************************************************************/\r\n/******/ ([\r\n/* 0 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar container_1 = __webpack_require__(17);\r\nvar format_1 = __webpack_require__(18);\r\nvar leaf_1 = __webpack_require__(19);\r\nvar scroll_1 = __webpack_require__(45);\r\nvar inline_1 = __webpack_require__(46);\r\nvar block_1 = __webpack_require__(47);\r\nvar embed_1 = __webpack_require__(48);\r\nvar text_1 = __webpack_require__(49);\r\nvar attributor_1 = __webpack_require__(12);\r\nvar class_1 = __webpack_require__(32);\r\nvar style_1 = __webpack_require__(33);\r\nvar store_1 = __webpack_require__(31);\r\nvar Registry = __webpack_require__(1);\r\nvar Parchment = {\r\n    Scope: Registry.Scope,\r\n    create: Registry.create,\r\n    find: Registry.find,\r\n    query: Registry.query,\r\n    register: Registry.register,\r\n    Container: container_1.default,\r\n    Format: format_1.default,\r\n    Leaf: leaf_1.default,\r\n    Embed: embed_1.default,\r\n    Scroll: scroll_1.default,\r\n    Block: block_1.default,\r\n    Inline: inline_1.default,\r\n    Text: text_1.default,\r\n    Attributor: {\r\n        Attribute: attributor_1.default,\r\n        Class: class_1.default,\r\n        Style: style_1.default,\r\n        Store: store_1.default,\r\n    },\r\n};\r\nexports.default = Parchment;\r\n\r\n\r\n/***/ }),\r\n/* 1 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ParchmentError = /** @class */ (function (_super) {\r\n    __extends(ParchmentError, _super);\r\n    function ParchmentError(message) {\r\n        var _this = this;\r\n        message = '[Parchment] ' + message;\r\n        _this = _super.call(this, message) || this;\r\n        _this.message = message;\r\n        _this.name = _this.constructor.name;\r\n        return _this;\r\n    }\r\n    return ParchmentError;\r\n}(Error));\r\nexports.ParchmentError = ParchmentError;\r\nvar attributes = {};\r\nvar classes = {};\r\nvar tags = {};\r\nvar types = {};\r\nexports.DATA_KEY = '__blot';\r\nvar Scope;\r\n(function (Scope) {\r\n    Scope[Scope[\"TYPE\"] = 3] = \"TYPE\";\r\n    Scope[Scope[\"LEVEL\"] = 12] = \"LEVEL\";\r\n    Scope[Scope[\"ATTRIBUTE\"] = 13] = \"ATTRIBUTE\";\r\n    Scope[Scope[\"BLOT\"] = 14] = \"BLOT\";\r\n    Scope[Scope[\"INLINE\"] = 7] = \"INLINE\";\r\n    Scope[Scope[\"BLOCK\"] = 11] = \"BLOCK\";\r\n    Scope[Scope[\"BLOCK_BLOT\"] = 10] = \"BLOCK_BLOT\";\r\n    Scope[Scope[\"INLINE_BLOT\"] = 6] = \"INLINE_BLOT\";\r\n    Scope[Scope[\"BLOCK_ATTRIBUTE\"] = 9] = \"BLOCK_ATTRIBUTE\";\r\n    Scope[Scope[\"INLINE_ATTRIBUTE\"] = 5] = \"INLINE_ATTRIBUTE\";\r\n    Scope[Scope[\"ANY\"] = 15] = \"ANY\";\r\n})(Scope = exports.Scope || (exports.Scope = {}));\r\nfunction create(input, value) {\r\n    var match = query(input);\r\n    if (match == null) {\r\n        throw new ParchmentError(\"Unable to create \" + input + \" blot\");\r\n    }\r\n    var BlotClass = match;\r\n    var node = \r\n    // @ts-ignore\r\n    input instanceof Node || input['nodeType'] === Node.TEXT_NODE ? input : BlotClass.create(value);\r\n    return new BlotClass(node, value);\r\n}\r\nexports.create = create;\r\nfunction find(node, bubble) {\r\n    if (bubble === void 0) { bubble = false; }\r\n    if (node == null)\r\n        return null;\r\n    // @ts-ignore\r\n    if (node[exports.DATA_KEY] != null)\r\n        return node[exports.DATA_KEY].blot;\r\n    if (bubble)\r\n        return find(node.parentNode, bubble);\r\n    return null;\r\n}\r\nexports.find = find;\r\nfunction query(query, scope) {\r\n    if (scope === void 0) { scope = Scope.ANY; }\r\n    var match;\r\n    if (typeof query === 'string') {\r\n        match = types[query] || attributes[query];\r\n        // @ts-ignore\r\n    }\r\n    else if (query instanceof Text || query['nodeType'] === Node.TEXT_NODE) {\r\n        match = types['text'];\r\n    }\r\n    else if (typeof query === 'number') {\r\n        if (query & Scope.LEVEL & Scope.BLOCK) {\r\n            match = types['block'];\r\n        }\r\n        else if (query & Scope.LEVEL & Scope.INLINE) {\r\n            match = types['inline'];\r\n        }\r\n    }\r\n    else if (query instanceof HTMLElement) {\r\n        var names = (query.getAttribute('class') || '').split(/\\s+/);\r\n        for (var i in names) {\r\n            match = classes[names[i]];\r\n            if (match)\r\n                break;\r\n        }\r\n        match = match || tags[query.tagName];\r\n    }\r\n    if (match == null)\r\n        return null;\r\n    // @ts-ignore\r\n    if (scope & Scope.LEVEL & match.scope && scope & Scope.TYPE & match.scope)\r\n        return match;\r\n    return null;\r\n}\r\nexports.query = query;\r\nfunction register() {\r\n    var Definitions = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        Definitions[_i] = arguments[_i];\r\n    }\r\n    if (Definitions.length > 1) {\r\n        return Definitions.map(function (d) {\r\n            return register(d);\r\n        });\r\n    }\r\n    var Definition = Definitions[0];\r\n    if (typeof Definition.blotName !== 'string' && typeof Definition.attrName !== 'string') {\r\n        throw new ParchmentError('Invalid definition');\r\n    }\r\n    else if (Definition.blotName === 'abstract') {\r\n        throw new ParchmentError('Cannot register abstract class');\r\n    }\r\n    types[Definition.blotName || Definition.attrName] = Definition;\r\n    if (typeof Definition.keyName === 'string') {\r\n        attributes[Definition.keyName] = Definition;\r\n    }\r\n    else {\r\n        if (Definition.className != null) {\r\n            classes[Definition.className] = Definition;\r\n        }\r\n        if (Definition.tagName != null) {\r\n            if (Array.isArray(Definition.tagName)) {\r\n                Definition.tagName = Definition.tagName.map(function (tagName) {\r\n                    return tagName.toUpperCase();\r\n                });\r\n            }\r\n            else {\r\n                Definition.tagName = Definition.tagName.toUpperCase();\r\n            }\r\n            var tagNames = Array.isArray(Definition.tagName) ? Definition.tagName : [Definition.tagName];\r\n            tagNames.forEach(function (tag) {\r\n                if (tags[tag] == null || Definition.className == null) {\r\n                    tags[tag] = Definition;\r\n                }\r\n            });\r\n        }\r\n    }\r\n    return Definition;\r\n}\r\nexports.register = register;\r\n\r\n\r\n/***/ }),\r\n/* 2 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\nvar diff = __webpack_require__(51);\r\nvar equal = __webpack_require__(11);\r\nvar extend = __webpack_require__(3);\r\nvar op = __webpack_require__(20);\r\n\r\n\r\nvar NULL_CHARACTER = String.fromCharCode(0);  // Placeholder char for embed in diff()\r\n\r\n\r\nvar Delta = function (ops) {\r\n  // Assume we are given a well formed ops\r\n  if (Array.isArray(ops)) {\r\n    this.ops = ops;\r\n  } else if (ops != null && Array.isArray(ops.ops)) {\r\n    this.ops = ops.ops;\r\n  } else {\r\n    this.ops = [];\r\n  }\r\n};\r\n\r\n\r\nDelta.prototype.insert = function (text, attributes) {\r\n  var newOp = {};\r\n  if (text.length === 0) return this;\r\n  newOp.insert = text;\r\n  if (attributes != null && typeof attributes === 'object' && Object.keys(attributes).length > 0) {\r\n    newOp.attributes = attributes;\r\n  }\r\n  return this.push(newOp);\r\n};\r\n\r\nDelta.prototype['delete'] = function (length) {\r\n  if (length <= 0) return this;\r\n  return this.push({ 'delete': length });\r\n};\r\n\r\nDelta.prototype.retain = function (length, attributes) {\r\n  if (length <= 0) return this;\r\n  var newOp = { retain: length };\r\n  if (attributes != null && typeof attributes === 'object' && Object.keys(attributes).length > 0) {\r\n    newOp.attributes = attributes;\r\n  }\r\n  return this.push(newOp);\r\n};\r\n\r\nDelta.prototype.push = function (newOp) {\r\n  var index = this.ops.length;\r\n  var lastOp = this.ops[index - 1];\r\n  newOp = extend(true, {}, newOp);\r\n  if (typeof lastOp === 'object') {\r\n    if (typeof newOp['delete'] === 'number' && typeof lastOp['delete'] === 'number') {\r\n      this.ops[index - 1] = { 'delete': lastOp['delete'] + newOp['delete'] };\r\n      return this;\r\n    }\r\n    // Since it does not matter if we insert before or after deleting at the same index,\r\n    // always prefer to insert first\r\n    if (typeof lastOp['delete'] === 'number' && newOp.insert != null) {\r\n      index -= 1;\r\n      lastOp = this.ops[index - 1];\r\n      if (typeof lastOp !== 'object') {\r\n        this.ops.unshift(newOp);\r\n        return this;\r\n      }\r\n    }\r\n    if (equal(newOp.attributes, lastOp.attributes)) {\r\n      if (typeof newOp.insert === 'string' && typeof lastOp.insert === 'string') {\r\n        this.ops[index - 1] = { insert: lastOp.insert + newOp.insert };\r\n        if (typeof newOp.attributes === 'object') this.ops[index - 1].attributes = newOp.attributes\r\n        return this;\r\n      } else if (typeof newOp.retain === 'number' && typeof lastOp.retain === 'number') {\r\n        this.ops[index - 1] = { retain: lastOp.retain + newOp.retain };\r\n        if (typeof newOp.attributes === 'object') this.ops[index - 1].attributes = newOp.attributes\r\n        return this;\r\n      }\r\n    }\r\n  }\r\n  if (index === this.ops.length) {\r\n    this.ops.push(newOp);\r\n  } else {\r\n    this.ops.splice(index, 0, newOp);\r\n  }\r\n  return this;\r\n};\r\n\r\nDelta.prototype.chop = function () {\r\n  var lastOp = this.ops[this.ops.length - 1];\r\n  if (lastOp && lastOp.retain && !lastOp.attributes) {\r\n    this.ops.pop();\r\n  }\r\n  return this;\r\n};\r\n\r\nDelta.prototype.filter = function (predicate) {\r\n  return this.ops.filter(predicate);\r\n};\r\n\r\nDelta.prototype.forEach = function (predicate) {\r\n  this.ops.forEach(predicate);\r\n};\r\n\r\nDelta.prototype.map = function (predicate) {\r\n  return this.ops.map(predicate);\r\n};\r\n\r\nDelta.prototype.partition = function (predicate) {\r\n  var passed = [], failed = [];\r\n  this.forEach(function(op) {\r\n    var target = predicate(op) ? passed : failed;\r\n    target.push(op);\r\n  });\r\n  return [passed, failed];\r\n};\r\n\r\nDelta.prototype.reduce = function (predicate, initial) {\r\n  return this.ops.reduce(predicate, initial);\r\n};\r\n\r\nDelta.prototype.changeLength = function () {\r\n  return this.reduce(function (length, elem) {\r\n    if (elem.insert) {\r\n      return length + op.length(elem);\r\n    } else if (elem.delete) {\r\n      return length - elem.delete;\r\n    }\r\n    return length;\r\n  }, 0);\r\n};\r\n\r\nDelta.prototype.length = function () {\r\n  return this.reduce(function (length, elem) {\r\n    return length + op.length(elem);\r\n  }, 0);\r\n};\r\n\r\nDelta.prototype.slice = function (start, end) {\r\n  start = start || 0;\r\n  if (typeof end !== 'number') end = Infinity;\r\n  var ops = [];\r\n  var iter = op.iterator(this.ops);\r\n  var index = 0;\r\n  while (index < end && iter.hasNext()) {\r\n    var nextOp;\r\n    if (index < start) {\r\n      nextOp = iter.next(start - index);\r\n    } else {\r\n      nextOp = iter.next(end - index);\r\n      ops.push(nextOp);\r\n    }\r\n    index += op.length(nextOp);\r\n  }\r\n  return new Delta(ops);\r\n};\r\n\r\n\r\nDelta.prototype.compose = function (other) {\r\n  var thisIter = op.iterator(this.ops);\r\n  var otherIter = op.iterator(other.ops);\r\n  var ops = [];\r\n  var firstOther = otherIter.peek();\r\n  if (firstOther != null && typeof firstOther.retain === 'number' && firstOther.attributes == null) {\r\n    var firstLeft = firstOther.retain;\r\n    while (thisIter.peekType() === 'insert' && thisIter.peekLength() <= firstLeft) {\r\n      firstLeft -= thisIter.peekLength();\r\n      ops.push(thisIter.next());\r\n    }\r\n    if (firstOther.retain - firstLeft > 0) {\r\n      otherIter.next(firstOther.retain - firstLeft);\r\n    }\r\n  }\r\n  var delta = new Delta(ops);\r\n  while (thisIter.hasNext() || otherIter.hasNext()) {\r\n    if (otherIter.peekType() === 'insert') {\r\n      delta.push(otherIter.next());\r\n    } else if (thisIter.peekType() === 'delete') {\r\n      delta.push(thisIter.next());\r\n    } else {\r\n      var length = Math.min(thisIter.peekLength(), otherIter.peekLength());\r\n      var thisOp = thisIter.next(length);\r\n      var otherOp = otherIter.next(length);\r\n      if (typeof otherOp.retain === 'number') {\r\n        var newOp = {};\r\n        if (typeof thisOp.retain === 'number') {\r\n          newOp.retain = length;\r\n        } else {\r\n          newOp.insert = thisOp.insert;\r\n        }\r\n        // Preserve null when composing with a retain, otherwise remove it for inserts\r\n        var attributes = op.attributes.compose(thisOp.attributes, otherOp.attributes, typeof thisOp.retain === 'number');\r\n        if (attributes) newOp.attributes = attributes;\r\n        delta.push(newOp);\r\n\r\n        // Optimization if rest of other is just retain\r\n        if (!otherIter.hasNext() && equal(delta.ops[delta.ops.length - 1], newOp)) {\r\n          var rest = new Delta(thisIter.rest());\r\n          return delta.concat(rest).chop();\r\n        }\r\n\r\n      // Other op should be delete, we could be an insert or retain\r\n      // Insert + delete cancels out\r\n      } else if (typeof otherOp['delete'] === 'number' && typeof thisOp.retain === 'number') {\r\n        delta.push(otherOp);\r\n      }\r\n    }\r\n  }\r\n  return delta.chop();\r\n};\r\n\r\nDelta.prototype.concat = function (other) {\r\n  var delta = new Delta(this.ops.slice());\r\n  if (other.ops.length > 0) {\r\n    delta.push(other.ops[0]);\r\n    delta.ops = delta.ops.concat(other.ops.slice(1));\r\n  }\r\n  return delta;\r\n};\r\n\r\nDelta.prototype.diff = function (other, index) {\r\n  if (this.ops === other.ops) {\r\n    return new Delta();\r\n  }\r\n  var strings = [this, other].map(function (delta) {\r\n    return delta.map(function (op) {\r\n      if (op.insert != null) {\r\n        return typeof op.insert === 'string' ? op.insert : NULL_CHARACTER;\r\n      }\r\n      var prep = (delta === other) ? 'on' : 'with';\r\n      throw new Error('diff() called ' + prep + ' non-document');\r\n    }).join('');\r\n  });\r\n  var delta = new Delta();\r\n  var diffResult = diff(strings[0], strings[1], index);\r\n  var thisIter = op.iterator(this.ops);\r\n  var otherIter = op.iterator(other.ops);\r\n  diffResult.forEach(function (component) {\r\n    var length = component[1].length;\r\n    while (length > 0) {\r\n      var opLength = 0;\r\n      switch (component[0]) {\r\n        case diff.INSERT:\r\n          opLength = Math.min(otherIter.peekLength(), length);\r\n          delta.push(otherIter.next(opLength));\r\n          break;\r\n        case diff.DELETE:\r\n          opLength = Math.min(length, thisIter.peekLength());\r\n          thisIter.next(opLength);\r\n          delta['delete'](opLength);\r\n          break;\r\n        case diff.EQUAL:\r\n          opLength = Math.min(thisIter.peekLength(), otherIter.peekLength(), length);\r\n          var thisOp = thisIter.next(opLength);\r\n          var otherOp = otherIter.next(opLength);\r\n          if (equal(thisOp.insert, otherOp.insert)) {\r\n            delta.retain(opLength, op.attributes.diff(thisOp.attributes, otherOp.attributes));\r\n          } else {\r\n            delta.push(otherOp)['delete'](opLength);\r\n          }\r\n          break;\r\n      }\r\n      length -= opLength;\r\n    }\r\n  });\r\n  return delta.chop();\r\n};\r\n\r\nDelta.prototype.eachLine = function (predicate, newline) {\r\n  newline = newline || '\\n';\r\n  var iter = op.iterator(this.ops);\r\n  var line = new Delta();\r\n  var i = 0;\r\n  while (iter.hasNext()) {\r\n    if (iter.peekType() !== 'insert') return;\r\n    var thisOp = iter.peek();\r\n    var start = op.length(thisOp) - iter.peekLength();\r\n    var index = typeof thisOp.insert === 'string' ?\r\n      thisOp.insert.indexOf(newline, start) - start : -1;\r\n    if (index < 0) {\r\n      line.push(iter.next());\r\n    } else if (index > 0) {\r\n      line.push(iter.next(index));\r\n    } else {\r\n      if (predicate(line, iter.next(1).attributes || {}, i) === false) {\r\n        return;\r\n      }\r\n      i += 1;\r\n      line = new Delta();\r\n    }\r\n  }\r\n  if (line.length() > 0) {\r\n    predicate(line, {}, i);\r\n  }\r\n};\r\n\r\nDelta.prototype.transform = function (other, priority) {\r\n  priority = !!priority;\r\n  if (typeof other === 'number') {\r\n    return this.transformPosition(other, priority);\r\n  }\r\n  var thisIter = op.iterator(this.ops);\r\n  var otherIter = op.iterator(other.ops);\r\n  var delta = new Delta();\r\n  while (thisIter.hasNext() || otherIter.hasNext()) {\r\n    if (thisIter.peekType() === 'insert' && (priority || otherIter.peekType() !== 'insert')) {\r\n      delta.retain(op.length(thisIter.next()));\r\n    } else if (otherIter.peekType() === 'insert') {\r\n      delta.push(otherIter.next());\r\n    } else {\r\n      var length = Math.min(thisIter.peekLength(), otherIter.peekLength());\r\n      var thisOp = thisIter.next(length);\r\n      var otherOp = otherIter.next(length);\r\n      if (thisOp['delete']) {\r\n        // Our delete either makes their delete redundant or removes their retain\r\n        continue;\r\n      } else if (otherOp['delete']) {\r\n        delta.push(otherOp);\r\n      } else {\r\n        // We retain either their retain or insert\r\n        delta.retain(length, op.attributes.transform(thisOp.attributes, otherOp.attributes, priority));\r\n      }\r\n    }\r\n  }\r\n  return delta.chop();\r\n};\r\n\r\nDelta.prototype.transformPosition = function (index, priority) {\r\n  priority = !!priority;\r\n  var thisIter = op.iterator(this.ops);\r\n  var offset = 0;\r\n  while (thisIter.hasNext() && offset <= index) {\r\n    var length = thisIter.peekLength();\r\n    var nextType = thisIter.peekType();\r\n    thisIter.next();\r\n    if (nextType === 'delete') {\r\n      index -= Math.min(length, index - offset);\r\n      continue;\r\n    } else if (nextType === 'insert' && (offset < index || !priority)) {\r\n      index += length;\r\n    }\r\n    offset += length;\r\n  }\r\n  return index;\r\n};\r\n\r\n\r\nmodule.exports = Delta;\r\n\r\n\r\n/***/ }),\r\n/* 3 */\r\n/***/ (function(module, exports) {\r\n\r\n'use strict';\r\n\r\nvar hasOwn = Object.prototype.hasOwnProperty;\r\nvar toStr = Object.prototype.toString;\r\nvar defineProperty = Object.defineProperty;\r\nvar gOPD = Object.getOwnPropertyDescriptor;\r\n\r\nvar isArray = function isArray(arr) {\r\n\tif (typeof Array.isArray === 'function') {\r\n\t\treturn Array.isArray(arr);\r\n\t}\r\n\r\n\treturn toStr.call(arr) === '[object Array]';\r\n};\r\n\r\nvar isPlainObject = function isPlainObject(obj) {\r\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\r\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\r\n\t// Not own constructor property must be Object\r\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// Own properties are enumerated firstly, so to speed up,\r\n\t// if last one is own, then all properties are own.\r\n\tvar key;\r\n\tfor (key in obj) { /**/ }\r\n\r\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\r\n};\r\n\r\n// If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\r\nvar setProperty = function setProperty(target, options) {\r\n\tif (defineProperty && options.name === '__proto__') {\r\n\t\tdefineProperty(target, options.name, {\r\n\t\t\tenumerable: true,\r\n\t\t\tconfigurable: true,\r\n\t\t\tvalue: options.newValue,\r\n\t\t\twritable: true\r\n\t\t});\r\n\t} else {\r\n\t\ttarget[options.name] = options.newValue;\r\n\t}\r\n};\r\n\r\n// Return undefined instead of __proto__ if '__proto__' is not an own property\r\nvar getProperty = function getProperty(obj, name) {\r\n\tif (name === '__proto__') {\r\n\t\tif (!hasOwn.call(obj, name)) {\r\n\t\t\treturn void 0;\r\n\t\t} else if (gOPD) {\r\n\t\t\t// In early versions of node, obj['__proto__'] is buggy when obj has\r\n\t\t\t// __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\r\n\t\t\treturn gOPD(obj, name).value;\r\n\t\t}\r\n\t}\r\n\r\n\treturn obj[name];\r\n};\r\n\r\nmodule.exports = function extend() {\r\n\tvar options, name, src, copy, copyIsArray, clone;\r\n\tvar target = arguments[0];\r\n\tvar i = 1;\r\n\tvar length = arguments.length;\r\n\tvar deep = false;\r\n\r\n\t// Handle a deep copy situation\r\n\tif (typeof target === 'boolean') {\r\n\t\tdeep = target;\r\n\t\ttarget = arguments[1] || {};\r\n\t\t// skip the boolean and the target\r\n\t\ti = 2;\r\n\t}\r\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\r\n\t\ttarget = {};\r\n\t}\r\n\r\n\tfor (; i < length; ++i) {\r\n\t\toptions = arguments[i];\r\n\t\t// Only deal with non-null/undefined values\r\n\t\tif (options != null) {\r\n\t\t\t// Extend the base object\r\n\t\t\tfor (name in options) {\r\n\t\t\t\tsrc = getProperty(target, name);\r\n\t\t\t\tcopy = getProperty(options, name);\r\n\r\n\t\t\t\t// Prevent never-ending loop\r\n\t\t\t\tif (target !== copy) {\r\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\r\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\r\n\t\t\t\t\t\tif (copyIsArray) {\r\n\t\t\t\t\t\t\tcopyIsArray = false;\r\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Never move original objects, clone them\r\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: extend(deep, clone, copy) });\r\n\r\n\t\t\t\t\t// Don't bring in undefined values\r\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\r\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: copy });\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Return the modified object\r\n\treturn target;\r\n};\r\n\r\n\r\n/***/ }),\r\n/* 4 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = exports.BlockEmbed = exports.bubbleFormats = undefined;\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _extend = __webpack_require__(3);\r\n\r\nvar _extend2 = _interopRequireDefault(_extend);\r\n\r\nvar _quillDelta = __webpack_require__(2);\r\n\r\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nvar _break = __webpack_require__(16);\r\n\r\nvar _break2 = _interopRequireDefault(_break);\r\n\r\nvar _inline = __webpack_require__(6);\r\n\r\nvar _inline2 = _interopRequireDefault(_inline);\r\n\r\nvar _text = __webpack_require__(7);\r\n\r\nvar _text2 = _interopRequireDefault(_text);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar NEWLINE_LENGTH = 1;\r\n\r\nvar BlockEmbed = function (_Parchment$Embed) {\r\n  _inherits(BlockEmbed, _Parchment$Embed);\r\n\r\n  function BlockEmbed() {\r\n    _classCallCheck(this, BlockEmbed);\r\n\r\n    return _possibleConstructorReturn(this, (BlockEmbed.__proto__ || Object.getPrototypeOf(BlockEmbed)).apply(this, arguments));\r\n  }\r\n\r\n  _createClass(BlockEmbed, [{\r\n    key: 'attach',\r\n    value: function attach() {\r\n      _get(BlockEmbed.prototype.__proto__ || Object.getPrototypeOf(BlockEmbed.prototype), 'attach', this).call(this);\r\n      this.attributes = new _parchment2.default.Attributor.Store(this.domNode);\r\n    }\r\n  }, {\r\n    key: 'delta',\r\n    value: function delta() {\r\n      return new _quillDelta2.default().insert(this.value(), (0, _extend2.default)(this.formats(), this.attributes.values()));\r\n    }\r\n  }, {\r\n    key: 'format',\r\n    value: function format(name, value) {\r\n      var attribute = _parchment2.default.query(name, _parchment2.default.Scope.BLOCK_ATTRIBUTE);\r\n      if (attribute != null) {\r\n        this.attributes.attribute(attribute, value);\r\n      }\r\n    }\r\n  }, {\r\n    key: 'formatAt',\r\n    value: function formatAt(index, length, name, value) {\r\n      this.format(name, value);\r\n    }\r\n  }, {\r\n    key: 'insertAt',\r\n    value: function insertAt(index, value, def) {\r\n      if (typeof value === 'string' && value.endsWith('\\n')) {\r\n        var block = _parchment2.default.create(Block.blotName);\r\n        this.parent.insertBefore(block, index === 0 ? this : this.next);\r\n        block.insertAt(0, value.slice(0, -1));\r\n      } else {\r\n        _get(BlockEmbed.prototype.__proto__ || Object.getPrototypeOf(BlockEmbed.prototype), 'insertAt', this).call(this, index, value, def);\r\n      }\r\n    }\r\n  }]);\r\n\r\n  return BlockEmbed;\r\n}(_parchment2.default.Embed);\r\n\r\nBlockEmbed.scope = _parchment2.default.Scope.BLOCK_BLOT;\r\n// It is important for cursor behavior BlockEmbeds use tags that are block level elements\r\n\r\n\r\nvar Block = function (_Parchment$Block) {\r\n  _inherits(Block, _Parchment$Block);\r\n\r\n  function Block(domNode) {\r\n    _classCallCheck(this, Block);\r\n\r\n    var _this2 = _possibleConstructorReturn(this, (Block.__proto__ || Object.getPrototypeOf(Block)).call(this, domNode));\r\n\r\n    _this2.cache = {};\r\n    return _this2;\r\n  }\r\n\r\n  _createClass(Block, [{\r\n    key: 'delta',\r\n    value: function delta() {\r\n      if (this.cache.delta == null) {\r\n        this.cache.delta = this.descendants(_parchment2.default.Leaf).reduce(function (delta, leaf) {\r\n          if (leaf.length() === 0) {\r\n            return delta;\r\n          } else {\r\n            return delta.insert(leaf.value(), bubbleFormats(leaf));\r\n          }\r\n        }, new _quillDelta2.default()).insert('\\n', bubbleFormats(this));\r\n      }\r\n      return this.cache.delta;\r\n    }\r\n  }, {\r\n    key: 'deleteAt',\r\n    value: function deleteAt(index, length) {\r\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'deleteAt', this).call(this, index, length);\r\n      this.cache = {};\r\n    }\r\n  }, {\r\n    key: 'formatAt',\r\n    value: function formatAt(index, length, name, value) {\r\n      if (length <= 0) return;\r\n      if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK)) {\r\n        if (index + length === this.length()) {\r\n          this.format(name, value);\r\n        }\r\n      } else {\r\n        _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'formatAt', this).call(this, index, Math.min(length, this.length() - index - 1), name, value);\r\n      }\r\n      this.cache = {};\r\n    }\r\n  }, {\r\n    key: 'insertAt',\r\n    value: function insertAt(index, value, def) {\r\n      if (def != null) return _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'insertAt', this).call(this, index, value, def);\r\n      if (value.length === 0) return;\r\n      var lines = value.split('\\n');\r\n      var text = lines.shift();\r\n      if (text.length > 0) {\r\n        if (index < this.length() - 1 || this.children.tail == null) {\r\n          _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'insertAt', this).call(this, Math.min(index, this.length() - 1), text);\r\n        } else {\r\n          this.children.tail.insertAt(this.children.tail.length(), text);\r\n        }\r\n        this.cache = {};\r\n      }\r\n      var block = this;\r\n      lines.reduce(function (index, line) {\r\n        block = block.split(index, true);\r\n        block.insertAt(0, line);\r\n        return line.length;\r\n      }, index + text.length);\r\n    }\r\n  }, {\r\n    key: 'insertBefore',\r\n    value: function insertBefore(blot, ref) {\r\n      var head = this.children.head;\r\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'insertBefore', this).call(this, blot, ref);\r\n      if (head instanceof _break2.default) {\r\n        head.remove();\r\n      }\r\n      this.cache = {};\r\n    }\r\n  }, {\r\n    key: 'length',\r\n    value: function length() {\r\n      if (this.cache.length == null) {\r\n        this.cache.length = _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'length', this).call(this) + NEWLINE_LENGTH;\r\n      }\r\n      return this.cache.length;\r\n    }\r\n  }, {\r\n    key: 'moveChildren',\r\n    value: function moveChildren(target, ref) {\r\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'moveChildren', this).call(this, target, ref);\r\n      this.cache = {};\r\n    }\r\n  }, {\r\n    key: 'optimize',\r\n    value: function optimize(context) {\r\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'optimize', this).call(this, context);\r\n      this.cache = {};\r\n    }\r\n  }, {\r\n    key: 'path',\r\n    value: function path(index) {\r\n      return _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'path', this).call(this, index, true);\r\n    }\r\n  }, {\r\n    key: 'removeChild',\r\n    value: function removeChild(child) {\r\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'removeChild', this).call(this, child);\r\n      this.cache = {};\r\n    }\r\n  }, {\r\n    key: 'split',\r\n    value: function split(index) {\r\n      var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\r\n\r\n      if (force && (index === 0 || index >= this.length() - NEWLINE_LENGTH)) {\r\n        var clone = this.clone();\r\n        if (index === 0) {\r\n          this.parent.insertBefore(clone, this);\r\n          return this;\r\n        } else {\r\n          this.parent.insertBefore(clone, this.next);\r\n          return clone;\r\n        }\r\n      } else {\r\n        var next = _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'split', this).call(this, index, force);\r\n        this.cache = {};\r\n        return next;\r\n      }\r\n    }\r\n  }]);\r\n\r\n  return Block;\r\n}(_parchment2.default.Block);\r\n\r\nBlock.blotName = 'block';\r\nBlock.tagName = 'P';\r\nBlock.defaultChild = 'break';\r\nBlock.allowedChildren = [_inline2.default, _parchment2.default.Embed, _text2.default];\r\n\r\nfunction bubbleFormats(blot) {\r\n  var formats = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\r\n\r\n  if (blot == null) return formats;\r\n  if (typeof blot.formats === 'function') {\r\n    formats = (0, _extend2.default)(formats, blot.formats());\r\n  }\r\n  if (blot.parent == null || blot.parent.blotName == 'scroll' || blot.parent.statics.scope !== blot.statics.scope) {\r\n    return formats;\r\n  }\r\n  return bubbleFormats(blot.parent, formats);\r\n}\r\n\r\nexports.bubbleFormats = bubbleFormats;\r\nexports.BlockEmbed = BlockEmbed;\r\nexports.default = Block;\r\n\r\n/***/ }),\r\n/* 5 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = exports.overload = exports.expandConfig = undefined;\r\n\r\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\r\n\r\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\n__webpack_require__(50);\r\n\r\nvar _quillDelta = __webpack_require__(2);\r\n\r\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\r\n\r\nvar _editor = __webpack_require__(14);\r\n\r\nvar _editor2 = _interopRequireDefault(_editor);\r\n\r\nvar _emitter3 = __webpack_require__(8);\r\n\r\nvar _emitter4 = _interopRequireDefault(_emitter3);\r\n\r\nvar _module = __webpack_require__(9);\r\n\r\nvar _module2 = _interopRequireDefault(_module);\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nvar _selection = __webpack_require__(15);\r\n\r\nvar _selection2 = _interopRequireDefault(_selection);\r\n\r\nvar _extend = __webpack_require__(3);\r\n\r\nvar _extend2 = _interopRequireDefault(_extend);\r\n\r\nvar _logger = __webpack_require__(10);\r\n\r\nvar _logger2 = _interopRequireDefault(_logger);\r\n\r\nvar _theme = __webpack_require__(34);\r\n\r\nvar _theme2 = _interopRequireDefault(_theme);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nvar debug = (0, _logger2.default)('quill');\r\n\r\nvar Quill = function () {\r\n  _createClass(Quill, null, [{\r\n    key: 'debug',\r\n    value: function debug(limit) {\r\n      if (limit === true) {\r\n        limit = 'log';\r\n      }\r\n      _logger2.default.level(limit);\r\n    }\r\n  }, {\r\n    key: 'find',\r\n    value: function find(node) {\r\n      return node.__quill || _parchment2.default.find(node);\r\n    }\r\n  }, {\r\n    key: 'import',\r\n    value: function _import(name) {\r\n      if (this.imports[name] == null) {\r\n        debug.error('Cannot import ' + name + '. Are you sure it was registered?');\r\n      }\r\n      return this.imports[name];\r\n    }\r\n  }, {\r\n    key: 'register',\r\n    value: function register(path, target) {\r\n      var _this = this;\r\n\r\n      var overwrite = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\r\n\r\n      if (typeof path !== 'string') {\r\n        var name = path.attrName || path.blotName;\r\n        if (typeof name === 'string') {\r\n          // register(Blot | Attributor, overwrite)\r\n          this.register('formats/' + name, path, target);\r\n        } else {\r\n          Object.keys(path).forEach(function (key) {\r\n            _this.register(key, path[key], target);\r\n          });\r\n        }\r\n      } else {\r\n        if (this.imports[path] != null && !overwrite) {\r\n          debug.warn('Overwriting ' + path + ' with', target);\r\n        }\r\n        this.imports[path] = target;\r\n        if ((path.startsWith('blots/') || path.startsWith('formats/')) && target.blotName !== 'abstract') {\r\n          _parchment2.default.register(target);\r\n        } else if (path.startsWith('modules') && typeof target.register === 'function') {\r\n          target.register();\r\n        }\r\n      }\r\n    }\r\n  }]);\r\n\r\n  function Quill(container) {\r\n    var _this2 = this;\r\n\r\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\r\n\r\n    _classCallCheck(this, Quill);\r\n\r\n    this.options = expandConfig(container, options);\r\n    this.container = this.options.container;\r\n    if (this.container == null) {\r\n      return debug.error('Invalid Quill container', container);\r\n    }\r\n    if (this.options.debug) {\r\n      Quill.debug(this.options.debug);\r\n    }\r\n    var html = this.container.innerHTML.trim();\r\n    this.container.classList.add('ql-container');\r\n    this.container.innerHTML = '';\r\n    this.container.__quill = this;\r\n    this.root = this.addContainer('ql-editor');\r\n    this.root.classList.add('ql-blank');\r\n    this.root.setAttribute('data-gramm', false);\r\n    this.scrollingContainer = this.options.scrollingContainer || this.root;\r\n    this.emitter = new _emitter4.default();\r\n    this.scroll = _parchment2.default.create(this.root, {\r\n      emitter: this.emitter,\r\n      whitelist: this.options.formats\r\n    });\r\n    this.editor = new _editor2.default(this.scroll);\r\n    this.selection = new _selection2.default(this.scroll, this.emitter);\r\n    this.theme = new this.options.theme(this, this.options);\r\n    this.keyboard = this.theme.addModule('keyboard');\r\n    this.clipboard = this.theme.addModule('clipboard');\r\n    this.history = this.theme.addModule('history');\r\n    this.theme.init();\r\n    this.emitter.on(_emitter4.default.events.EDITOR_CHANGE, function (type) {\r\n      if (type === _emitter4.default.events.TEXT_CHANGE) {\r\n        _this2.root.classList.toggle('ql-blank', _this2.editor.isBlank());\r\n      }\r\n    });\r\n    this.emitter.on(_emitter4.default.events.SCROLL_UPDATE, function (source, mutations) {\r\n      var range = _this2.selection.lastRange;\r\n      var index = range && range.length === 0 ? range.index : undefined;\r\n      modify.call(_this2, function () {\r\n        return _this2.editor.update(null, mutations, index);\r\n      }, source);\r\n    });\r\n    var contents = this.clipboard.convert('<div class=\\'ql-editor\\' style=\"white-space: normal;\">' + html + '<p><br></p></div>');\r\n    this.setContents(contents);\r\n    this.history.clear();\r\n    if (this.options.placeholder) {\r\n      this.root.setAttribute('data-placeholder', this.options.placeholder);\r\n    }\r\n    if (this.options.readOnly) {\r\n      this.disable();\r\n    }\r\n  }\r\n\r\n  _createClass(Quill, [{\r\n    key: 'addContainer',\r\n    value: function addContainer(container) {\r\n      var refNode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\r\n\r\n      if (typeof container === 'string') {\r\n        var className = container;\r\n        container = document.createElement('div');\r\n        container.classList.add(className);\r\n      }\r\n      this.container.insertBefore(container, refNode);\r\n      return container;\r\n    }\r\n  }, {\r\n    key: 'blur',\r\n    value: function blur() {\r\n      this.selection.setRange(null);\r\n    }\r\n  }, {\r\n    key: 'deleteText',\r\n    value: function deleteText(index, length, source) {\r\n      var _this3 = this;\r\n\r\n      var _overload = overload(index, length, source);\r\n\r\n      var _overload2 = _slicedToArray(_overload, 4);\r\n\r\n      index = _overload2[0];\r\n      length = _overload2[1];\r\n      source = _overload2[3];\r\n\r\n      return modify.call(this, function () {\r\n        return _this3.editor.deleteText(index, length);\r\n      }, source, index, -1 * length);\r\n    }\r\n  }, {\r\n    key: 'disable',\r\n    value: function disable() {\r\n      this.enable(false);\r\n    }\r\n  }, {\r\n    key: 'enable',\r\n    value: function enable() {\r\n      var enabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\r\n\r\n      this.scroll.enable(enabled);\r\n      this.container.classList.toggle('ql-disabled', !enabled);\r\n    }\r\n  }, {\r\n    key: 'focus',\r\n    value: function focus() {\r\n      var scrollTop = this.scrollingContainer.scrollTop;\r\n      this.selection.focus();\r\n      this.scrollingContainer.scrollTop = scrollTop;\r\n      this.scrollIntoView();\r\n    }\r\n  }, {\r\n    key: 'format',\r\n    value: function format(name, value) {\r\n      var _this4 = this;\r\n\r\n      var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _emitter4.default.sources.API;\r\n\r\n      return modify.call(this, function () {\r\n        var range = _this4.getSelection(true);\r\n        var change = new _quillDelta2.default();\r\n        if (range == null) {\r\n          return change;\r\n        } else if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK)) {\r\n          change = _this4.editor.formatLine(range.index, range.length, _defineProperty({}, name, value));\r\n        } else if (range.length === 0) {\r\n          _this4.selection.format(name, value);\r\n          return change;\r\n        } else {\r\n          change = _this4.editor.formatText(range.index, range.length, _defineProperty({}, name, value));\r\n        }\r\n        _this4.setSelection(range, _emitter4.default.sources.SILENT);\r\n        return change;\r\n      }, source);\r\n    }\r\n  }, {\r\n    key: 'formatLine',\r\n    value: function formatLine(index, length, name, value, source) {\r\n      var _this5 = this;\r\n\r\n      var formats = void 0;\r\n\r\n      var _overload3 = overload(index, length, name, value, source);\r\n\r\n      var _overload4 = _slicedToArray(_overload3, 4);\r\n\r\n      index = _overload4[0];\r\n      length = _overload4[1];\r\n      formats = _overload4[2];\r\n      source = _overload4[3];\r\n\r\n      return modify.call(this, function () {\r\n        return _this5.editor.formatLine(index, length, formats);\r\n      }, source, index, 0);\r\n    }\r\n  }, {\r\n    key: 'formatText',\r\n    value: function formatText(index, length, name, value, source) {\r\n      var _this6 = this;\r\n\r\n      var formats = void 0;\r\n\r\n      var _overload5 = overload(index, length, name, value, source);\r\n\r\n      var _overload6 = _slicedToArray(_overload5, 4);\r\n\r\n      index = _overload6[0];\r\n      length = _overload6[1];\r\n      formats = _overload6[2];\r\n      source = _overload6[3];\r\n\r\n      return modify.call(this, function () {\r\n        return _this6.editor.formatText(index, length, formats);\r\n      }, source, index, 0);\r\n    }\r\n  }, {\r\n    key: 'getBounds',\r\n    value: function getBounds(index) {\r\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\r\n\r\n      var bounds = void 0;\r\n      if (typeof index === 'number') {\r\n        bounds = this.selection.getBounds(index, length);\r\n      } else {\r\n        bounds = this.selection.getBounds(index.index, index.length);\r\n      }\r\n      var containerBounds = this.container.getBoundingClientRect();\r\n      return {\r\n        bottom: bounds.bottom - containerBounds.top,\r\n        height: bounds.height,\r\n        left: bounds.left - containerBounds.left,\r\n        right: bounds.right - containerBounds.left,\r\n        top: bounds.top - containerBounds.top,\r\n        width: bounds.width\r\n      };\r\n    }\r\n  }, {\r\n    key: 'getContents',\r\n    value: function getContents() {\r\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\r\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.getLength() - index;\r\n\r\n      var _overload7 = overload(index, length);\r\n\r\n      var _overload8 = _slicedToArray(_overload7, 2);\r\n\r\n      index = _overload8[0];\r\n      length = _overload8[1];\r\n\r\n      return this.editor.getContents(index, length);\r\n    }\r\n  }, {\r\n    key: 'getFormat',\r\n    value: function getFormat() {\r\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.getSelection(true);\r\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\r\n\r\n      if (typeof index === 'number') {\r\n        return this.editor.getFormat(index, length);\r\n      } else {\r\n        return this.editor.getFormat(index.index, index.length);\r\n      }\r\n    }\r\n  }, {\r\n    key: 'getIndex',\r\n    value: function getIndex(blot) {\r\n      return blot.offset(this.scroll);\r\n    }\r\n  }, {\r\n    key: 'getLength',\r\n    value: function getLength() {\r\n      return this.scroll.length();\r\n    }\r\n  }, {\r\n    key: 'getLeaf',\r\n    value: function getLeaf(index) {\r\n      return this.scroll.leaf(index);\r\n    }\r\n  }, {\r\n    key: 'getLine',\r\n    value: function getLine(index) {\r\n      return this.scroll.line(index);\r\n    }\r\n  }, {\r\n    key: 'getLines',\r\n    value: function getLines() {\r\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\r\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Number.MAX_VALUE;\r\n\r\n      if (typeof index !== 'number') {\r\n        return this.scroll.lines(index.index, index.length);\r\n      } else {\r\n        return this.scroll.lines(index, length);\r\n      }\r\n    }\r\n  }, {\r\n    key: 'getModule',\r\n    value: function getModule(name) {\r\n      return this.theme.modules[name];\r\n    }\r\n  }, {\r\n    key: 'getSelection',\r\n    value: function getSelection() {\r\n      var focus = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\r\n\r\n      if (focus) this.focus();\r\n      this.update(); // Make sure we access getRange with editor in consistent state\r\n      return this.selection.getRange()[0];\r\n    }\r\n  }, {\r\n    key: 'getText',\r\n    value: function getText() {\r\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\r\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.getLength() - index;\r\n\r\n      var _overload9 = overload(index, length);\r\n\r\n      var _overload10 = _slicedToArray(_overload9, 2);\r\n\r\n      index = _overload10[0];\r\n      length = _overload10[1];\r\n\r\n      return this.editor.getText(index, length);\r\n    }\r\n  }, {\r\n    key: 'hasFocus',\r\n    value: function hasFocus() {\r\n      return this.selection.hasFocus();\r\n    }\r\n  }, {\r\n    key: 'insertEmbed',\r\n    value: function insertEmbed(index, embed, value) {\r\n      var _this7 = this;\r\n\r\n      var source = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : Quill.sources.API;\r\n\r\n      return modify.call(this, function () {\r\n        return _this7.editor.insertEmbed(index, embed, value);\r\n      }, source, index);\r\n    }\r\n  }, {\r\n    key: 'insertText',\r\n    value: function insertText(index, text, name, value, source) {\r\n      var _this8 = this;\r\n\r\n      var formats = void 0;\r\n\r\n      var _overload11 = overload(index, 0, name, value, source);\r\n\r\n      var _overload12 = _slicedToArray(_overload11, 4);\r\n\r\n      index = _overload12[0];\r\n      formats = _overload12[2];\r\n      source = _overload12[3];\r\n\r\n      return modify.call(this, function () {\r\n        return _this8.editor.insertText(index, text, formats);\r\n      }, source, index, text.length);\r\n    }\r\n  }, {\r\n    key: 'isEnabled',\r\n    value: function isEnabled() {\r\n      return !this.container.classList.contains('ql-disabled');\r\n    }\r\n  }, {\r\n    key: 'off',\r\n    value: function off() {\r\n      return this.emitter.off.apply(this.emitter, arguments);\r\n    }\r\n  }, {\r\n    key: 'on',\r\n    value: function on() {\r\n      return this.emitter.on.apply(this.emitter, arguments);\r\n    }\r\n  }, {\r\n    key: 'once',\r\n    value: function once() {\r\n      return this.emitter.once.apply(this.emitter, arguments);\r\n    }\r\n  }, {\r\n    key: 'pasteHTML',\r\n    value: function pasteHTML(index, html, source) {\r\n      this.clipboard.dangerouslyPasteHTML(index, html, source);\r\n    }\r\n  }, {\r\n    key: 'removeFormat',\r\n    value: function removeFormat(index, length, source) {\r\n      var _this9 = this;\r\n\r\n      var _overload13 = overload(index, length, source);\r\n\r\n      var _overload14 = _slicedToArray(_overload13, 4);\r\n\r\n      index = _overload14[0];\r\n      length = _overload14[1];\r\n      source = _overload14[3];\r\n\r\n      return modify.call(this, function () {\r\n        return _this9.editor.removeFormat(index, length);\r\n      }, source, index);\r\n    }\r\n  }, {\r\n    key: 'scrollIntoView',\r\n    value: function scrollIntoView() {\r\n      this.selection.scrollIntoView(this.scrollingContainer);\r\n    }\r\n  }, {\r\n    key: 'setContents',\r\n    value: function setContents(delta) {\r\n      var _this10 = this;\r\n\r\n      var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _emitter4.default.sources.API;\r\n\r\n      return modify.call(this, function () {\r\n        delta = new _quillDelta2.default(delta);\r\n        var length = _this10.getLength();\r\n        var deleted = _this10.editor.deleteText(0, length);\r\n        var applied = _this10.editor.applyDelta(delta);\r\n        var lastOp = applied.ops[applied.ops.length - 1];\r\n        if (lastOp != null && typeof lastOp.insert === 'string' && lastOp.insert[lastOp.insert.length - 1] === '\\n') {\r\n          _this10.editor.deleteText(_this10.getLength() - 1, 1);\r\n          applied.delete(1);\r\n        }\r\n        var ret = deleted.compose(applied);\r\n        return ret;\r\n      }, source);\r\n    }\r\n  }, {\r\n    key: 'setSelection',\r\n    value: function setSelection(index, length, source) {\r\n      if (index == null) {\r\n        this.selection.setRange(null, length || Quill.sources.API);\r\n      } else {\r\n        var _overload15 = overload(index, length, source);\r\n\r\n        var _overload16 = _slicedToArray(_overload15, 4);\r\n\r\n        index = _overload16[0];\r\n        length = _overload16[1];\r\n        source = _overload16[3];\r\n\r\n        this.selection.setRange(new _selection.Range(index, length), source);\r\n        if (source !== _emitter4.default.sources.SILENT) {\r\n          this.selection.scrollIntoView(this.scrollingContainer);\r\n        }\r\n      }\r\n    }\r\n  }, {\r\n    key: 'setText',\r\n    value: function setText(text) {\r\n      var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _emitter4.default.sources.API;\r\n\r\n      var delta = new _quillDelta2.default().insert(text);\r\n      return this.setContents(delta, source);\r\n    }\r\n  }, {\r\n    key: 'update',\r\n    value: function update() {\r\n      var source = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _emitter4.default.sources.USER;\r\n\r\n      var change = this.scroll.update(source); // Will update selection before selection.update() does if text changes\r\n      this.selection.update(source);\r\n      return change;\r\n    }\r\n  }, {\r\n    key: 'updateContents',\r\n    value: function updateContents(delta) {\r\n      var _this11 = this;\r\n\r\n      var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _emitter4.default.sources.API;\r\n\r\n      return modify.call(this, function () {\r\n        delta = new _quillDelta2.default(delta);\r\n        return _this11.editor.applyDelta(delta, source);\r\n      }, source, true);\r\n    }\r\n  }]);\r\n\r\n  return Quill;\r\n}();\r\n\r\nQuill.DEFAULTS = {\r\n  bounds: null,\r\n  formats: null,\r\n  modules: {},\r\n  placeholder: '',\r\n  readOnly: false,\r\n  scrollingContainer: null,\r\n  strict: true,\r\n  theme: 'default'\r\n};\r\nQuill.events = _emitter4.default.events;\r\nQuill.sources = _emitter4.default.sources;\r\n// eslint-disable-next-line no-undef\r\nQuill.version =  false ? 'dev' : \"1.3.7\";\r\n\r\nQuill.imports = {\r\n  'delta': _quillDelta2.default,\r\n  'parchment': _parchment2.default,\r\n  'core/module': _module2.default,\r\n  'core/theme': _theme2.default\r\n};\r\n\r\nfunction expandConfig(container, userConfig) {\r\n  userConfig = (0, _extend2.default)(true, {\r\n    container: container,\r\n    modules: {\r\n      clipboard: true,\r\n      keyboard: true,\r\n      history: true\r\n    }\r\n  }, userConfig);\r\n  if (!userConfig.theme || userConfig.theme === Quill.DEFAULTS.theme) {\r\n    userConfig.theme = _theme2.default;\r\n  } else {\r\n    userConfig.theme = Quill.import('themes/' + userConfig.theme);\r\n    if (userConfig.theme == null) {\r\n      throw new Error('Invalid theme ' + userConfig.theme + '. Did you register it?');\r\n    }\r\n  }\r\n  var themeConfig = (0, _extend2.default)(true, {}, userConfig.theme.DEFAULTS);\r\n  [themeConfig, userConfig].forEach(function (config) {\r\n    config.modules = config.modules || {};\r\n    Object.keys(config.modules).forEach(function (module) {\r\n      if (config.modules[module] === true) {\r\n        config.modules[module] = {};\r\n      }\r\n    });\r\n  });\r\n  var moduleNames = Object.keys(themeConfig.modules).concat(Object.keys(userConfig.modules));\r\n  var moduleConfig = moduleNames.reduce(function (config, name) {\r\n    var moduleClass = Quill.import('modules/' + name);\r\n    if (moduleClass == null) {\r\n      debug.error('Cannot load ' + name + ' module. Are you sure you registered it?');\r\n    } else {\r\n      config[name] = moduleClass.DEFAULTS || {};\r\n    }\r\n    return config;\r\n  }, {});\r\n  // Special case toolbar shorthand\r\n  if (userConfig.modules != null && userConfig.modules.toolbar && userConfig.modules.toolbar.constructor !== Object) {\r\n    userConfig.modules.toolbar = {\r\n      container: userConfig.modules.toolbar\r\n    };\r\n  }\r\n  userConfig = (0, _extend2.default)(true, {}, Quill.DEFAULTS, { modules: moduleConfig }, themeConfig, userConfig);\r\n  ['bounds', 'container', 'scrollingContainer'].forEach(function (key) {\r\n    if (typeof userConfig[key] === 'string') {\r\n      userConfig[key] = document.querySelector(userConfig[key]);\r\n    }\r\n  });\r\n  userConfig.modules = Object.keys(userConfig.modules).reduce(function (config, name) {\r\n    if (userConfig.modules[name]) {\r\n      config[name] = userConfig.modules[name];\r\n    }\r\n    return config;\r\n  }, {});\r\n  return userConfig;\r\n}\r\n\r\n// Handle selection preservation and TEXT_CHANGE emission\r\n// common to modification APIs\r\nfunction modify(modifier, source, index, shift) {\r\n  if (this.options.strict && !this.isEnabled() && source === _emitter4.default.sources.USER) {\r\n    return new _quillDelta2.default();\r\n  }\r\n  var range = index == null ? null : this.getSelection();\r\n  var oldDelta = this.editor.delta;\r\n  var change = modifier();\r\n  if (range != null) {\r\n    if (index === true) index = range.index;\r\n    if (shift == null) {\r\n      range = shiftRange(range, change, source);\r\n    } else if (shift !== 0) {\r\n      range = shiftRange(range, index, shift, source);\r\n    }\r\n    this.setSelection(range, _emitter4.default.sources.SILENT);\r\n  }\r\n  if (change.length() > 0) {\r\n    var _emitter;\r\n\r\n    var args = [_emitter4.default.events.TEXT_CHANGE, change, oldDelta, source];\r\n    (_emitter = this.emitter).emit.apply(_emitter, [_emitter4.default.events.EDITOR_CHANGE].concat(args));\r\n    if (source !== _emitter4.default.sources.SILENT) {\r\n      var _emitter2;\r\n\r\n      (_emitter2 = this.emitter).emit.apply(_emitter2, args);\r\n    }\r\n  }\r\n  return change;\r\n}\r\n\r\nfunction overload(index, length, name, value, source) {\r\n  var formats = {};\r\n  if (typeof index.index === 'number' && typeof index.length === 'number') {\r\n    // Allow for throwaway end (used by insertText/insertEmbed)\r\n    if (typeof length !== 'number') {\r\n      source = value, value = name, name = length, length = index.length, index = index.index;\r\n    } else {\r\n      length = index.length, index = index.index;\r\n    }\r\n  } else if (typeof length !== 'number') {\r\n    source = value, value = name, name = length, length = 0;\r\n  }\r\n  // Handle format being object, two format name/value strings or excluded\r\n  if ((typeof name === 'undefined' ? 'undefined' : _typeof(name)) === 'object') {\r\n    formats = name;\r\n    source = value;\r\n  } else if (typeof name === 'string') {\r\n    if (value != null) {\r\n      formats[name] = value;\r\n    } else {\r\n      source = name;\r\n    }\r\n  }\r\n  // Handle optional source\r\n  source = source || _emitter4.default.sources.API;\r\n  return [index, length, formats, source];\r\n}\r\n\r\nfunction shiftRange(range, index, length, source) {\r\n  if (range == null) return null;\r\n  var start = void 0,\r\n      end = void 0;\r\n  if (index instanceof _quillDelta2.default) {\r\n    var _map = [range.index, range.index + range.length].map(function (pos) {\r\n      return index.transformPosition(pos, source !== _emitter4.default.sources.USER);\r\n    });\r\n\r\n    var _map2 = _slicedToArray(_map, 2);\r\n\r\n    start = _map2[0];\r\n    end = _map2[1];\r\n  } else {\r\n    var _map3 = [range.index, range.index + range.length].map(function (pos) {\r\n      if (pos < index || pos === index && source === _emitter4.default.sources.USER) return pos;\r\n      if (length >= 0) {\r\n        return pos + length;\r\n      } else {\r\n        return Math.max(index, pos + length);\r\n      }\r\n    });\r\n\r\n    var _map4 = _slicedToArray(_map3, 2);\r\n\r\n    start = _map4[0];\r\n    end = _map4[1];\r\n  }\r\n  return new _selection.Range(start, end - start);\r\n}\r\n\r\nexports.expandConfig = expandConfig;\r\nexports.overload = overload;\r\nexports.default = Quill;\r\n\r\n/***/ }),\r\n/* 6 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _text = __webpack_require__(7);\r\n\r\nvar _text2 = _interopRequireDefault(_text);\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar Inline = function (_Parchment$Inline) {\r\n  _inherits(Inline, _Parchment$Inline);\r\n\r\n  function Inline() {\r\n    _classCallCheck(this, Inline);\r\n\r\n    return _possibleConstructorReturn(this, (Inline.__proto__ || Object.getPrototypeOf(Inline)).apply(this, arguments));\r\n  }\r\n\r\n  _createClass(Inline, [{\r\n    key: 'formatAt',\r\n    value: function formatAt(index, length, name, value) {\r\n      if (Inline.compare(this.statics.blotName, name) < 0 && _parchment2.default.query(name, _parchment2.default.Scope.BLOT)) {\r\n        var blot = this.isolate(index, length);\r\n        if (value) {\r\n          blot.wrap(name, value);\r\n        }\r\n      } else {\r\n        _get(Inline.prototype.__proto__ || Object.getPrototypeOf(Inline.prototype), 'formatAt', this).call(this, index, length, name, value);\r\n      }\r\n    }\r\n  }, {\r\n    key: 'optimize',\r\n    value: function optimize(context) {\r\n      _get(Inline.prototype.__proto__ || Object.getPrototypeOf(Inline.prototype), 'optimize', this).call(this, context);\r\n      if (this.parent instanceof Inline && Inline.compare(this.statics.blotName, this.parent.statics.blotName) > 0) {\r\n        var parent = this.parent.isolate(this.offset(), this.length());\r\n        this.moveChildren(parent);\r\n        parent.wrap(this);\r\n      }\r\n    }\r\n  }], [{\r\n    key: 'compare',\r\n    value: function compare(self, other) {\r\n      var selfIndex = Inline.order.indexOf(self);\r\n      var otherIndex = Inline.order.indexOf(other);\r\n      if (selfIndex >= 0 || otherIndex >= 0) {\r\n        return selfIndex - otherIndex;\r\n      } else if (self === other) {\r\n        return 0;\r\n      } else if (self < other) {\r\n        return -1;\r\n      } else {\r\n        return 1;\r\n      }\r\n    }\r\n  }]);\r\n\r\n  return Inline;\r\n}(_parchment2.default.Inline);\r\n\r\nInline.allowedChildren = [Inline, _parchment2.default.Embed, _text2.default];\r\n// Lower index means deeper in the DOM tree, since not found (-1) is for embeds\r\nInline.order = ['cursor', 'inline', // Must be lower\r\n'underline', 'strike', 'italic', 'bold', 'script', 'link', 'code' // Must be higher\r\n];\r\n\r\nexports.default = Inline;\r\n\r\n/***/ }),\r\n/* 7 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar TextBlot = function (_Parchment$Text) {\r\n  _inherits(TextBlot, _Parchment$Text);\r\n\r\n  function TextBlot() {\r\n    _classCallCheck(this, TextBlot);\r\n\r\n    return _possibleConstructorReturn(this, (TextBlot.__proto__ || Object.getPrototypeOf(TextBlot)).apply(this, arguments));\r\n  }\r\n\r\n  return TextBlot;\r\n}(_parchment2.default.Text);\r\n\r\nexports.default = TextBlot;\r\n\r\n/***/ }),\r\n/* 8 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _eventemitter = __webpack_require__(54);\r\n\r\nvar _eventemitter2 = _interopRequireDefault(_eventemitter);\r\n\r\nvar _logger = __webpack_require__(10);\r\n\r\nvar _logger2 = _interopRequireDefault(_logger);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar debug = (0, _logger2.default)('quill:events');\r\n\r\nvar EVENTS = ['selectionchange', 'mousedown', 'mouseup', 'click'];\r\n\r\nEVENTS.forEach(function (eventName) {\r\n  document.addEventListener(eventName, function () {\r\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n\r\n    [].slice.call(document.querySelectorAll('.ql-container')).forEach(function (node) {\r\n      // TODO use WeakMap\r\n      if (node.__quill && node.__quill.emitter) {\r\n        var _node$__quill$emitter;\r\n\r\n        (_node$__quill$emitter = node.__quill.emitter).handleDOM.apply(_node$__quill$emitter, args);\r\n      }\r\n    });\r\n  });\r\n});\r\n\r\nvar Emitter = function (_EventEmitter) {\r\n  _inherits(Emitter, _EventEmitter);\r\n\r\n  function Emitter() {\r\n    _classCallCheck(this, Emitter);\r\n\r\n    var _this = _possibleConstructorReturn(this, (Emitter.__proto__ || Object.getPrototypeOf(Emitter)).call(this));\r\n\r\n    _this.listeners = {};\r\n    _this.on('error', debug.error);\r\n    return _this;\r\n  }\r\n\r\n  _createClass(Emitter, [{\r\n    key: 'emit',\r\n    value: function emit() {\r\n      debug.log.apply(debug, arguments);\r\n      _get(Emitter.prototype.__proto__ || Object.getPrototypeOf(Emitter.prototype), 'emit', this).apply(this, arguments);\r\n    }\r\n  }, {\r\n    key: 'handleDOM',\r\n    value: function handleDOM(event) {\r\n      for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\r\n        args[_key2 - 1] = arguments[_key2];\r\n      }\r\n\r\n      (this.listeners[event.type] || []).forEach(function (_ref) {\r\n        var node = _ref.node,\r\n            handler = _ref.handler;\r\n\r\n        if (event.target === node || node.contains(event.target)) {\r\n          handler.apply(undefined, [event].concat(args));\r\n        }\r\n      });\r\n    }\r\n  }, {\r\n    key: 'listenDOM',\r\n    value: function listenDOM(eventName, node, handler) {\r\n      if (!this.listeners[eventName]) {\r\n        this.listeners[eventName] = [];\r\n      }\r\n      this.listeners[eventName].push({ node: node, handler: handler });\r\n    }\r\n  }]);\r\n\r\n  return Emitter;\r\n}(_eventemitter2.default);\r\n\r\nEmitter.events = {\r\n  EDITOR_CHANGE: 'editor-change',\r\n  SCROLL_BEFORE_UPDATE: 'scroll-before-update',\r\n  SCROLL_OPTIMIZE: 'scroll-optimize',\r\n  SCROLL_UPDATE: 'scroll-update',\r\n  SELECTION_CHANGE: 'selection-change',\r\n  TEXT_CHANGE: 'text-change'\r\n};\r\nEmitter.sources = {\r\n  API: 'api',\r\n  SILENT: 'silent',\r\n  USER: 'user'\r\n};\r\n\r\nexports.default = Emitter;\r\n\r\n/***/ }),\r\n/* 9 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nvar Module = function Module(quill) {\r\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\r\n\r\n  _classCallCheck(this, Module);\r\n\r\n  this.quill = quill;\r\n  this.options = options;\r\n};\r\n\r\nModule.DEFAULTS = {};\r\n\r\nexports.default = Module;\r\n\r\n/***/ }),\r\n/* 10 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nvar levels = ['error', 'warn', 'log', 'info'];\r\nvar level = 'warn';\r\n\r\nfunction debug(method) {\r\n  if (levels.indexOf(method) <= levels.indexOf(level)) {\r\n    var _console;\r\n\r\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\r\n      args[_key - 1] = arguments[_key];\r\n    }\r\n\r\n    (_console = console)[method].apply(_console, args); // eslint-disable-line no-console\r\n  }\r\n}\r\n\r\nfunction namespace(ns) {\r\n  return levels.reduce(function (logger, method) {\r\n    logger[method] = debug.bind(console, method, ns);\r\n    return logger;\r\n  }, {});\r\n}\r\n\r\ndebug.level = namespace.level = function (newLevel) {\r\n  level = newLevel;\r\n};\r\n\r\nexports.default = namespace;\r\n\r\n/***/ }),\r\n/* 11 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\nvar pSlice = Array.prototype.slice;\r\nvar objectKeys = __webpack_require__(52);\r\nvar isArguments = __webpack_require__(53);\r\n\r\nvar deepEqual = module.exports = function (actual, expected, opts) {\r\n  if (!opts) opts = {};\r\n  // 7.1. All identical values are equivalent, as determined by ===.\r\n  if (actual === expected) {\r\n    return true;\r\n\r\n  } else if (actual instanceof Date && expected instanceof Date) {\r\n    return actual.getTime() === expected.getTime();\r\n\r\n  // 7.3. Other pairs that do not both pass typeof value == 'object',\r\n  // equivalence is determined by ==.\r\n  } else if (!actual || !expected || typeof actual != 'object' && typeof expected != 'object') {\r\n    return opts.strict ? actual === expected : actual == expected;\r\n\r\n  // 7.4. For all other Object pairs, including Array objects, equivalence is\r\n  // determined by having the same number of owned properties (as verified\r\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\r\n  // (although not necessarily the same order), equivalent values for every\r\n  // corresponding key, and an identical 'prototype' property. Note: this\r\n  // accounts for both named and indexed properties on Arrays.\r\n  } else {\r\n    return objEquiv(actual, expected, opts);\r\n  }\r\n}\r\n\r\nfunction isUndefinedOrNull(value) {\r\n  return value === null || value === undefined;\r\n}\r\n\r\nfunction isBuffer (x) {\r\n  if (!x || typeof x !== 'object' || typeof x.length !== 'number') return false;\r\n  if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {\r\n    return false;\r\n  }\r\n  if (x.length > 0 && typeof x[0] !== 'number') return false;\r\n  return true;\r\n}\r\n\r\nfunction objEquiv(a, b, opts) {\r\n  var i, key;\r\n  if (isUndefinedOrNull(a) || isUndefinedOrNull(b))\r\n    return false;\r\n  // an identical 'prototype' property.\r\n  if (a.prototype !== b.prototype) return false;\r\n  //~~~I've managed to break Object.keys through screwy arguments passing.\r\n  //   Converting to array solves the problem.\r\n  if (isArguments(a)) {\r\n    if (!isArguments(b)) {\r\n      return false;\r\n    }\r\n    a = pSlice.call(a);\r\n    b = pSlice.call(b);\r\n    return deepEqual(a, b, opts);\r\n  }\r\n  if (isBuffer(a)) {\r\n    if (!isBuffer(b)) {\r\n      return false;\r\n    }\r\n    if (a.length !== b.length) return false;\r\n    for (i = 0; i < a.length; i++) {\r\n      if (a[i] !== b[i]) return false;\r\n    }\r\n    return true;\r\n  }\r\n  try {\r\n    var ka = objectKeys(a),\r\n        kb = objectKeys(b);\r\n  } catch (e) {//happens when one is a string literal and the other isn't\r\n    return false;\r\n  }\r\n  // having the same number of owned properties (keys incorporates\r\n  // hasOwnProperty)\r\n  if (ka.length != kb.length)\r\n    return false;\r\n  //the same set of keys (although not necessarily the same order),\r\n  ka.sort();\r\n  kb.sort();\r\n  //~~~cheap key test\r\n  for (i = ka.length - 1; i >= 0; i--) {\r\n    if (ka[i] != kb[i])\r\n      return false;\r\n  }\r\n  //equivalent values for every corresponding key, and\r\n  //~~~possibly expensive deep test\r\n  for (i = ka.length - 1; i >= 0; i--) {\r\n    key = ka[i];\r\n    if (!deepEqual(a[key], b[key], opts)) return false;\r\n  }\r\n  return typeof a === typeof b;\r\n}\r\n\r\n\r\n/***/ }),\r\n/* 12 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Registry = __webpack_require__(1);\r\nvar Attributor = /** @class */ (function () {\r\n    function Attributor(attrName, keyName, options) {\r\n        if (options === void 0) { options = {}; }\r\n        this.attrName = attrName;\r\n        this.keyName = keyName;\r\n        var attributeBit = Registry.Scope.TYPE & Registry.Scope.ATTRIBUTE;\r\n        if (options.scope != null) {\r\n            // Ignore type bits, force attribute bit\r\n            this.scope = (options.scope & Registry.Scope.LEVEL) | attributeBit;\r\n        }\r\n        else {\r\n            this.scope = Registry.Scope.ATTRIBUTE;\r\n        }\r\n        if (options.whitelist != null)\r\n            this.whitelist = options.whitelist;\r\n    }\r\n    Attributor.keys = function (node) {\r\n        return [].map.call(node.attributes, function (item) {\r\n            return item.name;\r\n        });\r\n    };\r\n    Attributor.prototype.add = function (node, value) {\r\n        if (!this.canAdd(node, value))\r\n            return false;\r\n        node.setAttribute(this.keyName, value);\r\n        return true;\r\n    };\r\n    Attributor.prototype.canAdd = function (node, value) {\r\n        var match = Registry.query(node, Registry.Scope.BLOT & (this.scope | Registry.Scope.TYPE));\r\n        if (match == null)\r\n            return false;\r\n        if (this.whitelist == null)\r\n            return true;\r\n        if (typeof value === 'string') {\r\n            return this.whitelist.indexOf(value.replace(/[\"']/g, '')) > -1;\r\n        }\r\n        else {\r\n            return this.whitelist.indexOf(value) > -1;\r\n        }\r\n    };\r\n    Attributor.prototype.remove = function (node) {\r\n        node.removeAttribute(this.keyName);\r\n    };\r\n    Attributor.prototype.value = function (node) {\r\n        var value = node.getAttribute(this.keyName);\r\n        if (this.canAdd(node, value) && value) {\r\n            return value;\r\n        }\r\n        return '';\r\n    };\r\n    return Attributor;\r\n}());\r\nexports.default = Attributor;\r\n\r\n\r\n/***/ }),\r\n/* 13 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = exports.Code = undefined;\r\n\r\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _quillDelta = __webpack_require__(2);\r\n\r\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nvar _block = __webpack_require__(4);\r\n\r\nvar _block2 = _interopRequireDefault(_block);\r\n\r\nvar _inline = __webpack_require__(6);\r\n\r\nvar _inline2 = _interopRequireDefault(_inline);\r\n\r\nvar _text = __webpack_require__(7);\r\n\r\nvar _text2 = _interopRequireDefault(_text);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar Code = function (_Inline) {\r\n  _inherits(Code, _Inline);\r\n\r\n  function Code() {\r\n    _classCallCheck(this, Code);\r\n\r\n    return _possibleConstructorReturn(this, (Code.__proto__ || Object.getPrototypeOf(Code)).apply(this, arguments));\r\n  }\r\n\r\n  return Code;\r\n}(_inline2.default);\r\n\r\nCode.blotName = 'code';\r\nCode.tagName = 'CODE';\r\n\r\nvar CodeBlock = function (_Block) {\r\n  _inherits(CodeBlock, _Block);\r\n\r\n  function CodeBlock() {\r\n    _classCallCheck(this, CodeBlock);\r\n\r\n    return _possibleConstructorReturn(this, (CodeBlock.__proto__ || Object.getPrototypeOf(CodeBlock)).apply(this, arguments));\r\n  }\r\n\r\n  _createClass(CodeBlock, [{\r\n    key: 'delta',\r\n    value: function delta() {\r\n      var _this3 = this;\r\n\r\n      var text = this.domNode.textContent;\r\n      if (text.endsWith('\\n')) {\r\n        // Should always be true\r\n        text = text.slice(0, -1);\r\n      }\r\n      return text.split('\\n').reduce(function (delta, frag) {\r\n        return delta.insert(frag).insert('\\n', _this3.formats());\r\n      }, new _quillDelta2.default());\r\n    }\r\n  }, {\r\n    key: 'format',\r\n    value: function format(name, value) {\r\n      if (name === this.statics.blotName && value) return;\r\n\r\n      var _descendant = this.descendant(_text2.default, this.length() - 1),\r\n          _descendant2 = _slicedToArray(_descendant, 1),\r\n          text = _descendant2[0];\r\n\r\n      if (text != null) {\r\n        text.deleteAt(text.length() - 1, 1);\r\n      }\r\n      _get(CodeBlock.prototype.__proto__ || Object.getPrototypeOf(CodeBlock.prototype), 'format', this).call(this, name, value);\r\n    }\r\n  }, {\r\n    key: 'formatAt',\r\n    value: function formatAt(index, length, name, value) {\r\n      if (length === 0) return;\r\n      if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK) == null || name === this.statics.blotName && value === this.statics.formats(this.domNode)) {\r\n        return;\r\n      }\r\n      var nextNewline = this.newlineIndex(index);\r\n      if (nextNewline < 0 || nextNewline >= index + length) return;\r\n      var prevNewline = this.newlineIndex(index, true) + 1;\r\n      var isolateLength = nextNewline - prevNewline + 1;\r\n      var blot = this.isolate(prevNewline, isolateLength);\r\n      var next = blot.next;\r\n      blot.format(name, value);\r\n      if (next instanceof CodeBlock) {\r\n        next.formatAt(0, index - prevNewline + length - isolateLength, name, value);\r\n      }\r\n    }\r\n  }, {\r\n    key: 'insertAt',\r\n    value: function insertAt(index, value, def) {\r\n      if (def != null) return;\r\n\r\n      var _descendant3 = this.descendant(_text2.default, index),\r\n          _descendant4 = _slicedToArray(_descendant3, 2),\r\n          text = _descendant4[0],\r\n          offset = _descendant4[1];\r\n\r\n      text.insertAt(offset, value);\r\n    }\r\n  }, {\r\n    key: 'length',\r\n    value: function length() {\r\n      var length = this.domNode.textContent.length;\r\n      if (!this.domNode.textContent.endsWith('\\n')) {\r\n        return length + 1;\r\n      }\r\n      return length;\r\n    }\r\n  }, {\r\n    key: 'newlineIndex',\r\n    value: function newlineIndex(searchIndex) {\r\n      var reverse = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\r\n\r\n      if (!reverse) {\r\n        var offset = this.domNode.textContent.slice(searchIndex).indexOf('\\n');\r\n        return offset > -1 ? searchIndex + offset : -1;\r\n      } else {\r\n        return this.domNode.textContent.slice(0, searchIndex).lastIndexOf('\\n');\r\n      }\r\n    }\r\n  }, {\r\n    key: 'optimize',\r\n    value: function optimize(context) {\r\n      if (!this.domNode.textContent.endsWith('\\n')) {\r\n        this.appendChild(_parchment2.default.create('text', '\\n'));\r\n      }\r\n      _get(CodeBlock.prototype.__proto__ || Object.getPrototypeOf(CodeBlock.prototype), 'optimize', this).call(this, context);\r\n      var next = this.next;\r\n      if (next != null && next.prev === this && next.statics.blotName === this.statics.blotName && this.statics.formats(this.domNode) === next.statics.formats(next.domNode)) {\r\n        next.optimize(context);\r\n        next.moveChildren(this);\r\n        next.remove();\r\n      }\r\n    }\r\n  }, {\r\n    key: 'replace',\r\n    value: function replace(target) {\r\n      _get(CodeBlock.prototype.__proto__ || Object.getPrototypeOf(CodeBlock.prototype), 'replace', this).call(this, target);\r\n      [].slice.call(this.domNode.querySelectorAll('*')).forEach(function (node) {\r\n        var blot = _parchment2.default.find(node);\r\n        if (blot == null) {\r\n          node.parentNode.removeChild(node);\r\n        } else if (blot instanceof _parchment2.default.Embed) {\r\n          blot.remove();\r\n        } else {\r\n          blot.unwrap();\r\n        }\r\n      });\r\n    }\r\n  }], [{\r\n    key: 'create',\r\n    value: function create(value) {\r\n      var domNode = _get(CodeBlock.__proto__ || Object.getPrototypeOf(CodeBlock), 'create', this).call(this, value);\r\n      domNode.setAttribute('spellcheck', false);\r\n      return domNode;\r\n    }\r\n  }, {\r\n    key: 'formats',\r\n    value: function formats() {\r\n      return true;\r\n    }\r\n  }]);\r\n\r\n  return CodeBlock;\r\n}(_block2.default);\r\n\r\nCodeBlock.blotName = 'code-block';\r\nCodeBlock.tagName = 'PRE';\r\nCodeBlock.TAB = '  ';\r\n\r\nexports.Code = Code;\r\nexports.default = CodeBlock;\r\n\r\n/***/ }),\r\n/* 14 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\r\n\r\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _quillDelta = __webpack_require__(2);\r\n\r\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\r\n\r\nvar _op = __webpack_require__(20);\r\n\r\nvar _op2 = _interopRequireDefault(_op);\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nvar _code = __webpack_require__(13);\r\n\r\nvar _code2 = _interopRequireDefault(_code);\r\n\r\nvar _cursor = __webpack_require__(24);\r\n\r\nvar _cursor2 = _interopRequireDefault(_cursor);\r\n\r\nvar _block = __webpack_require__(4);\r\n\r\nvar _block2 = _interopRequireDefault(_block);\r\n\r\nvar _break = __webpack_require__(16);\r\n\r\nvar _break2 = _interopRequireDefault(_break);\r\n\r\nvar _clone = __webpack_require__(21);\r\n\r\nvar _clone2 = _interopRequireDefault(_clone);\r\n\r\nvar _deepEqual = __webpack_require__(11);\r\n\r\nvar _deepEqual2 = _interopRequireDefault(_deepEqual);\r\n\r\nvar _extend = __webpack_require__(3);\r\n\r\nvar _extend2 = _interopRequireDefault(_extend);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nvar ASCII = /^[ -~]*$/;\r\n\r\nvar Editor = function () {\r\n  function Editor(scroll) {\r\n    _classCallCheck(this, Editor);\r\n\r\n    this.scroll = scroll;\r\n    this.delta = this.getDelta();\r\n  }\r\n\r\n  _createClass(Editor, [{\r\n    key: 'applyDelta',\r\n    value: function applyDelta(delta) {\r\n      var _this = this;\r\n\r\n      var consumeNextNewline = false;\r\n      this.scroll.update();\r\n      var scrollLength = this.scroll.length();\r\n      this.scroll.batchStart();\r\n      delta = normalizeDelta(delta);\r\n      delta.reduce(function (index, op) {\r\n        var length = op.retain || op.delete || op.insert.length || 1;\r\n        var attributes = op.attributes || {};\r\n        if (op.insert != null) {\r\n          if (typeof op.insert === 'string') {\r\n            var text = op.insert;\r\n            if (text.endsWith('\\n') && consumeNextNewline) {\r\n              consumeNextNewline = false;\r\n              text = text.slice(0, -1);\r\n            }\r\n            if (index >= scrollLength && !text.endsWith('\\n')) {\r\n              consumeNextNewline = true;\r\n            }\r\n            _this.scroll.insertAt(index, text);\r\n\r\n            var _scroll$line = _this.scroll.line(index),\r\n                _scroll$line2 = _slicedToArray(_scroll$line, 2),\r\n                line = _scroll$line2[0],\r\n                offset = _scroll$line2[1];\r\n\r\n            var formats = (0, _extend2.default)({}, (0, _block.bubbleFormats)(line));\r\n            if (line instanceof _block2.default) {\r\n              var _line$descendant = line.descendant(_parchment2.default.Leaf, offset),\r\n                  _line$descendant2 = _slicedToArray(_line$descendant, 1),\r\n                  leaf = _line$descendant2[0];\r\n\r\n              formats = (0, _extend2.default)(formats, (0, _block.bubbleFormats)(leaf));\r\n            }\r\n            attributes = _op2.default.attributes.diff(formats, attributes) || {};\r\n          } else if (_typeof(op.insert) === 'object') {\r\n            var key = Object.keys(op.insert)[0]; // There should only be one key\r\n            if (key == null) return index;\r\n            _this.scroll.insertAt(index, key, op.insert[key]);\r\n          }\r\n          scrollLength += length;\r\n        }\r\n        Object.keys(attributes).forEach(function (name) {\r\n          _this.scroll.formatAt(index, length, name, attributes[name]);\r\n        });\r\n        return index + length;\r\n      }, 0);\r\n      delta.reduce(function (index, op) {\r\n        if (typeof op.delete === 'number') {\r\n          _this.scroll.deleteAt(index, op.delete);\r\n          return index;\r\n        }\r\n        return index + (op.retain || op.insert.length || 1);\r\n      }, 0);\r\n      this.scroll.batchEnd();\r\n      return this.update(delta);\r\n    }\r\n  }, {\r\n    key: 'deleteText',\r\n    value: function deleteText(index, length) {\r\n      this.scroll.deleteAt(index, length);\r\n      return this.update(new _quillDelta2.default().retain(index).delete(length));\r\n    }\r\n  }, {\r\n    key: 'formatLine',\r\n    value: function formatLine(index, length) {\r\n      var _this2 = this;\r\n\r\n      var formats = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\r\n\r\n      this.scroll.update();\r\n      Object.keys(formats).forEach(function (format) {\r\n        if (_this2.scroll.whitelist != null && !_this2.scroll.whitelist[format]) return;\r\n        var lines = _this2.scroll.lines(index, Math.max(length, 1));\r\n        var lengthRemaining = length;\r\n        lines.forEach(function (line) {\r\n          var lineLength = line.length();\r\n          if (!(line instanceof _code2.default)) {\r\n            line.format(format, formats[format]);\r\n          } else {\r\n            var codeIndex = index - line.offset(_this2.scroll);\r\n            var codeLength = line.newlineIndex(codeIndex + lengthRemaining) - codeIndex + 1;\r\n            line.formatAt(codeIndex, codeLength, format, formats[format]);\r\n          }\r\n          lengthRemaining -= lineLength;\r\n        });\r\n      });\r\n      this.scroll.optimize();\r\n      return this.update(new _quillDelta2.default().retain(index).retain(length, (0, _clone2.default)(formats)));\r\n    }\r\n  }, {\r\n    key: 'formatText',\r\n    value: function formatText(index, length) {\r\n      var _this3 = this;\r\n\r\n      var formats = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\r\n\r\n      Object.keys(formats).forEach(function (format) {\r\n        _this3.scroll.formatAt(index, length, format, formats[format]);\r\n      });\r\n      return this.update(new _quillDelta2.default().retain(index).retain(length, (0, _clone2.default)(formats)));\r\n    }\r\n  }, {\r\n    key: 'getContents',\r\n    value: function getContents(index, length) {\r\n      return this.delta.slice(index, index + length);\r\n    }\r\n  }, {\r\n    key: 'getDelta',\r\n    value: function getDelta() {\r\n      return this.scroll.lines().reduce(function (delta, line) {\r\n        return delta.concat(line.delta());\r\n      }, new _quillDelta2.default());\r\n    }\r\n  }, {\r\n    key: 'getFormat',\r\n    value: function getFormat(index) {\r\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\r\n\r\n      var lines = [],\r\n          leaves = [];\r\n      if (length === 0) {\r\n        this.scroll.path(index).forEach(function (path) {\r\n          var _path = _slicedToArray(path, 1),\r\n              blot = _path[0];\r\n\r\n          if (blot instanceof _block2.default) {\r\n            lines.push(blot);\r\n          } else if (blot instanceof _parchment2.default.Leaf) {\r\n            leaves.push(blot);\r\n          }\r\n        });\r\n      } else {\r\n        lines = this.scroll.lines(index, length);\r\n        leaves = this.scroll.descendants(_parchment2.default.Leaf, index, length);\r\n      }\r\n      var formatsArr = [lines, leaves].map(function (blots) {\r\n        if (blots.length === 0) return {};\r\n        var formats = (0, _block.bubbleFormats)(blots.shift());\r\n        while (Object.keys(formats).length > 0) {\r\n          var blot = blots.shift();\r\n          if (blot == null) return formats;\r\n          formats = combineFormats((0, _block.bubbleFormats)(blot), formats);\r\n        }\r\n        return formats;\r\n      });\r\n      return _extend2.default.apply(_extend2.default, formatsArr);\r\n    }\r\n  }, {\r\n    key: 'getText',\r\n    value: function getText(index, length) {\r\n      return this.getContents(index, length).filter(function (op) {\r\n        return typeof op.insert === 'string';\r\n      }).map(function (op) {\r\n        return op.insert;\r\n      }).join('');\r\n    }\r\n  }, {\r\n    key: 'insertEmbed',\r\n    value: function insertEmbed(index, embed, value) {\r\n      this.scroll.insertAt(index, embed, value);\r\n      return this.update(new _quillDelta2.default().retain(index).insert(_defineProperty({}, embed, value)));\r\n    }\r\n  }, {\r\n    key: 'insertText',\r\n    value: function insertText(index, text) {\r\n      var _this4 = this;\r\n\r\n      var formats = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\r\n\r\n      text = text.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\r\n      this.scroll.insertAt(index, text);\r\n      Object.keys(formats).forEach(function (format) {\r\n        _this4.scroll.formatAt(index, text.length, format, formats[format]);\r\n      });\r\n      return this.update(new _quillDelta2.default().retain(index).insert(text, (0, _clone2.default)(formats)));\r\n    }\r\n  }, {\r\n    key: 'isBlank',\r\n    value: function isBlank() {\r\n      if (this.scroll.children.length == 0) return true;\r\n      if (this.scroll.children.length > 1) return false;\r\n      var block = this.scroll.children.head;\r\n      if (block.statics.blotName !== _block2.default.blotName) return false;\r\n      if (block.children.length > 1) return false;\r\n      return block.children.head instanceof _break2.default;\r\n    }\r\n  }, {\r\n    key: 'removeFormat',\r\n    value: function removeFormat(index, length) {\r\n      var text = this.getText(index, length);\r\n\r\n      var _scroll$line3 = this.scroll.line(index + length),\r\n          _scroll$line4 = _slicedToArray(_scroll$line3, 2),\r\n          line = _scroll$line4[0],\r\n          offset = _scroll$line4[1];\r\n\r\n      var suffixLength = 0,\r\n          suffix = new _quillDelta2.default();\r\n      if (line != null) {\r\n        if (!(line instanceof _code2.default)) {\r\n          suffixLength = line.length() - offset;\r\n        } else {\r\n          suffixLength = line.newlineIndex(offset) - offset + 1;\r\n        }\r\n        suffix = line.delta().slice(offset, offset + suffixLength - 1).insert('\\n');\r\n      }\r\n      var contents = this.getContents(index, length + suffixLength);\r\n      var diff = contents.diff(new _quillDelta2.default().insert(text).concat(suffix));\r\n      var delta = new _quillDelta2.default().retain(index).concat(diff);\r\n      return this.applyDelta(delta);\r\n    }\r\n  }, {\r\n    key: 'update',\r\n    value: function update(change) {\r\n      var mutations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\r\n      var cursorIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\r\n\r\n      var oldDelta = this.delta;\r\n      if (mutations.length === 1 && mutations[0].type === 'characterData' && mutations[0].target.data.match(ASCII) && _parchment2.default.find(mutations[0].target)) {\r\n        // Optimization for character changes\r\n        var textBlot = _parchment2.default.find(mutations[0].target);\r\n        var formats = (0, _block.bubbleFormats)(textBlot);\r\n        var index = textBlot.offset(this.scroll);\r\n        var oldValue = mutations[0].oldValue.replace(_cursor2.default.CONTENTS, '');\r\n        var oldText = new _quillDelta2.default().insert(oldValue);\r\n        var newText = new _quillDelta2.default().insert(textBlot.value());\r\n        var diffDelta = new _quillDelta2.default().retain(index).concat(oldText.diff(newText, cursorIndex));\r\n        change = diffDelta.reduce(function (delta, op) {\r\n          if (op.insert) {\r\n            return delta.insert(op.insert, formats);\r\n          } else {\r\n            return delta.push(op);\r\n          }\r\n        }, new _quillDelta2.default());\r\n        this.delta = oldDelta.compose(change);\r\n      } else {\r\n        this.delta = this.getDelta();\r\n        if (!change || !(0, _deepEqual2.default)(oldDelta.compose(change), this.delta)) {\r\n          change = oldDelta.diff(this.delta, cursorIndex);\r\n        }\r\n      }\r\n      return change;\r\n    }\r\n  }]);\r\n\r\n  return Editor;\r\n}();\r\n\r\nfunction combineFormats(formats, combined) {\r\n  return Object.keys(combined).reduce(function (merged, name) {\r\n    if (formats[name] == null) return merged;\r\n    if (combined[name] === formats[name]) {\r\n      merged[name] = combined[name];\r\n    } else if (Array.isArray(combined[name])) {\r\n      if (combined[name].indexOf(formats[name]) < 0) {\r\n        merged[name] = combined[name].concat([formats[name]]);\r\n      }\r\n    } else {\r\n      merged[name] = [combined[name], formats[name]];\r\n    }\r\n    return merged;\r\n  }, {});\r\n}\r\n\r\nfunction normalizeDelta(delta) {\r\n  return delta.reduce(function (delta, op) {\r\n    if (op.insert === 1) {\r\n      var attributes = (0, _clone2.default)(op.attributes);\r\n      delete attributes['image'];\r\n      return delta.insert({ image: op.attributes.image }, attributes);\r\n    }\r\n    if (op.attributes != null && (op.attributes.list === true || op.attributes.bullet === true)) {\r\n      op = (0, _clone2.default)(op);\r\n      if (op.attributes.list) {\r\n        op.attributes.list = 'ordered';\r\n      } else {\r\n        op.attributes.list = 'bullet';\r\n        delete op.attributes.bullet;\r\n      }\r\n    }\r\n    if (typeof op.insert === 'string') {\r\n      var text = op.insert.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\r\n      return delta.insert(text, op.attributes);\r\n    }\r\n    return delta.push(op);\r\n  }, new _quillDelta2.default());\r\n}\r\n\r\nexports.default = Editor;\r\n\r\n/***/ }),\r\n/* 15 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = exports.Range = undefined;\r\n\r\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nvar _clone = __webpack_require__(21);\r\n\r\nvar _clone2 = _interopRequireDefault(_clone);\r\n\r\nvar _deepEqual = __webpack_require__(11);\r\n\r\nvar _deepEqual2 = _interopRequireDefault(_deepEqual);\r\n\r\nvar _emitter3 = __webpack_require__(8);\r\n\r\nvar _emitter4 = _interopRequireDefault(_emitter3);\r\n\r\nvar _logger = __webpack_require__(10);\r\n\r\nvar _logger2 = _interopRequireDefault(_logger);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nvar debug = (0, _logger2.default)('quill:selection');\r\n\r\nvar Range = function Range(index) {\r\n  var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\r\n\r\n  _classCallCheck(this, Range);\r\n\r\n  this.index = index;\r\n  this.length = length;\r\n};\r\n\r\nvar Selection = function () {\r\n  function Selection(scroll, emitter) {\r\n    var _this = this;\r\n\r\n    _classCallCheck(this, Selection);\r\n\r\n    this.emitter = emitter;\r\n    this.scroll = scroll;\r\n    this.composing = false;\r\n    this.mouseDown = false;\r\n    this.root = this.scroll.domNode;\r\n    this.cursor = _parchment2.default.create('cursor', this);\r\n    // savedRange is last non-null range\r\n    this.lastRange = this.savedRange = new Range(0, 0);\r\n    this.handleComposition();\r\n    this.handleDragging();\r\n    this.emitter.listenDOM('selectionchange', document, function () {\r\n      if (!_this.mouseDown) {\r\n        setTimeout(_this.update.bind(_this, _emitter4.default.sources.USER), 1);\r\n      }\r\n    });\r\n    this.emitter.on(_emitter4.default.events.EDITOR_CHANGE, function (type, delta) {\r\n      if (type === _emitter4.default.events.TEXT_CHANGE && delta.length() > 0) {\r\n        _this.update(_emitter4.default.sources.SILENT);\r\n      }\r\n    });\r\n    this.emitter.on(_emitter4.default.events.SCROLL_BEFORE_UPDATE, function () {\r\n      if (!_this.hasFocus()) return;\r\n      var native = _this.getNativeRange();\r\n      if (native == null) return;\r\n      if (native.start.node === _this.cursor.textNode) return; // cursor.restore() will handle\r\n      // TODO unclear if this has negative side effects\r\n      _this.emitter.once(_emitter4.default.events.SCROLL_UPDATE, function () {\r\n        try {\r\n          _this.setNativeRange(native.start.node, native.start.offset, native.end.node, native.end.offset);\r\n        } catch (ignored) {}\r\n      });\r\n    });\r\n    this.emitter.on(_emitter4.default.events.SCROLL_OPTIMIZE, function (mutations, context) {\r\n      if (context.range) {\r\n        var _context$range = context.range,\r\n            startNode = _context$range.startNode,\r\n            startOffset = _context$range.startOffset,\r\n            endNode = _context$range.endNode,\r\n            endOffset = _context$range.endOffset;\r\n\r\n        _this.setNativeRange(startNode, startOffset, endNode, endOffset);\r\n      }\r\n    });\r\n    this.update(_emitter4.default.sources.SILENT);\r\n  }\r\n\r\n  _createClass(Selection, [{\r\n    key: 'handleComposition',\r\n    value: function handleComposition() {\r\n      var _this2 = this;\r\n\r\n      this.root.addEventListener('compositionstart', function () {\r\n        _this2.composing = true;\r\n      });\r\n      this.root.addEventListener('compositionend', function () {\r\n        _this2.composing = false;\r\n        if (_this2.cursor.parent) {\r\n          var range = _this2.cursor.restore();\r\n          if (!range) return;\r\n          setTimeout(function () {\r\n            _this2.setNativeRange(range.startNode, range.startOffset, range.endNode, range.endOffset);\r\n          }, 1);\r\n        }\r\n      });\r\n    }\r\n  }, {\r\n    key: 'handleDragging',\r\n    value: function handleDragging() {\r\n      var _this3 = this;\r\n\r\n      this.emitter.listenDOM('mousedown', document.body, function () {\r\n        _this3.mouseDown = true;\r\n      });\r\n      this.emitter.listenDOM('mouseup', document.body, function () {\r\n        _this3.mouseDown = false;\r\n        _this3.update(_emitter4.default.sources.USER);\r\n      });\r\n    }\r\n  }, {\r\n    key: 'focus',\r\n    value: function focus() {\r\n      if (this.hasFocus()) return;\r\n      this.root.focus();\r\n      this.setRange(this.savedRange);\r\n    }\r\n  }, {\r\n    key: 'format',\r\n    value: function format(_format, value) {\r\n      if (this.scroll.whitelist != null && !this.scroll.whitelist[_format]) return;\r\n      this.scroll.update();\r\n      var nativeRange = this.getNativeRange();\r\n      if (nativeRange == null || !nativeRange.native.collapsed || _parchment2.default.query(_format, _parchment2.default.Scope.BLOCK)) return;\r\n      if (nativeRange.start.node !== this.cursor.textNode) {\r\n        var blot = _parchment2.default.find(nativeRange.start.node, false);\r\n        if (blot == null) return;\r\n        // TODO Give blot ability to not split\r\n        if (blot instanceof _parchment2.default.Leaf) {\r\n          var after = blot.split(nativeRange.start.offset);\r\n          blot.parent.insertBefore(this.cursor, after);\r\n        } else {\r\n          blot.insertBefore(this.cursor, nativeRange.start.node); // Should never happen\r\n        }\r\n        this.cursor.attach();\r\n      }\r\n      this.cursor.format(_format, value);\r\n      this.scroll.optimize();\r\n      this.setNativeRange(this.cursor.textNode, this.cursor.textNode.data.length);\r\n      this.update();\r\n    }\r\n  }, {\r\n    key: 'getBounds',\r\n    value: function getBounds(index) {\r\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\r\n\r\n      var scrollLength = this.scroll.length();\r\n      index = Math.min(index, scrollLength - 1);\r\n      length = Math.min(index + length, scrollLength - 1) - index;\r\n      var node = void 0,\r\n          _scroll$leaf = this.scroll.leaf(index),\r\n          _scroll$leaf2 = _slicedToArray(_scroll$leaf, 2),\r\n          leaf = _scroll$leaf2[0],\r\n          offset = _scroll$leaf2[1];\r\n      if (leaf == null) return null;\r\n\r\n      var _leaf$position = leaf.position(offset, true);\r\n\r\n      var _leaf$position2 = _slicedToArray(_leaf$position, 2);\r\n\r\n      node = _leaf$position2[0];\r\n      offset = _leaf$position2[1];\r\n\r\n      var range = document.createRange();\r\n      if (length > 0) {\r\n        range.setStart(node, offset);\r\n\r\n        var _scroll$leaf3 = this.scroll.leaf(index + length);\r\n\r\n        var _scroll$leaf4 = _slicedToArray(_scroll$leaf3, 2);\r\n\r\n        leaf = _scroll$leaf4[0];\r\n        offset = _scroll$leaf4[1];\r\n\r\n        if (leaf == null) return null;\r\n\r\n        var _leaf$position3 = leaf.position(offset, true);\r\n\r\n        var _leaf$position4 = _slicedToArray(_leaf$position3, 2);\r\n\r\n        node = _leaf$position4[0];\r\n        offset = _leaf$position4[1];\r\n\r\n        range.setEnd(node, offset);\r\n        return range.getBoundingClientRect();\r\n      } else {\r\n        var side = 'left';\r\n        var rect = void 0;\r\n        if (node instanceof Text) {\r\n          if (offset < node.data.length) {\r\n            range.setStart(node, offset);\r\n            range.setEnd(node, offset + 1);\r\n          } else {\r\n            range.setStart(node, offset - 1);\r\n            range.setEnd(node, offset);\r\n            side = 'right';\r\n          }\r\n          rect = range.getBoundingClientRect();\r\n        } else {\r\n          rect = leaf.domNode.getBoundingClientRect();\r\n          if (offset > 0) side = 'right';\r\n        }\r\n        return {\r\n          bottom: rect.top + rect.height,\r\n          height: rect.height,\r\n          left: rect[side],\r\n          right: rect[side],\r\n          top: rect.top,\r\n          width: 0\r\n        };\r\n      }\r\n    }\r\n  }, {\r\n    key: 'getNativeRange',\r\n    value: function getNativeRange() {\r\n      var selection = document.getSelection();\r\n      if (selection == null || selection.rangeCount <= 0) return null;\r\n      var nativeRange = selection.getRangeAt(0);\r\n      if (nativeRange == null) return null;\r\n      var range = this.normalizeNative(nativeRange);\r\n      debug.info('getNativeRange', range);\r\n      return range;\r\n    }\r\n  }, {\r\n    key: 'getRange',\r\n    value: function getRange() {\r\n      var normalized = this.getNativeRange();\r\n      if (normalized == null) return [null, null];\r\n      var range = this.normalizedToRange(normalized);\r\n      return [range, normalized];\r\n    }\r\n  }, {\r\n    key: 'hasFocus',\r\n    value: function hasFocus() {\r\n      return document.activeElement === this.root;\r\n    }\r\n  }, {\r\n    key: 'normalizedToRange',\r\n    value: function normalizedToRange(range) {\r\n      var _this4 = this;\r\n\r\n      var positions = [[range.start.node, range.start.offset]];\r\n      if (!range.native.collapsed) {\r\n        positions.push([range.end.node, range.end.offset]);\r\n      }\r\n      var indexes = positions.map(function (position) {\r\n        var _position = _slicedToArray(position, 2),\r\n            node = _position[0],\r\n            offset = _position[1];\r\n\r\n        var blot = _parchment2.default.find(node, true);\r\n        var index = blot.offset(_this4.scroll);\r\n        if (offset === 0) {\r\n          return index;\r\n        } else if (blot instanceof _parchment2.default.Container) {\r\n          return index + blot.length();\r\n        } else {\r\n          return index + blot.index(node, offset);\r\n        }\r\n      });\r\n      var end = Math.min(Math.max.apply(Math, _toConsumableArray(indexes)), this.scroll.length() - 1);\r\n      var start = Math.min.apply(Math, [end].concat(_toConsumableArray(indexes)));\r\n      return new Range(start, end - start);\r\n    }\r\n  }, {\r\n    key: 'normalizeNative',\r\n    value: function normalizeNative(nativeRange) {\r\n      if (!contains(this.root, nativeRange.startContainer) || !nativeRange.collapsed && !contains(this.root, nativeRange.endContainer)) {\r\n        return null;\r\n      }\r\n      var range = {\r\n        start: { node: nativeRange.startContainer, offset: nativeRange.startOffset },\r\n        end: { node: nativeRange.endContainer, offset: nativeRange.endOffset },\r\n        native: nativeRange\r\n      };\r\n      [range.start, range.end].forEach(function (position) {\r\n        var node = position.node,\r\n            offset = position.offset;\r\n        while (!(node instanceof Text) && node.childNodes.length > 0) {\r\n          if (node.childNodes.length > offset) {\r\n            node = node.childNodes[offset];\r\n            offset = 0;\r\n          } else if (node.childNodes.length === offset) {\r\n            node = node.lastChild;\r\n            offset = node instanceof Text ? node.data.length : node.childNodes.length + 1;\r\n          } else {\r\n            break;\r\n          }\r\n        }\r\n        position.node = node, position.offset = offset;\r\n      });\r\n      return range;\r\n    }\r\n  }, {\r\n    key: 'rangeToNative',\r\n    value: function rangeToNative(range) {\r\n      var _this5 = this;\r\n\r\n      var indexes = range.collapsed ? [range.index] : [range.index, range.index + range.length];\r\n      var args = [];\r\n      var scrollLength = this.scroll.length();\r\n      indexes.forEach(function (index, i) {\r\n        index = Math.min(scrollLength - 1, index);\r\n        var node = void 0,\r\n            _scroll$leaf5 = _this5.scroll.leaf(index),\r\n            _scroll$leaf6 = _slicedToArray(_scroll$leaf5, 2),\r\n            leaf = _scroll$leaf6[0],\r\n            offset = _scroll$leaf6[1];\r\n        var _leaf$position5 = leaf.position(offset, i !== 0);\r\n\r\n        var _leaf$position6 = _slicedToArray(_leaf$position5, 2);\r\n\r\n        node = _leaf$position6[0];\r\n        offset = _leaf$position6[1];\r\n\r\n        args.push(node, offset);\r\n      });\r\n      if (args.length < 2) {\r\n        args = args.concat(args);\r\n      }\r\n      return args;\r\n    }\r\n  }, {\r\n    key: 'scrollIntoView',\r\n    value: function scrollIntoView(scrollingContainer) {\r\n      var range = this.lastRange;\r\n      if (range == null) return;\r\n      var bounds = this.getBounds(range.index, range.length);\r\n      if (bounds == null) return;\r\n      var limit = this.scroll.length() - 1;\r\n\r\n      var _scroll$line = this.scroll.line(Math.min(range.index, limit)),\r\n          _scroll$line2 = _slicedToArray(_scroll$line, 1),\r\n          first = _scroll$line2[0];\r\n\r\n      var last = first;\r\n      if (range.length > 0) {\r\n        var _scroll$line3 = this.scroll.line(Math.min(range.index + range.length, limit));\r\n\r\n        var _scroll$line4 = _slicedToArray(_scroll$line3, 1);\r\n\r\n        last = _scroll$line4[0];\r\n      }\r\n      if (first == null || last == null) return;\r\n      var scrollBounds = scrollingContainer.getBoundingClientRect();\r\n      if (bounds.top < scrollBounds.top) {\r\n        scrollingContainer.scrollTop -= scrollBounds.top - bounds.top;\r\n      } else if (bounds.bottom > scrollBounds.bottom) {\r\n        scrollingContainer.scrollTop += bounds.bottom - scrollBounds.bottom;\r\n      }\r\n    }\r\n  }, {\r\n    key: 'setNativeRange',\r\n    value: function setNativeRange(startNode, startOffset) {\r\n      var endNode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : startNode;\r\n      var endOffset = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : startOffset;\r\n      var force = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\r\n\r\n      debug.info('setNativeRange', startNode, startOffset, endNode, endOffset);\r\n      if (startNode != null && (this.root.parentNode == null || startNode.parentNode == null || endNode.parentNode == null)) {\r\n        return;\r\n      }\r\n      var selection = document.getSelection();\r\n      if (selection == null) return;\r\n      if (startNode != null) {\r\n        if (!this.hasFocus()) this.root.focus();\r\n        var native = (this.getNativeRange() || {}).native;\r\n        if (native == null || force || startNode !== native.startContainer || startOffset !== native.startOffset || endNode !== native.endContainer || endOffset !== native.endOffset) {\r\n\r\n          if (startNode.tagName == \"BR\") {\r\n            startOffset = [].indexOf.call(startNode.parentNode.childNodes, startNode);\r\n            startNode = startNode.parentNode;\r\n          }\r\n          if (endNode.tagName == \"BR\") {\r\n            endOffset = [].indexOf.call(endNode.parentNode.childNodes, endNode);\r\n            endNode = endNode.parentNode;\r\n          }\r\n          var range = document.createRange();\r\n          range.setStart(startNode, startOffset);\r\n          range.setEnd(endNode, endOffset);\r\n          selection.removeAllRanges();\r\n          selection.addRange(range);\r\n        }\r\n      } else {\r\n        selection.removeAllRanges();\r\n        this.root.blur();\r\n        document.body.focus(); // root.blur() not enough on IE11+Travis+SauceLabs (but not local VMs)\r\n      }\r\n    }\r\n  }, {\r\n    key: 'setRange',\r\n    value: function setRange(range) {\r\n      var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\r\n      var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _emitter4.default.sources.API;\r\n\r\n      if (typeof force === 'string') {\r\n        source = force;\r\n        force = false;\r\n      }\r\n      debug.info('setRange', range);\r\n      if (range != null) {\r\n        var args = this.rangeToNative(range);\r\n        this.setNativeRange.apply(this, _toConsumableArray(args).concat([force]));\r\n      } else {\r\n        this.setNativeRange(null);\r\n      }\r\n      this.update(source);\r\n    }\r\n  }, {\r\n    key: 'update',\r\n    value: function update() {\r\n      var source = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _emitter4.default.sources.USER;\r\n\r\n      var oldRange = this.lastRange;\r\n\r\n      var _getRange = this.getRange(),\r\n          _getRange2 = _slicedToArray(_getRange, 2),\r\n          lastRange = _getRange2[0],\r\n          nativeRange = _getRange2[1];\r\n\r\n      this.lastRange = lastRange;\r\n      if (this.lastRange != null) {\r\n        this.savedRange = this.lastRange;\r\n      }\r\n      if (!(0, _deepEqual2.default)(oldRange, this.lastRange)) {\r\n        var _emitter;\r\n\r\n        if (!this.composing && nativeRange != null && nativeRange.native.collapsed && nativeRange.start.node !== this.cursor.textNode) {\r\n          this.cursor.restore();\r\n        }\r\n        var args = [_emitter4.default.events.SELECTION_CHANGE, (0, _clone2.default)(this.lastRange), (0, _clone2.default)(oldRange), source];\r\n        (_emitter = this.emitter).emit.apply(_emitter, [_emitter4.default.events.EDITOR_CHANGE].concat(args));\r\n        if (source !== _emitter4.default.sources.SILENT) {\r\n          var _emitter2;\r\n\r\n          (_emitter2 = this.emitter).emit.apply(_emitter2, args);\r\n        }\r\n      }\r\n    }\r\n  }]);\r\n\r\n  return Selection;\r\n}();\r\n\r\nfunction contains(parent, descendant) {\r\n  try {\r\n    // Firefox inserts inaccessible nodes around video elements\r\n    descendant.parentNode;\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n  // IE11 has bug with Text nodes\r\n  // https://connect.microsoft.com/IE/feedback/details/780874/node-contains-is-incorrect\r\n  if (descendant instanceof Text) {\r\n    descendant = descendant.parentNode;\r\n  }\r\n  return parent.contains(descendant);\r\n}\r\n\r\nexports.Range = Range;\r\nexports.default = Selection;\r\n\r\n/***/ }),\r\n/* 16 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar Break = function (_Parchment$Embed) {\r\n  _inherits(Break, _Parchment$Embed);\r\n\r\n  function Break() {\r\n    _classCallCheck(this, Break);\r\n\r\n    return _possibleConstructorReturn(this, (Break.__proto__ || Object.getPrototypeOf(Break)).apply(this, arguments));\r\n  }\r\n\r\n  _createClass(Break, [{\r\n    key: 'insertInto',\r\n    value: function insertInto(parent, ref) {\r\n      if (parent.children.length === 0) {\r\n        _get(Break.prototype.__proto__ || Object.getPrototypeOf(Break.prototype), 'insertInto', this).call(this, parent, ref);\r\n      } else {\r\n        this.remove();\r\n      }\r\n    }\r\n  }, {\r\n    key: 'length',\r\n    value: function length() {\r\n      return 0;\r\n    }\r\n  }, {\r\n    key: 'value',\r\n    value: function value() {\r\n      return '';\r\n    }\r\n  }], [{\r\n    key: 'value',\r\n    value: function value() {\r\n      return undefined;\r\n    }\r\n  }]);\r\n\r\n  return Break;\r\n}(_parchment2.default.Embed);\r\n\r\nBreak.blotName = 'break';\r\nBreak.tagName = 'BR';\r\n\r\nexports.default = Break;\r\n\r\n/***/ }),\r\n/* 17 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar linked_list_1 = __webpack_require__(44);\r\nvar shadow_1 = __webpack_require__(30);\r\nvar Registry = __webpack_require__(1);\r\nvar ContainerBlot = /** @class */ (function (_super) {\r\n    __extends(ContainerBlot, _super);\r\n    function ContainerBlot(domNode) {\r\n        var _this = _super.call(this, domNode) || this;\r\n        _this.build();\r\n        return _this;\r\n    }\r\n    ContainerBlot.prototype.appendChild = function (other) {\r\n        this.insertBefore(other);\r\n    };\r\n    ContainerBlot.prototype.attach = function () {\r\n        _super.prototype.attach.call(this);\r\n        this.children.forEach(function (child) {\r\n            child.attach();\r\n        });\r\n    };\r\n    ContainerBlot.prototype.build = function () {\r\n        var _this = this;\r\n        this.children = new linked_list_1.default();\r\n        // Need to be reversed for if DOM nodes already in order\r\n        [].slice\r\n            .call(this.domNode.childNodes)\r\n            .reverse()\r\n            .forEach(function (node) {\r\n            try {\r\n                var child = makeBlot(node);\r\n                _this.insertBefore(child, _this.children.head || undefined);\r\n            }\r\n            catch (err) {\r\n                if (err instanceof Registry.ParchmentError)\r\n                    return;\r\n                else\r\n                    throw err;\r\n            }\r\n        });\r\n    };\r\n    ContainerBlot.prototype.deleteAt = function (index, length) {\r\n        if (index === 0 && length === this.length()) {\r\n            return this.remove();\r\n        }\r\n        this.children.forEachAt(index, length, function (child, offset, length) {\r\n            child.deleteAt(offset, length);\r\n        });\r\n    };\r\n    ContainerBlot.prototype.descendant = function (criteria, index) {\r\n        var _a = this.children.find(index), child = _a[0], offset = _a[1];\r\n        if ((criteria.blotName == null && criteria(child)) ||\r\n            (criteria.blotName != null && child instanceof criteria)) {\r\n            return [child, offset];\r\n        }\r\n        else if (child instanceof ContainerBlot) {\r\n            return child.descendant(criteria, offset);\r\n        }\r\n        else {\r\n            return [null, -1];\r\n        }\r\n    };\r\n    ContainerBlot.prototype.descendants = function (criteria, index, length) {\r\n        if (index === void 0) { index = 0; }\r\n        if (length === void 0) { length = Number.MAX_VALUE; }\r\n        var descendants = [];\r\n        var lengthLeft = length;\r\n        this.children.forEachAt(index, length, function (child, index, length) {\r\n            if ((criteria.blotName == null && criteria(child)) ||\r\n                (criteria.blotName != null && child instanceof criteria)) {\r\n                descendants.push(child);\r\n            }\r\n            if (child instanceof ContainerBlot) {\r\n                descendants = descendants.concat(child.descendants(criteria, index, lengthLeft));\r\n            }\r\n            lengthLeft -= length;\r\n        });\r\n        return descendants;\r\n    };\r\n    ContainerBlot.prototype.detach = function () {\r\n        this.children.forEach(function (child) {\r\n            child.detach();\r\n        });\r\n        _super.prototype.detach.call(this);\r\n    };\r\n    ContainerBlot.prototype.formatAt = function (index, length, name, value) {\r\n        this.children.forEachAt(index, length, function (child, offset, length) {\r\n            child.formatAt(offset, length, name, value);\r\n        });\r\n    };\r\n    ContainerBlot.prototype.insertAt = function (index, value, def) {\r\n        var _a = this.children.find(index), child = _a[0], offset = _a[1];\r\n        if (child) {\r\n            child.insertAt(offset, value, def);\r\n        }\r\n        else {\r\n            var blot = def == null ? Registry.create('text', value) : Registry.create(value, def);\r\n            this.appendChild(blot);\r\n        }\r\n    };\r\n    ContainerBlot.prototype.insertBefore = function (childBlot, refBlot) {\r\n        if (this.statics.allowedChildren != null &&\r\n            !this.statics.allowedChildren.some(function (child) {\r\n                return childBlot instanceof child;\r\n            })) {\r\n            throw new Registry.ParchmentError(\"Cannot insert \" + childBlot.statics.blotName + \" into \" + this.statics.blotName);\r\n        }\r\n        childBlot.insertInto(this, refBlot);\r\n    };\r\n    ContainerBlot.prototype.length = function () {\r\n        return this.children.reduce(function (memo, child) {\r\n            return memo + child.length();\r\n        }, 0);\r\n    };\r\n    ContainerBlot.prototype.moveChildren = function (targetParent, refNode) {\r\n        this.children.forEach(function (child) {\r\n            targetParent.insertBefore(child, refNode);\r\n        });\r\n    };\r\n    ContainerBlot.prototype.optimize = function (context) {\r\n        _super.prototype.optimize.call(this, context);\r\n        if (this.children.length === 0) {\r\n            if (this.statics.defaultChild != null) {\r\n                var child = Registry.create(this.statics.defaultChild);\r\n                this.appendChild(child);\r\n                child.optimize(context);\r\n            }\r\n            else {\r\n                this.remove();\r\n            }\r\n        }\r\n    };\r\n    ContainerBlot.prototype.path = function (index, inclusive) {\r\n        if (inclusive === void 0) { inclusive = false; }\r\n        var _a = this.children.find(index, inclusive), child = _a[0], offset = _a[1];\r\n        var position = [[this, index]];\r\n        if (child instanceof ContainerBlot) {\r\n            return position.concat(child.path(offset, inclusive));\r\n        }\r\n        else if (child != null) {\r\n            position.push([child, offset]);\r\n        }\r\n        return position;\r\n    };\r\n    ContainerBlot.prototype.removeChild = function (child) {\r\n        this.children.remove(child);\r\n    };\r\n    ContainerBlot.prototype.replace = function (target) {\r\n        if (target instanceof ContainerBlot) {\r\n            target.moveChildren(this);\r\n        }\r\n        _super.prototype.replace.call(this, target);\r\n    };\r\n    ContainerBlot.prototype.split = function (index, force) {\r\n        if (force === void 0) { force = false; }\r\n        if (!force) {\r\n            if (index === 0)\r\n                return this;\r\n            if (index === this.length())\r\n                return this.next;\r\n        }\r\n        var after = this.clone();\r\n        this.parent.insertBefore(after, this.next);\r\n        this.children.forEachAt(index, this.length(), function (child, offset, length) {\r\n            child = child.split(offset, force);\r\n            after.appendChild(child);\r\n        });\r\n        return after;\r\n    };\r\n    ContainerBlot.prototype.unwrap = function () {\r\n        this.moveChildren(this.parent, this.next);\r\n        this.remove();\r\n    };\r\n    ContainerBlot.prototype.update = function (mutations, context) {\r\n        var _this = this;\r\n        var addedNodes = [];\r\n        var removedNodes = [];\r\n        mutations.forEach(function (mutation) {\r\n            if (mutation.target === _this.domNode && mutation.type === 'childList') {\r\n                addedNodes.push.apply(addedNodes, mutation.addedNodes);\r\n                removedNodes.push.apply(removedNodes, mutation.removedNodes);\r\n            }\r\n        });\r\n        removedNodes.forEach(function (node) {\r\n            // Check node has actually been removed\r\n            // One exception is Chrome does not immediately remove IFRAMEs\r\n            // from DOM but MutationRecord is correct in its reported removal\r\n            if (node.parentNode != null &&\r\n                // @ts-ignore\r\n                node.tagName !== 'IFRAME' &&\r\n                document.body.compareDocumentPosition(node) & Node.DOCUMENT_POSITION_CONTAINED_BY) {\r\n                return;\r\n            }\r\n            var blot = Registry.find(node);\r\n            if (blot == null)\r\n                return;\r\n            if (blot.domNode.parentNode == null || blot.domNode.parentNode === _this.domNode) {\r\n                blot.detach();\r\n            }\r\n        });\r\n        addedNodes\r\n            .filter(function (node) {\r\n            return node.parentNode == _this.domNode;\r\n        })\r\n            .sort(function (a, b) {\r\n            if (a === b)\r\n                return 0;\r\n            if (a.compareDocumentPosition(b) & Node.DOCUMENT_POSITION_FOLLOWING) {\r\n                return 1;\r\n            }\r\n            return -1;\r\n        })\r\n            .forEach(function (node) {\r\n            var refBlot = null;\r\n            if (node.nextSibling != null) {\r\n                refBlot = Registry.find(node.nextSibling);\r\n            }\r\n            var blot = makeBlot(node);\r\n            if (blot.next != refBlot || blot.next == null) {\r\n                if (blot.parent != null) {\r\n                    blot.parent.removeChild(_this);\r\n                }\r\n                _this.insertBefore(blot, refBlot || undefined);\r\n            }\r\n        });\r\n    };\r\n    return ContainerBlot;\r\n}(shadow_1.default));\r\nfunction makeBlot(node) {\r\n    var blot = Registry.find(node);\r\n    if (blot == null) {\r\n        try {\r\n            blot = Registry.create(node);\r\n        }\r\n        catch (e) {\r\n            blot = Registry.create(Registry.Scope.INLINE);\r\n            [].slice.call(node.childNodes).forEach(function (child) {\r\n                // @ts-ignore\r\n                blot.domNode.appendChild(child);\r\n            });\r\n            if (node.parentNode) {\r\n                node.parentNode.replaceChild(blot.domNode, node);\r\n            }\r\n            blot.attach();\r\n        }\r\n    }\r\n    return blot;\r\n}\r\nexports.default = ContainerBlot;\r\n\r\n\r\n/***/ }),\r\n/* 18 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar attributor_1 = __webpack_require__(12);\r\nvar store_1 = __webpack_require__(31);\r\nvar container_1 = __webpack_require__(17);\r\nvar Registry = __webpack_require__(1);\r\nvar FormatBlot = /** @class */ (function (_super) {\r\n    __extends(FormatBlot, _super);\r\n    function FormatBlot(domNode) {\r\n        var _this = _super.call(this, domNode) || this;\r\n        _this.attributes = new store_1.default(_this.domNode);\r\n        return _this;\r\n    }\r\n    FormatBlot.formats = function (domNode) {\r\n        if (typeof this.tagName === 'string') {\r\n            return true;\r\n        }\r\n        else if (Array.isArray(this.tagName)) {\r\n            return domNode.tagName.toLowerCase();\r\n        }\r\n        return undefined;\r\n    };\r\n    FormatBlot.prototype.format = function (name, value) {\r\n        var format = Registry.query(name);\r\n        if (format instanceof attributor_1.default) {\r\n            this.attributes.attribute(format, value);\r\n        }\r\n        else if (value) {\r\n            if (format != null && (name !== this.statics.blotName || this.formats()[name] !== value)) {\r\n                this.replaceWith(name, value);\r\n            }\r\n        }\r\n    };\r\n    FormatBlot.prototype.formats = function () {\r\n        var formats = this.attributes.values();\r\n        var format = this.statics.formats(this.domNode);\r\n        if (format != null) {\r\n            formats[this.statics.blotName] = format;\r\n        }\r\n        return formats;\r\n    };\r\n    FormatBlot.prototype.replaceWith = function (name, value) {\r\n        var replacement = _super.prototype.replaceWith.call(this, name, value);\r\n        this.attributes.copy(replacement);\r\n        return replacement;\r\n    };\r\n    FormatBlot.prototype.update = function (mutations, context) {\r\n        var _this = this;\r\n        _super.prototype.update.call(this, mutations, context);\r\n        if (mutations.some(function (mutation) {\r\n            return mutation.target === _this.domNode && mutation.type === 'attributes';\r\n        })) {\r\n            this.attributes.build();\r\n        }\r\n    };\r\n    FormatBlot.prototype.wrap = function (name, value) {\r\n        var wrapper = _super.prototype.wrap.call(this, name, value);\r\n        if (wrapper instanceof FormatBlot && wrapper.statics.scope === this.statics.scope) {\r\n            this.attributes.move(wrapper);\r\n        }\r\n        return wrapper;\r\n    };\r\n    return FormatBlot;\r\n}(container_1.default));\r\nexports.default = FormatBlot;\r\n\r\n\r\n/***/ }),\r\n/* 19 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar shadow_1 = __webpack_require__(30);\r\nvar Registry = __webpack_require__(1);\r\nvar LeafBlot = /** @class */ (function (_super) {\r\n    __extends(LeafBlot, _super);\r\n    function LeafBlot() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    LeafBlot.value = function (domNode) {\r\n        return true;\r\n    };\r\n    LeafBlot.prototype.index = function (node, offset) {\r\n        if (this.domNode === node ||\r\n            this.domNode.compareDocumentPosition(node) & Node.DOCUMENT_POSITION_CONTAINED_BY) {\r\n            return Math.min(offset, 1);\r\n        }\r\n        return -1;\r\n    };\r\n    LeafBlot.prototype.position = function (index, inclusive) {\r\n        var offset = [].indexOf.call(this.parent.domNode.childNodes, this.domNode);\r\n        if (index > 0)\r\n            offset += 1;\r\n        return [this.parent.domNode, offset];\r\n    };\r\n    LeafBlot.prototype.value = function () {\r\n        var _a;\r\n        return _a = {}, _a[this.statics.blotName] = this.statics.value(this.domNode) || true, _a;\r\n    };\r\n    LeafBlot.scope = Registry.Scope.INLINE_BLOT;\r\n    return LeafBlot;\r\n}(shadow_1.default));\r\nexports.default = LeafBlot;\r\n\r\n\r\n/***/ }),\r\n/* 20 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\nvar equal = __webpack_require__(11);\r\nvar extend = __webpack_require__(3);\r\n\r\n\r\nvar lib = {\r\n  attributes: {\r\n    compose: function (a, b, keepNull) {\r\n      if (typeof a !== 'object') a = {};\r\n      if (typeof b !== 'object') b = {};\r\n      var attributes = extend(true, {}, b);\r\n      if (!keepNull) {\r\n        attributes = Object.keys(attributes).reduce(function (copy, key) {\r\n          if (attributes[key] != null) {\r\n            copy[key] = attributes[key];\r\n          }\r\n          return copy;\r\n        }, {});\r\n      }\r\n      for (var key in a) {\r\n        if (a[key] !== undefined && b[key] === undefined) {\r\n          attributes[key] = a[key];\r\n        }\r\n      }\r\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\r\n    },\r\n\r\n    diff: function(a, b) {\r\n      if (typeof a !== 'object') a = {};\r\n      if (typeof b !== 'object') b = {};\r\n      var attributes = Object.keys(a).concat(Object.keys(b)).reduce(function (attributes, key) {\r\n        if (!equal(a[key], b[key])) {\r\n          attributes[key] = b[key] === undefined ? null : b[key];\r\n        }\r\n        return attributes;\r\n      }, {});\r\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\r\n    },\r\n\r\n    transform: function (a, b, priority) {\r\n      if (typeof a !== 'object') return b;\r\n      if (typeof b !== 'object') return undefined;\r\n      if (!priority) return b;  // b simply overwrites us without priority\r\n      var attributes = Object.keys(b).reduce(function (attributes, key) {\r\n        if (a[key] === undefined) attributes[key] = b[key];  // null is a valid value\r\n        return attributes;\r\n      }, {});\r\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\r\n    }\r\n  },\r\n\r\n  iterator: function (ops) {\r\n    return new Iterator(ops);\r\n  },\r\n\r\n  length: function (op) {\r\n    if (typeof op['delete'] === 'number') {\r\n      return op['delete'];\r\n    } else if (typeof op.retain === 'number') {\r\n      return op.retain;\r\n    } else {\r\n      return typeof op.insert === 'string' ? op.insert.length : 1;\r\n    }\r\n  }\r\n};\r\n\r\n\r\nfunction Iterator(ops) {\r\n  this.ops = ops;\r\n  this.index = 0;\r\n  this.offset = 0;\r\n};\r\n\r\nIterator.prototype.hasNext = function () {\r\n  return this.peekLength() < Infinity;\r\n};\r\n\r\nIterator.prototype.next = function (length) {\r\n  if (!length) length = Infinity;\r\n  var nextOp = this.ops[this.index];\r\n  if (nextOp) {\r\n    var offset = this.offset;\r\n    var opLength = lib.length(nextOp)\r\n    if (length >= opLength - offset) {\r\n      length = opLength - offset;\r\n      this.index += 1;\r\n      this.offset = 0;\r\n    } else {\r\n      this.offset += length;\r\n    }\r\n    if (typeof nextOp['delete'] === 'number') {\r\n      return { 'delete': length };\r\n    } else {\r\n      var retOp = {};\r\n      if (nextOp.attributes) {\r\n        retOp.attributes = nextOp.attributes;\r\n      }\r\n      if (typeof nextOp.retain === 'number') {\r\n        retOp.retain = length;\r\n      } else if (typeof nextOp.insert === 'string') {\r\n        retOp.insert = nextOp.insert.substr(offset, length);\r\n      } else {\r\n        // offset should === 0, length should === 1\r\n        retOp.insert = nextOp.insert;\r\n      }\r\n      return retOp;\r\n    }\r\n  } else {\r\n    return { retain: Infinity };\r\n  }\r\n};\r\n\r\nIterator.prototype.peek = function () {\r\n  return this.ops[this.index];\r\n};\r\n\r\nIterator.prototype.peekLength = function () {\r\n  if (this.ops[this.index]) {\r\n    // Should never return 0 if our index is being managed correctly\r\n    return lib.length(this.ops[this.index]) - this.offset;\r\n  } else {\r\n    return Infinity;\r\n  }\r\n};\r\n\r\nIterator.prototype.peekType = function () {\r\n  if (this.ops[this.index]) {\r\n    if (typeof this.ops[this.index]['delete'] === 'number') {\r\n      return 'delete';\r\n    } else if (typeof this.ops[this.index].retain === 'number') {\r\n      return 'retain';\r\n    } else {\r\n      return 'insert';\r\n    }\r\n  }\r\n  return 'retain';\r\n};\r\n\r\nIterator.prototype.rest = function () {\r\n  if (!this.hasNext()) {\r\n    return [];\r\n  } else if (this.offset === 0) {\r\n    return this.ops.slice(this.index);\r\n  } else {\r\n    var offset = this.offset;\r\n    var index = this.index;\r\n    var next = this.next();\r\n    var rest = this.ops.slice(this.index);\r\n    this.offset = offset;\r\n    this.index = index;\r\n    return [next].concat(rest);\r\n  }\r\n};\r\n\r\n\r\nmodule.exports = lib;\r\n\r\n\r\n/***/ }),\r\n/* 21 */\r\n/***/ (function(module, exports) {\r\n\r\nvar clone = (function() {\r\n'use strict';\r\n\r\nfunction _instanceof(obj, type) {\r\n  return type != null && obj instanceof type;\r\n}\r\n\r\nvar nativeMap;\r\ntry {\r\n  nativeMap = Map;\r\n} catch(_) {\r\n  // maybe a reference error because no `Map`. Give it a dummy value that no\r\n  // value will ever be an instanceof.\r\n  nativeMap = function() {};\r\n}\r\n\r\nvar nativeSet;\r\ntry {\r\n  nativeSet = Set;\r\n} catch(_) {\r\n  nativeSet = function() {};\r\n}\r\n\r\nvar nativePromise;\r\ntry {\r\n  nativePromise = Promise;\r\n} catch(_) {\r\n  nativePromise = function() {};\r\n}\r\n\r\n/**\r\n * Clones (copies) an Object using deep copying.\r\n *\r\n * This function supports circular references by default, but if you are certain\r\n * there are no circular references in your object, you can save some CPU time\r\n * by calling clone(obj, false).\r\n *\r\n * Caution: if `circular` is false and `parent` contains circular references,\r\n * your program may enter an infinite loop and crash.\r\n *\r\n * @param `parent` - the object to be cloned\r\n * @param `circular` - set to true if the object to be cloned may contain\r\n *    circular references. (optional - true by default)\r\n * @param `depth` - set to a number if the object is only to be cloned to\r\n *    a particular depth. (optional - defaults to Infinity)\r\n * @param `prototype` - sets the prototype to be used when cloning an object.\r\n *    (optional - defaults to parent prototype).\r\n * @param `includeNonEnumerable` - set to true if the non-enumerable properties\r\n *    should be cloned as well. Non-enumerable properties on the prototype\r\n *    chain will be ignored. (optional - false by default)\r\n*/\r\nfunction clone(parent, circular, depth, prototype, includeNonEnumerable) {\r\n  if (typeof circular === 'object') {\r\n    depth = circular.depth;\r\n    prototype = circular.prototype;\r\n    includeNonEnumerable = circular.includeNonEnumerable;\r\n    circular = circular.circular;\r\n  }\r\n  // maintain two arrays for circular references, where corresponding parents\r\n  // and children have the same index\r\n  var allParents = [];\r\n  var allChildren = [];\r\n\r\n  var useBuffer = typeof Buffer != 'undefined';\r\n\r\n  if (typeof circular == 'undefined')\r\n    circular = true;\r\n\r\n  if (typeof depth == 'undefined')\r\n    depth = Infinity;\r\n\r\n  // recurse this function so we don't reset allParents and allChildren\r\n  function _clone(parent, depth) {\r\n    // cloning null always returns null\r\n    if (parent === null)\r\n      return null;\r\n\r\n    if (depth === 0)\r\n      return parent;\r\n\r\n    var child;\r\n    var proto;\r\n    if (typeof parent != 'object') {\r\n      return parent;\r\n    }\r\n\r\n    if (_instanceof(parent, nativeMap)) {\r\n      child = new nativeMap();\r\n    } else if (_instanceof(parent, nativeSet)) {\r\n      child = new nativeSet();\r\n    } else if (_instanceof(parent, nativePromise)) {\r\n      child = new nativePromise(function (resolve, reject) {\r\n        parent.then(function(value) {\r\n          resolve(_clone(value, depth - 1));\r\n        }, function(err) {\r\n          reject(_clone(err, depth - 1));\r\n        });\r\n      });\r\n    } else if (clone.__isArray(parent)) {\r\n      child = [];\r\n    } else if (clone.__isRegExp(parent)) {\r\n      child = new RegExp(parent.source, __getRegExpFlags(parent));\r\n      if (parent.lastIndex) child.lastIndex = parent.lastIndex;\r\n    } else if (clone.__isDate(parent)) {\r\n      child = new Date(parent.getTime());\r\n    } else if (useBuffer && Buffer.isBuffer(parent)) {\r\n      if (Buffer.allocUnsafe) {\r\n        // Node.js >= 4.5.0\r\n        child = Buffer.allocUnsafe(parent.length);\r\n      } else {\r\n        // Older Node.js versions\r\n        child = new Buffer(parent.length);\r\n      }\r\n      parent.copy(child);\r\n      return child;\r\n    } else if (_instanceof(parent, Error)) {\r\n      child = Object.create(parent);\r\n    } else {\r\n      if (typeof prototype == 'undefined') {\r\n        proto = Object.getPrototypeOf(parent);\r\n        child = Object.create(proto);\r\n      }\r\n      else {\r\n        child = Object.create(prototype);\r\n        proto = prototype;\r\n      }\r\n    }\r\n\r\n    if (circular) {\r\n      var index = allParents.indexOf(parent);\r\n\r\n      if (index != -1) {\r\n        return allChildren[index];\r\n      }\r\n      allParents.push(parent);\r\n      allChildren.push(child);\r\n    }\r\n\r\n    if (_instanceof(parent, nativeMap)) {\r\n      parent.forEach(function(value, key) {\r\n        var keyChild = _clone(key, depth - 1);\r\n        var valueChild = _clone(value, depth - 1);\r\n        child.set(keyChild, valueChild);\r\n      });\r\n    }\r\n    if (_instanceof(parent, nativeSet)) {\r\n      parent.forEach(function(value) {\r\n        var entryChild = _clone(value, depth - 1);\r\n        child.add(entryChild);\r\n      });\r\n    }\r\n\r\n    for (var i in parent) {\r\n      var attrs;\r\n      if (proto) {\r\n        attrs = Object.getOwnPropertyDescriptor(proto, i);\r\n      }\r\n\r\n      if (attrs && attrs.set == null) {\r\n        continue;\r\n      }\r\n      child[i] = _clone(parent[i], depth - 1);\r\n    }\r\n\r\n    if (Object.getOwnPropertySymbols) {\r\n      var symbols = Object.getOwnPropertySymbols(parent);\r\n      for (var i = 0; i < symbols.length; i++) {\r\n        // Don't need to worry about cloning a symbol because it is a primitive,\r\n        // like a number or string.\r\n        var symbol = symbols[i];\r\n        var descriptor = Object.getOwnPropertyDescriptor(parent, symbol);\r\n        if (descriptor && !descriptor.enumerable && !includeNonEnumerable) {\r\n          continue;\r\n        }\r\n        child[symbol] = _clone(parent[symbol], depth - 1);\r\n        if (!descriptor.enumerable) {\r\n          Object.defineProperty(child, symbol, {\r\n            enumerable: false\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n    if (includeNonEnumerable) {\r\n      var allPropertyNames = Object.getOwnPropertyNames(parent);\r\n      for (var i = 0; i < allPropertyNames.length; i++) {\r\n        var propertyName = allPropertyNames[i];\r\n        var descriptor = Object.getOwnPropertyDescriptor(parent, propertyName);\r\n        if (descriptor && descriptor.enumerable) {\r\n          continue;\r\n        }\r\n        child[propertyName] = _clone(parent[propertyName], depth - 1);\r\n        Object.defineProperty(child, propertyName, {\r\n          enumerable: false\r\n        });\r\n      }\r\n    }\r\n\r\n    return child;\r\n  }\r\n\r\n  return _clone(parent, depth);\r\n}\r\n\r\n/**\r\n * Simple flat clone using prototype, accepts only objects, usefull for property\r\n * override on FLAT configuration object (no nested props).\r\n *\r\n * USE WITH CAUTION! This may not behave as you wish if you do not know how this\r\n * works.\r\n */\r\nclone.clonePrototype = function clonePrototype(parent) {\r\n  if (parent === null)\r\n    return null;\r\n\r\n  var c = function () {};\r\n  c.prototype = parent;\r\n  return new c();\r\n};\r\n\r\n// private utility functions\r\n\r\nfunction __objToStr(o) {\r\n  return Object.prototype.toString.call(o);\r\n}\r\nclone.__objToStr = __objToStr;\r\n\r\nfunction __isDate(o) {\r\n  return typeof o === 'object' && __objToStr(o) === '[object Date]';\r\n}\r\nclone.__isDate = __isDate;\r\n\r\nfunction __isArray(o) {\r\n  return typeof o === 'object' && __objToStr(o) === '[object Array]';\r\n}\r\nclone.__isArray = __isArray;\r\n\r\nfunction __isRegExp(o) {\r\n  return typeof o === 'object' && __objToStr(o) === '[object RegExp]';\r\n}\r\nclone.__isRegExp = __isRegExp;\r\n\r\nfunction __getRegExpFlags(re) {\r\n  var flags = '';\r\n  if (re.global) flags += 'g';\r\n  if (re.ignoreCase) flags += 'i';\r\n  if (re.multiline) flags += 'm';\r\n  return flags;\r\n}\r\nclone.__getRegExpFlags = __getRegExpFlags;\r\n\r\nreturn clone;\r\n})();\r\n\r\nif (typeof module === 'object' && module.exports) {\r\n  module.exports = clone;\r\n}\r\n\r\n\r\n/***/ }),\r\n/* 22 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nvar _emitter = __webpack_require__(8);\r\n\r\nvar _emitter2 = _interopRequireDefault(_emitter);\r\n\r\nvar _block = __webpack_require__(4);\r\n\r\nvar _block2 = _interopRequireDefault(_block);\r\n\r\nvar _break = __webpack_require__(16);\r\n\r\nvar _break2 = _interopRequireDefault(_break);\r\n\r\nvar _code = __webpack_require__(13);\r\n\r\nvar _code2 = _interopRequireDefault(_code);\r\n\r\nvar _container = __webpack_require__(25);\r\n\r\nvar _container2 = _interopRequireDefault(_container);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nfunction isLine(blot) {\r\n  return blot instanceof _block2.default || blot instanceof _block.BlockEmbed;\r\n}\r\n\r\nvar Scroll = function (_Parchment$Scroll) {\r\n  _inherits(Scroll, _Parchment$Scroll);\r\n\r\n  function Scroll(domNode, config) {\r\n    _classCallCheck(this, Scroll);\r\n\r\n    var _this = _possibleConstructorReturn(this, (Scroll.__proto__ || Object.getPrototypeOf(Scroll)).call(this, domNode));\r\n\r\n    _this.emitter = config.emitter;\r\n    if (Array.isArray(config.whitelist)) {\r\n      _this.whitelist = config.whitelist.reduce(function (whitelist, format) {\r\n        whitelist[format] = true;\r\n        return whitelist;\r\n      }, {});\r\n    }\r\n    // Some reason fixes composition issues with character languages in Windows/Chrome, Safari\r\n    _this.domNode.addEventListener('DOMNodeInserted', function () {});\r\n    _this.optimize();\r\n    _this.enable();\r\n    return _this;\r\n  }\r\n\r\n  _createClass(Scroll, [{\r\n    key: 'batchStart',\r\n    value: function batchStart() {\r\n      this.batch = true;\r\n    }\r\n  }, {\r\n    key: 'batchEnd',\r\n    value: function batchEnd() {\r\n      this.batch = false;\r\n      this.optimize();\r\n    }\r\n  }, {\r\n    key: 'deleteAt',\r\n    value: function deleteAt(index, length) {\r\n      var _line = this.line(index),\r\n          _line2 = _slicedToArray(_line, 2),\r\n          first = _line2[0],\r\n          offset = _line2[1];\r\n\r\n      var _line3 = this.line(index + length),\r\n          _line4 = _slicedToArray(_line3, 1),\r\n          last = _line4[0];\r\n\r\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'deleteAt', this).call(this, index, length);\r\n      if (last != null && first !== last && offset > 0) {\r\n        if (first instanceof _block.BlockEmbed || last instanceof _block.BlockEmbed) {\r\n          this.optimize();\r\n          return;\r\n        }\r\n        if (first instanceof _code2.default) {\r\n          var newlineIndex = first.newlineIndex(first.length(), true);\r\n          if (newlineIndex > -1) {\r\n            first = first.split(newlineIndex + 1);\r\n            if (first === last) {\r\n              this.optimize();\r\n              return;\r\n            }\r\n          }\r\n        } else if (last instanceof _code2.default) {\r\n          var _newlineIndex = last.newlineIndex(0);\r\n          if (_newlineIndex > -1) {\r\n            last.split(_newlineIndex + 1);\r\n          }\r\n        }\r\n        var ref = last.children.head instanceof _break2.default ? null : last.children.head;\r\n        first.moveChildren(last, ref);\r\n        first.remove();\r\n      }\r\n      this.optimize();\r\n    }\r\n  }, {\r\n    key: 'enable',\r\n    value: function enable() {\r\n      var enabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\r\n\r\n      this.domNode.setAttribute('contenteditable', enabled);\r\n    }\r\n  }, {\r\n    key: 'formatAt',\r\n    value: function formatAt(index, length, format, value) {\r\n      if (this.whitelist != null && !this.whitelist[format]) return;\r\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'formatAt', this).call(this, index, length, format, value);\r\n      this.optimize();\r\n    }\r\n  }, {\r\n    key: 'insertAt',\r\n    value: function insertAt(index, value, def) {\r\n      if (def != null && this.whitelist != null && !this.whitelist[value]) return;\r\n      if (index >= this.length()) {\r\n        if (def == null || _parchment2.default.query(value, _parchment2.default.Scope.BLOCK) == null) {\r\n          var blot = _parchment2.default.create(this.statics.defaultChild);\r\n          this.appendChild(blot);\r\n          if (def == null && value.endsWith('\\n')) {\r\n            value = value.slice(0, -1);\r\n          }\r\n          blot.insertAt(0, value, def);\r\n        } else {\r\n          var embed = _parchment2.default.create(value, def);\r\n          this.appendChild(embed);\r\n        }\r\n      } else {\r\n        _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'insertAt', this).call(this, index, value, def);\r\n      }\r\n      this.optimize();\r\n    }\r\n  }, {\r\n    key: 'insertBefore',\r\n    value: function insertBefore(blot, ref) {\r\n      if (blot.statics.scope === _parchment2.default.Scope.INLINE_BLOT) {\r\n        var wrapper = _parchment2.default.create(this.statics.defaultChild);\r\n        wrapper.appendChild(blot);\r\n        blot = wrapper;\r\n      }\r\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'insertBefore', this).call(this, blot, ref);\r\n    }\r\n  }, {\r\n    key: 'leaf',\r\n    value: function leaf(index) {\r\n      return this.path(index).pop() || [null, -1];\r\n    }\r\n  }, {\r\n    key: 'line',\r\n    value: function line(index) {\r\n      if (index === this.length()) {\r\n        return this.line(index - 1);\r\n      }\r\n      return this.descendant(isLine, index);\r\n    }\r\n  }, {\r\n    key: 'lines',\r\n    value: function lines() {\r\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\r\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Number.MAX_VALUE;\r\n\r\n      var getLines = function getLines(blot, index, length) {\r\n        var lines = [],\r\n            lengthLeft = length;\r\n        blot.children.forEachAt(index, length, function (child, index, length) {\r\n          if (isLine(child)) {\r\n            lines.push(child);\r\n          } else if (child instanceof _parchment2.default.Container) {\r\n            lines = lines.concat(getLines(child, index, lengthLeft));\r\n          }\r\n          lengthLeft -= length;\r\n        });\r\n        return lines;\r\n      };\r\n      return getLines(this, index, length);\r\n    }\r\n  }, {\r\n    key: 'optimize',\r\n    value: function optimize() {\r\n      var mutations = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\r\n      var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\r\n\r\n      if (this.batch === true) return;\r\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'optimize', this).call(this, mutations, context);\r\n      if (mutations.length > 0) {\r\n        this.emitter.emit(_emitter2.default.events.SCROLL_OPTIMIZE, mutations, context);\r\n      }\r\n    }\r\n  }, {\r\n    key: 'path',\r\n    value: function path(index) {\r\n      return _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'path', this).call(this, index).slice(1); // Exclude self\r\n    }\r\n  }, {\r\n    key: 'update',\r\n    value: function update(mutations) {\r\n      if (this.batch === true) return;\r\n      var source = _emitter2.default.sources.USER;\r\n      if (typeof mutations === 'string') {\r\n        source = mutations;\r\n      }\r\n      if (!Array.isArray(mutations)) {\r\n        mutations = this.observer.takeRecords();\r\n      }\r\n      if (mutations.length > 0) {\r\n        this.emitter.emit(_emitter2.default.events.SCROLL_BEFORE_UPDATE, source, mutations);\r\n      }\r\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'update', this).call(this, mutations.concat([])); // pass copy\r\n      if (mutations.length > 0) {\r\n        this.emitter.emit(_emitter2.default.events.SCROLL_UPDATE, source, mutations);\r\n      }\r\n    }\r\n  }]);\r\n\r\n  return Scroll;\r\n}(_parchment2.default.Scroll);\r\n\r\nScroll.blotName = 'scroll';\r\nScroll.className = 'ql-editor';\r\nScroll.tagName = 'DIV';\r\nScroll.defaultChild = 'block';\r\nScroll.allowedChildren = [_block2.default, _block.BlockEmbed, _container2.default];\r\n\r\nexports.default = Scroll;\r\n\r\n/***/ }),\r\n/* 23 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.SHORTKEY = exports.default = undefined;\r\n\r\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\r\n\r\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _clone = __webpack_require__(21);\r\n\r\nvar _clone2 = _interopRequireDefault(_clone);\r\n\r\nvar _deepEqual = __webpack_require__(11);\r\n\r\nvar _deepEqual2 = _interopRequireDefault(_deepEqual);\r\n\r\nvar _extend = __webpack_require__(3);\r\n\r\nvar _extend2 = _interopRequireDefault(_extend);\r\n\r\nvar _quillDelta = __webpack_require__(2);\r\n\r\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\r\n\r\nvar _op = __webpack_require__(20);\r\n\r\nvar _op2 = _interopRequireDefault(_op);\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nvar _quill = __webpack_require__(5);\r\n\r\nvar _quill2 = _interopRequireDefault(_quill);\r\n\r\nvar _logger = __webpack_require__(10);\r\n\r\nvar _logger2 = _interopRequireDefault(_logger);\r\n\r\nvar _module = __webpack_require__(9);\r\n\r\nvar _module2 = _interopRequireDefault(_module);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar debug = (0, _logger2.default)('quill:keyboard');\r\n\r\nvar SHORTKEY = /Mac/i.test(navigator.platform) ? 'metaKey' : 'ctrlKey';\r\n\r\nvar Keyboard = function (_Module) {\r\n  _inherits(Keyboard, _Module);\r\n\r\n  _createClass(Keyboard, null, [{\r\n    key: 'match',\r\n    value: function match(evt, binding) {\r\n      binding = normalize(binding);\r\n      if (['altKey', 'ctrlKey', 'metaKey', 'shiftKey'].some(function (key) {\r\n        return !!binding[key] !== evt[key] && binding[key] !== null;\r\n      })) {\r\n        return false;\r\n      }\r\n      return binding.key === (evt.which || evt.keyCode);\r\n    }\r\n  }]);\r\n\r\n  function Keyboard(quill, options) {\r\n    _classCallCheck(this, Keyboard);\r\n\r\n    var _this = _possibleConstructorReturn(this, (Keyboard.__proto__ || Object.getPrototypeOf(Keyboard)).call(this, quill, options));\r\n\r\n    _this.bindings = {};\r\n    Object.keys(_this.options.bindings).forEach(function (name) {\r\n      if (name === 'list autofill' && quill.scroll.whitelist != null && !quill.scroll.whitelist['list']) {\r\n        return;\r\n      }\r\n      if (_this.options.bindings[name]) {\r\n        _this.addBinding(_this.options.bindings[name]);\r\n      }\r\n    });\r\n    _this.addBinding({ key: Keyboard.keys.ENTER, shiftKey: null }, handleEnter);\r\n    _this.addBinding({ key: Keyboard.keys.ENTER, metaKey: null, ctrlKey: null, altKey: null }, function () {});\r\n    if (/Firefox/i.test(navigator.userAgent)) {\r\n      // Need to handle delete and backspace for Firefox in the general case #1171\r\n      _this.addBinding({ key: Keyboard.keys.BACKSPACE }, { collapsed: true }, handleBackspace);\r\n      _this.addBinding({ key: Keyboard.keys.DELETE }, { collapsed: true }, handleDelete);\r\n    } else {\r\n      _this.addBinding({ key: Keyboard.keys.BACKSPACE }, { collapsed: true, prefix: /^.?$/ }, handleBackspace);\r\n      _this.addBinding({ key: Keyboard.keys.DELETE }, { collapsed: true, suffix: /^.?$/ }, handleDelete);\r\n    }\r\n    _this.addBinding({ key: Keyboard.keys.BACKSPACE }, { collapsed: false }, handleDeleteRange);\r\n    _this.addBinding({ key: Keyboard.keys.DELETE }, { collapsed: false }, handleDeleteRange);\r\n    _this.addBinding({ key: Keyboard.keys.BACKSPACE, altKey: null, ctrlKey: null, metaKey: null, shiftKey: null }, { collapsed: true, offset: 0 }, handleBackspace);\r\n    _this.listen();\r\n    return _this;\r\n  }\r\n\r\n  _createClass(Keyboard, [{\r\n    key: 'addBinding',\r\n    value: function addBinding(key) {\r\n      var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\r\n      var handler = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\r\n\r\n      var binding = normalize(key);\r\n      if (binding == null || binding.key == null) {\r\n        return debug.warn('Attempted to add invalid keyboard binding', binding);\r\n      }\r\n      if (typeof context === 'function') {\r\n        context = { handler: context };\r\n      }\r\n      if (typeof handler === 'function') {\r\n        handler = { handler: handler };\r\n      }\r\n      binding = (0, _extend2.default)(binding, context, handler);\r\n      this.bindings[binding.key] = this.bindings[binding.key] || [];\r\n      this.bindings[binding.key].push(binding);\r\n    }\r\n  }, {\r\n    key: 'listen',\r\n    value: function listen() {\r\n      var _this2 = this;\r\n\r\n      this.quill.root.addEventListener('keydown', function (evt) {\r\n        if (evt.defaultPrevented) return;\r\n        var which = evt.which || evt.keyCode;\r\n        var bindings = (_this2.bindings[which] || []).filter(function (binding) {\r\n          return Keyboard.match(evt, binding);\r\n        });\r\n        if (bindings.length === 0) return;\r\n        var range = _this2.quill.getSelection();\r\n        if (range == null || !_this2.quill.hasFocus()) return;\r\n\r\n        var _quill$getLine = _this2.quill.getLine(range.index),\r\n            _quill$getLine2 = _slicedToArray(_quill$getLine, 2),\r\n            line = _quill$getLine2[0],\r\n            offset = _quill$getLine2[1];\r\n\r\n        var _quill$getLeaf = _this2.quill.getLeaf(range.index),\r\n            _quill$getLeaf2 = _slicedToArray(_quill$getLeaf, 2),\r\n            leafStart = _quill$getLeaf2[0],\r\n            offsetStart = _quill$getLeaf2[1];\r\n\r\n        var _ref = range.length === 0 ? [leafStart, offsetStart] : _this2.quill.getLeaf(range.index + range.length),\r\n            _ref2 = _slicedToArray(_ref, 2),\r\n            leafEnd = _ref2[0],\r\n            offsetEnd = _ref2[1];\r\n\r\n        var prefixText = leafStart instanceof _parchment2.default.Text ? leafStart.value().slice(0, offsetStart) : '';\r\n        var suffixText = leafEnd instanceof _parchment2.default.Text ? leafEnd.value().slice(offsetEnd) : '';\r\n        var curContext = {\r\n          collapsed: range.length === 0,\r\n          empty: range.length === 0 && line.length() <= 1,\r\n          format: _this2.quill.getFormat(range),\r\n          offset: offset,\r\n          prefix: prefixText,\r\n          suffix: suffixText\r\n        };\r\n        var prevented = bindings.some(function (binding) {\r\n          if (binding.collapsed != null && binding.collapsed !== curContext.collapsed) return false;\r\n          if (binding.empty != null && binding.empty !== curContext.empty) return false;\r\n          if (binding.offset != null && binding.offset !== curContext.offset) return false;\r\n          if (Array.isArray(binding.format)) {\r\n            // any format is present\r\n            if (binding.format.every(function (name) {\r\n              return curContext.format[name] == null;\r\n            })) {\r\n              return false;\r\n            }\r\n          } else if (_typeof(binding.format) === 'object') {\r\n            // all formats must match\r\n            if (!Object.keys(binding.format).every(function (name) {\r\n              if (binding.format[name] === true) return curContext.format[name] != null;\r\n              if (binding.format[name] === false) return curContext.format[name] == null;\r\n              return (0, _deepEqual2.default)(binding.format[name], curContext.format[name]);\r\n            })) {\r\n              return false;\r\n            }\r\n          }\r\n          if (binding.prefix != null && !binding.prefix.test(curContext.prefix)) return false;\r\n          if (binding.suffix != null && !binding.suffix.test(curContext.suffix)) return false;\r\n          return binding.handler.call(_this2, range, curContext) !== true;\r\n        });\r\n        if (prevented) {\r\n          evt.preventDefault();\r\n        }\r\n      });\r\n    }\r\n  }]);\r\n\r\n  return Keyboard;\r\n}(_module2.default);\r\n\r\nKeyboard.keys = {\r\n  BACKSPACE: 8,\r\n  TAB: 9,\r\n  ENTER: 13,\r\n  ESCAPE: 27,\r\n  LEFT: 37,\r\n  UP: 38,\r\n  RIGHT: 39,\r\n  DOWN: 40,\r\n  DELETE: 46\r\n};\r\n\r\nKeyboard.DEFAULTS = {\r\n  bindings: {\r\n    'bold': makeFormatHandler('bold'),\r\n    'italic': makeFormatHandler('italic'),\r\n    'underline': makeFormatHandler('underline'),\r\n    'indent': {\r\n      // highlight tab or tab at beginning of list, indent or blockquote\r\n      key: Keyboard.keys.TAB,\r\n      format: ['blockquote', 'indent', 'list'],\r\n      handler: function handler(range, context) {\r\n        if (context.collapsed && context.offset !== 0) return true;\r\n        this.quill.format('indent', '+1', _quill2.default.sources.USER);\r\n      }\r\n    },\r\n    'outdent': {\r\n      key: Keyboard.keys.TAB,\r\n      shiftKey: true,\r\n      format: ['blockquote', 'indent', 'list'],\r\n      // highlight tab or tab at beginning of list, indent or blockquote\r\n      handler: function handler(range, context) {\r\n        if (context.collapsed && context.offset !== 0) return true;\r\n        this.quill.format('indent', '-1', _quill2.default.sources.USER);\r\n      }\r\n    },\r\n    'outdent backspace': {\r\n      key: Keyboard.keys.BACKSPACE,\r\n      collapsed: true,\r\n      shiftKey: null,\r\n      metaKey: null,\r\n      ctrlKey: null,\r\n      altKey: null,\r\n      format: ['indent', 'list'],\r\n      offset: 0,\r\n      handler: function handler(range, context) {\r\n        if (context.format.indent != null) {\r\n          this.quill.format('indent', '-1', _quill2.default.sources.USER);\r\n        } else if (context.format.list != null) {\r\n          this.quill.format('list', false, _quill2.default.sources.USER);\r\n        }\r\n      }\r\n    },\r\n    'indent code-block': makeCodeBlockHandler(true),\r\n    'outdent code-block': makeCodeBlockHandler(false),\r\n    'remove tab': {\r\n      key: Keyboard.keys.TAB,\r\n      shiftKey: true,\r\n      collapsed: true,\r\n      prefix: /\\t$/,\r\n      handler: function handler(range) {\r\n        this.quill.deleteText(range.index - 1, 1, _quill2.default.sources.USER);\r\n      }\r\n    },\r\n    'tab': {\r\n      key: Keyboard.keys.TAB,\r\n      handler: function handler(range) {\r\n        this.quill.history.cutoff();\r\n        var delta = new _quillDelta2.default().retain(range.index).delete(range.length).insert('\\t');\r\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\r\n        this.quill.history.cutoff();\r\n        this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\r\n      }\r\n    },\r\n    'list empty enter': {\r\n      key: Keyboard.keys.ENTER,\r\n      collapsed: true,\r\n      format: ['list'],\r\n      empty: true,\r\n      handler: function handler(range, context) {\r\n        this.quill.format('list', false, _quill2.default.sources.USER);\r\n        if (context.format.indent) {\r\n          this.quill.format('indent', false, _quill2.default.sources.USER);\r\n        }\r\n      }\r\n    },\r\n    'checklist enter': {\r\n      key: Keyboard.keys.ENTER,\r\n      collapsed: true,\r\n      format: { list: 'checked' },\r\n      handler: function handler(range) {\r\n        var _quill$getLine3 = this.quill.getLine(range.index),\r\n            _quill$getLine4 = _slicedToArray(_quill$getLine3, 2),\r\n            line = _quill$getLine4[0],\r\n            offset = _quill$getLine4[1];\r\n\r\n        var formats = (0, _extend2.default)({}, line.formats(), { list: 'checked' });\r\n        var delta = new _quillDelta2.default().retain(range.index).insert('\\n', formats).retain(line.length() - offset - 1).retain(1, { list: 'unchecked' });\r\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\r\n        this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\r\n        this.quill.scrollIntoView();\r\n      }\r\n    },\r\n    'header enter': {\r\n      key: Keyboard.keys.ENTER,\r\n      collapsed: true,\r\n      format: ['header'],\r\n      suffix: /^$/,\r\n      handler: function handler(range, context) {\r\n        var _quill$getLine5 = this.quill.getLine(range.index),\r\n            _quill$getLine6 = _slicedToArray(_quill$getLine5, 2),\r\n            line = _quill$getLine6[0],\r\n            offset = _quill$getLine6[1];\r\n\r\n        var delta = new _quillDelta2.default().retain(range.index).insert('\\n', context.format).retain(line.length() - offset - 1).retain(1, { header: null });\r\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\r\n        this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\r\n        this.quill.scrollIntoView();\r\n      }\r\n    },\r\n    'list autofill': {\r\n      key: ' ',\r\n      collapsed: true,\r\n      format: { list: false },\r\n      prefix: /^\\s*?(\\d+\\.|-|\\*|\\[ ?\\]|\\[x\\])$/,\r\n      handler: function handler(range, context) {\r\n        var length = context.prefix.length;\r\n\r\n        var _quill$getLine7 = this.quill.getLine(range.index),\r\n            _quill$getLine8 = _slicedToArray(_quill$getLine7, 2),\r\n            line = _quill$getLine8[0],\r\n            offset = _quill$getLine8[1];\r\n\r\n        if (offset > length) return true;\r\n        var value = void 0;\r\n        switch (context.prefix.trim()) {\r\n          case '[]':case '[ ]':\r\n            value = 'unchecked';\r\n            break;\r\n          case '[x]':\r\n            value = 'checked';\r\n            break;\r\n          case '-':case '*':\r\n            value = 'bullet';\r\n            break;\r\n          default:\r\n            value = 'ordered';\r\n        }\r\n        this.quill.insertText(range.index, ' ', _quill2.default.sources.USER);\r\n        this.quill.history.cutoff();\r\n        var delta = new _quillDelta2.default().retain(range.index - offset).delete(length + 1).retain(line.length() - 2 - offset).retain(1, { list: value });\r\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\r\n        this.quill.history.cutoff();\r\n        this.quill.setSelection(range.index - length, _quill2.default.sources.SILENT);\r\n      }\r\n    },\r\n    'code exit': {\r\n      key: Keyboard.keys.ENTER,\r\n      collapsed: true,\r\n      format: ['code-block'],\r\n      prefix: /\\n\\n$/,\r\n      suffix: /^\\s+$/,\r\n      handler: function handler(range) {\r\n        var _quill$getLine9 = this.quill.getLine(range.index),\r\n            _quill$getLine10 = _slicedToArray(_quill$getLine9, 2),\r\n            line = _quill$getLine10[0],\r\n            offset = _quill$getLine10[1];\r\n\r\n        var delta = new _quillDelta2.default().retain(range.index + line.length() - offset - 2).retain(1, { 'code-block': null }).delete(1);\r\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\r\n      }\r\n    },\r\n    'embed left': makeEmbedArrowHandler(Keyboard.keys.LEFT, false),\r\n    'embed left shift': makeEmbedArrowHandler(Keyboard.keys.LEFT, true),\r\n    'embed right': makeEmbedArrowHandler(Keyboard.keys.RIGHT, false),\r\n    'embed right shift': makeEmbedArrowHandler(Keyboard.keys.RIGHT, true)\r\n  }\r\n};\r\n\r\nfunction makeEmbedArrowHandler(key, shiftKey) {\r\n  var _ref3;\r\n\r\n  var where = key === Keyboard.keys.LEFT ? 'prefix' : 'suffix';\r\n  return _ref3 = {\r\n    key: key,\r\n    shiftKey: shiftKey,\r\n    altKey: null\r\n  }, _defineProperty(_ref3, where, /^$/), _defineProperty(_ref3, 'handler', function handler(range) {\r\n    var index = range.index;\r\n    if (key === Keyboard.keys.RIGHT) {\r\n      index += range.length + 1;\r\n    }\r\n\r\n    var _quill$getLeaf3 = this.quill.getLeaf(index),\r\n        _quill$getLeaf4 = _slicedToArray(_quill$getLeaf3, 1),\r\n        leaf = _quill$getLeaf4[0];\r\n\r\n    if (!(leaf instanceof _parchment2.default.Embed)) return true;\r\n    if (key === Keyboard.keys.LEFT) {\r\n      if (shiftKey) {\r\n        this.quill.setSelection(range.index - 1, range.length + 1, _quill2.default.sources.USER);\r\n      } else {\r\n        this.quill.setSelection(range.index - 1, _quill2.default.sources.USER);\r\n      }\r\n    } else {\r\n      if (shiftKey) {\r\n        this.quill.setSelection(range.index, range.length + 1, _quill2.default.sources.USER);\r\n      } else {\r\n        this.quill.setSelection(range.index + range.length + 1, _quill2.default.sources.USER);\r\n      }\r\n    }\r\n    return false;\r\n  }), _ref3;\r\n}\r\n\r\nfunction handleBackspace(range, context) {\r\n  if (range.index === 0 || this.quill.getLength() <= 1) return;\r\n\r\n  var _quill$getLine11 = this.quill.getLine(range.index),\r\n      _quill$getLine12 = _slicedToArray(_quill$getLine11, 1),\r\n      line = _quill$getLine12[0];\r\n\r\n  var formats = {};\r\n  if (context.offset === 0) {\r\n    var _quill$getLine13 = this.quill.getLine(range.index - 1),\r\n        _quill$getLine14 = _slicedToArray(_quill$getLine13, 1),\r\n        prev = _quill$getLine14[0];\r\n\r\n    if (prev != null && prev.length() > 1) {\r\n      var curFormats = line.formats();\r\n      var prevFormats = this.quill.getFormat(range.index - 1, 1);\r\n      formats = _op2.default.attributes.diff(curFormats, prevFormats) || {};\r\n    }\r\n  }\r\n  // Check for astral symbols\r\n  var length = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]$/.test(context.prefix) ? 2 : 1;\r\n  this.quill.deleteText(range.index - length, length, _quill2.default.sources.USER);\r\n  if (Object.keys(formats).length > 0) {\r\n    this.quill.formatLine(range.index - length, length, formats, _quill2.default.sources.USER);\r\n  }\r\n  this.quill.focus();\r\n}\r\n\r\nfunction handleDelete(range, context) {\r\n  // Check for astral symbols\r\n  var length = /^[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/.test(context.suffix) ? 2 : 1;\r\n  if (range.index >= this.quill.getLength() - length) return;\r\n  var formats = {},\r\n      nextLength = 0;\r\n\r\n  var _quill$getLine15 = this.quill.getLine(range.index),\r\n      _quill$getLine16 = _slicedToArray(_quill$getLine15, 1),\r\n      line = _quill$getLine16[0];\r\n\r\n  if (context.offset >= line.length() - 1) {\r\n    var _quill$getLine17 = this.quill.getLine(range.index + 1),\r\n        _quill$getLine18 = _slicedToArray(_quill$getLine17, 1),\r\n        next = _quill$getLine18[0];\r\n\r\n    if (next) {\r\n      var curFormats = line.formats();\r\n      var nextFormats = this.quill.getFormat(range.index, 1);\r\n      formats = _op2.default.attributes.diff(curFormats, nextFormats) || {};\r\n      nextLength = next.length();\r\n    }\r\n  }\r\n  this.quill.deleteText(range.index, length, _quill2.default.sources.USER);\r\n  if (Object.keys(formats).length > 0) {\r\n    this.quill.formatLine(range.index + nextLength - 1, length, formats, _quill2.default.sources.USER);\r\n  }\r\n}\r\n\r\nfunction handleDeleteRange(range) {\r\n  var lines = this.quill.getLines(range);\r\n  var formats = {};\r\n  if (lines.length > 1) {\r\n    var firstFormats = lines[0].formats();\r\n    var lastFormats = lines[lines.length - 1].formats();\r\n    formats = _op2.default.attributes.diff(lastFormats, firstFormats) || {};\r\n  }\r\n  this.quill.deleteText(range, _quill2.default.sources.USER);\r\n  if (Object.keys(formats).length > 0) {\r\n    this.quill.formatLine(range.index, 1, formats, _quill2.default.sources.USER);\r\n  }\r\n  this.quill.setSelection(range.index, _quill2.default.sources.SILENT);\r\n  this.quill.focus();\r\n}\r\n\r\nfunction handleEnter(range, context) {\r\n  var _this3 = this;\r\n\r\n  if (range.length > 0) {\r\n    this.quill.scroll.deleteAt(range.index, range.length); // So we do not trigger text-change\r\n  }\r\n  var lineFormats = Object.keys(context.format).reduce(function (lineFormats, format) {\r\n    if (_parchment2.default.query(format, _parchment2.default.Scope.BLOCK) && !Array.isArray(context.format[format])) {\r\n      lineFormats[format] = context.format[format];\r\n    }\r\n    return lineFormats;\r\n  }, {});\r\n  this.quill.insertText(range.index, '\\n', lineFormats, _quill2.default.sources.USER);\r\n  // Earlier scroll.deleteAt might have messed up our selection,\r\n  // so insertText's built in selection preservation is not reliable\r\n  this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\r\n  this.quill.focus();\r\n  Object.keys(context.format).forEach(function (name) {\r\n    if (lineFormats[name] != null) return;\r\n    if (Array.isArray(context.format[name])) return;\r\n    if (name === 'link') return;\r\n    _this3.quill.format(name, context.format[name], _quill2.default.sources.USER);\r\n  });\r\n}\r\n\r\nfunction makeCodeBlockHandler(indent) {\r\n  return {\r\n    key: Keyboard.keys.TAB,\r\n    shiftKey: !indent,\r\n    format: { 'code-block': true },\r\n    handler: function handler(range) {\r\n      var CodeBlock = _parchment2.default.query('code-block');\r\n      var index = range.index,\r\n          length = range.length;\r\n\r\n      var _quill$scroll$descend = this.quill.scroll.descendant(CodeBlock, index),\r\n          _quill$scroll$descend2 = _slicedToArray(_quill$scroll$descend, 2),\r\n          block = _quill$scroll$descend2[0],\r\n          offset = _quill$scroll$descend2[1];\r\n\r\n      if (block == null) return;\r\n      var scrollIndex = this.quill.getIndex(block);\r\n      var start = block.newlineIndex(offset, true) + 1;\r\n      var end = block.newlineIndex(scrollIndex + offset + length);\r\n      var lines = block.domNode.textContent.slice(start, end).split('\\n');\r\n      offset = 0;\r\n      lines.forEach(function (line, i) {\r\n        if (indent) {\r\n          block.insertAt(start + offset, CodeBlock.TAB);\r\n          offset += CodeBlock.TAB.length;\r\n          if (i === 0) {\r\n            index += CodeBlock.TAB.length;\r\n          } else {\r\n            length += CodeBlock.TAB.length;\r\n          }\r\n        } else if (line.startsWith(CodeBlock.TAB)) {\r\n          block.deleteAt(start + offset, CodeBlock.TAB.length);\r\n          offset -= CodeBlock.TAB.length;\r\n          if (i === 0) {\r\n            index -= CodeBlock.TAB.length;\r\n          } else {\r\n            length -= CodeBlock.TAB.length;\r\n          }\r\n        }\r\n        offset += line.length + 1;\r\n      });\r\n      this.quill.update(_quill2.default.sources.USER);\r\n      this.quill.setSelection(index, length, _quill2.default.sources.SILENT);\r\n    }\r\n  };\r\n}\r\n\r\nfunction makeFormatHandler(format) {\r\n  return {\r\n    key: format[0].toUpperCase(),\r\n    shortKey: true,\r\n    handler: function handler(range, context) {\r\n      this.quill.format(format, !context.format[format], _quill2.default.sources.USER);\r\n    }\r\n  };\r\n}\r\n\r\nfunction normalize(binding) {\r\n  if (typeof binding === 'string' || typeof binding === 'number') {\r\n    return normalize({ key: binding });\r\n  }\r\n  if ((typeof binding === 'undefined' ? 'undefined' : _typeof(binding)) === 'object') {\r\n    binding = (0, _clone2.default)(binding, false);\r\n  }\r\n  if (typeof binding.key === 'string') {\r\n    if (Keyboard.keys[binding.key.toUpperCase()] != null) {\r\n      binding.key = Keyboard.keys[binding.key.toUpperCase()];\r\n    } else if (binding.key.length === 1) {\r\n      binding.key = binding.key.toUpperCase().charCodeAt(0);\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n  if (binding.shortKey) {\r\n    binding[SHORTKEY] = binding.shortKey;\r\n    delete binding.shortKey;\r\n  }\r\n  return binding;\r\n}\r\n\r\nexports.default = Keyboard;\r\nexports.SHORTKEY = SHORTKEY;\r\n\r\n/***/ }),\r\n/* 24 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nvar _text = __webpack_require__(7);\r\n\r\nvar _text2 = _interopRequireDefault(_text);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar Cursor = function (_Parchment$Embed) {\r\n  _inherits(Cursor, _Parchment$Embed);\r\n\r\n  _createClass(Cursor, null, [{\r\n    key: 'value',\r\n    value: function value() {\r\n      return undefined;\r\n    }\r\n  }]);\r\n\r\n  function Cursor(domNode, selection) {\r\n    _classCallCheck(this, Cursor);\r\n\r\n    var _this = _possibleConstructorReturn(this, (Cursor.__proto__ || Object.getPrototypeOf(Cursor)).call(this, domNode));\r\n\r\n    _this.selection = selection;\r\n    _this.textNode = document.createTextNode(Cursor.CONTENTS);\r\n    _this.domNode.appendChild(_this.textNode);\r\n    _this._length = 0;\r\n    return _this;\r\n  }\r\n\r\n  _createClass(Cursor, [{\r\n    key: 'detach',\r\n    value: function detach() {\r\n      // super.detach() will also clear domNode.__blot\r\n      if (this.parent != null) this.parent.removeChild(this);\r\n    }\r\n  }, {\r\n    key: 'format',\r\n    value: function format(name, value) {\r\n      if (this._length !== 0) {\r\n        return _get(Cursor.prototype.__proto__ || Object.getPrototypeOf(Cursor.prototype), 'format', this).call(this, name, value);\r\n      }\r\n      var target = this,\r\n          index = 0;\r\n      while (target != null && target.statics.scope !== _parchment2.default.Scope.BLOCK_BLOT) {\r\n        index += target.offset(target.parent);\r\n        target = target.parent;\r\n      }\r\n      if (target != null) {\r\n        this._length = Cursor.CONTENTS.length;\r\n        target.optimize();\r\n        target.formatAt(index, Cursor.CONTENTS.length, name, value);\r\n        this._length = 0;\r\n      }\r\n    }\r\n  }, {\r\n    key: 'index',\r\n    value: function index(node, offset) {\r\n      if (node === this.textNode) return 0;\r\n      return _get(Cursor.prototype.__proto__ || Object.getPrototypeOf(Cursor.prototype), 'index', this).call(this, node, offset);\r\n    }\r\n  }, {\r\n    key: 'length',\r\n    value: function length() {\r\n      return this._length;\r\n    }\r\n  }, {\r\n    key: 'position',\r\n    value: function position() {\r\n      return [this.textNode, this.textNode.data.length];\r\n    }\r\n  }, {\r\n    key: 'remove',\r\n    value: function remove() {\r\n      _get(Cursor.prototype.__proto__ || Object.getPrototypeOf(Cursor.prototype), 'remove', this).call(this);\r\n      this.parent = null;\r\n    }\r\n  }, {\r\n    key: 'restore',\r\n    value: function restore() {\r\n      if (this.selection.composing || this.parent == null) return;\r\n      var textNode = this.textNode;\r\n      var range = this.selection.getNativeRange();\r\n      var restoreText = void 0,\r\n          start = void 0,\r\n          end = void 0;\r\n      if (range != null && range.start.node === textNode && range.end.node === textNode) {\r\n        var _ref = [textNode, range.start.offset, range.end.offset];\r\n        restoreText = _ref[0];\r\n        start = _ref[1];\r\n        end = _ref[2];\r\n      }\r\n      // Link format will insert text outside of anchor tag\r\n      while (this.domNode.lastChild != null && this.domNode.lastChild !== this.textNode) {\r\n        this.domNode.parentNode.insertBefore(this.domNode.lastChild, this.domNode);\r\n      }\r\n      if (this.textNode.data !== Cursor.CONTENTS) {\r\n        var text = this.textNode.data.split(Cursor.CONTENTS).join('');\r\n        if (this.next instanceof _text2.default) {\r\n          restoreText = this.next.domNode;\r\n          this.next.insertAt(0, text);\r\n          this.textNode.data = Cursor.CONTENTS;\r\n        } else {\r\n          this.textNode.data = text;\r\n          this.parent.insertBefore(_parchment2.default.create(this.textNode), this);\r\n          this.textNode = document.createTextNode(Cursor.CONTENTS);\r\n          this.domNode.appendChild(this.textNode);\r\n        }\r\n      }\r\n      this.remove();\r\n      if (start != null) {\r\n        var _map = [start, end].map(function (offset) {\r\n          return Math.max(0, Math.min(restoreText.data.length, offset - 1));\r\n        });\r\n\r\n        var _map2 = _slicedToArray(_map, 2);\r\n\r\n        start = _map2[0];\r\n        end = _map2[1];\r\n\r\n        return {\r\n          startNode: restoreText,\r\n          startOffset: start,\r\n          endNode: restoreText,\r\n          endOffset: end\r\n        };\r\n      }\r\n    }\r\n  }, {\r\n    key: 'update',\r\n    value: function update(mutations, context) {\r\n      var _this2 = this;\r\n\r\n      if (mutations.some(function (mutation) {\r\n        return mutation.type === 'characterData' && mutation.target === _this2.textNode;\r\n      })) {\r\n        var range = this.restore();\r\n        if (range) context.range = range;\r\n      }\r\n    }\r\n  }, {\r\n    key: 'value',\r\n    value: function value() {\r\n      return '';\r\n    }\r\n  }]);\r\n\r\n  return Cursor;\r\n}(_parchment2.default.Embed);\r\n\r\nCursor.blotName = 'cursor';\r\nCursor.className = 'ql-cursor';\r\nCursor.tagName = 'span';\r\nCursor.CONTENTS = '\\uFEFF'; // Zero width no break space\r\n\r\n\r\nexports.default = Cursor;\r\n\r\n/***/ }),\r\n/* 25 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nvar _block = __webpack_require__(4);\r\n\r\nvar _block2 = _interopRequireDefault(_block);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar Container = function (_Parchment$Container) {\r\n  _inherits(Container, _Parchment$Container);\r\n\r\n  function Container() {\r\n    _classCallCheck(this, Container);\r\n\r\n    return _possibleConstructorReturn(this, (Container.__proto__ || Object.getPrototypeOf(Container)).apply(this, arguments));\r\n  }\r\n\r\n  return Container;\r\n}(_parchment2.default.Container);\r\n\r\nContainer.allowedChildren = [_block2.default, _block.BlockEmbed, Container];\r\n\r\nexports.default = Container;\r\n\r\n/***/ }),\r\n/* 26 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.ColorStyle = exports.ColorClass = exports.ColorAttributor = undefined;\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar ColorAttributor = function (_Parchment$Attributor) {\r\n  _inherits(ColorAttributor, _Parchment$Attributor);\r\n\r\n  function ColorAttributor() {\r\n    _classCallCheck(this, ColorAttributor);\r\n\r\n    return _possibleConstructorReturn(this, (ColorAttributor.__proto__ || Object.getPrototypeOf(ColorAttributor)).apply(this, arguments));\r\n  }\r\n\r\n  _createClass(ColorAttributor, [{\r\n    key: 'value',\r\n    value: function value(domNode) {\r\n      var value = _get(ColorAttributor.prototype.__proto__ || Object.getPrototypeOf(ColorAttributor.prototype), 'value', this).call(this, domNode);\r\n      if (!value.startsWith('rgb(')) return value;\r\n      value = value.replace(/^[^\\d]+/, '').replace(/[^\\d]+$/, '');\r\n      return '#' + value.split(',').map(function (component) {\r\n        return ('00' + parseInt(component).toString(16)).slice(-2);\r\n      }).join('');\r\n    }\r\n  }]);\r\n\r\n  return ColorAttributor;\r\n}(_parchment2.default.Attributor.Style);\r\n\r\nvar ColorClass = new _parchment2.default.Attributor.Class('color', 'ql-color', {\r\n  scope: _parchment2.default.Scope.INLINE\r\n});\r\nvar ColorStyle = new ColorAttributor('color', 'color', {\r\n  scope: _parchment2.default.Scope.INLINE\r\n});\r\n\r\nexports.ColorAttributor = ColorAttributor;\r\nexports.ColorClass = ColorClass;\r\nexports.ColorStyle = ColorStyle;\r\n\r\n/***/ }),\r\n/* 27 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.sanitize = exports.default = undefined;\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _inline = __webpack_require__(6);\r\n\r\nvar _inline2 = _interopRequireDefault(_inline);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar Link = function (_Inline) {\r\n  _inherits(Link, _Inline);\r\n\r\n  function Link() {\r\n    _classCallCheck(this, Link);\r\n\r\n    return _possibleConstructorReturn(this, (Link.__proto__ || Object.getPrototypeOf(Link)).apply(this, arguments));\r\n  }\r\n\r\n  _createClass(Link, [{\r\n    key: 'format',\r\n    value: function format(name, value) {\r\n      if (name !== this.statics.blotName || !value) return _get(Link.prototype.__proto__ || Object.getPrototypeOf(Link.prototype), 'format', this).call(this, name, value);\r\n      value = this.constructor.sanitize(value);\r\n      this.domNode.setAttribute('href', value);\r\n    }\r\n  }], [{\r\n    key: 'create',\r\n    value: function create(value) {\r\n      var node = _get(Link.__proto__ || Object.getPrototypeOf(Link), 'create', this).call(this, value);\r\n      value = this.sanitize(value);\r\n      node.setAttribute('href', value);\r\n      node.setAttribute('rel', 'noopener noreferrer');\r\n      node.setAttribute('target', '_blank');\r\n      return node;\r\n    }\r\n  }, {\r\n    key: 'formats',\r\n    value: function formats(domNode) {\r\n      return domNode.getAttribute('href');\r\n    }\r\n  }, {\r\n    key: 'sanitize',\r\n    value: function sanitize(url) {\r\n      return _sanitize(url, this.PROTOCOL_WHITELIST) ? url : this.SANITIZED_URL;\r\n    }\r\n  }]);\r\n\r\n  return Link;\r\n}(_inline2.default);\r\n\r\nLink.blotName = 'link';\r\nLink.tagName = 'A';\r\nLink.SANITIZED_URL = 'about:blank';\r\nLink.PROTOCOL_WHITELIST = ['http', 'https', 'mailto', 'tel'];\r\n\r\nfunction _sanitize(url, protocols) {\r\n  var anchor = document.createElement('a');\r\n  anchor.href = url;\r\n  var protocol = anchor.href.slice(0, anchor.href.indexOf(':'));\r\n  return protocols.indexOf(protocol) > -1;\r\n}\r\n\r\nexports.default = Link;\r\nexports.sanitize = _sanitize;\r\n\r\n/***/ }),\r\n/* 28 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _keyboard = __webpack_require__(23);\r\n\r\nvar _keyboard2 = _interopRequireDefault(_keyboard);\r\n\r\nvar _dropdown = __webpack_require__(107);\r\n\r\nvar _dropdown2 = _interopRequireDefault(_dropdown);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nvar optionsCounter = 0;\r\n\r\nfunction toggleAriaAttribute(element, attribute) {\r\n  element.setAttribute(attribute, !(element.getAttribute(attribute) === 'true'));\r\n}\r\n\r\nvar Picker = function () {\r\n  function Picker(select) {\r\n    var _this = this;\r\n\r\n    _classCallCheck(this, Picker);\r\n\r\n    this.select = select;\r\n    this.container = document.createElement('span');\r\n    this.buildPicker();\r\n    this.select.style.display = 'none';\r\n    this.select.parentNode.insertBefore(this.container, this.select);\r\n\r\n    this.label.addEventListener('mousedown', function () {\r\n      _this.togglePicker();\r\n    });\r\n    this.label.addEventListener('keydown', function (event) {\r\n      switch (event.keyCode) {\r\n        // Allows the \"Enter\" key to open the picker\r\n        case _keyboard2.default.keys.ENTER:\r\n          _this.togglePicker();\r\n          break;\r\n\r\n        // Allows the \"Escape\" key to close the picker\r\n        case _keyboard2.default.keys.ESCAPE:\r\n          _this.escape();\r\n          event.preventDefault();\r\n          break;\r\n        default:\r\n      }\r\n    });\r\n    this.select.addEventListener('change', this.update.bind(this));\r\n  }\r\n\r\n  _createClass(Picker, [{\r\n    key: 'togglePicker',\r\n    value: function togglePicker() {\r\n      this.container.classList.toggle('ql-expanded');\r\n      // Toggle aria-expanded and aria-hidden to make the picker accessible\r\n      toggleAriaAttribute(this.label, 'aria-expanded');\r\n      toggleAriaAttribute(this.options, 'aria-hidden');\r\n    }\r\n  }, {\r\n    key: 'buildItem',\r\n    value: function buildItem(option) {\r\n      var _this2 = this;\r\n\r\n      var item = document.createElement('span');\r\n      item.tabIndex = '0';\r\n      item.setAttribute('role', 'button');\r\n\r\n      item.classList.add('ql-picker-item');\r\n      if (option.hasAttribute('value')) {\r\n        item.setAttribute('data-value', option.getAttribute('value'));\r\n      }\r\n      if (option.textContent) {\r\n        item.setAttribute('data-label', option.textContent);\r\n      }\r\n      item.addEventListener('click', function () {\r\n        _this2.selectItem(item, true);\r\n      });\r\n      item.addEventListener('keydown', function (event) {\r\n        switch (event.keyCode) {\r\n          // Allows the \"Enter\" key to select an item\r\n          case _keyboard2.default.keys.ENTER:\r\n            _this2.selectItem(item, true);\r\n            event.preventDefault();\r\n            break;\r\n\r\n          // Allows the \"Escape\" key to close the picker\r\n          case _keyboard2.default.keys.ESCAPE:\r\n            _this2.escape();\r\n            event.preventDefault();\r\n            break;\r\n          default:\r\n        }\r\n      });\r\n\r\n      return item;\r\n    }\r\n  }, {\r\n    key: 'buildLabel',\r\n    value: function buildLabel() {\r\n      var label = document.createElement('span');\r\n      label.classList.add('ql-picker-label');\r\n      label.innerHTML = _dropdown2.default;\r\n      label.tabIndex = '0';\r\n      label.setAttribute('role', 'button');\r\n      label.setAttribute('aria-expanded', 'false');\r\n      this.container.appendChild(label);\r\n      return label;\r\n    }\r\n  }, {\r\n    key: 'buildOptions',\r\n    value: function buildOptions() {\r\n      var _this3 = this;\r\n\r\n      var options = document.createElement('span');\r\n      options.classList.add('ql-picker-options');\r\n\r\n      // Don't want screen readers to read this until options are visible\r\n      options.setAttribute('aria-hidden', 'true');\r\n      options.tabIndex = '-1';\r\n\r\n      // Need a unique id for aria-controls\r\n      options.id = 'ql-picker-options-' + optionsCounter;\r\n      optionsCounter += 1;\r\n      this.label.setAttribute('aria-controls', options.id);\r\n\r\n      this.options = options;\r\n\r\n      [].slice.call(this.select.options).forEach(function (option) {\r\n        var item = _this3.buildItem(option);\r\n        options.appendChild(item);\r\n        if (option.selected === true) {\r\n          _this3.selectItem(item);\r\n        }\r\n      });\r\n      this.container.appendChild(options);\r\n    }\r\n  }, {\r\n    key: 'buildPicker',\r\n    value: function buildPicker() {\r\n      var _this4 = this;\r\n\r\n      [].slice.call(this.select.attributes).forEach(function (item) {\r\n        _this4.container.setAttribute(item.name, item.value);\r\n      });\r\n      this.container.classList.add('ql-picker');\r\n      this.label = this.buildLabel();\r\n      this.buildOptions();\r\n    }\r\n  }, {\r\n    key: 'escape',\r\n    value: function escape() {\r\n      var _this5 = this;\r\n\r\n      // Close menu and return focus to trigger label\r\n      this.close();\r\n      // Need setTimeout for accessibility to ensure that the browser executes\r\n      // focus on the next process thread and after any DOM content changes\r\n      setTimeout(function () {\r\n        return _this5.label.focus();\r\n      }, 1);\r\n    }\r\n  }, {\r\n    key: 'close',\r\n    value: function close() {\r\n      this.container.classList.remove('ql-expanded');\r\n      this.label.setAttribute('aria-expanded', 'false');\r\n      this.options.setAttribute('aria-hidden', 'true');\r\n    }\r\n  }, {\r\n    key: 'selectItem',\r\n    value: function selectItem(item) {\r\n      var trigger = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\r\n\r\n      var selected = this.container.querySelector('.ql-selected');\r\n      if (item === selected) return;\r\n      if (selected != null) {\r\n        selected.classList.remove('ql-selected');\r\n      }\r\n      if (item == null) return;\r\n      item.classList.add('ql-selected');\r\n      this.select.selectedIndex = [].indexOf.call(item.parentNode.children, item);\r\n      if (item.hasAttribute('data-value')) {\r\n        this.label.setAttribute('data-value', item.getAttribute('data-value'));\r\n      } else {\r\n        this.label.removeAttribute('data-value');\r\n      }\r\n      if (item.hasAttribute('data-label')) {\r\n        this.label.setAttribute('data-label', item.getAttribute('data-label'));\r\n      } else {\r\n        this.label.removeAttribute('data-label');\r\n      }\r\n      if (trigger) {\r\n        if (typeof Event === 'function') {\r\n          this.select.dispatchEvent(new Event('change'));\r\n        } else if ((typeof Event === 'undefined' ? 'undefined' : _typeof(Event)) === 'object') {\r\n          // IE11\r\n          var event = document.createEvent('Event');\r\n          event.initEvent('change', true, true);\r\n          this.select.dispatchEvent(event);\r\n        }\r\n        this.close();\r\n      }\r\n    }\r\n  }, {\r\n    key: 'update',\r\n    value: function update() {\r\n      var option = void 0;\r\n      if (this.select.selectedIndex > -1) {\r\n        var item = this.container.querySelector('.ql-picker-options').children[this.select.selectedIndex];\r\n        option = this.select.options[this.select.selectedIndex];\r\n        this.selectItem(item);\r\n      } else {\r\n        this.selectItem(null);\r\n      }\r\n      var isActive = option != null && option !== this.select.querySelector('option[selected]');\r\n      this.label.classList.toggle('ql-active', isActive);\r\n    }\r\n  }]);\r\n\r\n  return Picker;\r\n}();\r\n\r\nexports.default = Picker;\r\n\r\n/***/ }),\r\n/* 29 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nvar _quill = __webpack_require__(5);\r\n\r\nvar _quill2 = _interopRequireDefault(_quill);\r\n\r\nvar _block = __webpack_require__(4);\r\n\r\nvar _block2 = _interopRequireDefault(_block);\r\n\r\nvar _break = __webpack_require__(16);\r\n\r\nvar _break2 = _interopRequireDefault(_break);\r\n\r\nvar _container = __webpack_require__(25);\r\n\r\nvar _container2 = _interopRequireDefault(_container);\r\n\r\nvar _cursor = __webpack_require__(24);\r\n\r\nvar _cursor2 = _interopRequireDefault(_cursor);\r\n\r\nvar _embed = __webpack_require__(35);\r\n\r\nvar _embed2 = _interopRequireDefault(_embed);\r\n\r\nvar _inline = __webpack_require__(6);\r\n\r\nvar _inline2 = _interopRequireDefault(_inline);\r\n\r\nvar _scroll = __webpack_require__(22);\r\n\r\nvar _scroll2 = _interopRequireDefault(_scroll);\r\n\r\nvar _text = __webpack_require__(7);\r\n\r\nvar _text2 = _interopRequireDefault(_text);\r\n\r\nvar _clipboard = __webpack_require__(55);\r\n\r\nvar _clipboard2 = _interopRequireDefault(_clipboard);\r\n\r\nvar _history = __webpack_require__(42);\r\n\r\nvar _history2 = _interopRequireDefault(_history);\r\n\r\nvar _keyboard = __webpack_require__(23);\r\n\r\nvar _keyboard2 = _interopRequireDefault(_keyboard);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\n_quill2.default.register({\r\n  'blots/block': _block2.default,\r\n  'blots/block/embed': _block.BlockEmbed,\r\n  'blots/break': _break2.default,\r\n  'blots/container': _container2.default,\r\n  'blots/cursor': _cursor2.default,\r\n  'blots/embed': _embed2.default,\r\n  'blots/inline': _inline2.default,\r\n  'blots/scroll': _scroll2.default,\r\n  'blots/text': _text2.default,\r\n\r\n  'modules/clipboard': _clipboard2.default,\r\n  'modules/history': _history2.default,\r\n  'modules/keyboard': _keyboard2.default\r\n});\r\n\r\n_parchment2.default.register(_block2.default, _break2.default, _cursor2.default, _inline2.default, _scroll2.default, _text2.default);\r\n\r\nexports.default = _quill2.default;\r\n\r\n/***/ }),\r\n/* 30 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Registry = __webpack_require__(1);\r\nvar ShadowBlot = /** @class */ (function () {\r\n    function ShadowBlot(domNode) {\r\n        this.domNode = domNode;\r\n        // @ts-ignore\r\n        this.domNode[Registry.DATA_KEY] = { blot: this };\r\n    }\r\n    Object.defineProperty(ShadowBlot.prototype, \"statics\", {\r\n        // Hack for accessing inherited static methods\r\n        get: function () {\r\n            return this.constructor;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ShadowBlot.create = function (value) {\r\n        if (this.tagName == null) {\r\n            throw new Registry.ParchmentError('Blot definition missing tagName');\r\n        }\r\n        var node;\r\n        if (Array.isArray(this.tagName)) {\r\n            if (typeof value === 'string') {\r\n                value = value.toUpperCase();\r\n                if (parseInt(value).toString() === value) {\r\n                    value = parseInt(value);\r\n                }\r\n            }\r\n            if (typeof value === 'number') {\r\n                node = document.createElement(this.tagName[value - 1]);\r\n            }\r\n            else if (this.tagName.indexOf(value) > -1) {\r\n                node = document.createElement(value);\r\n            }\r\n            else {\r\n                node = document.createElement(this.tagName[0]);\r\n            }\r\n        }\r\n        else {\r\n            node = document.createElement(this.tagName);\r\n        }\r\n        if (this.className) {\r\n            node.classList.add(this.className);\r\n        }\r\n        return node;\r\n    };\r\n    ShadowBlot.prototype.attach = function () {\r\n        if (this.parent != null) {\r\n            this.scroll = this.parent.scroll;\r\n        }\r\n    };\r\n    ShadowBlot.prototype.clone = function () {\r\n        var domNode = this.domNode.cloneNode(false);\r\n        return Registry.create(domNode);\r\n    };\r\n    ShadowBlot.prototype.detach = function () {\r\n        if (this.parent != null)\r\n            this.parent.removeChild(this);\r\n        // @ts-ignore\r\n        delete this.domNode[Registry.DATA_KEY];\r\n    };\r\n    ShadowBlot.prototype.deleteAt = function (index, length) {\r\n        var blot = this.isolate(index, length);\r\n        blot.remove();\r\n    };\r\n    ShadowBlot.prototype.formatAt = function (index, length, name, value) {\r\n        var blot = this.isolate(index, length);\r\n        if (Registry.query(name, Registry.Scope.BLOT) != null && value) {\r\n            blot.wrap(name, value);\r\n        }\r\n        else if (Registry.query(name, Registry.Scope.ATTRIBUTE) != null) {\r\n            var parent = Registry.create(this.statics.scope);\r\n            blot.wrap(parent);\r\n            parent.format(name, value);\r\n        }\r\n    };\r\n    ShadowBlot.prototype.insertAt = function (index, value, def) {\r\n        var blot = def == null ? Registry.create('text', value) : Registry.create(value, def);\r\n        var ref = this.split(index);\r\n        this.parent.insertBefore(blot, ref);\r\n    };\r\n    ShadowBlot.prototype.insertInto = function (parentBlot, refBlot) {\r\n        if (refBlot === void 0) { refBlot = null; }\r\n        if (this.parent != null) {\r\n            this.parent.children.remove(this);\r\n        }\r\n        var refDomNode = null;\r\n        parentBlot.children.insertBefore(this, refBlot);\r\n        if (refBlot != null) {\r\n            refDomNode = refBlot.domNode;\r\n        }\r\n        if (this.domNode.parentNode != parentBlot.domNode ||\r\n            this.domNode.nextSibling != refDomNode) {\r\n            parentBlot.domNode.insertBefore(this.domNode, refDomNode);\r\n        }\r\n        this.parent = parentBlot;\r\n        this.attach();\r\n    };\r\n    ShadowBlot.prototype.isolate = function (index, length) {\r\n        var target = this.split(index);\r\n        target.split(length);\r\n        return target;\r\n    };\r\n    ShadowBlot.prototype.length = function () {\r\n        return 1;\r\n    };\r\n    ShadowBlot.prototype.offset = function (root) {\r\n        if (root === void 0) { root = this.parent; }\r\n        if (this.parent == null || this == root)\r\n            return 0;\r\n        return this.parent.children.offset(this) + this.parent.offset(root);\r\n    };\r\n    ShadowBlot.prototype.optimize = function (context) {\r\n        // TODO clean up once we use WeakMap\r\n        // @ts-ignore\r\n        if (this.domNode[Registry.DATA_KEY] != null) {\r\n            // @ts-ignore\r\n            delete this.domNode[Registry.DATA_KEY].mutations;\r\n        }\r\n    };\r\n    ShadowBlot.prototype.remove = function () {\r\n        if (this.domNode.parentNode != null) {\r\n            this.domNode.parentNode.removeChild(this.domNode);\r\n        }\r\n        this.detach();\r\n    };\r\n    ShadowBlot.prototype.replace = function (target) {\r\n        if (target.parent == null)\r\n            return;\r\n        target.parent.insertBefore(this, target.next);\r\n        target.remove();\r\n    };\r\n    ShadowBlot.prototype.replaceWith = function (name, value) {\r\n        var replacement = typeof name === 'string' ? Registry.create(name, value) : name;\r\n        replacement.replace(this);\r\n        return replacement;\r\n    };\r\n    ShadowBlot.prototype.split = function (index, force) {\r\n        return index === 0 ? this : this.next;\r\n    };\r\n    ShadowBlot.prototype.update = function (mutations, context) {\r\n        // Nothing to do by default\r\n    };\r\n    ShadowBlot.prototype.wrap = function (name, value) {\r\n        var wrapper = typeof name === 'string' ? Registry.create(name, value) : name;\r\n        if (this.parent != null) {\r\n            this.parent.insertBefore(wrapper, this.next);\r\n        }\r\n        wrapper.appendChild(this);\r\n        return wrapper;\r\n    };\r\n    ShadowBlot.blotName = 'abstract';\r\n    return ShadowBlot;\r\n}());\r\nexports.default = ShadowBlot;\r\n\r\n\r\n/***/ }),\r\n/* 31 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar attributor_1 = __webpack_require__(12);\r\nvar class_1 = __webpack_require__(32);\r\nvar style_1 = __webpack_require__(33);\r\nvar Registry = __webpack_require__(1);\r\nvar AttributorStore = /** @class */ (function () {\r\n    function AttributorStore(domNode) {\r\n        this.attributes = {};\r\n        this.domNode = domNode;\r\n        this.build();\r\n    }\r\n    AttributorStore.prototype.attribute = function (attribute, value) {\r\n        // verb\r\n        if (value) {\r\n            if (attribute.add(this.domNode, value)) {\r\n                if (attribute.value(this.domNode) != null) {\r\n                    this.attributes[attribute.attrName] = attribute;\r\n                }\r\n                else {\r\n                    delete this.attributes[attribute.attrName];\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            attribute.remove(this.domNode);\r\n            delete this.attributes[attribute.attrName];\r\n        }\r\n    };\r\n    AttributorStore.prototype.build = function () {\r\n        var _this = this;\r\n        this.attributes = {};\r\n        var attributes = attributor_1.default.keys(this.domNode);\r\n        var classes = class_1.default.keys(this.domNode);\r\n        var styles = style_1.default.keys(this.domNode);\r\n        attributes\r\n            .concat(classes)\r\n            .concat(styles)\r\n            .forEach(function (name) {\r\n            var attr = Registry.query(name, Registry.Scope.ATTRIBUTE);\r\n            if (attr instanceof attributor_1.default) {\r\n                _this.attributes[attr.attrName] = attr;\r\n            }\r\n        });\r\n    };\r\n    AttributorStore.prototype.copy = function (target) {\r\n        var _this = this;\r\n        Object.keys(this.attributes).forEach(function (key) {\r\n            var value = _this.attributes[key].value(_this.domNode);\r\n            target.format(key, value);\r\n        });\r\n    };\r\n    AttributorStore.prototype.move = function (target) {\r\n        var _this = this;\r\n        this.copy(target);\r\n        Object.keys(this.attributes).forEach(function (key) {\r\n            _this.attributes[key].remove(_this.domNode);\r\n        });\r\n        this.attributes = {};\r\n    };\r\n    AttributorStore.prototype.values = function () {\r\n        var _this = this;\r\n        return Object.keys(this.attributes).reduce(function (attributes, name) {\r\n            attributes[name] = _this.attributes[name].value(_this.domNode);\r\n            return attributes;\r\n        }, {});\r\n    };\r\n    return AttributorStore;\r\n}());\r\nexports.default = AttributorStore;\r\n\r\n\r\n/***/ }),\r\n/* 32 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar attributor_1 = __webpack_require__(12);\r\nfunction match(node, prefix) {\r\n    var className = node.getAttribute('class') || '';\r\n    return className.split(/\\s+/).filter(function (name) {\r\n        return name.indexOf(prefix + \"-\") === 0;\r\n    });\r\n}\r\nvar ClassAttributor = /** @class */ (function (_super) {\r\n    __extends(ClassAttributor, _super);\r\n    function ClassAttributor() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ClassAttributor.keys = function (node) {\r\n        return (node.getAttribute('class') || '').split(/\\s+/).map(function (name) {\r\n            return name\r\n                .split('-')\r\n                .slice(0, -1)\r\n                .join('-');\r\n        });\r\n    };\r\n    ClassAttributor.prototype.add = function (node, value) {\r\n        if (!this.canAdd(node, value))\r\n            return false;\r\n        this.remove(node);\r\n        node.classList.add(this.keyName + \"-\" + value);\r\n        return true;\r\n    };\r\n    ClassAttributor.prototype.remove = function (node) {\r\n        var matches = match(node, this.keyName);\r\n        matches.forEach(function (name) {\r\n            node.classList.remove(name);\r\n        });\r\n        if (node.classList.length === 0) {\r\n            node.removeAttribute('class');\r\n        }\r\n    };\r\n    ClassAttributor.prototype.value = function (node) {\r\n        var result = match(node, this.keyName)[0] || '';\r\n        var value = result.slice(this.keyName.length + 1); // +1 for hyphen\r\n        return this.canAdd(node, value) ? value : '';\r\n    };\r\n    return ClassAttributor;\r\n}(attributor_1.default));\r\nexports.default = ClassAttributor;\r\n\r\n\r\n/***/ }),\r\n/* 33 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar attributor_1 = __webpack_require__(12);\r\nfunction camelize(name) {\r\n    var parts = name.split('-');\r\n    var rest = parts\r\n        .slice(1)\r\n        .map(function (part) {\r\n        return part[0].toUpperCase() + part.slice(1);\r\n    })\r\n        .join('');\r\n    return parts[0] + rest;\r\n}\r\nvar StyleAttributor = /** @class */ (function (_super) {\r\n    __extends(StyleAttributor, _super);\r\n    function StyleAttributor() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    StyleAttributor.keys = function (node) {\r\n        return (node.getAttribute('style') || '').split(';').map(function (value) {\r\n            var arr = value.split(':');\r\n            return arr[0].trim();\r\n        });\r\n    };\r\n    StyleAttributor.prototype.add = function (node, value) {\r\n        if (!this.canAdd(node, value))\r\n            return false;\r\n        // @ts-ignore\r\n        node.style[camelize(this.keyName)] = value;\r\n        return true;\r\n    };\r\n    StyleAttributor.prototype.remove = function (node) {\r\n        // @ts-ignore\r\n        node.style[camelize(this.keyName)] = '';\r\n        if (!node.getAttribute('style')) {\r\n            node.removeAttribute('style');\r\n        }\r\n    };\r\n    StyleAttributor.prototype.value = function (node) {\r\n        // @ts-ignore\r\n        var value = node.style[camelize(this.keyName)];\r\n        return this.canAdd(node, value) ? value : '';\r\n    };\r\n    return StyleAttributor;\r\n}(attributor_1.default));\r\nexports.default = StyleAttributor;\r\n\r\n\r\n/***/ }),\r\n/* 34 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nvar Theme = function () {\r\n  function Theme(quill, options) {\r\n    _classCallCheck(this, Theme);\r\n\r\n    this.quill = quill;\r\n    this.options = options;\r\n    this.modules = {};\r\n  }\r\n\r\n  _createClass(Theme, [{\r\n    key: 'init',\r\n    value: function init() {\r\n      var _this = this;\r\n\r\n      Object.keys(this.options.modules).forEach(function (name) {\r\n        if (_this.modules[name] == null) {\r\n          _this.addModule(name);\r\n        }\r\n      });\r\n    }\r\n  }, {\r\n    key: 'addModule',\r\n    value: function addModule(name) {\r\n      var moduleClass = this.quill.constructor.import('modules/' + name);\r\n      this.modules[name] = new moduleClass(this.quill, this.options.modules[name] || {});\r\n      return this.modules[name];\r\n    }\r\n  }]);\r\n\r\n  return Theme;\r\n}();\r\n\r\nTheme.DEFAULTS = {\r\n  modules: {}\r\n};\r\nTheme.themes = {\r\n  'default': Theme\r\n};\r\n\r\nexports.default = Theme;\r\n\r\n/***/ }),\r\n/* 35 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nvar _text = __webpack_require__(7);\r\n\r\nvar _text2 = _interopRequireDefault(_text);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar GUARD_TEXT = '\\uFEFF';\r\n\r\nvar Embed = function (_Parchment$Embed) {\r\n  _inherits(Embed, _Parchment$Embed);\r\n\r\n  function Embed(node) {\r\n    _classCallCheck(this, Embed);\r\n\r\n    var _this = _possibleConstructorReturn(this, (Embed.__proto__ || Object.getPrototypeOf(Embed)).call(this, node));\r\n\r\n    _this.contentNode = document.createElement('span');\r\n    _this.contentNode.setAttribute('contenteditable', false);\r\n    [].slice.call(_this.domNode.childNodes).forEach(function (childNode) {\r\n      _this.contentNode.appendChild(childNode);\r\n    });\r\n    _this.leftGuard = document.createTextNode(GUARD_TEXT);\r\n    _this.rightGuard = document.createTextNode(GUARD_TEXT);\r\n    _this.domNode.appendChild(_this.leftGuard);\r\n    _this.domNode.appendChild(_this.contentNode);\r\n    _this.domNode.appendChild(_this.rightGuard);\r\n    return _this;\r\n  }\r\n\r\n  _createClass(Embed, [{\r\n    key: 'index',\r\n    value: function index(node, offset) {\r\n      if (node === this.leftGuard) return 0;\r\n      if (node === this.rightGuard) return 1;\r\n      return _get(Embed.prototype.__proto__ || Object.getPrototypeOf(Embed.prototype), 'index', this).call(this, node, offset);\r\n    }\r\n  }, {\r\n    key: 'restore',\r\n    value: function restore(node) {\r\n      var range = void 0,\r\n          textNode = void 0;\r\n      var text = node.data.split(GUARD_TEXT).join('');\r\n      if (node === this.leftGuard) {\r\n        if (this.prev instanceof _text2.default) {\r\n          var prevLength = this.prev.length();\r\n          this.prev.insertAt(prevLength, text);\r\n          range = {\r\n            startNode: this.prev.domNode,\r\n            startOffset: prevLength + text.length\r\n          };\r\n        } else {\r\n          textNode = document.createTextNode(text);\r\n          this.parent.insertBefore(_parchment2.default.create(textNode), this);\r\n          range = {\r\n            startNode: textNode,\r\n            startOffset: text.length\r\n          };\r\n        }\r\n      } else if (node === this.rightGuard) {\r\n        if (this.next instanceof _text2.default) {\r\n          this.next.insertAt(0, text);\r\n          range = {\r\n            startNode: this.next.domNode,\r\n            startOffset: text.length\r\n          };\r\n        } else {\r\n          textNode = document.createTextNode(text);\r\n          this.parent.insertBefore(_parchment2.default.create(textNode), this.next);\r\n          range = {\r\n            startNode: textNode,\r\n            startOffset: text.length\r\n          };\r\n        }\r\n      }\r\n      node.data = GUARD_TEXT;\r\n      return range;\r\n    }\r\n  }, {\r\n    key: 'update',\r\n    value: function update(mutations, context) {\r\n      var _this2 = this;\r\n\r\n      mutations.forEach(function (mutation) {\r\n        if (mutation.type === 'characterData' && (mutation.target === _this2.leftGuard || mutation.target === _this2.rightGuard)) {\r\n          var range = _this2.restore(mutation.target);\r\n          if (range) context.range = range;\r\n        }\r\n      });\r\n    }\r\n  }]);\r\n\r\n  return Embed;\r\n}(_parchment2.default.Embed);\r\n\r\nexports.default = Embed;\r\n\r\n/***/ }),\r\n/* 36 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.AlignStyle = exports.AlignClass = exports.AlignAttribute = undefined;\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nvar config = {\r\n  scope: _parchment2.default.Scope.BLOCK,\r\n  whitelist: ['right', 'center', 'justify']\r\n};\r\n\r\nvar AlignAttribute = new _parchment2.default.Attributor.Attribute('align', 'align', config);\r\nvar AlignClass = new _parchment2.default.Attributor.Class('align', 'ql-align', config);\r\nvar AlignStyle = new _parchment2.default.Attributor.Style('align', 'text-align', config);\r\n\r\nexports.AlignAttribute = AlignAttribute;\r\nexports.AlignClass = AlignClass;\r\nexports.AlignStyle = AlignStyle;\r\n\r\n/***/ }),\r\n/* 37 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.BackgroundStyle = exports.BackgroundClass = undefined;\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nvar _color = __webpack_require__(26);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nvar BackgroundClass = new _parchment2.default.Attributor.Class('background', 'ql-bg', {\r\n  scope: _parchment2.default.Scope.INLINE\r\n});\r\nvar BackgroundStyle = new _color.ColorAttributor('background', 'background-color', {\r\n  scope: _parchment2.default.Scope.INLINE\r\n});\r\n\r\nexports.BackgroundClass = BackgroundClass;\r\nexports.BackgroundStyle = BackgroundStyle;\r\n\r\n/***/ }),\r\n/* 38 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.DirectionStyle = exports.DirectionClass = exports.DirectionAttribute = undefined;\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nvar config = {\r\n  scope: _parchment2.default.Scope.BLOCK,\r\n  whitelist: ['rtl']\r\n};\r\n\r\nvar DirectionAttribute = new _parchment2.default.Attributor.Attribute('direction', 'dir', config);\r\nvar DirectionClass = new _parchment2.default.Attributor.Class('direction', 'ql-direction', config);\r\nvar DirectionStyle = new _parchment2.default.Attributor.Style('direction', 'direction', config);\r\n\r\nexports.DirectionAttribute = DirectionAttribute;\r\nexports.DirectionClass = DirectionClass;\r\nexports.DirectionStyle = DirectionStyle;\r\n\r\n/***/ }),\r\n/* 39 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.FontClass = exports.FontStyle = undefined;\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar config = {\r\n  scope: _parchment2.default.Scope.INLINE,\r\n  whitelist: ['serif', 'monospace']\r\n};\r\n\r\nvar FontClass = new _parchment2.default.Attributor.Class('font', 'ql-font', config);\r\n\r\nvar FontStyleAttributor = function (_Parchment$Attributor) {\r\n  _inherits(FontStyleAttributor, _Parchment$Attributor);\r\n\r\n  function FontStyleAttributor() {\r\n    _classCallCheck(this, FontStyleAttributor);\r\n\r\n    return _possibleConstructorReturn(this, (FontStyleAttributor.__proto__ || Object.getPrototypeOf(FontStyleAttributor)).apply(this, arguments));\r\n  }\r\n\r\n  _createClass(FontStyleAttributor, [{\r\n    key: 'value',\r\n    value: function value(node) {\r\n      return _get(FontStyleAttributor.prototype.__proto__ || Object.getPrototypeOf(FontStyleAttributor.prototype), 'value', this).call(this, node).replace(/[\"']/g, '');\r\n    }\r\n  }]);\r\n\r\n  return FontStyleAttributor;\r\n}(_parchment2.default.Attributor.Style);\r\n\r\nvar FontStyle = new FontStyleAttributor('font', 'font-family', config);\r\n\r\nexports.FontStyle = FontStyle;\r\nexports.FontClass = FontClass;\r\n\r\n/***/ }),\r\n/* 40 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.SizeStyle = exports.SizeClass = undefined;\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nvar SizeClass = new _parchment2.default.Attributor.Class('size', 'ql-size', {\r\n  scope: _parchment2.default.Scope.INLINE,\r\n  whitelist: ['small', 'large', 'huge']\r\n});\r\nvar SizeStyle = new _parchment2.default.Attributor.Style('size', 'font-size', {\r\n  scope: _parchment2.default.Scope.INLINE,\r\n  whitelist: ['10px', '18px', '32px']\r\n});\r\n\r\nexports.SizeClass = SizeClass;\r\nexports.SizeStyle = SizeStyle;\r\n\r\n/***/ }),\r\n/* 41 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nmodule.exports = {\r\n  'align': {\r\n    '': __webpack_require__(76),\r\n    'center': __webpack_require__(77),\r\n    'right': __webpack_require__(78),\r\n    'justify': __webpack_require__(79)\r\n  },\r\n  'background': __webpack_require__(80),\r\n  'blockquote': __webpack_require__(81),\r\n  'bold': __webpack_require__(82),\r\n  'clean': __webpack_require__(83),\r\n  'code': __webpack_require__(58),\r\n  'code-block': __webpack_require__(58),\r\n  'color': __webpack_require__(84),\r\n  'direction': {\r\n    '': __webpack_require__(85),\r\n    'rtl': __webpack_require__(86)\r\n  },\r\n  'float': {\r\n    'center': __webpack_require__(87),\r\n    'full': __webpack_require__(88),\r\n    'left': __webpack_require__(89),\r\n    'right': __webpack_require__(90)\r\n  },\r\n  'formula': __webpack_require__(91),\r\n  'header': {\r\n    '1': __webpack_require__(92),\r\n    '2': __webpack_require__(93)\r\n  },\r\n  'italic': __webpack_require__(94),\r\n  'image': __webpack_require__(95),\r\n  'indent': {\r\n    '+1': __webpack_require__(96),\r\n    '-1': __webpack_require__(97)\r\n  },\r\n  'link': __webpack_require__(98),\r\n  'list': {\r\n    'ordered': __webpack_require__(99),\r\n    'bullet': __webpack_require__(100),\r\n    'check': __webpack_require__(101)\r\n  },\r\n  'script': {\r\n    'sub': __webpack_require__(102),\r\n    'super': __webpack_require__(103)\r\n  },\r\n  'strike': __webpack_require__(104),\r\n  'underline': __webpack_require__(105),\r\n  'video': __webpack_require__(106)\r\n};\r\n\r\n/***/ }),\r\n/* 42 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.getLastChangeIndex = exports.default = undefined;\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nvar _quill = __webpack_require__(5);\r\n\r\nvar _quill2 = _interopRequireDefault(_quill);\r\n\r\nvar _module = __webpack_require__(9);\r\n\r\nvar _module2 = _interopRequireDefault(_module);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar History = function (_Module) {\r\n  _inherits(History, _Module);\r\n\r\n  function History(quill, options) {\r\n    _classCallCheck(this, History);\r\n\r\n    var _this = _possibleConstructorReturn(this, (History.__proto__ || Object.getPrototypeOf(History)).call(this, quill, options));\r\n\r\n    _this.lastRecorded = 0;\r\n    _this.ignoreChange = false;\r\n    _this.clear();\r\n    _this.quill.on(_quill2.default.events.EDITOR_CHANGE, function (eventName, delta, oldDelta, source) {\r\n      if (eventName !== _quill2.default.events.TEXT_CHANGE || _this.ignoreChange) return;\r\n      if (!_this.options.userOnly || source === _quill2.default.sources.USER) {\r\n        _this.record(delta, oldDelta);\r\n      } else {\r\n        _this.transform(delta);\r\n      }\r\n    });\r\n    _this.quill.keyboard.addBinding({ key: 'Z', shortKey: true }, _this.undo.bind(_this));\r\n    _this.quill.keyboard.addBinding({ key: 'Z', shortKey: true, shiftKey: true }, _this.redo.bind(_this));\r\n    if (/Win/i.test(navigator.platform)) {\r\n      _this.quill.keyboard.addBinding({ key: 'Y', shortKey: true }, _this.redo.bind(_this));\r\n    }\r\n    return _this;\r\n  }\r\n\r\n  _createClass(History, [{\r\n    key: 'change',\r\n    value: function change(source, dest) {\r\n      if (this.stack[source].length === 0) return;\r\n      var delta = this.stack[source].pop();\r\n      this.stack[dest].push(delta);\r\n      this.lastRecorded = 0;\r\n      this.ignoreChange = true;\r\n      this.quill.updateContents(delta[source], _quill2.default.sources.USER);\r\n      this.ignoreChange = false;\r\n      var index = getLastChangeIndex(delta[source]);\r\n      this.quill.setSelection(index);\r\n    }\r\n  }, {\r\n    key: 'clear',\r\n    value: function clear() {\r\n      this.stack = { undo: [], redo: [] };\r\n    }\r\n  }, {\r\n    key: 'cutoff',\r\n    value: function cutoff() {\r\n      this.lastRecorded = 0;\r\n    }\r\n  }, {\r\n    key: 'record',\r\n    value: function record(changeDelta, oldDelta) {\r\n      if (changeDelta.ops.length === 0) return;\r\n      this.stack.redo = [];\r\n      var undoDelta = this.quill.getContents().diff(oldDelta);\r\n      var timestamp = Date.now();\r\n      if (this.lastRecorded + this.options.delay > timestamp && this.stack.undo.length > 0) {\r\n        var delta = this.stack.undo.pop();\r\n        undoDelta = undoDelta.compose(delta.undo);\r\n        changeDelta = delta.redo.compose(changeDelta);\r\n      } else {\r\n        this.lastRecorded = timestamp;\r\n      }\r\n      this.stack.undo.push({\r\n        redo: changeDelta,\r\n        undo: undoDelta\r\n      });\r\n      if (this.stack.undo.length > this.options.maxStack) {\r\n        this.stack.undo.shift();\r\n      }\r\n    }\r\n  }, {\r\n    key: 'redo',\r\n    value: function redo() {\r\n      this.change('redo', 'undo');\r\n    }\r\n  }, {\r\n    key: 'transform',\r\n    value: function transform(delta) {\r\n      this.stack.undo.forEach(function (change) {\r\n        change.undo = delta.transform(change.undo, true);\r\n        change.redo = delta.transform(change.redo, true);\r\n      });\r\n      this.stack.redo.forEach(function (change) {\r\n        change.undo = delta.transform(change.undo, true);\r\n        change.redo = delta.transform(change.redo, true);\r\n      });\r\n    }\r\n  }, {\r\n    key: 'undo',\r\n    value: function undo() {\r\n      this.change('undo', 'redo');\r\n    }\r\n  }]);\r\n\r\n  return History;\r\n}(_module2.default);\r\n\r\nHistory.DEFAULTS = {\r\n  delay: 1000,\r\n  maxStack: 100,\r\n  userOnly: false\r\n};\r\n\r\nfunction endsWithNewlineChange(delta) {\r\n  var lastOp = delta.ops[delta.ops.length - 1];\r\n  if (lastOp == null) return false;\r\n  if (lastOp.insert != null) {\r\n    return typeof lastOp.insert === 'string' && lastOp.insert.endsWith('\\n');\r\n  }\r\n  if (lastOp.attributes != null) {\r\n    return Object.keys(lastOp.attributes).some(function (attr) {\r\n      return _parchment2.default.query(attr, _parchment2.default.Scope.BLOCK) != null;\r\n    });\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction getLastChangeIndex(delta) {\r\n  var deleteLength = delta.reduce(function (length, op) {\r\n    length += op.delete || 0;\r\n    return length;\r\n  }, 0);\r\n  var changeIndex = delta.length() - deleteLength;\r\n  if (endsWithNewlineChange(delta)) {\r\n    changeIndex -= 1;\r\n  }\r\n  return changeIndex;\r\n}\r\n\r\nexports.default = History;\r\nexports.getLastChangeIndex = getLastChangeIndex;\r\n\r\n/***/ }),\r\n/* 43 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = exports.BaseTooltip = undefined;\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _extend = __webpack_require__(3);\r\n\r\nvar _extend2 = _interopRequireDefault(_extend);\r\n\r\nvar _quillDelta = __webpack_require__(2);\r\n\r\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\r\n\r\nvar _emitter = __webpack_require__(8);\r\n\r\nvar _emitter2 = _interopRequireDefault(_emitter);\r\n\r\nvar _keyboard = __webpack_require__(23);\r\n\r\nvar _keyboard2 = _interopRequireDefault(_keyboard);\r\n\r\nvar _theme = __webpack_require__(34);\r\n\r\nvar _theme2 = _interopRequireDefault(_theme);\r\n\r\nvar _colorPicker = __webpack_require__(59);\r\n\r\nvar _colorPicker2 = _interopRequireDefault(_colorPicker);\r\n\r\nvar _iconPicker = __webpack_require__(60);\r\n\r\nvar _iconPicker2 = _interopRequireDefault(_iconPicker);\r\n\r\nvar _picker = __webpack_require__(28);\r\n\r\nvar _picker2 = _interopRequireDefault(_picker);\r\n\r\nvar _tooltip = __webpack_require__(61);\r\n\r\nvar _tooltip2 = _interopRequireDefault(_tooltip);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar ALIGNS = [false, 'center', 'right', 'justify'];\r\n\r\nvar COLORS = [\"#000000\", \"#e60000\", \"#ff9900\", \"#ffff00\", \"#008a00\", \"#0066cc\", \"#9933ff\", \"#ffffff\", \"#facccc\", \"#ffebcc\", \"#ffffcc\", \"#cce8cc\", \"#cce0f5\", \"#ebd6ff\", \"#bbbbbb\", \"#f06666\", \"#ffc266\", \"#ffff66\", \"#66b966\", \"#66a3e0\", \"#c285ff\", \"#888888\", \"#a10000\", \"#b26b00\", \"#b2b200\", \"#006100\", \"#0047b2\", \"#6b24b2\", \"#444444\", \"#5c0000\", \"#663d00\", \"#666600\", \"#003700\", \"#002966\", \"#3d1466\"];\r\n\r\nvar FONTS = [false, 'serif', 'monospace'];\r\n\r\nvar HEADERS = ['1', '2', '3', false];\r\n\r\nvar SIZES = ['small', false, 'large', 'huge'];\r\n\r\nvar BaseTheme = function (_Theme) {\r\n  _inherits(BaseTheme, _Theme);\r\n\r\n  function BaseTheme(quill, options) {\r\n    _classCallCheck(this, BaseTheme);\r\n\r\n    var _this = _possibleConstructorReturn(this, (BaseTheme.__proto__ || Object.getPrototypeOf(BaseTheme)).call(this, quill, options));\r\n\r\n    var listener = function listener(e) {\r\n      if (!document.body.contains(quill.root)) {\r\n        return document.body.removeEventListener('click', listener);\r\n      }\r\n      if (_this.tooltip != null && !_this.tooltip.root.contains(e.target) && document.activeElement !== _this.tooltip.textbox && !_this.quill.hasFocus()) {\r\n        _this.tooltip.hide();\r\n      }\r\n      if (_this.pickers != null) {\r\n        _this.pickers.forEach(function (picker) {\r\n          if (!picker.container.contains(e.target)) {\r\n            picker.close();\r\n          }\r\n        });\r\n      }\r\n    };\r\n    quill.emitter.listenDOM('click', document.body, listener);\r\n    return _this;\r\n  }\r\n\r\n  _createClass(BaseTheme, [{\r\n    key: 'addModule',\r\n    value: function addModule(name) {\r\n      var module = _get(BaseTheme.prototype.__proto__ || Object.getPrototypeOf(BaseTheme.prototype), 'addModule', this).call(this, name);\r\n      if (name === 'toolbar') {\r\n        this.extendToolbar(module);\r\n      }\r\n      return module;\r\n    }\r\n  }, {\r\n    key: 'buildButtons',\r\n    value: function buildButtons(buttons, icons) {\r\n      buttons.forEach(function (button) {\r\n        var className = button.getAttribute('class') || '';\r\n        className.split(/\\s+/).forEach(function (name) {\r\n          if (!name.startsWith('ql-')) return;\r\n          name = name.slice('ql-'.length);\r\n          if (icons[name] == null) return;\r\n          if (name === 'direction') {\r\n            button.innerHTML = icons[name][''] + icons[name]['rtl'];\r\n          } else if (typeof icons[name] === 'string') {\r\n            button.innerHTML = icons[name];\r\n          } else {\r\n            var value = button.value || '';\r\n            if (value != null && icons[name][value]) {\r\n              button.innerHTML = icons[name][value];\r\n            }\r\n          }\r\n        });\r\n      });\r\n    }\r\n  }, {\r\n    key: 'buildPickers',\r\n    value: function buildPickers(selects, icons) {\r\n      var _this2 = this;\r\n\r\n      this.pickers = selects.map(function (select) {\r\n        if (select.classList.contains('ql-align')) {\r\n          if (select.querySelector('option') == null) {\r\n            fillSelect(select, ALIGNS);\r\n          }\r\n          return new _iconPicker2.default(select, icons.align);\r\n        } else if (select.classList.contains('ql-background') || select.classList.contains('ql-color')) {\r\n          var format = select.classList.contains('ql-background') ? 'background' : 'color';\r\n          if (select.querySelector('option') == null) {\r\n            fillSelect(select, COLORS, format === 'background' ? '#ffffff' : '#000000');\r\n          }\r\n          return new _colorPicker2.default(select, icons[format]);\r\n        } else {\r\n          if (select.querySelector('option') == null) {\r\n            if (select.classList.contains('ql-font')) {\r\n              fillSelect(select, FONTS);\r\n            } else if (select.classList.contains('ql-header')) {\r\n              fillSelect(select, HEADERS);\r\n            } else if (select.classList.contains('ql-size')) {\r\n              fillSelect(select, SIZES);\r\n            }\r\n          }\r\n          return new _picker2.default(select);\r\n        }\r\n      });\r\n      var update = function update() {\r\n        _this2.pickers.forEach(function (picker) {\r\n          picker.update();\r\n        });\r\n      };\r\n      this.quill.on(_emitter2.default.events.EDITOR_CHANGE, update);\r\n    }\r\n  }]);\r\n\r\n  return BaseTheme;\r\n}(_theme2.default);\r\n\r\nBaseTheme.DEFAULTS = (0, _extend2.default)(true, {}, _theme2.default.DEFAULTS, {\r\n  modules: {\r\n    toolbar: {\r\n      handlers: {\r\n        formula: function formula() {\r\n          this.quill.theme.tooltip.edit('formula');\r\n        },\r\n        image: function image() {\r\n          var _this3 = this;\r\n\r\n          var fileInput = this.container.querySelector('input.ql-image[type=file]');\r\n          if (fileInput == null) {\r\n            fileInput = document.createElement('input');\r\n            fileInput.setAttribute('type', 'file');\r\n            fileInput.setAttribute('accept', 'image/png, image/gif, image/jpeg, image/bmp, image/x-icon');\r\n            fileInput.classList.add('ql-image');\r\n            fileInput.addEventListener('change', function () {\r\n              if (fileInput.files != null && fileInput.files[0] != null) {\r\n                var reader = new FileReader();\r\n                reader.onload = function (e) {\r\n                  var range = _this3.quill.getSelection(true);\r\n                  _this3.quill.updateContents(new _quillDelta2.default().retain(range.index).delete(range.length).insert({ image: e.target.result }), _emitter2.default.sources.USER);\r\n                  _this3.quill.setSelection(range.index + 1, _emitter2.default.sources.SILENT);\r\n                  fileInput.value = \"\";\r\n                };\r\n                reader.readAsDataURL(fileInput.files[0]);\r\n              }\r\n            });\r\n            this.container.appendChild(fileInput);\r\n          }\r\n          fileInput.click();\r\n        },\r\n        video: function video() {\r\n          this.quill.theme.tooltip.edit('video');\r\n        }\r\n      }\r\n    }\r\n  }\r\n});\r\n\r\nvar BaseTooltip = function (_Tooltip) {\r\n  _inherits(BaseTooltip, _Tooltip);\r\n\r\n  function BaseTooltip(quill, boundsContainer) {\r\n    _classCallCheck(this, BaseTooltip);\r\n\r\n    var _this4 = _possibleConstructorReturn(this, (BaseTooltip.__proto__ || Object.getPrototypeOf(BaseTooltip)).call(this, quill, boundsContainer));\r\n\r\n    _this4.textbox = _this4.root.querySelector('input[type=\"text\"]');\r\n    _this4.listen();\r\n    return _this4;\r\n  }\r\n\r\n  _createClass(BaseTooltip, [{\r\n    key: 'listen',\r\n    value: function listen() {\r\n      var _this5 = this;\r\n\r\n      this.textbox.addEventListener('keydown', function (event) {\r\n        if (_keyboard2.default.match(event, 'enter')) {\r\n          _this5.save();\r\n          event.preventDefault();\r\n        } else if (_keyboard2.default.match(event, 'escape')) {\r\n          _this5.cancel();\r\n          event.preventDefault();\r\n        }\r\n      });\r\n    }\r\n  }, {\r\n    key: 'cancel',\r\n    value: function cancel() {\r\n      this.hide();\r\n    }\r\n  }, {\r\n    key: 'edit',\r\n    value: function edit() {\r\n      var mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'link';\r\n      var preview = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\r\n\r\n      this.root.classList.remove('ql-hidden');\r\n      this.root.classList.add('ql-editing');\r\n      if (preview != null) {\r\n        this.textbox.value = preview;\r\n      } else if (mode !== this.root.getAttribute('data-mode')) {\r\n        this.textbox.value = '';\r\n      }\r\n      this.position(this.quill.getBounds(this.quill.selection.savedRange));\r\n      this.textbox.select();\r\n      this.textbox.setAttribute('placeholder', this.textbox.getAttribute('data-' + mode) || '');\r\n      this.root.setAttribute('data-mode', mode);\r\n    }\r\n  }, {\r\n    key: 'restoreFocus',\r\n    value: function restoreFocus() {\r\n      var scrollTop = this.quill.scrollingContainer.scrollTop;\r\n      this.quill.focus();\r\n      this.quill.scrollingContainer.scrollTop = scrollTop;\r\n    }\r\n  }, {\r\n    key: 'save',\r\n    value: function save() {\r\n      var value = this.textbox.value;\r\n      switch (this.root.getAttribute('data-mode')) {\r\n        case 'link':\r\n          {\r\n            var scrollTop = this.quill.root.scrollTop;\r\n            if (this.linkRange) {\r\n              this.quill.formatText(this.linkRange, 'link', value, _emitter2.default.sources.USER);\r\n              delete this.linkRange;\r\n            } else {\r\n              this.restoreFocus();\r\n              this.quill.format('link', value, _emitter2.default.sources.USER);\r\n            }\r\n            this.quill.root.scrollTop = scrollTop;\r\n            break;\r\n          }\r\n        case 'video':\r\n          {\r\n            value = extractVideoUrl(value);\r\n          } // eslint-disable-next-line no-fallthrough\r\n        case 'formula':\r\n          {\r\n            if (!value) break;\r\n            var range = this.quill.getSelection(true);\r\n            if (range != null) {\r\n              var index = range.index + range.length;\r\n              this.quill.insertEmbed(index, this.root.getAttribute('data-mode'), value, _emitter2.default.sources.USER);\r\n              if (this.root.getAttribute('data-mode') === 'formula') {\r\n                this.quill.insertText(index + 1, ' ', _emitter2.default.sources.USER);\r\n              }\r\n              this.quill.setSelection(index + 2, _emitter2.default.sources.USER);\r\n            }\r\n            break;\r\n          }\r\n        default:\r\n      }\r\n      this.textbox.value = '';\r\n      this.hide();\r\n    }\r\n  }]);\r\n\r\n  return BaseTooltip;\r\n}(_tooltip2.default);\r\n\r\nfunction extractVideoUrl(url) {\r\n  var match = url.match(/^(?:(https?):\\/\\/)?(?:(?:www|m)\\.)?youtube\\.com\\/watch.*v=([a-zA-Z0-9_-]+)/) || url.match(/^(?:(https?):\\/\\/)?(?:(?:www|m)\\.)?youtu\\.be\\/([a-zA-Z0-9_-]+)/);\r\n  if (match) {\r\n    return (match[1] || 'https') + '://www.youtube.com/embed/' + match[2] + '?showinfo=0';\r\n  }\r\n  if (match = url.match(/^(?:(https?):\\/\\/)?(?:www\\.)?vimeo\\.com\\/(\\d+)/)) {\r\n    // eslint-disable-line no-cond-assign\r\n    return (match[1] || 'https') + '://player.vimeo.com/video/' + match[2] + '/';\r\n  }\r\n  return url;\r\n}\r\n\r\nfunction fillSelect(select, values) {\r\n  var defaultValue = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\r\n\r\n  values.forEach(function (value) {\r\n    var option = document.createElement('option');\r\n    if (value === defaultValue) {\r\n      option.setAttribute('selected', 'selected');\r\n    } else {\r\n      option.setAttribute('value', value);\r\n    }\r\n    select.appendChild(option);\r\n  });\r\n}\r\n\r\nexports.BaseTooltip = BaseTooltip;\r\nexports.default = BaseTheme;\r\n\r\n/***/ }),\r\n/* 44 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar LinkedList = /** @class */ (function () {\r\n    function LinkedList() {\r\n        this.head = this.tail = null;\r\n        this.length = 0;\r\n    }\r\n    LinkedList.prototype.append = function () {\r\n        var nodes = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            nodes[_i] = arguments[_i];\r\n        }\r\n        this.insertBefore(nodes[0], null);\r\n        if (nodes.length > 1) {\r\n            this.append.apply(this, nodes.slice(1));\r\n        }\r\n    };\r\n    LinkedList.prototype.contains = function (node) {\r\n        var cur, next = this.iterator();\r\n        while ((cur = next())) {\r\n            if (cur === node)\r\n                return true;\r\n        }\r\n        return false;\r\n    };\r\n    LinkedList.prototype.insertBefore = function (node, refNode) {\r\n        if (!node)\r\n            return;\r\n        node.next = refNode;\r\n        if (refNode != null) {\r\n            node.prev = refNode.prev;\r\n            if (refNode.prev != null) {\r\n                refNode.prev.next = node;\r\n            }\r\n            refNode.prev = node;\r\n            if (refNode === this.head) {\r\n                this.head = node;\r\n            }\r\n        }\r\n        else if (this.tail != null) {\r\n            this.tail.next = node;\r\n            node.prev = this.tail;\r\n            this.tail = node;\r\n        }\r\n        else {\r\n            node.prev = null;\r\n            this.head = this.tail = node;\r\n        }\r\n        this.length += 1;\r\n    };\r\n    LinkedList.prototype.offset = function (target) {\r\n        var index = 0, cur = this.head;\r\n        while (cur != null) {\r\n            if (cur === target)\r\n                return index;\r\n            index += cur.length();\r\n            cur = cur.next;\r\n        }\r\n        return -1;\r\n    };\r\n    LinkedList.prototype.remove = function (node) {\r\n        if (!this.contains(node))\r\n            return;\r\n        if (node.prev != null)\r\n            node.prev.next = node.next;\r\n        if (node.next != null)\r\n            node.next.prev = node.prev;\r\n        if (node === this.head)\r\n            this.head = node.next;\r\n        if (node === this.tail)\r\n            this.tail = node.prev;\r\n        this.length -= 1;\r\n    };\r\n    LinkedList.prototype.iterator = function (curNode) {\r\n        if (curNode === void 0) { curNode = this.head; }\r\n        // TODO use yield when we can\r\n        return function () {\r\n            var ret = curNode;\r\n            if (curNode != null)\r\n                curNode = curNode.next;\r\n            return ret;\r\n        };\r\n    };\r\n    LinkedList.prototype.find = function (index, inclusive) {\r\n        if (inclusive === void 0) { inclusive = false; }\r\n        var cur, next = this.iterator();\r\n        while ((cur = next())) {\r\n            var length = cur.length();\r\n            if (index < length ||\r\n                (inclusive && index === length && (cur.next == null || cur.next.length() !== 0))) {\r\n                return [cur, index];\r\n            }\r\n            index -= length;\r\n        }\r\n        return [null, 0];\r\n    };\r\n    LinkedList.prototype.forEach = function (callback) {\r\n        var cur, next = this.iterator();\r\n        while ((cur = next())) {\r\n            callback(cur);\r\n        }\r\n    };\r\n    LinkedList.prototype.forEachAt = function (index, length, callback) {\r\n        if (length <= 0)\r\n            return;\r\n        var _a = this.find(index), startNode = _a[0], offset = _a[1];\r\n        var cur, curIndex = index - offset, next = this.iterator(startNode);\r\n        while ((cur = next()) && curIndex < index + length) {\r\n            var curLength = cur.length();\r\n            if (index > curIndex) {\r\n                callback(cur, index - curIndex, Math.min(length, curIndex + curLength - index));\r\n            }\r\n            else {\r\n                callback(cur, 0, Math.min(curLength, index + length - curIndex));\r\n            }\r\n            curIndex += curLength;\r\n        }\r\n    };\r\n    LinkedList.prototype.map = function (callback) {\r\n        return this.reduce(function (memo, cur) {\r\n            memo.push(callback(cur));\r\n            return memo;\r\n        }, []);\r\n    };\r\n    LinkedList.prototype.reduce = function (callback, memo) {\r\n        var cur, next = this.iterator();\r\n        while ((cur = next())) {\r\n            memo = callback(memo, cur);\r\n        }\r\n        return memo;\r\n    };\r\n    return LinkedList;\r\n}());\r\nexports.default = LinkedList;\r\n\r\n\r\n/***/ }),\r\n/* 45 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar container_1 = __webpack_require__(17);\r\nvar Registry = __webpack_require__(1);\r\nvar OBSERVER_CONFIG = {\r\n    attributes: true,\r\n    characterData: true,\r\n    characterDataOldValue: true,\r\n    childList: true,\r\n    subtree: true,\r\n};\r\nvar MAX_OPTIMIZE_ITERATIONS = 100;\r\nvar ScrollBlot = /** @class */ (function (_super) {\r\n    __extends(ScrollBlot, _super);\r\n    function ScrollBlot(node) {\r\n        var _this = _super.call(this, node) || this;\r\n        _this.scroll = _this;\r\n        _this.observer = new MutationObserver(function (mutations) {\r\n            _this.update(mutations);\r\n        });\r\n        _this.observer.observe(_this.domNode, OBSERVER_CONFIG);\r\n        _this.attach();\r\n        return _this;\r\n    }\r\n    ScrollBlot.prototype.detach = function () {\r\n        _super.prototype.detach.call(this);\r\n        this.observer.disconnect();\r\n    };\r\n    ScrollBlot.prototype.deleteAt = function (index, length) {\r\n        this.update();\r\n        if (index === 0 && length === this.length()) {\r\n            this.children.forEach(function (child) {\r\n                child.remove();\r\n            });\r\n        }\r\n        else {\r\n            _super.prototype.deleteAt.call(this, index, length);\r\n        }\r\n    };\r\n    ScrollBlot.prototype.formatAt = function (index, length, name, value) {\r\n        this.update();\r\n        _super.prototype.formatAt.call(this, index, length, name, value);\r\n    };\r\n    ScrollBlot.prototype.insertAt = function (index, value, def) {\r\n        this.update();\r\n        _super.prototype.insertAt.call(this, index, value, def);\r\n    };\r\n    ScrollBlot.prototype.optimize = function (mutations, context) {\r\n        var _this = this;\r\n        if (mutations === void 0) { mutations = []; }\r\n        if (context === void 0) { context = {}; }\r\n        _super.prototype.optimize.call(this, context);\r\n        // We must modify mutations directly, cannot make copy and then modify\r\n        var records = [].slice.call(this.observer.takeRecords());\r\n        // Array.push currently seems to be implemented by a non-tail recursive function\r\n        // so we cannot just mutations.push.apply(mutations, this.observer.takeRecords());\r\n        while (records.length > 0)\r\n            mutations.push(records.pop());\r\n        // TODO use WeakMap\r\n        var mark = function (blot, markParent) {\r\n            if (markParent === void 0) { markParent = true; }\r\n            if (blot == null || blot === _this)\r\n                return;\r\n            if (blot.domNode.parentNode == null)\r\n                return;\r\n            // @ts-ignore\r\n            if (blot.domNode[Registry.DATA_KEY].mutations == null) {\r\n                // @ts-ignore\r\n                blot.domNode[Registry.DATA_KEY].mutations = [];\r\n            }\r\n            if (markParent)\r\n                mark(blot.parent);\r\n        };\r\n        var optimize = function (blot) {\r\n            // Post-order traversal\r\n            if (\r\n            // @ts-ignore\r\n            blot.domNode[Registry.DATA_KEY] == null ||\r\n                // @ts-ignore\r\n                blot.domNode[Registry.DATA_KEY].mutations == null) {\r\n                return;\r\n            }\r\n            if (blot instanceof container_1.default) {\r\n                blot.children.forEach(optimize);\r\n            }\r\n            blot.optimize(context);\r\n        };\r\n        var remaining = mutations;\r\n        for (var i = 0; remaining.length > 0; i += 1) {\r\n            if (i >= MAX_OPTIMIZE_ITERATIONS) {\r\n                throw new Error('[Parchment] Maximum optimize iterations reached');\r\n            }\r\n            remaining.forEach(function (mutation) {\r\n                var blot = Registry.find(mutation.target, true);\r\n                if (blot == null)\r\n                    return;\r\n                if (blot.domNode === mutation.target) {\r\n                    if (mutation.type === 'childList') {\r\n                        mark(Registry.find(mutation.previousSibling, false));\r\n                        [].forEach.call(mutation.addedNodes, function (node) {\r\n                            var child = Registry.find(node, false);\r\n                            mark(child, false);\r\n                            if (child instanceof container_1.default) {\r\n                                child.children.forEach(function (grandChild) {\r\n                                    mark(grandChild, false);\r\n                                });\r\n                            }\r\n                        });\r\n                    }\r\n                    else if (mutation.type === 'attributes') {\r\n                        mark(blot.prev);\r\n                    }\r\n                }\r\n                mark(blot);\r\n            });\r\n            this.children.forEach(optimize);\r\n            remaining = [].slice.call(this.observer.takeRecords());\r\n            records = remaining.slice();\r\n            while (records.length > 0)\r\n                mutations.push(records.pop());\r\n        }\r\n    };\r\n    ScrollBlot.prototype.update = function (mutations, context) {\r\n        var _this = this;\r\n        if (context === void 0) { context = {}; }\r\n        mutations = mutations || this.observer.takeRecords();\r\n        // TODO use WeakMap\r\n        mutations\r\n            .map(function (mutation) {\r\n            var blot = Registry.find(mutation.target, true);\r\n            if (blot == null)\r\n                return null;\r\n            // @ts-ignore\r\n            if (blot.domNode[Registry.DATA_KEY].mutations == null) {\r\n                // @ts-ignore\r\n                blot.domNode[Registry.DATA_KEY].mutations = [mutation];\r\n                return blot;\r\n            }\r\n            else {\r\n                // @ts-ignore\r\n                blot.domNode[Registry.DATA_KEY].mutations.push(mutation);\r\n                return null;\r\n            }\r\n        })\r\n            .forEach(function (blot) {\r\n            if (blot == null ||\r\n                blot === _this ||\r\n                //@ts-ignore\r\n                blot.domNode[Registry.DATA_KEY] == null)\r\n                return;\r\n            // @ts-ignore\r\n            blot.update(blot.domNode[Registry.DATA_KEY].mutations || [], context);\r\n        });\r\n        // @ts-ignore\r\n        if (this.domNode[Registry.DATA_KEY].mutations != null) {\r\n            // @ts-ignore\r\n            _super.prototype.update.call(this, this.domNode[Registry.DATA_KEY].mutations, context);\r\n        }\r\n        this.optimize(mutations, context);\r\n    };\r\n    ScrollBlot.blotName = 'scroll';\r\n    ScrollBlot.defaultChild = 'block';\r\n    ScrollBlot.scope = Registry.Scope.BLOCK_BLOT;\r\n    ScrollBlot.tagName = 'DIV';\r\n    return ScrollBlot;\r\n}(container_1.default));\r\nexports.default = ScrollBlot;\r\n\r\n\r\n/***/ }),\r\n/* 46 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar format_1 = __webpack_require__(18);\r\nvar Registry = __webpack_require__(1);\r\n// Shallow object comparison\r\nfunction isEqual(obj1, obj2) {\r\n    if (Object.keys(obj1).length !== Object.keys(obj2).length)\r\n        return false;\r\n    // @ts-ignore\r\n    for (var prop in obj1) {\r\n        // @ts-ignore\r\n        if (obj1[prop] !== obj2[prop])\r\n            return false;\r\n    }\r\n    return true;\r\n}\r\nvar InlineBlot = /** @class */ (function (_super) {\r\n    __extends(InlineBlot, _super);\r\n    function InlineBlot() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    InlineBlot.formats = function (domNode) {\r\n        if (domNode.tagName === InlineBlot.tagName)\r\n            return undefined;\r\n        return _super.formats.call(this, domNode);\r\n    };\r\n    InlineBlot.prototype.format = function (name, value) {\r\n        var _this = this;\r\n        if (name === this.statics.blotName && !value) {\r\n            this.children.forEach(function (child) {\r\n                if (!(child instanceof format_1.default)) {\r\n                    child = child.wrap(InlineBlot.blotName, true);\r\n                }\r\n                _this.attributes.copy(child);\r\n            });\r\n            this.unwrap();\r\n        }\r\n        else {\r\n            _super.prototype.format.call(this, name, value);\r\n        }\r\n    };\r\n    InlineBlot.prototype.formatAt = function (index, length, name, value) {\r\n        if (this.formats()[name] != null || Registry.query(name, Registry.Scope.ATTRIBUTE)) {\r\n            var blot = this.isolate(index, length);\r\n            blot.format(name, value);\r\n        }\r\n        else {\r\n            _super.prototype.formatAt.call(this, index, length, name, value);\r\n        }\r\n    };\r\n    InlineBlot.prototype.optimize = function (context) {\r\n        _super.prototype.optimize.call(this, context);\r\n        var formats = this.formats();\r\n        if (Object.keys(formats).length === 0) {\r\n            return this.unwrap(); // unformatted span\r\n        }\r\n        var next = this.next;\r\n        if (next instanceof InlineBlot && next.prev === this && isEqual(formats, next.formats())) {\r\n            next.moveChildren(this);\r\n            next.remove();\r\n        }\r\n    };\r\n    InlineBlot.blotName = 'inline';\r\n    InlineBlot.scope = Registry.Scope.INLINE_BLOT;\r\n    InlineBlot.tagName = 'SPAN';\r\n    return InlineBlot;\r\n}(format_1.default));\r\nexports.default = InlineBlot;\r\n\r\n\r\n/***/ }),\r\n/* 47 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar format_1 = __webpack_require__(18);\r\nvar Registry = __webpack_require__(1);\r\nvar BlockBlot = /** @class */ (function (_super) {\r\n    __extends(BlockBlot, _super);\r\n    function BlockBlot() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    BlockBlot.formats = function (domNode) {\r\n        var tagName = Registry.query(BlockBlot.blotName).tagName;\r\n        if (domNode.tagName === tagName)\r\n            return undefined;\r\n        return _super.formats.call(this, domNode);\r\n    };\r\n    BlockBlot.prototype.format = function (name, value) {\r\n        if (Registry.query(name, Registry.Scope.BLOCK) == null) {\r\n            return;\r\n        }\r\n        else if (name === this.statics.blotName && !value) {\r\n            this.replaceWith(BlockBlot.blotName);\r\n        }\r\n        else {\r\n            _super.prototype.format.call(this, name, value);\r\n        }\r\n    };\r\n    BlockBlot.prototype.formatAt = function (index, length, name, value) {\r\n        if (Registry.query(name, Registry.Scope.BLOCK) != null) {\r\n            this.format(name, value);\r\n        }\r\n        else {\r\n            _super.prototype.formatAt.call(this, index, length, name, value);\r\n        }\r\n    };\r\n    BlockBlot.prototype.insertAt = function (index, value, def) {\r\n        if (def == null || Registry.query(value, Registry.Scope.INLINE) != null) {\r\n            // Insert text or inline\r\n            _super.prototype.insertAt.call(this, index, value, def);\r\n        }\r\n        else {\r\n            var after = this.split(index);\r\n            var blot = Registry.create(value, def);\r\n            after.parent.insertBefore(blot, after);\r\n        }\r\n    };\r\n    BlockBlot.prototype.update = function (mutations, context) {\r\n        if (navigator.userAgent.match(/Trident/)) {\r\n            this.build();\r\n        }\r\n        else {\r\n            _super.prototype.update.call(this, mutations, context);\r\n        }\r\n    };\r\n    BlockBlot.blotName = 'block';\r\n    BlockBlot.scope = Registry.Scope.BLOCK_BLOT;\r\n    BlockBlot.tagName = 'P';\r\n    return BlockBlot;\r\n}(format_1.default));\r\nexports.default = BlockBlot;\r\n\r\n\r\n/***/ }),\r\n/* 48 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar leaf_1 = __webpack_require__(19);\r\nvar EmbedBlot = /** @class */ (function (_super) {\r\n    __extends(EmbedBlot, _super);\r\n    function EmbedBlot() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    EmbedBlot.formats = function (domNode) {\r\n        return undefined;\r\n    };\r\n    EmbedBlot.prototype.format = function (name, value) {\r\n        // super.formatAt wraps, which is what we want in general,\r\n        // but this allows subclasses to overwrite for formats\r\n        // that just apply to particular embeds\r\n        _super.prototype.formatAt.call(this, 0, this.length(), name, value);\r\n    };\r\n    EmbedBlot.prototype.formatAt = function (index, length, name, value) {\r\n        if (index === 0 && length === this.length()) {\r\n            this.format(name, value);\r\n        }\r\n        else {\r\n            _super.prototype.formatAt.call(this, index, length, name, value);\r\n        }\r\n    };\r\n    EmbedBlot.prototype.formats = function () {\r\n        return this.statics.formats(this.domNode);\r\n    };\r\n    return EmbedBlot;\r\n}(leaf_1.default));\r\nexports.default = EmbedBlot;\r\n\r\n\r\n/***/ }),\r\n/* 49 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar leaf_1 = __webpack_require__(19);\r\nvar Registry = __webpack_require__(1);\r\nvar TextBlot = /** @class */ (function (_super) {\r\n    __extends(TextBlot, _super);\r\n    function TextBlot(node) {\r\n        var _this = _super.call(this, node) || this;\r\n        _this.text = _this.statics.value(_this.domNode);\r\n        return _this;\r\n    }\r\n    TextBlot.create = function (value) {\r\n        return document.createTextNode(value);\r\n    };\r\n    TextBlot.value = function (domNode) {\r\n        var text = domNode.data;\r\n        // @ts-ignore\r\n        if (text['normalize'])\r\n            text = text['normalize']();\r\n        return text;\r\n    };\r\n    TextBlot.prototype.deleteAt = function (index, length) {\r\n        this.domNode.data = this.text = this.text.slice(0, index) + this.text.slice(index + length);\r\n    };\r\n    TextBlot.prototype.index = function (node, offset) {\r\n        if (this.domNode === node) {\r\n            return offset;\r\n        }\r\n        return -1;\r\n    };\r\n    TextBlot.prototype.insertAt = function (index, value, def) {\r\n        if (def == null) {\r\n            this.text = this.text.slice(0, index) + value + this.text.slice(index);\r\n            this.domNode.data = this.text;\r\n        }\r\n        else {\r\n            _super.prototype.insertAt.call(this, index, value, def);\r\n        }\r\n    };\r\n    TextBlot.prototype.length = function () {\r\n        return this.text.length;\r\n    };\r\n    TextBlot.prototype.optimize = function (context) {\r\n        _super.prototype.optimize.call(this, context);\r\n        this.text = this.statics.value(this.domNode);\r\n        if (this.text.length === 0) {\r\n            this.remove();\r\n        }\r\n        else if (this.next instanceof TextBlot && this.next.prev === this) {\r\n            this.insertAt(this.length(), this.next.value());\r\n            this.next.remove();\r\n        }\r\n    };\r\n    TextBlot.prototype.position = function (index, inclusive) {\r\n        if (inclusive === void 0) { inclusive = false; }\r\n        return [this.domNode, index];\r\n    };\r\n    TextBlot.prototype.split = function (index, force) {\r\n        if (force === void 0) { force = false; }\r\n        if (!force) {\r\n            if (index === 0)\r\n                return this;\r\n            if (index === this.length())\r\n                return this.next;\r\n        }\r\n        var after = Registry.create(this.domNode.splitText(index));\r\n        this.parent.insertBefore(after, this.next);\r\n        this.text = this.statics.value(this.domNode);\r\n        return after;\r\n    };\r\n    TextBlot.prototype.update = function (mutations, context) {\r\n        var _this = this;\r\n        if (mutations.some(function (mutation) {\r\n            return mutation.type === 'characterData' && mutation.target === _this.domNode;\r\n        })) {\r\n            this.text = this.statics.value(this.domNode);\r\n        }\r\n    };\r\n    TextBlot.prototype.value = function () {\r\n        return this.text;\r\n    };\r\n    TextBlot.blotName = 'text';\r\n    TextBlot.scope = Registry.Scope.INLINE_BLOT;\r\n    return TextBlot;\r\n}(leaf_1.default));\r\nexports.default = TextBlot;\r\n\r\n\r\n/***/ }),\r\n/* 50 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nvar elem = document.createElement('div');\r\nelem.classList.toggle('test-class', false);\r\nif (elem.classList.contains('test-class')) {\r\n  var _toggle = DOMTokenList.prototype.toggle;\r\n  DOMTokenList.prototype.toggle = function (token, force) {\r\n    if (arguments.length > 1 && !this.contains(token) === !force) {\r\n      return force;\r\n    } else {\r\n      return _toggle.call(this, token);\r\n    }\r\n  };\r\n}\r\n\r\nif (!String.prototype.startsWith) {\r\n  String.prototype.startsWith = function (searchString, position) {\r\n    position = position || 0;\r\n    return this.substr(position, searchString.length) === searchString;\r\n  };\r\n}\r\n\r\nif (!String.prototype.endsWith) {\r\n  String.prototype.endsWith = function (searchString, position) {\r\n    var subjectString = this.toString();\r\n    if (typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {\r\n      position = subjectString.length;\r\n    }\r\n    position -= searchString.length;\r\n    var lastIndex = subjectString.indexOf(searchString, position);\r\n    return lastIndex !== -1 && lastIndex === position;\r\n  };\r\n}\r\n\r\nif (!Array.prototype.find) {\r\n  Object.defineProperty(Array.prototype, \"find\", {\r\n    value: function value(predicate) {\r\n      if (this === null) {\r\n        throw new TypeError('Array.prototype.find called on null or undefined');\r\n      }\r\n      if (typeof predicate !== 'function') {\r\n        throw new TypeError('predicate must be a function');\r\n      }\r\n      var list = Object(this);\r\n      var length = list.length >>> 0;\r\n      var thisArg = arguments[1];\r\n      var value;\r\n\r\n      for (var i = 0; i < length; i++) {\r\n        value = list[i];\r\n        if (predicate.call(thisArg, value, i, list)) {\r\n          return value;\r\n        }\r\n      }\r\n      return undefined;\r\n    }\r\n  });\r\n}\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n  // Disable resizing in Firefox\r\n  document.execCommand(\"enableObjectResizing\", false, false);\r\n  // Disable automatic linkifying in IE11\r\n  document.execCommand(\"autoUrlDetect\", false, false);\r\n});\r\n\r\n/***/ }),\r\n/* 51 */\r\n/***/ (function(module, exports) {\r\n\r\n/**\r\n * This library modifies the diff-patch-match library by Neil Fraser\r\n * by removing the patch and match functionality and certain advanced\r\n * options in the diff function. The original license is as follows:\r\n *\r\n * ===\r\n *\r\n * Diff Match and Patch\r\n *\r\n * Copyright 2006 Google Inc.\r\n * http://code.google.com/p/google-diff-match-patch/\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\n\r\n/**\r\n * The data structure representing a diff is an array of tuples:\r\n * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]\r\n * which means: delete 'Hello', add 'Goodbye' and keep ' world.'\r\n */\r\nvar DIFF_DELETE = -1;\r\nvar DIFF_INSERT = 1;\r\nvar DIFF_EQUAL = 0;\r\n\r\n\r\n/**\r\n * Find the differences between two texts.  Simplifies the problem by stripping\r\n * any common prefix or suffix off the texts before diffing.\r\n * @param {string} text1 Old string to be diffed.\r\n * @param {string} text2 New string to be diffed.\r\n * @param {Int} cursor_pos Expected edit position in text1 (optional)\r\n * @return {Array} Array of diff tuples.\r\n */\r\nfunction diff_main(text1, text2, cursor_pos) {\r\n  // Check for equality (speedup).\r\n  if (text1 == text2) {\r\n    if (text1) {\r\n      return [[DIFF_EQUAL, text1]];\r\n    }\r\n    return [];\r\n  }\r\n\r\n  // Check cursor_pos within bounds\r\n  if (cursor_pos < 0 || text1.length < cursor_pos) {\r\n    cursor_pos = null;\r\n  }\r\n\r\n  // Trim off common prefix (speedup).\r\n  var commonlength = diff_commonPrefix(text1, text2);\r\n  var commonprefix = text1.substring(0, commonlength);\r\n  text1 = text1.substring(commonlength);\r\n  text2 = text2.substring(commonlength);\r\n\r\n  // Trim off common suffix (speedup).\r\n  commonlength = diff_commonSuffix(text1, text2);\r\n  var commonsuffix = text1.substring(text1.length - commonlength);\r\n  text1 = text1.substring(0, text1.length - commonlength);\r\n  text2 = text2.substring(0, text2.length - commonlength);\r\n\r\n  // Compute the diff on the middle block.\r\n  var diffs = diff_compute_(text1, text2);\r\n\r\n  // Restore the prefix and suffix.\r\n  if (commonprefix) {\r\n    diffs.unshift([DIFF_EQUAL, commonprefix]);\r\n  }\r\n  if (commonsuffix) {\r\n    diffs.push([DIFF_EQUAL, commonsuffix]);\r\n  }\r\n  diff_cleanupMerge(diffs);\r\n  if (cursor_pos != null) {\r\n    diffs = fix_cursor(diffs, cursor_pos);\r\n  }\r\n  diffs = fix_emoji(diffs);\r\n  return diffs;\r\n};\r\n\r\n\r\n/**\r\n * Find the differences between two texts.  Assumes that the texts do not\r\n * have any common prefix or suffix.\r\n * @param {string} text1 Old string to be diffed.\r\n * @param {string} text2 New string to be diffed.\r\n * @return {Array} Array of diff tuples.\r\n */\r\nfunction diff_compute_(text1, text2) {\r\n  var diffs;\r\n\r\n  if (!text1) {\r\n    // Just add some text (speedup).\r\n    return [[DIFF_INSERT, text2]];\r\n  }\r\n\r\n  if (!text2) {\r\n    // Just delete some text (speedup).\r\n    return [[DIFF_DELETE, text1]];\r\n  }\r\n\r\n  var longtext = text1.length > text2.length ? text1 : text2;\r\n  var shorttext = text1.length > text2.length ? text2 : text1;\r\n  var i = longtext.indexOf(shorttext);\r\n  if (i != -1) {\r\n    // Shorter text is inside the longer text (speedup).\r\n    diffs = [[DIFF_INSERT, longtext.substring(0, i)],\r\n             [DIFF_EQUAL, shorttext],\r\n             [DIFF_INSERT, longtext.substring(i + shorttext.length)]];\r\n    // Swap insertions for deletions if diff is reversed.\r\n    if (text1.length > text2.length) {\r\n      diffs[0][0] = diffs[2][0] = DIFF_DELETE;\r\n    }\r\n    return diffs;\r\n  }\r\n\r\n  if (shorttext.length == 1) {\r\n    // Single character string.\r\n    // After the previous speedup, the character can't be an equality.\r\n    return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\r\n  }\r\n\r\n  // Check to see if the problem can be split in two.\r\n  var hm = diff_halfMatch_(text1, text2);\r\n  if (hm) {\r\n    // A half-match was found, sort out the return data.\r\n    var text1_a = hm[0];\r\n    var text1_b = hm[1];\r\n    var text2_a = hm[2];\r\n    var text2_b = hm[3];\r\n    var mid_common = hm[4];\r\n    // Send both pairs off for separate processing.\r\n    var diffs_a = diff_main(text1_a, text2_a);\r\n    var diffs_b = diff_main(text1_b, text2_b);\r\n    // Merge the results.\r\n    return diffs_a.concat([[DIFF_EQUAL, mid_common]], diffs_b);\r\n  }\r\n\r\n  return diff_bisect_(text1, text2);\r\n};\r\n\r\n\r\n/**\r\n * Find the 'middle snake' of a diff, split the problem in two\r\n * and return the recursively constructed diff.\r\n * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.\r\n * @param {string} text1 Old string to be diffed.\r\n * @param {string} text2 New string to be diffed.\r\n * @return {Array} Array of diff tuples.\r\n * @private\r\n */\r\nfunction diff_bisect_(text1, text2) {\r\n  // Cache the text lengths to prevent multiple calls.\r\n  var text1_length = text1.length;\r\n  var text2_length = text2.length;\r\n  var max_d = Math.ceil((text1_length + text2_length) / 2);\r\n  var v_offset = max_d;\r\n  var v_length = 2 * max_d;\r\n  var v1 = new Array(v_length);\r\n  var v2 = new Array(v_length);\r\n  // Setting all elements to -1 is faster in Chrome & Firefox than mixing\r\n  // integers and undefined.\r\n  for (var x = 0; x < v_length; x++) {\r\n    v1[x] = -1;\r\n    v2[x] = -1;\r\n  }\r\n  v1[v_offset + 1] = 0;\r\n  v2[v_offset + 1] = 0;\r\n  var delta = text1_length - text2_length;\r\n  // If the total number of characters is odd, then the front path will collide\r\n  // with the reverse path.\r\n  var front = (delta % 2 != 0);\r\n  // Offsets for start and end of k loop.\r\n  // Prevents mapping of space beyond the grid.\r\n  var k1start = 0;\r\n  var k1end = 0;\r\n  var k2start = 0;\r\n  var k2end = 0;\r\n  for (var d = 0; d < max_d; d++) {\r\n    // Walk the front path one step.\r\n    for (var k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {\r\n      var k1_offset = v_offset + k1;\r\n      var x1;\r\n      if (k1 == -d || (k1 != d && v1[k1_offset - 1] < v1[k1_offset + 1])) {\r\n        x1 = v1[k1_offset + 1];\r\n      } else {\r\n        x1 = v1[k1_offset - 1] + 1;\r\n      }\r\n      var y1 = x1 - k1;\r\n      while (x1 < text1_length && y1 < text2_length &&\r\n             text1.charAt(x1) == text2.charAt(y1)) {\r\n        x1++;\r\n        y1++;\r\n      }\r\n      v1[k1_offset] = x1;\r\n      if (x1 > text1_length) {\r\n        // Ran off the right of the graph.\r\n        k1end += 2;\r\n      } else if (y1 > text2_length) {\r\n        // Ran off the bottom of the graph.\r\n        k1start += 2;\r\n      } else if (front) {\r\n        var k2_offset = v_offset + delta - k1;\r\n        if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] != -1) {\r\n          // Mirror x2 onto top-left coordinate system.\r\n          var x2 = text1_length - v2[k2_offset];\r\n          if (x1 >= x2) {\r\n            // Overlap detected.\r\n            return diff_bisectSplit_(text1, text2, x1, y1);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // Walk the reverse path one step.\r\n    for (var k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {\r\n      var k2_offset = v_offset + k2;\r\n      var x2;\r\n      if (k2 == -d || (k2 != d && v2[k2_offset - 1] < v2[k2_offset + 1])) {\r\n        x2 = v2[k2_offset + 1];\r\n      } else {\r\n        x2 = v2[k2_offset - 1] + 1;\r\n      }\r\n      var y2 = x2 - k2;\r\n      while (x2 < text1_length && y2 < text2_length &&\r\n             text1.charAt(text1_length - x2 - 1) ==\r\n             text2.charAt(text2_length - y2 - 1)) {\r\n        x2++;\r\n        y2++;\r\n      }\r\n      v2[k2_offset] = x2;\r\n      if (x2 > text1_length) {\r\n        // Ran off the left of the graph.\r\n        k2end += 2;\r\n      } else if (y2 > text2_length) {\r\n        // Ran off the top of the graph.\r\n        k2start += 2;\r\n      } else if (!front) {\r\n        var k1_offset = v_offset + delta - k2;\r\n        if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] != -1) {\r\n          var x1 = v1[k1_offset];\r\n          var y1 = v_offset + x1 - k1_offset;\r\n          // Mirror x2 onto top-left coordinate system.\r\n          x2 = text1_length - x2;\r\n          if (x1 >= x2) {\r\n            // Overlap detected.\r\n            return diff_bisectSplit_(text1, text2, x1, y1);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  // Diff took too long and hit the deadline or\r\n  // number of diffs equals number of characters, no commonality at all.\r\n  return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\r\n};\r\n\r\n\r\n/**\r\n * Given the location of the 'middle snake', split the diff in two parts\r\n * and recurse.\r\n * @param {string} text1 Old string to be diffed.\r\n * @param {string} text2 New string to be diffed.\r\n * @param {number} x Index of split point in text1.\r\n * @param {number} y Index of split point in text2.\r\n * @return {Array} Array of diff tuples.\r\n */\r\nfunction diff_bisectSplit_(text1, text2, x, y) {\r\n  var text1a = text1.substring(0, x);\r\n  var text2a = text2.substring(0, y);\r\n  var text1b = text1.substring(x);\r\n  var text2b = text2.substring(y);\r\n\r\n  // Compute both diffs serially.\r\n  var diffs = diff_main(text1a, text2a);\r\n  var diffsb = diff_main(text1b, text2b);\r\n\r\n  return diffs.concat(diffsb);\r\n};\r\n\r\n\r\n/**\r\n * Determine the common prefix of two strings.\r\n * @param {string} text1 First string.\r\n * @param {string} text2 Second string.\r\n * @return {number} The number of characters common to the start of each\r\n *     string.\r\n */\r\nfunction diff_commonPrefix(text1, text2) {\r\n  // Quick check for common null cases.\r\n  if (!text1 || !text2 || text1.charAt(0) != text2.charAt(0)) {\r\n    return 0;\r\n  }\r\n  // Binary search.\r\n  // Performance analysis: http://neil.fraser.name/news/2007/10/09/\r\n  var pointermin = 0;\r\n  var pointermax = Math.min(text1.length, text2.length);\r\n  var pointermid = pointermax;\r\n  var pointerstart = 0;\r\n  while (pointermin < pointermid) {\r\n    if (text1.substring(pointerstart, pointermid) ==\r\n        text2.substring(pointerstart, pointermid)) {\r\n      pointermin = pointermid;\r\n      pointerstart = pointermin;\r\n    } else {\r\n      pointermax = pointermid;\r\n    }\r\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\r\n  }\r\n  return pointermid;\r\n};\r\n\r\n\r\n/**\r\n * Determine the common suffix of two strings.\r\n * @param {string} text1 First string.\r\n * @param {string} text2 Second string.\r\n * @return {number} The number of characters common to the end of each string.\r\n */\r\nfunction diff_commonSuffix(text1, text2) {\r\n  // Quick check for common null cases.\r\n  if (!text1 || !text2 ||\r\n      text1.charAt(text1.length - 1) != text2.charAt(text2.length - 1)) {\r\n    return 0;\r\n  }\r\n  // Binary search.\r\n  // Performance analysis: http://neil.fraser.name/news/2007/10/09/\r\n  var pointermin = 0;\r\n  var pointermax = Math.min(text1.length, text2.length);\r\n  var pointermid = pointermax;\r\n  var pointerend = 0;\r\n  while (pointermin < pointermid) {\r\n    if (text1.substring(text1.length - pointermid, text1.length - pointerend) ==\r\n        text2.substring(text2.length - pointermid, text2.length - pointerend)) {\r\n      pointermin = pointermid;\r\n      pointerend = pointermin;\r\n    } else {\r\n      pointermax = pointermid;\r\n    }\r\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\r\n  }\r\n  return pointermid;\r\n};\r\n\r\n\r\n/**\r\n * Do the two texts share a substring which is at least half the length of the\r\n * longer text?\r\n * This speedup can produce non-minimal diffs.\r\n * @param {string} text1 First string.\r\n * @param {string} text2 Second string.\r\n * @return {Array.<string>} Five element Array, containing the prefix of\r\n *     text1, the suffix of text1, the prefix of text2, the suffix of\r\n *     text2 and the common middle.  Or null if there was no match.\r\n */\r\nfunction diff_halfMatch_(text1, text2) {\r\n  var longtext = text1.length > text2.length ? text1 : text2;\r\n  var shorttext = text1.length > text2.length ? text2 : text1;\r\n  if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {\r\n    return null;  // Pointless.\r\n  }\r\n\r\n  /**\r\n   * Does a substring of shorttext exist within longtext such that the substring\r\n   * is at least half the length of longtext?\r\n   * Closure, but does not reference any external variables.\r\n   * @param {string} longtext Longer string.\r\n   * @param {string} shorttext Shorter string.\r\n   * @param {number} i Start index of quarter length substring within longtext.\r\n   * @return {Array.<string>} Five element Array, containing the prefix of\r\n   *     longtext, the suffix of longtext, the prefix of shorttext, the suffix\r\n   *     of shorttext and the common middle.  Or null if there was no match.\r\n   * @private\r\n   */\r\n  function diff_halfMatchI_(longtext, shorttext, i) {\r\n    // Start with a 1/4 length substring at position i as a seed.\r\n    var seed = longtext.substring(i, i + Math.floor(longtext.length / 4));\r\n    var j = -1;\r\n    var best_common = '';\r\n    var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;\r\n    while ((j = shorttext.indexOf(seed, j + 1)) != -1) {\r\n      var prefixLength = diff_commonPrefix(longtext.substring(i),\r\n                                           shorttext.substring(j));\r\n      var suffixLength = diff_commonSuffix(longtext.substring(0, i),\r\n                                           shorttext.substring(0, j));\r\n      if (best_common.length < suffixLength + prefixLength) {\r\n        best_common = shorttext.substring(j - suffixLength, j) +\r\n            shorttext.substring(j, j + prefixLength);\r\n        best_longtext_a = longtext.substring(0, i - suffixLength);\r\n        best_longtext_b = longtext.substring(i + prefixLength);\r\n        best_shorttext_a = shorttext.substring(0, j - suffixLength);\r\n        best_shorttext_b = shorttext.substring(j + prefixLength);\r\n      }\r\n    }\r\n    if (best_common.length * 2 >= longtext.length) {\r\n      return [best_longtext_a, best_longtext_b,\r\n              best_shorttext_a, best_shorttext_b, best_common];\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  // First check if the second quarter is the seed for a half-match.\r\n  var hm1 = diff_halfMatchI_(longtext, shorttext,\r\n                             Math.ceil(longtext.length / 4));\r\n  // Check again based on the third quarter.\r\n  var hm2 = diff_halfMatchI_(longtext, shorttext,\r\n                             Math.ceil(longtext.length / 2));\r\n  var hm;\r\n  if (!hm1 && !hm2) {\r\n    return null;\r\n  } else if (!hm2) {\r\n    hm = hm1;\r\n  } else if (!hm1) {\r\n    hm = hm2;\r\n  } else {\r\n    // Both matched.  Select the longest.\r\n    hm = hm1[4].length > hm2[4].length ? hm1 : hm2;\r\n  }\r\n\r\n  // A half-match was found, sort out the return data.\r\n  var text1_a, text1_b, text2_a, text2_b;\r\n  if (text1.length > text2.length) {\r\n    text1_a = hm[0];\r\n    text1_b = hm[1];\r\n    text2_a = hm[2];\r\n    text2_b = hm[3];\r\n  } else {\r\n    text2_a = hm[0];\r\n    text2_b = hm[1];\r\n    text1_a = hm[2];\r\n    text1_b = hm[3];\r\n  }\r\n  var mid_common = hm[4];\r\n  return [text1_a, text1_b, text2_a, text2_b, mid_common];\r\n};\r\n\r\n\r\n/**\r\n * Reorder and merge like edit sections.  Merge equalities.\r\n * Any edit section can move as long as it doesn't cross an equality.\r\n * @param {Array} diffs Array of diff tuples.\r\n */\r\nfunction diff_cleanupMerge(diffs) {\r\n  diffs.push([DIFF_EQUAL, '']);  // Add a dummy entry at the end.\r\n  var pointer = 0;\r\n  var count_delete = 0;\r\n  var count_insert = 0;\r\n  var text_delete = '';\r\n  var text_insert = '';\r\n  var commonlength;\r\n  while (pointer < diffs.length) {\r\n    switch (diffs[pointer][0]) {\r\n      case DIFF_INSERT:\r\n        count_insert++;\r\n        text_insert += diffs[pointer][1];\r\n        pointer++;\r\n        break;\r\n      case DIFF_DELETE:\r\n        count_delete++;\r\n        text_delete += diffs[pointer][1];\r\n        pointer++;\r\n        break;\r\n      case DIFF_EQUAL:\r\n        // Upon reaching an equality, check for prior redundancies.\r\n        if (count_delete + count_insert > 1) {\r\n          if (count_delete !== 0 && count_insert !== 0) {\r\n            // Factor out any common prefixies.\r\n            commonlength = diff_commonPrefix(text_insert, text_delete);\r\n            if (commonlength !== 0) {\r\n              if ((pointer - count_delete - count_insert) > 0 &&\r\n                  diffs[pointer - count_delete - count_insert - 1][0] ==\r\n                  DIFF_EQUAL) {\r\n                diffs[pointer - count_delete - count_insert - 1][1] +=\r\n                    text_insert.substring(0, commonlength);\r\n              } else {\r\n                diffs.splice(0, 0, [DIFF_EQUAL,\r\n                                    text_insert.substring(0, commonlength)]);\r\n                pointer++;\r\n              }\r\n              text_insert = text_insert.substring(commonlength);\r\n              text_delete = text_delete.substring(commonlength);\r\n            }\r\n            // Factor out any common suffixies.\r\n            commonlength = diff_commonSuffix(text_insert, text_delete);\r\n            if (commonlength !== 0) {\r\n              diffs[pointer][1] = text_insert.substring(text_insert.length -\r\n                  commonlength) + diffs[pointer][1];\r\n              text_insert = text_insert.substring(0, text_insert.length -\r\n                  commonlength);\r\n              text_delete = text_delete.substring(0, text_delete.length -\r\n                  commonlength);\r\n            }\r\n          }\r\n          // Delete the offending records and add the merged ones.\r\n          if (count_delete === 0) {\r\n            diffs.splice(pointer - count_insert,\r\n                count_delete + count_insert, [DIFF_INSERT, text_insert]);\r\n          } else if (count_insert === 0) {\r\n            diffs.splice(pointer - count_delete,\r\n                count_delete + count_insert, [DIFF_DELETE, text_delete]);\r\n          } else {\r\n            diffs.splice(pointer - count_delete - count_insert,\r\n                count_delete + count_insert, [DIFF_DELETE, text_delete],\r\n                [DIFF_INSERT, text_insert]);\r\n          }\r\n          pointer = pointer - count_delete - count_insert +\r\n                    (count_delete ? 1 : 0) + (count_insert ? 1 : 0) + 1;\r\n        } else if (pointer !== 0 && diffs[pointer - 1][0] == DIFF_EQUAL) {\r\n          // Merge this equality with the previous one.\r\n          diffs[pointer - 1][1] += diffs[pointer][1];\r\n          diffs.splice(pointer, 1);\r\n        } else {\r\n          pointer++;\r\n        }\r\n        count_insert = 0;\r\n        count_delete = 0;\r\n        text_delete = '';\r\n        text_insert = '';\r\n        break;\r\n    }\r\n  }\r\n  if (diffs[diffs.length - 1][1] === '') {\r\n    diffs.pop();  // Remove the dummy entry at the end.\r\n  }\r\n\r\n  // Second pass: look for single edits surrounded on both sides by equalities\r\n  // which can be shifted sideways to eliminate an equality.\r\n  // e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC\r\n  var changes = false;\r\n  pointer = 1;\r\n  // Intentionally ignore the first and last element (don't need checking).\r\n  while (pointer < diffs.length - 1) {\r\n    if (diffs[pointer - 1][0] == DIFF_EQUAL &&\r\n        diffs[pointer + 1][0] == DIFF_EQUAL) {\r\n      // This is a single edit surrounded by equalities.\r\n      if (diffs[pointer][1].substring(diffs[pointer][1].length -\r\n          diffs[pointer - 1][1].length) == diffs[pointer - 1][1]) {\r\n        // Shift the edit over the previous equality.\r\n        diffs[pointer][1] = diffs[pointer - 1][1] +\r\n            diffs[pointer][1].substring(0, diffs[pointer][1].length -\r\n                                        diffs[pointer - 1][1].length);\r\n        diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];\r\n        diffs.splice(pointer - 1, 1);\r\n        changes = true;\r\n      } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) ==\r\n          diffs[pointer + 1][1]) {\r\n        // Shift the edit over the next equality.\r\n        diffs[pointer - 1][1] += diffs[pointer + 1][1];\r\n        diffs[pointer][1] =\r\n            diffs[pointer][1].substring(diffs[pointer + 1][1].length) +\r\n            diffs[pointer + 1][1];\r\n        diffs.splice(pointer + 1, 1);\r\n        changes = true;\r\n      }\r\n    }\r\n    pointer++;\r\n  }\r\n  // If shifts were made, the diff needs reordering and another shift sweep.\r\n  if (changes) {\r\n    diff_cleanupMerge(diffs);\r\n  }\r\n};\r\n\r\n\r\nvar diff = diff_main;\r\ndiff.INSERT = DIFF_INSERT;\r\ndiff.DELETE = DIFF_DELETE;\r\ndiff.EQUAL = DIFF_EQUAL;\r\n\r\nmodule.exports = diff;\r\n\r\n/*\r\n * Modify a diff such that the cursor position points to the start of a change:\r\n * E.g.\r\n *   cursor_normalize_diff([[DIFF_EQUAL, 'abc']], 1)\r\n *     => [1, [[DIFF_EQUAL, 'a'], [DIFF_EQUAL, 'bc']]]\r\n *   cursor_normalize_diff([[DIFF_INSERT, 'new'], [DIFF_DELETE, 'xyz']], 2)\r\n *     => [2, [[DIFF_INSERT, 'new'], [DIFF_DELETE, 'xy'], [DIFF_DELETE, 'z']]]\r\n *\r\n * @param {Array} diffs Array of diff tuples\r\n * @param {Int} cursor_pos Suggested edit position. Must not be out of bounds!\r\n * @return {Array} A tuple [cursor location in the modified diff, modified diff]\r\n */\r\nfunction cursor_normalize_diff (diffs, cursor_pos) {\r\n  if (cursor_pos === 0) {\r\n    return [DIFF_EQUAL, diffs];\r\n  }\r\n  for (var current_pos = 0, i = 0; i < diffs.length; i++) {\r\n    var d = diffs[i];\r\n    if (d[0] === DIFF_DELETE || d[0] === DIFF_EQUAL) {\r\n      var next_pos = current_pos + d[1].length;\r\n      if (cursor_pos === next_pos) {\r\n        return [i + 1, diffs];\r\n      } else if (cursor_pos < next_pos) {\r\n        // copy to prevent side effects\r\n        diffs = diffs.slice();\r\n        // split d into two diff changes\r\n        var split_pos = cursor_pos - current_pos;\r\n        var d_left = [d[0], d[1].slice(0, split_pos)];\r\n        var d_right = [d[0], d[1].slice(split_pos)];\r\n        diffs.splice(i, 1, d_left, d_right);\r\n        return [i + 1, diffs];\r\n      } else {\r\n        current_pos = next_pos;\r\n      }\r\n    }\r\n  }\r\n  throw new Error('cursor_pos is out of bounds!')\r\n}\r\n\r\n/*\r\n * Modify a diff such that the edit position is \"shifted\" to the proposed edit location (cursor_position).\r\n *\r\n * Case 1)\r\n *   Check if a naive shift is possible:\r\n *     [0, X], [ 1, Y] -> [ 1, Y], [0, X]    (if X + Y === Y + X)\r\n *     [0, X], [-1, Y] -> [-1, Y], [0, X]    (if X + Y === Y + X) - holds same result\r\n * Case 2)\r\n *   Check if the following shifts are possible:\r\n *     [0, 'pre'], [ 1, 'prefix'] -> [ 1, 'pre'], [0, 'pre'], [ 1, 'fix']\r\n *     [0, 'pre'], [-1, 'prefix'] -> [-1, 'pre'], [0, 'pre'], [-1, 'fix']\r\n *         ^            ^\r\n *         d          d_next\r\n *\r\n * @param {Array} diffs Array of diff tuples\r\n * @param {Int} cursor_pos Suggested edit position. Must not be out of bounds!\r\n * @return {Array} Array of diff tuples\r\n */\r\nfunction fix_cursor (diffs, cursor_pos) {\r\n  var norm = cursor_normalize_diff(diffs, cursor_pos);\r\n  var ndiffs = norm[1];\r\n  var cursor_pointer = norm[0];\r\n  var d = ndiffs[cursor_pointer];\r\n  var d_next = ndiffs[cursor_pointer + 1];\r\n\r\n  if (d == null) {\r\n    // Text was deleted from end of original string,\r\n    // cursor is now out of bounds in new string\r\n    return diffs;\r\n  } else if (d[0] !== DIFF_EQUAL) {\r\n    // A modification happened at the cursor location.\r\n    // This is the expected outcome, so we can return the original diff.\r\n    return diffs;\r\n  } else {\r\n    if (d_next != null && d[1] + d_next[1] === d_next[1] + d[1]) {\r\n      // Case 1)\r\n      // It is possible to perform a naive shift\r\n      ndiffs.splice(cursor_pointer, 2, d_next, d)\r\n      return merge_tuples(ndiffs, cursor_pointer, 2)\r\n    } else if (d_next != null && d_next[1].indexOf(d[1]) === 0) {\r\n      // Case 2)\r\n      // d[1] is a prefix of d_next[1]\r\n      // We can assume that d_next[0] !== 0, since d[0] === 0\r\n      // Shift edit locations..\r\n      ndiffs.splice(cursor_pointer, 2, [d_next[0], d[1]], [0, d[1]]);\r\n      var suffix = d_next[1].slice(d[1].length);\r\n      if (suffix.length > 0) {\r\n        ndiffs.splice(cursor_pointer + 2, 0, [d_next[0], suffix]);\r\n      }\r\n      return merge_tuples(ndiffs, cursor_pointer, 3)\r\n    } else {\r\n      // Not possible to perform any modification\r\n      return diffs;\r\n    }\r\n  }\r\n}\r\n\r\n/*\r\n * Check diff did not split surrogate pairs.\r\n * Ex. [0, '\\uD83D'], [-1, '\\uDC36'], [1, '\\uDC2F'] -> [-1, '\\uD83D\\uDC36'], [1, '\\uD83D\\uDC2F']\r\n *     '\\uD83D\\uDC36' === '', '\\uD83D\\uDC2F' === ''\r\n *\r\n * @param {Array} diffs Array of diff tuples\r\n * @return {Array} Array of diff tuples\r\n */\r\nfunction fix_emoji (diffs) {\r\n  var compact = false;\r\n  var starts_with_pair_end = function(str) {\r\n    return str.charCodeAt(0) >= 0xDC00 && str.charCodeAt(0) <= 0xDFFF;\r\n  }\r\n  var ends_with_pair_start = function(str) {\r\n    return str.charCodeAt(str.length-1) >= 0xD800 && str.charCodeAt(str.length-1) <= 0xDBFF;\r\n  }\r\n  for (var i = 2; i < diffs.length; i += 1) {\r\n    if (diffs[i-2][0] === DIFF_EQUAL && ends_with_pair_start(diffs[i-2][1]) &&\r\n        diffs[i-1][0] === DIFF_DELETE && starts_with_pair_end(diffs[i-1][1]) &&\r\n        diffs[i][0] === DIFF_INSERT && starts_with_pair_end(diffs[i][1])) {\r\n      compact = true;\r\n\r\n      diffs[i-1][1] = diffs[i-2][1].slice(-1) + diffs[i-1][1];\r\n      diffs[i][1] = diffs[i-2][1].slice(-1) + diffs[i][1];\r\n\r\n      diffs[i-2][1] = diffs[i-2][1].slice(0, -1);\r\n    }\r\n  }\r\n  if (!compact) {\r\n    return diffs;\r\n  }\r\n  var fixed_diffs = [];\r\n  for (var i = 0; i < diffs.length; i += 1) {\r\n    if (diffs[i][1].length > 0) {\r\n      fixed_diffs.push(diffs[i]);\r\n    }\r\n  }\r\n  return fixed_diffs;\r\n}\r\n\r\n/*\r\n * Try to merge tuples with their neigbors in a given range.\r\n * E.g. [0, 'a'], [0, 'b'] -> [0, 'ab']\r\n *\r\n * @param {Array} diffs Array of diff tuples.\r\n * @param {Int} start Position of the first element to merge (diffs[start] is also merged with diffs[start - 1]).\r\n * @param {Int} length Number of consecutive elements to check.\r\n * @return {Array} Array of merged diff tuples.\r\n */\r\nfunction merge_tuples (diffs, start, length) {\r\n  // Check from (start-1) to (start+length).\r\n  for (var i = start + length - 1; i >= 0 && i >= start - 1; i--) {\r\n    if (i + 1 < diffs.length) {\r\n      var left_d = diffs[i];\r\n      var right_d = diffs[i+1];\r\n      if (left_d[0] === right_d[1]) {\r\n        diffs.splice(i, 2, [left_d[0], left_d[1] + right_d[1]]);\r\n      }\r\n    }\r\n  }\r\n  return diffs;\r\n}\r\n\r\n\r\n/***/ }),\r\n/* 52 */\r\n/***/ (function(module, exports) {\r\n\r\nexports = module.exports = typeof Object.keys === 'function'\r\n  ? Object.keys : shim;\r\n\r\nexports.shim = shim;\r\nfunction shim (obj) {\r\n  var keys = [];\r\n  for (var key in obj) keys.push(key);\r\n  return keys;\r\n}\r\n\r\n\r\n/***/ }),\r\n/* 53 */\r\n/***/ (function(module, exports) {\r\n\r\nvar supportsArgumentsClass = (function(){\r\n  return Object.prototype.toString.call(arguments)\r\n})() == '[object Arguments]';\r\n\r\nexports = module.exports = supportsArgumentsClass ? supported : unsupported;\r\n\r\nexports.supported = supported;\r\nfunction supported(object) {\r\n  return Object.prototype.toString.call(object) == '[object Arguments]';\r\n};\r\n\r\nexports.unsupported = unsupported;\r\nfunction unsupported(object){\r\n  return object &&\r\n    typeof object == 'object' &&\r\n    typeof object.length == 'number' &&\r\n    Object.prototype.hasOwnProperty.call(object, 'callee') &&\r\n    !Object.prototype.propertyIsEnumerable.call(object, 'callee') ||\r\n    false;\r\n};\r\n\r\n\r\n/***/ }),\r\n/* 54 */\r\n/***/ (function(module, exports) {\r\n\r\n'use strict';\r\n\r\nvar has = Object.prototype.hasOwnProperty\r\n  , prefix = '~';\r\n\r\n/**\r\n * Constructor to create a storage for our `EE` objects.\r\n * An `Events` instance is a plain object whose properties are event names.\r\n *\r\n * @constructor\r\n * @api private\r\n */\r\nfunction Events() {}\r\n\r\n//\r\n// We try to not inherit from `Object.prototype`. In some engines creating an\r\n// instance in this way is faster than calling `Object.create(null)` directly.\r\n// If `Object.create(null)` is not supported we prefix the event names with a\r\n// character to make sure that the built-in object properties are not\r\n// overridden or used as an attack vector.\r\n//\r\nif (Object.create) {\r\n  Events.prototype = Object.create(null);\r\n\r\n  //\r\n  // This hack is needed because the `__proto__` property is still inherited in\r\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\r\n  //\r\n  if (!new Events().__proto__) prefix = false;\r\n}\r\n\r\n/**\r\n * Representation of a single event listener.\r\n *\r\n * @param {Function} fn The listener function.\r\n * @param {Mixed} context The context to invoke the listener with.\r\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\r\n * @constructor\r\n * @api private\r\n */\r\nfunction EE(fn, context, once) {\r\n  this.fn = fn;\r\n  this.context = context;\r\n  this.once = once || false;\r\n}\r\n\r\n/**\r\n * Minimal `EventEmitter` interface that is molded against the Node.js\r\n * `EventEmitter` interface.\r\n *\r\n * @constructor\r\n * @api public\r\n */\r\nfunction EventEmitter() {\r\n  this._events = new Events();\r\n  this._eventsCount = 0;\r\n}\r\n\r\n/**\r\n * Return an array listing the events for which the emitter has registered\r\n * listeners.\r\n *\r\n * @returns {Array}\r\n * @api public\r\n */\r\nEventEmitter.prototype.eventNames = function eventNames() {\r\n  var names = []\r\n    , events\r\n    , name;\r\n\r\n  if (this._eventsCount === 0) return names;\r\n\r\n  for (name in (events = this._events)) {\r\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\r\n  }\r\n\r\n  if (Object.getOwnPropertySymbols) {\r\n    return names.concat(Object.getOwnPropertySymbols(events));\r\n  }\r\n\r\n  return names;\r\n};\r\n\r\n/**\r\n * Return the listeners registered for a given event.\r\n *\r\n * @param {String|Symbol} event The event name.\r\n * @param {Boolean} exists Only check if there are listeners.\r\n * @returns {Array|Boolean}\r\n * @api public\r\n */\r\nEventEmitter.prototype.listeners = function listeners(event, exists) {\r\n  var evt = prefix ? prefix + event : event\r\n    , available = this._events[evt];\r\n\r\n  if (exists) return !!available;\r\n  if (!available) return [];\r\n  if (available.fn) return [available.fn];\r\n\r\n  for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {\r\n    ee[i] = available[i].fn;\r\n  }\r\n\r\n  return ee;\r\n};\r\n\r\n/**\r\n * Calls each of the listeners registered for a given event.\r\n *\r\n * @param {String|Symbol} event The event name.\r\n * @returns {Boolean} `true` if the event had listeners, else `false`.\r\n * @api public\r\n */\r\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\r\n  var evt = prefix ? prefix + event : event;\r\n\r\n  if (!this._events[evt]) return false;\r\n\r\n  var listeners = this._events[evt]\r\n    , len = arguments.length\r\n    , args\r\n    , i;\r\n\r\n  if (listeners.fn) {\r\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\r\n\r\n    switch (len) {\r\n      case 1: return listeners.fn.call(listeners.context), true;\r\n      case 2: return listeners.fn.call(listeners.context, a1), true;\r\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\r\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\r\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\r\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\r\n    }\r\n\r\n    for (i = 1, args = new Array(len -1); i < len; i++) {\r\n      args[i - 1] = arguments[i];\r\n    }\r\n\r\n    listeners.fn.apply(listeners.context, args);\r\n  } else {\r\n    var length = listeners.length\r\n      , j;\r\n\r\n    for (i = 0; i < length; i++) {\r\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\r\n\r\n      switch (len) {\r\n        case 1: listeners[i].fn.call(listeners[i].context); break;\r\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\r\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\r\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\r\n        default:\r\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\r\n            args[j - 1] = arguments[j];\r\n          }\r\n\r\n          listeners[i].fn.apply(listeners[i].context, args);\r\n      }\r\n    }\r\n  }\r\n\r\n  return true;\r\n};\r\n\r\n/**\r\n * Add a listener for a given event.\r\n *\r\n * @param {String|Symbol} event The event name.\r\n * @param {Function} fn The listener function.\r\n * @param {Mixed} [context=this] The context to invoke the listener with.\r\n * @returns {EventEmitter} `this`.\r\n * @api public\r\n */\r\nEventEmitter.prototype.on = function on(event, fn, context) {\r\n  var listener = new EE(fn, context || this)\r\n    , evt = prefix ? prefix + event : event;\r\n\r\n  if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\r\n  else if (!this._events[evt].fn) this._events[evt].push(listener);\r\n  else this._events[evt] = [this._events[evt], listener];\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Add a one-time listener for a given event.\r\n *\r\n * @param {String|Symbol} event The event name.\r\n * @param {Function} fn The listener function.\r\n * @param {Mixed} [context=this] The context to invoke the listener with.\r\n * @returns {EventEmitter} `this`.\r\n * @api public\r\n */\r\nEventEmitter.prototype.once = function once(event, fn, context) {\r\n  var listener = new EE(fn, context || this, true)\r\n    , evt = prefix ? prefix + event : event;\r\n\r\n  if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\r\n  else if (!this._events[evt].fn) this._events[evt].push(listener);\r\n  else this._events[evt] = [this._events[evt], listener];\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove the listeners of a given event.\r\n *\r\n * @param {String|Symbol} event The event name.\r\n * @param {Function} fn Only remove the listeners that match this function.\r\n * @param {Mixed} context Only remove the listeners that have this context.\r\n * @param {Boolean} once Only remove one-time listeners.\r\n * @returns {EventEmitter} `this`.\r\n * @api public\r\n */\r\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\r\n  var evt = prefix ? prefix + event : event;\r\n\r\n  if (!this._events[evt]) return this;\r\n  if (!fn) {\r\n    if (--this._eventsCount === 0) this._events = new Events();\r\n    else delete this._events[evt];\r\n    return this;\r\n  }\r\n\r\n  var listeners = this._events[evt];\r\n\r\n  if (listeners.fn) {\r\n    if (\r\n         listeners.fn === fn\r\n      && (!once || listeners.once)\r\n      && (!context || listeners.context === context)\r\n    ) {\r\n      if (--this._eventsCount === 0) this._events = new Events();\r\n      else delete this._events[evt];\r\n    }\r\n  } else {\r\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\r\n      if (\r\n           listeners[i].fn !== fn\r\n        || (once && !listeners[i].once)\r\n        || (context && listeners[i].context !== context)\r\n      ) {\r\n        events.push(listeners[i]);\r\n      }\r\n    }\r\n\r\n    //\r\n    // Reset the array, or remove it completely if we have no more listeners.\r\n    //\r\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\r\n    else if (--this._eventsCount === 0) this._events = new Events();\r\n    else delete this._events[evt];\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n/**\r\n * Remove all listeners, or those of the specified event.\r\n *\r\n * @param {String|Symbol} [event] The event name.\r\n * @returns {EventEmitter} `this`.\r\n * @api public\r\n */\r\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\r\n  var evt;\r\n\r\n  if (event) {\r\n    evt = prefix ? prefix + event : event;\r\n    if (this._events[evt]) {\r\n      if (--this._eventsCount === 0) this._events = new Events();\r\n      else delete this._events[evt];\r\n    }\r\n  } else {\r\n    this._events = new Events();\r\n    this._eventsCount = 0;\r\n  }\r\n\r\n  return this;\r\n};\r\n\r\n//\r\n// Alias methods names because people roll like that.\r\n//\r\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\r\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\r\n\r\n//\r\n// This function doesn't apply anymore.\r\n//\r\nEventEmitter.prototype.setMaxListeners = function setMaxListeners() {\r\n  return this;\r\n};\r\n\r\n//\r\n// Expose the prefix.\r\n//\r\nEventEmitter.prefixed = prefix;\r\n\r\n//\r\n// Allow `EventEmitter` to be imported as module namespace.\r\n//\r\nEventEmitter.EventEmitter = EventEmitter;\r\n\r\n//\r\n// Expose the module.\r\n//\r\nif ('undefined' !== typeof module) {\r\n  module.exports = EventEmitter;\r\n}\r\n\r\n\r\n/***/ }),\r\n/* 55 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.matchText = exports.matchSpacing = exports.matchNewline = exports.matchBlot = exports.matchAttributor = exports.default = undefined;\r\n\r\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\r\n\r\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _extend2 = __webpack_require__(3);\r\n\r\nvar _extend3 = _interopRequireDefault(_extend2);\r\n\r\nvar _quillDelta = __webpack_require__(2);\r\n\r\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nvar _quill = __webpack_require__(5);\r\n\r\nvar _quill2 = _interopRequireDefault(_quill);\r\n\r\nvar _logger = __webpack_require__(10);\r\n\r\nvar _logger2 = _interopRequireDefault(_logger);\r\n\r\nvar _module = __webpack_require__(9);\r\n\r\nvar _module2 = _interopRequireDefault(_module);\r\n\r\nvar _align = __webpack_require__(36);\r\n\r\nvar _background = __webpack_require__(37);\r\n\r\nvar _code = __webpack_require__(13);\r\n\r\nvar _code2 = _interopRequireDefault(_code);\r\n\r\nvar _color = __webpack_require__(26);\r\n\r\nvar _direction = __webpack_require__(38);\r\n\r\nvar _font = __webpack_require__(39);\r\n\r\nvar _size = __webpack_require__(40);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar debug = (0, _logger2.default)('quill:clipboard');\r\n\r\nvar DOM_KEY = '__ql-matcher';\r\n\r\nvar CLIPBOARD_CONFIG = [[Node.TEXT_NODE, matchText], [Node.TEXT_NODE, matchNewline], ['br', matchBreak], [Node.ELEMENT_NODE, matchNewline], [Node.ELEMENT_NODE, matchBlot], [Node.ELEMENT_NODE, matchSpacing], [Node.ELEMENT_NODE, matchAttributor], [Node.ELEMENT_NODE, matchStyles], ['li', matchIndent], ['b', matchAlias.bind(matchAlias, 'bold')], ['i', matchAlias.bind(matchAlias, 'italic')], ['style', matchIgnore]];\r\n\r\nvar ATTRIBUTE_ATTRIBUTORS = [_align.AlignAttribute, _direction.DirectionAttribute].reduce(function (memo, attr) {\r\n  memo[attr.keyName] = attr;\r\n  return memo;\r\n}, {});\r\n\r\nvar STYLE_ATTRIBUTORS = [_align.AlignStyle, _background.BackgroundStyle, _color.ColorStyle, _direction.DirectionStyle, _font.FontStyle, _size.SizeStyle].reduce(function (memo, attr) {\r\n  memo[attr.keyName] = attr;\r\n  return memo;\r\n}, {});\r\n\r\nvar Clipboard = function (_Module) {\r\n  _inherits(Clipboard, _Module);\r\n\r\n  function Clipboard(quill, options) {\r\n    _classCallCheck(this, Clipboard);\r\n\r\n    var _this = _possibleConstructorReturn(this, (Clipboard.__proto__ || Object.getPrototypeOf(Clipboard)).call(this, quill, options));\r\n\r\n    _this.quill.root.addEventListener('paste', _this.onPaste.bind(_this));\r\n    _this.container = _this.quill.addContainer('ql-clipboard');\r\n    _this.container.setAttribute('contenteditable', true);\r\n    _this.container.setAttribute('tabindex', -1);\r\n    _this.matchers = [];\r\n    CLIPBOARD_CONFIG.concat(_this.options.matchers).forEach(function (_ref) {\r\n      var _ref2 = _slicedToArray(_ref, 2),\r\n          selector = _ref2[0],\r\n          matcher = _ref2[1];\r\n\r\n      if (!options.matchVisual && matcher === matchSpacing) return;\r\n      _this.addMatcher(selector, matcher);\r\n    });\r\n    return _this;\r\n  }\r\n\r\n  _createClass(Clipboard, [{\r\n    key: 'addMatcher',\r\n    value: function addMatcher(selector, matcher) {\r\n      this.matchers.push([selector, matcher]);\r\n    }\r\n  }, {\r\n    key: 'convert',\r\n    value: function convert(html) {\r\n      if (typeof html === 'string') {\r\n        this.container.innerHTML = html.replace(/\\>\\r?\\n +\\</g, '><'); // Remove spaces between tags\r\n        return this.convert();\r\n      }\r\n      var formats = this.quill.getFormat(this.quill.selection.savedRange.index);\r\n      if (formats[_code2.default.blotName]) {\r\n        var text = this.container.innerText;\r\n        this.container.innerHTML = '';\r\n        return new _quillDelta2.default().insert(text, _defineProperty({}, _code2.default.blotName, formats[_code2.default.blotName]));\r\n      }\r\n\r\n      var _prepareMatching = this.prepareMatching(),\r\n          _prepareMatching2 = _slicedToArray(_prepareMatching, 2),\r\n          elementMatchers = _prepareMatching2[0],\r\n          textMatchers = _prepareMatching2[1];\r\n\r\n      var delta = traverse(this.container, elementMatchers, textMatchers);\r\n      // Remove trailing newline\r\n      if (deltaEndsWith(delta, '\\n') && delta.ops[delta.ops.length - 1].attributes == null) {\r\n        delta = delta.compose(new _quillDelta2.default().retain(delta.length() - 1).delete(1));\r\n      }\r\n      debug.log('convert', this.container.innerHTML, delta);\r\n      this.container.innerHTML = '';\r\n      return delta;\r\n    }\r\n  }, {\r\n    key: 'dangerouslyPasteHTML',\r\n    value: function dangerouslyPasteHTML(index, html) {\r\n      var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _quill2.default.sources.API;\r\n\r\n      if (typeof index === 'string') {\r\n        this.quill.setContents(this.convert(index), html);\r\n        this.quill.setSelection(0, _quill2.default.sources.SILENT);\r\n      } else {\r\n        var paste = this.convert(html);\r\n        this.quill.updateContents(new _quillDelta2.default().retain(index).concat(paste), source);\r\n        this.quill.setSelection(index + paste.length(), _quill2.default.sources.SILENT);\r\n      }\r\n    }\r\n  }, {\r\n    key: 'onPaste',\r\n    value: function onPaste(e) {\r\n      var _this2 = this;\r\n\r\n      if (e.defaultPrevented || !this.quill.isEnabled()) return;\r\n      var range = this.quill.getSelection();\r\n      var delta = new _quillDelta2.default().retain(range.index);\r\n      var scrollTop = this.quill.scrollingContainer.scrollTop;\r\n      this.container.focus();\r\n      this.quill.selection.update(_quill2.default.sources.SILENT);\r\n      setTimeout(function () {\r\n        delta = delta.concat(_this2.convert()).delete(range.length);\r\n        _this2.quill.updateContents(delta, _quill2.default.sources.USER);\r\n        // range.length contributes to delta.length()\r\n        _this2.quill.setSelection(delta.length() - range.length, _quill2.default.sources.SILENT);\r\n        _this2.quill.scrollingContainer.scrollTop = scrollTop;\r\n        _this2.quill.focus();\r\n      }, 1);\r\n    }\r\n  }, {\r\n    key: 'prepareMatching',\r\n    value: function prepareMatching() {\r\n      var _this3 = this;\r\n\r\n      var elementMatchers = [],\r\n          textMatchers = [];\r\n      this.matchers.forEach(function (pair) {\r\n        var _pair = _slicedToArray(pair, 2),\r\n            selector = _pair[0],\r\n            matcher = _pair[1];\r\n\r\n        switch (selector) {\r\n          case Node.TEXT_NODE:\r\n            textMatchers.push(matcher);\r\n            break;\r\n          case Node.ELEMENT_NODE:\r\n            elementMatchers.push(matcher);\r\n            break;\r\n          default:\r\n            [].forEach.call(_this3.container.querySelectorAll(selector), function (node) {\r\n              // TODO use weakmap\r\n              node[DOM_KEY] = node[DOM_KEY] || [];\r\n              node[DOM_KEY].push(matcher);\r\n            });\r\n            break;\r\n        }\r\n      });\r\n      return [elementMatchers, textMatchers];\r\n    }\r\n  }]);\r\n\r\n  return Clipboard;\r\n}(_module2.default);\r\n\r\nClipboard.DEFAULTS = {\r\n  matchers: [],\r\n  matchVisual: true\r\n};\r\n\r\nfunction applyFormat(delta, format, value) {\r\n  if ((typeof format === 'undefined' ? 'undefined' : _typeof(format)) === 'object') {\r\n    return Object.keys(format).reduce(function (delta, key) {\r\n      return applyFormat(delta, key, format[key]);\r\n    }, delta);\r\n  } else {\r\n    return delta.reduce(function (delta, op) {\r\n      if (op.attributes && op.attributes[format]) {\r\n        return delta.push(op);\r\n      } else {\r\n        return delta.insert(op.insert, (0, _extend3.default)({}, _defineProperty({}, format, value), op.attributes));\r\n      }\r\n    }, new _quillDelta2.default());\r\n  }\r\n}\r\n\r\nfunction computeStyle(node) {\r\n  if (node.nodeType !== Node.ELEMENT_NODE) return {};\r\n  var DOM_KEY = '__ql-computed-style';\r\n  return node[DOM_KEY] || (node[DOM_KEY] = window.getComputedStyle(node));\r\n}\r\n\r\nfunction deltaEndsWith(delta, text) {\r\n  var endText = \"\";\r\n  for (var i = delta.ops.length - 1; i >= 0 && endText.length < text.length; --i) {\r\n    var op = delta.ops[i];\r\n    if (typeof op.insert !== 'string') break;\r\n    endText = op.insert + endText;\r\n  }\r\n  return endText.slice(-1 * text.length) === text;\r\n}\r\n\r\nfunction isLine(node) {\r\n  if (node.childNodes.length === 0) return false; // Exclude embed blocks\r\n  var style = computeStyle(node);\r\n  return ['block', 'list-item'].indexOf(style.display) > -1;\r\n}\r\n\r\nfunction traverse(node, elementMatchers, textMatchers) {\r\n  // Post-order\r\n  if (node.nodeType === node.TEXT_NODE) {\r\n    return textMatchers.reduce(function (delta, matcher) {\r\n      return matcher(node, delta);\r\n    }, new _quillDelta2.default());\r\n  } else if (node.nodeType === node.ELEMENT_NODE) {\r\n    return [].reduce.call(node.childNodes || [], function (delta, childNode) {\r\n      var childrenDelta = traverse(childNode, elementMatchers, textMatchers);\r\n      if (childNode.nodeType === node.ELEMENT_NODE) {\r\n        childrenDelta = elementMatchers.reduce(function (childrenDelta, matcher) {\r\n          return matcher(childNode, childrenDelta);\r\n        }, childrenDelta);\r\n        childrenDelta = (childNode[DOM_KEY] || []).reduce(function (childrenDelta, matcher) {\r\n          return matcher(childNode, childrenDelta);\r\n        }, childrenDelta);\r\n      }\r\n      return delta.concat(childrenDelta);\r\n    }, new _quillDelta2.default());\r\n  } else {\r\n    return new _quillDelta2.default();\r\n  }\r\n}\r\n\r\nfunction matchAlias(format, node, delta) {\r\n  return applyFormat(delta, format, true);\r\n}\r\n\r\nfunction matchAttributor(node, delta) {\r\n  var attributes = _parchment2.default.Attributor.Attribute.keys(node);\r\n  var classes = _parchment2.default.Attributor.Class.keys(node);\r\n  var styles = _parchment2.default.Attributor.Style.keys(node);\r\n  var formats = {};\r\n  attributes.concat(classes).concat(styles).forEach(function (name) {\r\n    var attr = _parchment2.default.query(name, _parchment2.default.Scope.ATTRIBUTE);\r\n    if (attr != null) {\r\n      formats[attr.attrName] = attr.value(node);\r\n      if (formats[attr.attrName]) return;\r\n    }\r\n    attr = ATTRIBUTE_ATTRIBUTORS[name];\r\n    if (attr != null && (attr.attrName === name || attr.keyName === name)) {\r\n      formats[attr.attrName] = attr.value(node) || undefined;\r\n    }\r\n    attr = STYLE_ATTRIBUTORS[name];\r\n    if (attr != null && (attr.attrName === name || attr.keyName === name)) {\r\n      attr = STYLE_ATTRIBUTORS[name];\r\n      formats[attr.attrName] = attr.value(node) || undefined;\r\n    }\r\n  });\r\n  if (Object.keys(formats).length > 0) {\r\n    delta = applyFormat(delta, formats);\r\n  }\r\n  return delta;\r\n}\r\n\r\nfunction matchBlot(node, delta) {\r\n  var match = _parchment2.default.query(node);\r\n  if (match == null) return delta;\r\n  if (match.prototype instanceof _parchment2.default.Embed) {\r\n    var embed = {};\r\n    var value = match.value(node);\r\n    if (value != null) {\r\n      embed[match.blotName] = value;\r\n      delta = new _quillDelta2.default().insert(embed, match.formats(node));\r\n    }\r\n  } else if (typeof match.formats === 'function') {\r\n    delta = applyFormat(delta, match.blotName, match.formats(node));\r\n  }\r\n  return delta;\r\n}\r\n\r\nfunction matchBreak(node, delta) {\r\n  if (!deltaEndsWith(delta, '\\n')) {\r\n    delta.insert('\\n');\r\n  }\r\n  return delta;\r\n}\r\n\r\nfunction matchIgnore() {\r\n  return new _quillDelta2.default();\r\n}\r\n\r\nfunction matchIndent(node, delta) {\r\n  var match = _parchment2.default.query(node);\r\n  if (match == null || match.blotName !== 'list-item' || !deltaEndsWith(delta, '\\n')) {\r\n    return delta;\r\n  }\r\n  var indent = -1,\r\n      parent = node.parentNode;\r\n  while (!parent.classList.contains('ql-clipboard')) {\r\n    if ((_parchment2.default.query(parent) || {}).blotName === 'list') {\r\n      indent += 1;\r\n    }\r\n    parent = parent.parentNode;\r\n  }\r\n  if (indent <= 0) return delta;\r\n  return delta.compose(new _quillDelta2.default().retain(delta.length() - 1).retain(1, { indent: indent }));\r\n}\r\n\r\nfunction matchNewline(node, delta) {\r\n  if (!deltaEndsWith(delta, '\\n')) {\r\n    if (isLine(node) || delta.length() > 0 && node.nextSibling && isLine(node.nextSibling)) {\r\n      delta.insert('\\n');\r\n    }\r\n  }\r\n  return delta;\r\n}\r\n\r\nfunction matchSpacing(node, delta) {\r\n  if (isLine(node) && node.nextElementSibling != null && !deltaEndsWith(delta, '\\n\\n')) {\r\n    var nodeHeight = node.offsetHeight + parseFloat(computeStyle(node).marginTop) + parseFloat(computeStyle(node).marginBottom);\r\n    if (node.nextElementSibling.offsetTop > node.offsetTop + nodeHeight * 1.5) {\r\n      delta.insert('\\n');\r\n    }\r\n  }\r\n  return delta;\r\n}\r\n\r\nfunction matchStyles(node, delta) {\r\n  var formats = {};\r\n  var style = node.style || {};\r\n  if (style.fontStyle && computeStyle(node).fontStyle === 'italic') {\r\n    formats.italic = true;\r\n  }\r\n  if (style.fontWeight && (computeStyle(node).fontWeight.startsWith('bold') || parseInt(computeStyle(node).fontWeight) >= 700)) {\r\n    formats.bold = true;\r\n  }\r\n  if (Object.keys(formats).length > 0) {\r\n    delta = applyFormat(delta, formats);\r\n  }\r\n  if (parseFloat(style.textIndent || 0) > 0) {\r\n    // Could be 0.5in\r\n    delta = new _quillDelta2.default().insert('\\t').concat(delta);\r\n  }\r\n  return delta;\r\n}\r\n\r\nfunction matchText(node, delta) {\r\n  var text = node.data;\r\n  // Word represents empty line with <o:p>&nbsp;</o:p>\r\n  if (node.parentNode.tagName === 'O:P') {\r\n    return delta.insert(text.trim());\r\n  }\r\n  if (text.trim().length === 0 && node.parentNode.classList.contains('ql-clipboard')) {\r\n    return delta;\r\n  }\r\n  if (!computeStyle(node.parentNode).whiteSpace.startsWith('pre')) {\r\n    // eslint-disable-next-line func-style\r\n    var replacer = function replacer(collapse, match) {\r\n      match = match.replace(/[^\\u00a0]/g, ''); // \\u00a0 is nbsp;\r\n      return match.length < 1 && collapse ? ' ' : match;\r\n    };\r\n    text = text.replace(/\\r\\n/g, ' ').replace(/\\n/g, ' ');\r\n    text = text.replace(/\\s\\s+/g, replacer.bind(replacer, true)); // collapse whitespace\r\n    if (node.previousSibling == null && isLine(node.parentNode) || node.previousSibling != null && isLine(node.previousSibling)) {\r\n      text = text.replace(/^\\s+/, replacer.bind(replacer, false));\r\n    }\r\n    if (node.nextSibling == null && isLine(node.parentNode) || node.nextSibling != null && isLine(node.nextSibling)) {\r\n      text = text.replace(/\\s+$/, replacer.bind(replacer, false));\r\n    }\r\n  }\r\n  return delta.insert(text);\r\n}\r\n\r\nexports.default = Clipboard;\r\nexports.matchAttributor = matchAttributor;\r\nexports.matchBlot = matchBlot;\r\nexports.matchNewline = matchNewline;\r\nexports.matchSpacing = matchSpacing;\r\nexports.matchText = matchText;\r\n\r\n/***/ }),\r\n/* 56 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _inline = __webpack_require__(6);\r\n\r\nvar _inline2 = _interopRequireDefault(_inline);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar Bold = function (_Inline) {\r\n  _inherits(Bold, _Inline);\r\n\r\n  function Bold() {\r\n    _classCallCheck(this, Bold);\r\n\r\n    return _possibleConstructorReturn(this, (Bold.__proto__ || Object.getPrototypeOf(Bold)).apply(this, arguments));\r\n  }\r\n\r\n  _createClass(Bold, [{\r\n    key: 'optimize',\r\n    value: function optimize(context) {\r\n      _get(Bold.prototype.__proto__ || Object.getPrototypeOf(Bold.prototype), 'optimize', this).call(this, context);\r\n      if (this.domNode.tagName !== this.statics.tagName[0]) {\r\n        this.replaceWith(this.statics.blotName);\r\n      }\r\n    }\r\n  }], [{\r\n    key: 'create',\r\n    value: function create() {\r\n      return _get(Bold.__proto__ || Object.getPrototypeOf(Bold), 'create', this).call(this);\r\n    }\r\n  }, {\r\n    key: 'formats',\r\n    value: function formats() {\r\n      return true;\r\n    }\r\n  }]);\r\n\r\n  return Bold;\r\n}(_inline2.default);\r\n\r\nBold.blotName = 'bold';\r\nBold.tagName = ['STRONG', 'B'];\r\n\r\nexports.default = Bold;\r\n\r\n/***/ }),\r\n/* 57 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.addControls = exports.default = undefined;\r\n\r\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _quillDelta = __webpack_require__(2);\r\n\r\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nvar _quill = __webpack_require__(5);\r\n\r\nvar _quill2 = _interopRequireDefault(_quill);\r\n\r\nvar _logger = __webpack_require__(10);\r\n\r\nvar _logger2 = _interopRequireDefault(_logger);\r\n\r\nvar _module = __webpack_require__(9);\r\n\r\nvar _module2 = _interopRequireDefault(_module);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar debug = (0, _logger2.default)('quill:toolbar');\r\n\r\nvar Toolbar = function (_Module) {\r\n  _inherits(Toolbar, _Module);\r\n\r\n  function Toolbar(quill, options) {\r\n    _classCallCheck(this, Toolbar);\r\n\r\n    var _this = _possibleConstructorReturn(this, (Toolbar.__proto__ || Object.getPrototypeOf(Toolbar)).call(this, quill, options));\r\n\r\n    if (Array.isArray(_this.options.container)) {\r\n      var container = document.createElement('div');\r\n      addControls(container, _this.options.container);\r\n      quill.container.parentNode.insertBefore(container, quill.container);\r\n      _this.container = container;\r\n    } else if (typeof _this.options.container === 'string') {\r\n      _this.container = document.querySelector(_this.options.container);\r\n    } else {\r\n      _this.container = _this.options.container;\r\n    }\r\n    if (!(_this.container instanceof HTMLElement)) {\r\n      var _ret;\r\n\r\n      return _ret = debug.error('Container required for toolbar', _this.options), _possibleConstructorReturn(_this, _ret);\r\n    }\r\n    _this.container.classList.add('ql-toolbar');\r\n    _this.controls = [];\r\n    _this.handlers = {};\r\n    Object.keys(_this.options.handlers).forEach(function (format) {\r\n      _this.addHandler(format, _this.options.handlers[format]);\r\n    });\r\n    [].forEach.call(_this.container.querySelectorAll('button, select'), function (input) {\r\n      _this.attach(input);\r\n    });\r\n    _this.quill.on(_quill2.default.events.EDITOR_CHANGE, function (type, range) {\r\n      if (type === _quill2.default.events.SELECTION_CHANGE) {\r\n        _this.update(range);\r\n      }\r\n    });\r\n    _this.quill.on(_quill2.default.events.SCROLL_OPTIMIZE, function () {\r\n      var _this$quill$selection = _this.quill.selection.getRange(),\r\n          _this$quill$selection2 = _slicedToArray(_this$quill$selection, 1),\r\n          range = _this$quill$selection2[0]; // quill.getSelection triggers update\r\n\r\n\r\n      _this.update(range);\r\n    });\r\n    return _this;\r\n  }\r\n\r\n  _createClass(Toolbar, [{\r\n    key: 'addHandler',\r\n    value: function addHandler(format, handler) {\r\n      this.handlers[format] = handler;\r\n    }\r\n  }, {\r\n    key: 'attach',\r\n    value: function attach(input) {\r\n      var _this2 = this;\r\n\r\n      var format = [].find.call(input.classList, function (className) {\r\n        return className.indexOf('ql-') === 0;\r\n      });\r\n      if (!format) return;\r\n      format = format.slice('ql-'.length);\r\n      if (input.tagName === 'BUTTON') {\r\n        input.setAttribute('type', 'button');\r\n      }\r\n      if (this.handlers[format] == null) {\r\n        if (this.quill.scroll.whitelist != null && this.quill.scroll.whitelist[format] == null) {\r\n          debug.warn('ignoring attaching to disabled format', format, input);\r\n          return;\r\n        }\r\n        if (_parchment2.default.query(format) == null) {\r\n          debug.warn('ignoring attaching to nonexistent format', format, input);\r\n          return;\r\n        }\r\n      }\r\n      var eventName = input.tagName === 'SELECT' ? 'change' : 'click';\r\n      input.addEventListener(eventName, function (e) {\r\n        var value = void 0;\r\n        if (input.tagName === 'SELECT') {\r\n          if (input.selectedIndex < 0) return;\r\n          var selected = input.options[input.selectedIndex];\r\n          if (selected.hasAttribute('selected')) {\r\n            value = false;\r\n          } else {\r\n            value = selected.value || false;\r\n          }\r\n        } else {\r\n          if (input.classList.contains('ql-active')) {\r\n            value = false;\r\n          } else {\r\n            value = input.value || !input.hasAttribute('value');\r\n          }\r\n          e.preventDefault();\r\n        }\r\n        _this2.quill.focus();\r\n\r\n        var _quill$selection$getR = _this2.quill.selection.getRange(),\r\n            _quill$selection$getR2 = _slicedToArray(_quill$selection$getR, 1),\r\n            range = _quill$selection$getR2[0];\r\n\r\n        if (_this2.handlers[format] != null) {\r\n          _this2.handlers[format].call(_this2, value);\r\n        } else if (_parchment2.default.query(format).prototype instanceof _parchment2.default.Embed) {\r\n          value = prompt('Enter ' + format);\r\n          if (!value) return;\r\n          _this2.quill.updateContents(new _quillDelta2.default().retain(range.index).delete(range.length).insert(_defineProperty({}, format, value)), _quill2.default.sources.USER);\r\n        } else {\r\n          _this2.quill.format(format, value, _quill2.default.sources.USER);\r\n        }\r\n        _this2.update(range);\r\n      });\r\n      // TODO use weakmap\r\n      this.controls.push([format, input]);\r\n    }\r\n  }, {\r\n    key: 'update',\r\n    value: function update(range) {\r\n      var formats = range == null ? {} : this.quill.getFormat(range);\r\n      this.controls.forEach(function (pair) {\r\n        var _pair = _slicedToArray(pair, 2),\r\n            format = _pair[0],\r\n            input = _pair[1];\r\n\r\n        if (input.tagName === 'SELECT') {\r\n          var option = void 0;\r\n          if (range == null) {\r\n            option = null;\r\n          } else if (formats[format] == null) {\r\n            option = input.querySelector('option[selected]');\r\n          } else if (!Array.isArray(formats[format])) {\r\n            var value = formats[format];\r\n            if (typeof value === 'string') {\r\n              value = value.replace(/\\\"/g, '\\\\\"');\r\n            }\r\n            option = input.querySelector('option[value=\"' + value + '\"]');\r\n          }\r\n          if (option == null) {\r\n            input.value = ''; // TODO make configurable?\r\n            input.selectedIndex = -1;\r\n          } else {\r\n            option.selected = true;\r\n          }\r\n        } else {\r\n          if (range == null) {\r\n            input.classList.remove('ql-active');\r\n          } else if (input.hasAttribute('value')) {\r\n            // both being null should match (default values)\r\n            // '1' should match with 1 (headers)\r\n            var isActive = formats[format] === input.getAttribute('value') || formats[format] != null && formats[format].toString() === input.getAttribute('value') || formats[format] == null && !input.getAttribute('value');\r\n            input.classList.toggle('ql-active', isActive);\r\n          } else {\r\n            input.classList.toggle('ql-active', formats[format] != null);\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }]);\r\n\r\n  return Toolbar;\r\n}(_module2.default);\r\n\r\nToolbar.DEFAULTS = {};\r\n\r\nfunction addButton(container, format, value) {\r\n  var input = document.createElement('button');\r\n  input.setAttribute('type', 'button');\r\n  input.classList.add('ql-' + format);\r\n  if (value != null) {\r\n    input.value = value;\r\n  }\r\n  container.appendChild(input);\r\n}\r\n\r\nfunction addControls(container, groups) {\r\n  if (!Array.isArray(groups[0])) {\r\n    groups = [groups];\r\n  }\r\n  groups.forEach(function (controls) {\r\n    var group = document.createElement('span');\r\n    group.classList.add('ql-formats');\r\n    controls.forEach(function (control) {\r\n      if (typeof control === 'string') {\r\n        addButton(group, control);\r\n      } else {\r\n        var format = Object.keys(control)[0];\r\n        var value = control[format];\r\n        if (Array.isArray(value)) {\r\n          addSelect(group, format, value);\r\n        } else {\r\n          addButton(group, format, value);\r\n        }\r\n      }\r\n    });\r\n    container.appendChild(group);\r\n  });\r\n}\r\n\r\nfunction addSelect(container, format, values) {\r\n  var input = document.createElement('select');\r\n  input.classList.add('ql-' + format);\r\n  values.forEach(function (value) {\r\n    var option = document.createElement('option');\r\n    if (value !== false) {\r\n      option.setAttribute('value', value);\r\n    } else {\r\n      option.setAttribute('selected', 'selected');\r\n    }\r\n    input.appendChild(option);\r\n  });\r\n  container.appendChild(input);\r\n}\r\n\r\nToolbar.DEFAULTS = {\r\n  container: null,\r\n  handlers: {\r\n    clean: function clean() {\r\n      var _this3 = this;\r\n\r\n      var range = this.quill.getSelection();\r\n      if (range == null) return;\r\n      if (range.length == 0) {\r\n        var formats = this.quill.getFormat();\r\n        Object.keys(formats).forEach(function (name) {\r\n          // Clean functionality in existing apps only clean inline formats\r\n          if (_parchment2.default.query(name, _parchment2.default.Scope.INLINE) != null) {\r\n            _this3.quill.format(name, false);\r\n          }\r\n        });\r\n      } else {\r\n        this.quill.removeFormat(range, _quill2.default.sources.USER);\r\n      }\r\n    },\r\n    direction: function direction(value) {\r\n      var align = this.quill.getFormat()['align'];\r\n      if (value === 'rtl' && align == null) {\r\n        this.quill.format('align', 'right', _quill2.default.sources.USER);\r\n      } else if (!value && align === 'right') {\r\n        this.quill.format('align', false, _quill2.default.sources.USER);\r\n      }\r\n      this.quill.format('direction', value, _quill2.default.sources.USER);\r\n    },\r\n    indent: function indent(value) {\r\n      var range = this.quill.getSelection();\r\n      var formats = this.quill.getFormat(range);\r\n      var indent = parseInt(formats.indent || 0);\r\n      if (value === '+1' || value === '-1') {\r\n        var modifier = value === '+1' ? 1 : -1;\r\n        if (formats.direction === 'rtl') modifier *= -1;\r\n        this.quill.format('indent', indent + modifier, _quill2.default.sources.USER);\r\n      }\r\n    },\r\n    link: function link(value) {\r\n      if (value === true) {\r\n        value = prompt('Enter link URL:');\r\n      }\r\n      this.quill.format('link', value, _quill2.default.sources.USER);\r\n    },\r\n    list: function list(value) {\r\n      var range = this.quill.getSelection();\r\n      var formats = this.quill.getFormat(range);\r\n      if (value === 'check') {\r\n        if (formats['list'] === 'checked' || formats['list'] === 'unchecked') {\r\n          this.quill.format('list', false, _quill2.default.sources.USER);\r\n        } else {\r\n          this.quill.format('list', 'unchecked', _quill2.default.sources.USER);\r\n        }\r\n      } else {\r\n        this.quill.format('list', value, _quill2.default.sources.USER);\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nexports.default = Toolbar;\r\nexports.addControls = addControls;\r\n\r\n/***/ }),\r\n/* 58 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polyline class=\\\"ql-even ql-stroke\\\" points=\\\"5 7 3 9 5 11\\\"></polyline> <polyline class=\\\"ql-even ql-stroke\\\" points=\\\"13 7 15 9 13 11\\\"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>\";\r\n\r\n/***/ }),\r\n/* 59 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _picker = __webpack_require__(28);\r\n\r\nvar _picker2 = _interopRequireDefault(_picker);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar ColorPicker = function (_Picker) {\r\n  _inherits(ColorPicker, _Picker);\r\n\r\n  function ColorPicker(select, label) {\r\n    _classCallCheck(this, ColorPicker);\r\n\r\n    var _this = _possibleConstructorReturn(this, (ColorPicker.__proto__ || Object.getPrototypeOf(ColorPicker)).call(this, select));\r\n\r\n    _this.label.innerHTML = label;\r\n    _this.container.classList.add('ql-color-picker');\r\n    [].slice.call(_this.container.querySelectorAll('.ql-picker-item'), 0, 7).forEach(function (item) {\r\n      item.classList.add('ql-primary');\r\n    });\r\n    return _this;\r\n  }\r\n\r\n  _createClass(ColorPicker, [{\r\n    key: 'buildItem',\r\n    value: function buildItem(option) {\r\n      var item = _get(ColorPicker.prototype.__proto__ || Object.getPrototypeOf(ColorPicker.prototype), 'buildItem', this).call(this, option);\r\n      item.style.backgroundColor = option.getAttribute('value') || '';\r\n      return item;\r\n    }\r\n  }, {\r\n    key: 'selectItem',\r\n    value: function selectItem(item, trigger) {\r\n      _get(ColorPicker.prototype.__proto__ || Object.getPrototypeOf(ColorPicker.prototype), 'selectItem', this).call(this, item, trigger);\r\n      var colorLabel = this.label.querySelector('.ql-color-label');\r\n      var value = item ? item.getAttribute('data-value') || '' : '';\r\n      if (colorLabel) {\r\n        if (colorLabel.tagName === 'line') {\r\n          colorLabel.style.stroke = value;\r\n        } else {\r\n          colorLabel.style.fill = value;\r\n        }\r\n      }\r\n    }\r\n  }]);\r\n\r\n  return ColorPicker;\r\n}(_picker2.default);\r\n\r\nexports.default = ColorPicker;\r\n\r\n/***/ }),\r\n/* 60 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _picker = __webpack_require__(28);\r\n\r\nvar _picker2 = _interopRequireDefault(_picker);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar IconPicker = function (_Picker) {\r\n  _inherits(IconPicker, _Picker);\r\n\r\n  function IconPicker(select, icons) {\r\n    _classCallCheck(this, IconPicker);\r\n\r\n    var _this = _possibleConstructorReturn(this, (IconPicker.__proto__ || Object.getPrototypeOf(IconPicker)).call(this, select));\r\n\r\n    _this.container.classList.add('ql-icon-picker');\r\n    [].forEach.call(_this.container.querySelectorAll('.ql-picker-item'), function (item) {\r\n      item.innerHTML = icons[item.getAttribute('data-value') || ''];\r\n    });\r\n    _this.defaultItem = _this.container.querySelector('.ql-selected');\r\n    _this.selectItem(_this.defaultItem);\r\n    return _this;\r\n  }\r\n\r\n  _createClass(IconPicker, [{\r\n    key: 'selectItem',\r\n    value: function selectItem(item, trigger) {\r\n      _get(IconPicker.prototype.__proto__ || Object.getPrototypeOf(IconPicker.prototype), 'selectItem', this).call(this, item, trigger);\r\n      item = item || this.defaultItem;\r\n      this.label.innerHTML = item.innerHTML;\r\n    }\r\n  }]);\r\n\r\n  return IconPicker;\r\n}(_picker2.default);\r\n\r\nexports.default = IconPicker;\r\n\r\n/***/ }),\r\n/* 61 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nvar Tooltip = function () {\r\n  function Tooltip(quill, boundsContainer) {\r\n    var _this = this;\r\n\r\n    _classCallCheck(this, Tooltip);\r\n\r\n    this.quill = quill;\r\n    this.boundsContainer = boundsContainer || document.body;\r\n    this.root = quill.addContainer('ql-tooltip');\r\n    this.root.innerHTML = this.constructor.TEMPLATE;\r\n    if (this.quill.root === this.quill.scrollingContainer) {\r\n      this.quill.root.addEventListener('scroll', function () {\r\n        _this.root.style.marginTop = -1 * _this.quill.root.scrollTop + 'px';\r\n      });\r\n    }\r\n    this.hide();\r\n  }\r\n\r\n  _createClass(Tooltip, [{\r\n    key: 'hide',\r\n    value: function hide() {\r\n      this.root.classList.add('ql-hidden');\r\n    }\r\n  }, {\r\n    key: 'position',\r\n    value: function position(reference) {\r\n      var left = reference.left + reference.width / 2 - this.root.offsetWidth / 2;\r\n      // root.scrollTop should be 0 if scrollContainer !== root\r\n      var top = reference.bottom + this.quill.root.scrollTop;\r\n      this.root.style.left = left + 'px';\r\n      this.root.style.top = top + 'px';\r\n      this.root.classList.remove('ql-flip');\r\n      var containerBounds = this.boundsContainer.getBoundingClientRect();\r\n      var rootBounds = this.root.getBoundingClientRect();\r\n      var shift = 0;\r\n      if (rootBounds.right > containerBounds.right) {\r\n        shift = containerBounds.right - rootBounds.right;\r\n        this.root.style.left = left + shift + 'px';\r\n      }\r\n      if (rootBounds.left < containerBounds.left) {\r\n        shift = containerBounds.left - rootBounds.left;\r\n        this.root.style.left = left + shift + 'px';\r\n      }\r\n      if (rootBounds.bottom > containerBounds.bottom) {\r\n        var height = rootBounds.bottom - rootBounds.top;\r\n        var verticalShift = reference.bottom - reference.top + height;\r\n        this.root.style.top = top - verticalShift + 'px';\r\n        this.root.classList.add('ql-flip');\r\n      }\r\n      return shift;\r\n    }\r\n  }, {\r\n    key: 'show',\r\n    value: function show() {\r\n      this.root.classList.remove('ql-editing');\r\n      this.root.classList.remove('ql-hidden');\r\n    }\r\n  }]);\r\n\r\n  return Tooltip;\r\n}();\r\n\r\nexports.default = Tooltip;\r\n\r\n/***/ }),\r\n/* 62 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _extend = __webpack_require__(3);\r\n\r\nvar _extend2 = _interopRequireDefault(_extend);\r\n\r\nvar _emitter = __webpack_require__(8);\r\n\r\nvar _emitter2 = _interopRequireDefault(_emitter);\r\n\r\nvar _base = __webpack_require__(43);\r\n\r\nvar _base2 = _interopRequireDefault(_base);\r\n\r\nvar _link = __webpack_require__(27);\r\n\r\nvar _link2 = _interopRequireDefault(_link);\r\n\r\nvar _selection = __webpack_require__(15);\r\n\r\nvar _icons = __webpack_require__(41);\r\n\r\nvar _icons2 = _interopRequireDefault(_icons);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar TOOLBAR_CONFIG = [[{ header: ['1', '2', '3', false] }], ['bold', 'italic', 'underline', 'link'], [{ list: 'ordered' }, { list: 'bullet' }], ['clean']];\r\n\r\nvar SnowTheme = function (_BaseTheme) {\r\n  _inherits(SnowTheme, _BaseTheme);\r\n\r\n  function SnowTheme(quill, options) {\r\n    _classCallCheck(this, SnowTheme);\r\n\r\n    if (options.modules.toolbar != null && options.modules.toolbar.container == null) {\r\n      options.modules.toolbar.container = TOOLBAR_CONFIG;\r\n    }\r\n\r\n    var _this = _possibleConstructorReturn(this, (SnowTheme.__proto__ || Object.getPrototypeOf(SnowTheme)).call(this, quill, options));\r\n\r\n    _this.quill.container.classList.add('ql-snow');\r\n    return _this;\r\n  }\r\n\r\n  _createClass(SnowTheme, [{\r\n    key: 'extendToolbar',\r\n    value: function extendToolbar(toolbar) {\r\n      toolbar.container.classList.add('ql-snow');\r\n      this.buildButtons([].slice.call(toolbar.container.querySelectorAll('button')), _icons2.default);\r\n      this.buildPickers([].slice.call(toolbar.container.querySelectorAll('select')), _icons2.default);\r\n      this.tooltip = new SnowTooltip(this.quill, this.options.bounds);\r\n      if (toolbar.container.querySelector('.ql-link')) {\r\n        this.quill.keyboard.addBinding({ key: 'K', shortKey: true }, function (range, context) {\r\n          toolbar.handlers['link'].call(toolbar, !context.format.link);\r\n        });\r\n      }\r\n    }\r\n  }]);\r\n\r\n  return SnowTheme;\r\n}(_base2.default);\r\n\r\nSnowTheme.DEFAULTS = (0, _extend2.default)(true, {}, _base2.default.DEFAULTS, {\r\n  modules: {\r\n    toolbar: {\r\n      handlers: {\r\n        link: function link(value) {\r\n          if (value) {\r\n            var range = this.quill.getSelection();\r\n            if (range == null || range.length == 0) return;\r\n            var preview = this.quill.getText(range);\r\n            if (/^\\S+@\\S+\\.\\S+$/.test(preview) && preview.indexOf('mailto:') !== 0) {\r\n              preview = 'mailto:' + preview;\r\n            }\r\n            var tooltip = this.quill.theme.tooltip;\r\n            tooltip.edit('link', preview);\r\n          } else {\r\n            this.quill.format('link', false);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n});\r\n\r\nvar SnowTooltip = function (_BaseTooltip) {\r\n  _inherits(SnowTooltip, _BaseTooltip);\r\n\r\n  function SnowTooltip(quill, bounds) {\r\n    _classCallCheck(this, SnowTooltip);\r\n\r\n    var _this2 = _possibleConstructorReturn(this, (SnowTooltip.__proto__ || Object.getPrototypeOf(SnowTooltip)).call(this, quill, bounds));\r\n\r\n    _this2.preview = _this2.root.querySelector('a.ql-preview');\r\n    return _this2;\r\n  }\r\n\r\n  _createClass(SnowTooltip, [{\r\n    key: 'listen',\r\n    value: function listen() {\r\n      var _this3 = this;\r\n\r\n      _get(SnowTooltip.prototype.__proto__ || Object.getPrototypeOf(SnowTooltip.prototype), 'listen', this).call(this);\r\n      this.root.querySelector('a.ql-action').addEventListener('click', function (event) {\r\n        if (_this3.root.classList.contains('ql-editing')) {\r\n          _this3.save();\r\n        } else {\r\n          _this3.edit('link', _this3.preview.textContent);\r\n        }\r\n        event.preventDefault();\r\n      });\r\n      this.root.querySelector('a.ql-remove').addEventListener('click', function (event) {\r\n        if (_this3.linkRange != null) {\r\n          var range = _this3.linkRange;\r\n          _this3.restoreFocus();\r\n          _this3.quill.formatText(range, 'link', false, _emitter2.default.sources.USER);\r\n          delete _this3.linkRange;\r\n        }\r\n        event.preventDefault();\r\n        _this3.hide();\r\n      });\r\n      this.quill.on(_emitter2.default.events.SELECTION_CHANGE, function (range, oldRange, source) {\r\n        if (range == null) return;\r\n        if (range.length === 0 && source === _emitter2.default.sources.USER) {\r\n          var _quill$scroll$descend = _this3.quill.scroll.descendant(_link2.default, range.index),\r\n              _quill$scroll$descend2 = _slicedToArray(_quill$scroll$descend, 2),\r\n              link = _quill$scroll$descend2[0],\r\n              offset = _quill$scroll$descend2[1];\r\n\r\n          if (link != null) {\r\n            _this3.linkRange = new _selection.Range(range.index - offset, link.length());\r\n            var preview = _link2.default.formats(link.domNode);\r\n            _this3.preview.textContent = preview;\r\n            _this3.preview.setAttribute('href', preview);\r\n            _this3.show();\r\n            _this3.position(_this3.quill.getBounds(_this3.linkRange));\r\n            return;\r\n          }\r\n        } else {\r\n          delete _this3.linkRange;\r\n        }\r\n        _this3.hide();\r\n      });\r\n    }\r\n  }, {\r\n    key: 'show',\r\n    value: function show() {\r\n      _get(SnowTooltip.prototype.__proto__ || Object.getPrototypeOf(SnowTooltip.prototype), 'show', this).call(this);\r\n      this.root.removeAttribute('data-mode');\r\n    }\r\n  }]);\r\n\r\n  return SnowTooltip;\r\n}(_base.BaseTooltip);\r\n\r\nSnowTooltip.TEMPLATE = ['<a class=\"ql-preview\" rel=\"noopener noreferrer\" target=\"_blank\" href=\"about:blank\"></a>', '<input type=\"text\" data-formula=\"e=mc^2\" data-link=\"https://quilljs.com\" data-video=\"Embed URL\">', '<a class=\"ql-action\"></a>', '<a class=\"ql-remove\"></a>'].join('');\r\n\r\nexports.default = SnowTheme;\r\n\r\n/***/ }),\r\n/* 63 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _core = __webpack_require__(29);\r\n\r\nvar _core2 = _interopRequireDefault(_core);\r\n\r\nvar _align = __webpack_require__(36);\r\n\r\nvar _direction = __webpack_require__(38);\r\n\r\nvar _indent = __webpack_require__(64);\r\n\r\nvar _blockquote = __webpack_require__(65);\r\n\r\nvar _blockquote2 = _interopRequireDefault(_blockquote);\r\n\r\nvar _header = __webpack_require__(66);\r\n\r\nvar _header2 = _interopRequireDefault(_header);\r\n\r\nvar _list = __webpack_require__(67);\r\n\r\nvar _list2 = _interopRequireDefault(_list);\r\n\r\nvar _background = __webpack_require__(37);\r\n\r\nvar _color = __webpack_require__(26);\r\n\r\nvar _font = __webpack_require__(39);\r\n\r\nvar _size = __webpack_require__(40);\r\n\r\nvar _bold = __webpack_require__(56);\r\n\r\nvar _bold2 = _interopRequireDefault(_bold);\r\n\r\nvar _italic = __webpack_require__(68);\r\n\r\nvar _italic2 = _interopRequireDefault(_italic);\r\n\r\nvar _link = __webpack_require__(27);\r\n\r\nvar _link2 = _interopRequireDefault(_link);\r\n\r\nvar _script = __webpack_require__(69);\r\n\r\nvar _script2 = _interopRequireDefault(_script);\r\n\r\nvar _strike = __webpack_require__(70);\r\n\r\nvar _strike2 = _interopRequireDefault(_strike);\r\n\r\nvar _underline = __webpack_require__(71);\r\n\r\nvar _underline2 = _interopRequireDefault(_underline);\r\n\r\nvar _image = __webpack_require__(72);\r\n\r\nvar _image2 = _interopRequireDefault(_image);\r\n\r\nvar _video = __webpack_require__(73);\r\n\r\nvar _video2 = _interopRequireDefault(_video);\r\n\r\nvar _code = __webpack_require__(13);\r\n\r\nvar _code2 = _interopRequireDefault(_code);\r\n\r\nvar _formula = __webpack_require__(74);\r\n\r\nvar _formula2 = _interopRequireDefault(_formula);\r\n\r\nvar _syntax = __webpack_require__(75);\r\n\r\nvar _syntax2 = _interopRequireDefault(_syntax);\r\n\r\nvar _toolbar = __webpack_require__(57);\r\n\r\nvar _toolbar2 = _interopRequireDefault(_toolbar);\r\n\r\nvar _icons = __webpack_require__(41);\r\n\r\nvar _icons2 = _interopRequireDefault(_icons);\r\n\r\nvar _picker = __webpack_require__(28);\r\n\r\nvar _picker2 = _interopRequireDefault(_picker);\r\n\r\nvar _colorPicker = __webpack_require__(59);\r\n\r\nvar _colorPicker2 = _interopRequireDefault(_colorPicker);\r\n\r\nvar _iconPicker = __webpack_require__(60);\r\n\r\nvar _iconPicker2 = _interopRequireDefault(_iconPicker);\r\n\r\nvar _tooltip = __webpack_require__(61);\r\n\r\nvar _tooltip2 = _interopRequireDefault(_tooltip);\r\n\r\nvar _bubble = __webpack_require__(108);\r\n\r\nvar _bubble2 = _interopRequireDefault(_bubble);\r\n\r\nvar _snow = __webpack_require__(62);\r\n\r\nvar _snow2 = _interopRequireDefault(_snow);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\n_core2.default.register({\r\n  'attributors/attribute/direction': _direction.DirectionAttribute,\r\n\r\n  'attributors/class/align': _align.AlignClass,\r\n  'attributors/class/background': _background.BackgroundClass,\r\n  'attributors/class/color': _color.ColorClass,\r\n  'attributors/class/direction': _direction.DirectionClass,\r\n  'attributors/class/font': _font.FontClass,\r\n  'attributors/class/size': _size.SizeClass,\r\n\r\n  'attributors/style/align': _align.AlignStyle,\r\n  'attributors/style/background': _background.BackgroundStyle,\r\n  'attributors/style/color': _color.ColorStyle,\r\n  'attributors/style/direction': _direction.DirectionStyle,\r\n  'attributors/style/font': _font.FontStyle,\r\n  'attributors/style/size': _size.SizeStyle\r\n}, true);\r\n\r\n_core2.default.register({\r\n  'formats/align': _align.AlignClass,\r\n  'formats/direction': _direction.DirectionClass,\r\n  'formats/indent': _indent.IndentClass,\r\n\r\n  'formats/background': _background.BackgroundStyle,\r\n  'formats/color': _color.ColorStyle,\r\n  'formats/font': _font.FontClass,\r\n  'formats/size': _size.SizeClass,\r\n\r\n  'formats/blockquote': _blockquote2.default,\r\n  'formats/code-block': _code2.default,\r\n  'formats/header': _header2.default,\r\n  'formats/list': _list2.default,\r\n\r\n  'formats/bold': _bold2.default,\r\n  'formats/code': _code.Code,\r\n  'formats/italic': _italic2.default,\r\n  'formats/link': _link2.default,\r\n  'formats/script': _script2.default,\r\n  'formats/strike': _strike2.default,\r\n  'formats/underline': _underline2.default,\r\n\r\n  'formats/image': _image2.default,\r\n  'formats/video': _video2.default,\r\n\r\n  'formats/list/item': _list.ListItem,\r\n\r\n  'modules/formula': _formula2.default,\r\n  'modules/syntax': _syntax2.default,\r\n  'modules/toolbar': _toolbar2.default,\r\n\r\n  'themes/bubble': _bubble2.default,\r\n  'themes/snow': _snow2.default,\r\n\r\n  'ui/icons': _icons2.default,\r\n  'ui/picker': _picker2.default,\r\n  'ui/icon-picker': _iconPicker2.default,\r\n  'ui/color-picker': _colorPicker2.default,\r\n  'ui/tooltip': _tooltip2.default\r\n}, true);\r\n\r\nexports.default = _core2.default;\r\n\r\n/***/ }),\r\n/* 64 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.IndentClass = undefined;\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar IdentAttributor = function (_Parchment$Attributor) {\r\n  _inherits(IdentAttributor, _Parchment$Attributor);\r\n\r\n  function IdentAttributor() {\r\n    _classCallCheck(this, IdentAttributor);\r\n\r\n    return _possibleConstructorReturn(this, (IdentAttributor.__proto__ || Object.getPrototypeOf(IdentAttributor)).apply(this, arguments));\r\n  }\r\n\r\n  _createClass(IdentAttributor, [{\r\n    key: 'add',\r\n    value: function add(node, value) {\r\n      if (value === '+1' || value === '-1') {\r\n        var indent = this.value(node) || 0;\r\n        value = value === '+1' ? indent + 1 : indent - 1;\r\n      }\r\n      if (value === 0) {\r\n        this.remove(node);\r\n        return true;\r\n      } else {\r\n        return _get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'add', this).call(this, node, value);\r\n      }\r\n    }\r\n  }, {\r\n    key: 'canAdd',\r\n    value: function canAdd(node, value) {\r\n      return _get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'canAdd', this).call(this, node, value) || _get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'canAdd', this).call(this, node, parseInt(value));\r\n    }\r\n  }, {\r\n    key: 'value',\r\n    value: function value(node) {\r\n      return parseInt(_get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'value', this).call(this, node)) || undefined; // Don't return NaN\r\n    }\r\n  }]);\r\n\r\n  return IdentAttributor;\r\n}(_parchment2.default.Attributor.Class);\r\n\r\nvar IndentClass = new IdentAttributor('indent', 'ql-indent', {\r\n  scope: _parchment2.default.Scope.BLOCK,\r\n  whitelist: [1, 2, 3, 4, 5, 6, 7, 8]\r\n});\r\n\r\nexports.IndentClass = IndentClass;\r\n\r\n/***/ }),\r\n/* 65 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _block = __webpack_require__(4);\r\n\r\nvar _block2 = _interopRequireDefault(_block);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar Blockquote = function (_Block) {\r\n  _inherits(Blockquote, _Block);\r\n\r\n  function Blockquote() {\r\n    _classCallCheck(this, Blockquote);\r\n\r\n    return _possibleConstructorReturn(this, (Blockquote.__proto__ || Object.getPrototypeOf(Blockquote)).apply(this, arguments));\r\n  }\r\n\r\n  return Blockquote;\r\n}(_block2.default);\r\n\r\nBlockquote.blotName = 'blockquote';\r\nBlockquote.tagName = 'blockquote';\r\n\r\nexports.default = Blockquote;\r\n\r\n/***/ }),\r\n/* 66 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _block = __webpack_require__(4);\r\n\r\nvar _block2 = _interopRequireDefault(_block);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar Header = function (_Block) {\r\n  _inherits(Header, _Block);\r\n\r\n  function Header() {\r\n    _classCallCheck(this, Header);\r\n\r\n    return _possibleConstructorReturn(this, (Header.__proto__ || Object.getPrototypeOf(Header)).apply(this, arguments));\r\n  }\r\n\r\n  _createClass(Header, null, [{\r\n    key: 'formats',\r\n    value: function formats(domNode) {\r\n      return this.tagName.indexOf(domNode.tagName) + 1;\r\n    }\r\n  }]);\r\n\r\n  return Header;\r\n}(_block2.default);\r\n\r\nHeader.blotName = 'header';\r\nHeader.tagName = ['H1', 'H2', 'H3', 'H4', 'H5', 'H6'];\r\n\r\nexports.default = Header;\r\n\r\n/***/ }),\r\n/* 67 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = exports.ListItem = undefined;\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nvar _block = __webpack_require__(4);\r\n\r\nvar _block2 = _interopRequireDefault(_block);\r\n\r\nvar _container = __webpack_require__(25);\r\n\r\nvar _container2 = _interopRequireDefault(_container);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar ListItem = function (_Block) {\r\n  _inherits(ListItem, _Block);\r\n\r\n  function ListItem() {\r\n    _classCallCheck(this, ListItem);\r\n\r\n    return _possibleConstructorReturn(this, (ListItem.__proto__ || Object.getPrototypeOf(ListItem)).apply(this, arguments));\r\n  }\r\n\r\n  _createClass(ListItem, [{\r\n    key: 'format',\r\n    value: function format(name, value) {\r\n      if (name === List.blotName && !value) {\r\n        this.replaceWith(_parchment2.default.create(this.statics.scope));\r\n      } else {\r\n        _get(ListItem.prototype.__proto__ || Object.getPrototypeOf(ListItem.prototype), 'format', this).call(this, name, value);\r\n      }\r\n    }\r\n  }, {\r\n    key: 'remove',\r\n    value: function remove() {\r\n      if (this.prev == null && this.next == null) {\r\n        this.parent.remove();\r\n      } else {\r\n        _get(ListItem.prototype.__proto__ || Object.getPrototypeOf(ListItem.prototype), 'remove', this).call(this);\r\n      }\r\n    }\r\n  }, {\r\n    key: 'replaceWith',\r\n    value: function replaceWith(name, value) {\r\n      this.parent.isolate(this.offset(this.parent), this.length());\r\n      if (name === this.parent.statics.blotName) {\r\n        this.parent.replaceWith(name, value);\r\n        return this;\r\n      } else {\r\n        this.parent.unwrap();\r\n        return _get(ListItem.prototype.__proto__ || Object.getPrototypeOf(ListItem.prototype), 'replaceWith', this).call(this, name, value);\r\n      }\r\n    }\r\n  }], [{\r\n    key: 'formats',\r\n    value: function formats(domNode) {\r\n      return domNode.tagName === this.tagName ? undefined : _get(ListItem.__proto__ || Object.getPrototypeOf(ListItem), 'formats', this).call(this, domNode);\r\n    }\r\n  }]);\r\n\r\n  return ListItem;\r\n}(_block2.default);\r\n\r\nListItem.blotName = 'list-item';\r\nListItem.tagName = 'LI';\r\n\r\nvar List = function (_Container) {\r\n  _inherits(List, _Container);\r\n\r\n  _createClass(List, null, [{\r\n    key: 'create',\r\n    value: function create(value) {\r\n      var tagName = value === 'ordered' ? 'OL' : 'UL';\r\n      var node = _get(List.__proto__ || Object.getPrototypeOf(List), 'create', this).call(this, tagName);\r\n      if (value === 'checked' || value === 'unchecked') {\r\n        node.setAttribute('data-checked', value === 'checked');\r\n      }\r\n      return node;\r\n    }\r\n  }, {\r\n    key: 'formats',\r\n    value: function formats(domNode) {\r\n      if (domNode.tagName === 'OL') return 'ordered';\r\n      if (domNode.tagName === 'UL') {\r\n        if (domNode.hasAttribute('data-checked')) {\r\n          return domNode.getAttribute('data-checked') === 'true' ? 'checked' : 'unchecked';\r\n        } else {\r\n          return 'bullet';\r\n        }\r\n      }\r\n      return undefined;\r\n    }\r\n  }]);\r\n\r\n  function List(domNode) {\r\n    _classCallCheck(this, List);\r\n\r\n    var _this2 = _possibleConstructorReturn(this, (List.__proto__ || Object.getPrototypeOf(List)).call(this, domNode));\r\n\r\n    var listEventHandler = function listEventHandler(e) {\r\n      if (e.target.parentNode !== domNode) return;\r\n      var format = _this2.statics.formats(domNode);\r\n      var blot = _parchment2.default.find(e.target);\r\n      if (format === 'checked') {\r\n        blot.format('list', 'unchecked');\r\n      } else if (format === 'unchecked') {\r\n        blot.format('list', 'checked');\r\n      }\r\n    };\r\n\r\n    domNode.addEventListener('touchstart', listEventHandler);\r\n    domNode.addEventListener('mousedown', listEventHandler);\r\n    return _this2;\r\n  }\r\n\r\n  _createClass(List, [{\r\n    key: 'format',\r\n    value: function format(name, value) {\r\n      if (this.children.length > 0) {\r\n        this.children.tail.format(name, value);\r\n      }\r\n    }\r\n  }, {\r\n    key: 'formats',\r\n    value: function formats() {\r\n      // We don't inherit from FormatBlot\r\n      return _defineProperty({}, this.statics.blotName, this.statics.formats(this.domNode));\r\n    }\r\n  }, {\r\n    key: 'insertBefore',\r\n    value: function insertBefore(blot, ref) {\r\n      if (blot instanceof ListItem) {\r\n        _get(List.prototype.__proto__ || Object.getPrototypeOf(List.prototype), 'insertBefore', this).call(this, blot, ref);\r\n      } else {\r\n        var index = ref == null ? this.length() : ref.offset(this);\r\n        var after = this.split(index);\r\n        after.parent.insertBefore(blot, after);\r\n      }\r\n    }\r\n  }, {\r\n    key: 'optimize',\r\n    value: function optimize(context) {\r\n      _get(List.prototype.__proto__ || Object.getPrototypeOf(List.prototype), 'optimize', this).call(this, context);\r\n      var next = this.next;\r\n      if (next != null && next.prev === this && next.statics.blotName === this.statics.blotName && next.domNode.tagName === this.domNode.tagName && next.domNode.getAttribute('data-checked') === this.domNode.getAttribute('data-checked')) {\r\n        next.moveChildren(this);\r\n        next.remove();\r\n      }\r\n    }\r\n  }, {\r\n    key: 'replace',\r\n    value: function replace(target) {\r\n      if (target.statics.blotName !== this.statics.blotName) {\r\n        var item = _parchment2.default.create(this.statics.defaultChild);\r\n        target.moveChildren(item);\r\n        this.appendChild(item);\r\n      }\r\n      _get(List.prototype.__proto__ || Object.getPrototypeOf(List.prototype), 'replace', this).call(this, target);\r\n    }\r\n  }]);\r\n\r\n  return List;\r\n}(_container2.default);\r\n\r\nList.blotName = 'list';\r\nList.scope = _parchment2.default.Scope.BLOCK_BLOT;\r\nList.tagName = ['OL', 'UL'];\r\nList.defaultChild = 'list-item';\r\nList.allowedChildren = [ListItem];\r\n\r\nexports.ListItem = ListItem;\r\nexports.default = List;\r\n\r\n/***/ }),\r\n/* 68 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _bold = __webpack_require__(56);\r\n\r\nvar _bold2 = _interopRequireDefault(_bold);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar Italic = function (_Bold) {\r\n  _inherits(Italic, _Bold);\r\n\r\n  function Italic() {\r\n    _classCallCheck(this, Italic);\r\n\r\n    return _possibleConstructorReturn(this, (Italic.__proto__ || Object.getPrototypeOf(Italic)).apply(this, arguments));\r\n  }\r\n\r\n  return Italic;\r\n}(_bold2.default);\r\n\r\nItalic.blotName = 'italic';\r\nItalic.tagName = ['EM', 'I'];\r\n\r\nexports.default = Italic;\r\n\r\n/***/ }),\r\n/* 69 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _inline = __webpack_require__(6);\r\n\r\nvar _inline2 = _interopRequireDefault(_inline);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar Script = function (_Inline) {\r\n  _inherits(Script, _Inline);\r\n\r\n  function Script() {\r\n    _classCallCheck(this, Script);\r\n\r\n    return _possibleConstructorReturn(this, (Script.__proto__ || Object.getPrototypeOf(Script)).apply(this, arguments));\r\n  }\r\n\r\n  _createClass(Script, null, [{\r\n    key: 'create',\r\n    value: function create(value) {\r\n      if (value === 'super') {\r\n        return document.createElement('sup');\r\n      } else if (value === 'sub') {\r\n        return document.createElement('sub');\r\n      } else {\r\n        return _get(Script.__proto__ || Object.getPrototypeOf(Script), 'create', this).call(this, value);\r\n      }\r\n    }\r\n  }, {\r\n    key: 'formats',\r\n    value: function formats(domNode) {\r\n      if (domNode.tagName === 'SUB') return 'sub';\r\n      if (domNode.tagName === 'SUP') return 'super';\r\n      return undefined;\r\n    }\r\n  }]);\r\n\r\n  return Script;\r\n}(_inline2.default);\r\n\r\nScript.blotName = 'script';\r\nScript.tagName = ['SUB', 'SUP'];\r\n\r\nexports.default = Script;\r\n\r\n/***/ }),\r\n/* 70 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _inline = __webpack_require__(6);\r\n\r\nvar _inline2 = _interopRequireDefault(_inline);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar Strike = function (_Inline) {\r\n  _inherits(Strike, _Inline);\r\n\r\n  function Strike() {\r\n    _classCallCheck(this, Strike);\r\n\r\n    return _possibleConstructorReturn(this, (Strike.__proto__ || Object.getPrototypeOf(Strike)).apply(this, arguments));\r\n  }\r\n\r\n  return Strike;\r\n}(_inline2.default);\r\n\r\nStrike.blotName = 'strike';\r\nStrike.tagName = 'S';\r\n\r\nexports.default = Strike;\r\n\r\n/***/ }),\r\n/* 71 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _inline = __webpack_require__(6);\r\n\r\nvar _inline2 = _interopRequireDefault(_inline);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar Underline = function (_Inline) {\r\n  _inherits(Underline, _Inline);\r\n\r\n  function Underline() {\r\n    _classCallCheck(this, Underline);\r\n\r\n    return _possibleConstructorReturn(this, (Underline.__proto__ || Object.getPrototypeOf(Underline)).apply(this, arguments));\r\n  }\r\n\r\n  return Underline;\r\n}(_inline2.default);\r\n\r\nUnderline.blotName = 'underline';\r\nUnderline.tagName = 'U';\r\n\r\nexports.default = Underline;\r\n\r\n/***/ }),\r\n/* 72 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nvar _link = __webpack_require__(27);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar ATTRIBUTES = ['alt', 'height', 'width'];\r\n\r\nvar Image = function (_Parchment$Embed) {\r\n  _inherits(Image, _Parchment$Embed);\r\n\r\n  function Image() {\r\n    _classCallCheck(this, Image);\r\n\r\n    return _possibleConstructorReturn(this, (Image.__proto__ || Object.getPrototypeOf(Image)).apply(this, arguments));\r\n  }\r\n\r\n  _createClass(Image, [{\r\n    key: 'format',\r\n    value: function format(name, value) {\r\n      if (ATTRIBUTES.indexOf(name) > -1) {\r\n        if (value) {\r\n          this.domNode.setAttribute(name, value);\r\n        } else {\r\n          this.domNode.removeAttribute(name);\r\n        }\r\n      } else {\r\n        _get(Image.prototype.__proto__ || Object.getPrototypeOf(Image.prototype), 'format', this).call(this, name, value);\r\n      }\r\n    }\r\n  }], [{\r\n    key: 'create',\r\n    value: function create(value) {\r\n      var node = _get(Image.__proto__ || Object.getPrototypeOf(Image), 'create', this).call(this, value);\r\n      if (typeof value === 'string') {\r\n        node.setAttribute('src', this.sanitize(value));\r\n      }\r\n      return node;\r\n    }\r\n  }, {\r\n    key: 'formats',\r\n    value: function formats(domNode) {\r\n      return ATTRIBUTES.reduce(function (formats, attribute) {\r\n        if (domNode.hasAttribute(attribute)) {\r\n          formats[attribute] = domNode.getAttribute(attribute);\r\n        }\r\n        return formats;\r\n      }, {});\r\n    }\r\n  }, {\r\n    key: 'match',\r\n    value: function match(url) {\r\n      return (/\\.(jpe?g|gif|png)$/.test(url) || /^data:image\\/.+;base64/.test(url)\r\n      );\r\n    }\r\n  }, {\r\n    key: 'sanitize',\r\n    value: function sanitize(url) {\r\n      return (0, _link.sanitize)(url, ['http', 'https', 'data']) ? url : '//:0';\r\n    }\r\n  }, {\r\n    key: 'value',\r\n    value: function value(domNode) {\r\n      return domNode.getAttribute('src');\r\n    }\r\n  }]);\r\n\r\n  return Image;\r\n}(_parchment2.default.Embed);\r\n\r\nImage.blotName = 'image';\r\nImage.tagName = 'IMG';\r\n\r\nexports.default = Image;\r\n\r\n/***/ }),\r\n/* 73 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _block = __webpack_require__(4);\r\n\r\nvar _link = __webpack_require__(27);\r\n\r\nvar _link2 = _interopRequireDefault(_link);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar ATTRIBUTES = ['height', 'width'];\r\n\r\nvar Video = function (_BlockEmbed) {\r\n  _inherits(Video, _BlockEmbed);\r\n\r\n  function Video() {\r\n    _classCallCheck(this, Video);\r\n\r\n    return _possibleConstructorReturn(this, (Video.__proto__ || Object.getPrototypeOf(Video)).apply(this, arguments));\r\n  }\r\n\r\n  _createClass(Video, [{\r\n    key: 'format',\r\n    value: function format(name, value) {\r\n      if (ATTRIBUTES.indexOf(name) > -1) {\r\n        if (value) {\r\n          this.domNode.setAttribute(name, value);\r\n        } else {\r\n          this.domNode.removeAttribute(name);\r\n        }\r\n      } else {\r\n        _get(Video.prototype.__proto__ || Object.getPrototypeOf(Video.prototype), 'format', this).call(this, name, value);\r\n      }\r\n    }\r\n  }], [{\r\n    key: 'create',\r\n    value: function create(value) {\r\n      var node = _get(Video.__proto__ || Object.getPrototypeOf(Video), 'create', this).call(this, value);\r\n      node.setAttribute('frameborder', '0');\r\n      node.setAttribute('allowfullscreen', true);\r\n      node.setAttribute('src', this.sanitize(value));\r\n      return node;\r\n    }\r\n  }, {\r\n    key: 'formats',\r\n    value: function formats(domNode) {\r\n      return ATTRIBUTES.reduce(function (formats, attribute) {\r\n        if (domNode.hasAttribute(attribute)) {\r\n          formats[attribute] = domNode.getAttribute(attribute);\r\n        }\r\n        return formats;\r\n      }, {});\r\n    }\r\n  }, {\r\n    key: 'sanitize',\r\n    value: function sanitize(url) {\r\n      return _link2.default.sanitize(url);\r\n    }\r\n  }, {\r\n    key: 'value',\r\n    value: function value(domNode) {\r\n      return domNode.getAttribute('src');\r\n    }\r\n  }]);\r\n\r\n  return Video;\r\n}(_block.BlockEmbed);\r\n\r\nVideo.blotName = 'video';\r\nVideo.className = 'ql-video';\r\nVideo.tagName = 'IFRAME';\r\n\r\nexports.default = Video;\r\n\r\n/***/ }),\r\n/* 74 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = exports.FormulaBlot = undefined;\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _embed = __webpack_require__(35);\r\n\r\nvar _embed2 = _interopRequireDefault(_embed);\r\n\r\nvar _quill = __webpack_require__(5);\r\n\r\nvar _quill2 = _interopRequireDefault(_quill);\r\n\r\nvar _module = __webpack_require__(9);\r\n\r\nvar _module2 = _interopRequireDefault(_module);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar FormulaBlot = function (_Embed) {\r\n  _inherits(FormulaBlot, _Embed);\r\n\r\n  function FormulaBlot() {\r\n    _classCallCheck(this, FormulaBlot);\r\n\r\n    return _possibleConstructorReturn(this, (FormulaBlot.__proto__ || Object.getPrototypeOf(FormulaBlot)).apply(this, arguments));\r\n  }\r\n\r\n  _createClass(FormulaBlot, null, [{\r\n    key: 'create',\r\n    value: function create(value) {\r\n      var node = _get(FormulaBlot.__proto__ || Object.getPrototypeOf(FormulaBlot), 'create', this).call(this, value);\r\n      if (typeof value === 'string') {\r\n        window.katex.render(value, node, {\r\n          throwOnError: false,\r\n          errorColor: '#f00'\r\n        });\r\n        node.setAttribute('data-value', value);\r\n      }\r\n      return node;\r\n    }\r\n  }, {\r\n    key: 'value',\r\n    value: function value(domNode) {\r\n      return domNode.getAttribute('data-value');\r\n    }\r\n  }]);\r\n\r\n  return FormulaBlot;\r\n}(_embed2.default);\r\n\r\nFormulaBlot.blotName = 'formula';\r\nFormulaBlot.className = 'ql-formula';\r\nFormulaBlot.tagName = 'SPAN';\r\n\r\nvar Formula = function (_Module) {\r\n  _inherits(Formula, _Module);\r\n\r\n  _createClass(Formula, null, [{\r\n    key: 'register',\r\n    value: function register() {\r\n      _quill2.default.register(FormulaBlot, true);\r\n    }\r\n  }]);\r\n\r\n  function Formula() {\r\n    _classCallCheck(this, Formula);\r\n\r\n    var _this2 = _possibleConstructorReturn(this, (Formula.__proto__ || Object.getPrototypeOf(Formula)).call(this));\r\n\r\n    if (window.katex == null) {\r\n      throw new Error('Formula module requires KaTeX.');\r\n    }\r\n    return _this2;\r\n  }\r\n\r\n  return Formula;\r\n}(_module2.default);\r\n\r\nexports.FormulaBlot = FormulaBlot;\r\nexports.default = Formula;\r\n\r\n/***/ }),\r\n/* 75 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = exports.CodeToken = exports.CodeBlock = undefined;\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _parchment = __webpack_require__(0);\r\n\r\nvar _parchment2 = _interopRequireDefault(_parchment);\r\n\r\nvar _quill = __webpack_require__(5);\r\n\r\nvar _quill2 = _interopRequireDefault(_quill);\r\n\r\nvar _module = __webpack_require__(9);\r\n\r\nvar _module2 = _interopRequireDefault(_module);\r\n\r\nvar _code = __webpack_require__(13);\r\n\r\nvar _code2 = _interopRequireDefault(_code);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar SyntaxCodeBlock = function (_CodeBlock) {\r\n  _inherits(SyntaxCodeBlock, _CodeBlock);\r\n\r\n  function SyntaxCodeBlock() {\r\n    _classCallCheck(this, SyntaxCodeBlock);\r\n\r\n    return _possibleConstructorReturn(this, (SyntaxCodeBlock.__proto__ || Object.getPrototypeOf(SyntaxCodeBlock)).apply(this, arguments));\r\n  }\r\n\r\n  _createClass(SyntaxCodeBlock, [{\r\n    key: 'replaceWith',\r\n    value: function replaceWith(block) {\r\n      this.domNode.textContent = this.domNode.textContent;\r\n      this.attach();\r\n      _get(SyntaxCodeBlock.prototype.__proto__ || Object.getPrototypeOf(SyntaxCodeBlock.prototype), 'replaceWith', this).call(this, block);\r\n    }\r\n  }, {\r\n    key: 'highlight',\r\n    value: function highlight(_highlight) {\r\n      var text = this.domNode.textContent;\r\n      if (this.cachedText !== text) {\r\n        if (text.trim().length > 0 || this.cachedText == null) {\r\n          this.domNode.innerHTML = _highlight(text);\r\n          this.domNode.normalize();\r\n          this.attach();\r\n        }\r\n        this.cachedText = text;\r\n      }\r\n    }\r\n  }]);\r\n\r\n  return SyntaxCodeBlock;\r\n}(_code2.default);\r\n\r\nSyntaxCodeBlock.className = 'ql-syntax';\r\n\r\nvar CodeToken = new _parchment2.default.Attributor.Class('token', 'hljs', {\r\n  scope: _parchment2.default.Scope.INLINE\r\n});\r\n\r\nvar Syntax = function (_Module) {\r\n  _inherits(Syntax, _Module);\r\n\r\n  _createClass(Syntax, null, [{\r\n    key: 'register',\r\n    value: function register() {\r\n      _quill2.default.register(CodeToken, true);\r\n      _quill2.default.register(SyntaxCodeBlock, true);\r\n    }\r\n  }]);\r\n\r\n  function Syntax(quill, options) {\r\n    _classCallCheck(this, Syntax);\r\n\r\n    var _this2 = _possibleConstructorReturn(this, (Syntax.__proto__ || Object.getPrototypeOf(Syntax)).call(this, quill, options));\r\n\r\n    if (typeof _this2.options.highlight !== 'function') {\r\n      throw new Error('Syntax module requires highlight.js. Please include the library on the page before Quill.');\r\n    }\r\n    var timer = null;\r\n    _this2.quill.on(_quill2.default.events.SCROLL_OPTIMIZE, function () {\r\n      clearTimeout(timer);\r\n      timer = setTimeout(function () {\r\n        _this2.highlight();\r\n        timer = null;\r\n      }, _this2.options.interval);\r\n    });\r\n    _this2.highlight();\r\n    return _this2;\r\n  }\r\n\r\n  _createClass(Syntax, [{\r\n    key: 'highlight',\r\n    value: function highlight() {\r\n      var _this3 = this;\r\n\r\n      if (this.quill.selection.composing) return;\r\n      this.quill.update(_quill2.default.sources.USER);\r\n      var range = this.quill.getSelection();\r\n      this.quill.scroll.descendants(SyntaxCodeBlock).forEach(function (code) {\r\n        code.highlight(_this3.options.highlight);\r\n      });\r\n      this.quill.update(_quill2.default.sources.SILENT);\r\n      if (range != null) {\r\n        this.quill.setSelection(range, _quill2.default.sources.SILENT);\r\n      }\r\n    }\r\n  }]);\r\n\r\n  return Syntax;\r\n}(_module2.default);\r\n\r\nSyntax.DEFAULTS = {\r\n  highlight: function () {\r\n    if (window.hljs == null) return null;\r\n    return function (text) {\r\n      var result = window.hljs.highlightAuto(text);\r\n      return result.value;\r\n    };\r\n  }(),\r\n  interval: 1000\r\n};\r\n\r\nexports.CodeBlock = SyntaxCodeBlock;\r\nexports.CodeToken = CodeToken;\r\nexports.default = Syntax;\r\n\r\n/***/ }),\r\n/* 76 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>\";\r\n\r\n/***/ }),\r\n/* 77 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>\";\r\n\r\n/***/ }),\r\n/* 78 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>\";\r\n\r\n/***/ }),\r\n/* 79 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>\";\r\n\r\n/***/ }),\r\n/* 80 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <g class=\\\"ql-fill ql-color-label\\\"> <polygon points=\\\"6 6.868 6 6 5 6 5 7 5.942 7 6 6.868\\\"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points=\\\"6.817 5 6 5 6 6 6.38 6 6.817 5\\\"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points=\\\"4 11.439 4 11 3 11 3 12 3.755 12 4 11.439\\\"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points=\\\"4.63 10 4 10 4 11 4.192 11 4.63 10\\\"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points=\\\"13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174\\\"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points=\\\"12 6.868 12 6 11.62 6 12 6.868\\\"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points=\\\"12.933 9 13 9 13 8 12.495 8 12.933 9\\\"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points=\\\"5.5 13 9 5 12.5 13\\\"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>\";\r\n\r\n/***/ }),\r\n/* 81 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=\\\"ql-fill ql-stroke\\\" height=3 width=3 x=4 y=5></rect> <rect class=\\\"ql-fill ql-stroke\\\" height=3 width=3 x=11 y=5></rect> <path class=\\\"ql-even ql-fill ql-stroke\\\" d=M7,8c0,4.031-3,5-3,5></path> <path class=\\\"ql-even ql-fill ql-stroke\\\" d=M14,8c0,4.031-3,5-3,5></path> </svg>\";\r\n\r\n/***/ }),\r\n/* 82 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>\";\r\n\r\n/***/ }),\r\n/* 83 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg class=\\\"\\\" viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>\";\r\n\r\n/***/ }),\r\n/* 84 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=\\\"ql-color-label ql-stroke ql-transparent\\\" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points=\\\"5.5 11 9 3 12.5 11\\\"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>\";\r\n\r\n/***/ }),\r\n/* 85 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=\\\"ql-stroke ql-fill\\\" points=\\\"3 11 5 9 3 7 3 11\\\"></polygon> <line class=\\\"ql-stroke ql-fill\\\" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>\";\r\n\r\n/***/ }),\r\n/* 86 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=\\\"ql-stroke ql-fill\\\" points=\\\"15 12 13 10 15 8 15 12\\\"></polygon> <line class=\\\"ql-stroke ql-fill\\\" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>\";\r\n\r\n/***/ }),\r\n/* 87 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>\";\r\n\r\n/***/ }),\r\n/* 88 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>\";\r\n\r\n/***/ }),\r\n/* 89 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>\";\r\n\r\n/***/ }),\r\n/* 90 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform=\\\"translate(24 18) rotate(-180)\\\"/> </svg>\";\r\n\r\n/***/ }),\r\n/* 91 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>\";\r\n\r\n/***/ }),\r\n/* 92 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewBox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>\";\r\n\r\n/***/ }),\r\n/* 93 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewBox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>\";\r\n\r\n/***/ }),\r\n/* 94 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>\";\r\n\r\n/***/ }),\r\n/* 95 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class=\\\"ql-even ql-fill\\\" points=\\\"5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12\\\"></polyline> </svg>\";\r\n\r\n/***/ }),\r\n/* 96 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=\\\"ql-fill ql-stroke\\\" points=\\\"3 7 3 11 5 9 3 7\\\"></polyline> </svg>\";\r\n\r\n/***/ }),\r\n/* 97 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points=\\\"5 7 5 11 3 9 5 7\\\"></polyline> </svg>\";\r\n\r\n/***/ }),\r\n/* 98 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class=\\\"ql-even ql-stroke\\\" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class=\\\"ql-even ql-stroke\\\" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>\";\r\n\r\n/***/ }),\r\n/* 99 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class=\\\"ql-stroke ql-thin\\\" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class=\\\"ql-stroke ql-thin\\\" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class=\\\"ql-stroke ql-thin\\\" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>\";\r\n\r\n/***/ }),\r\n/* 100 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>\";\r\n\r\n/***/ }),\r\n/* 101 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg class=\\\"\\\" viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points=\\\"3 4 4 5 6 3\\\"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points=\\\"3 14 4 15 6 13\\\"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points=\\\"3 9 4 10 6 8\\\"></polyline> </svg>\";\r\n\r\n/***/ }),\r\n/* 102 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>\";\r\n\r\n/***/ }),\r\n/* 103 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>\";\r\n\r\n/***/ }),\r\n/* 104 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=\\\"ql-stroke ql-thin\\\" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>\";\r\n\r\n/***/ }),\r\n/* 105 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>\";\r\n\r\n/***/ }),\r\n/* 106 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>\";\r\n\r\n/***/ }),\r\n/* 107 */\r\n/***/ (function(module, exports) {\r\n\r\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=ql-stroke points=\\\"7 11 9 13 11 11 7 11\\\"></polygon> <polygon class=ql-stroke points=\\\"7 7 9 5 11 7 7 7\\\"></polygon> </svg>\";\r\n\r\n/***/ }),\r\n/* 108 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.default = exports.BubbleTooltip = undefined;\r\n\r\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _extend = __webpack_require__(3);\r\n\r\nvar _extend2 = _interopRequireDefault(_extend);\r\n\r\nvar _emitter = __webpack_require__(8);\r\n\r\nvar _emitter2 = _interopRequireDefault(_emitter);\r\n\r\nvar _base = __webpack_require__(43);\r\n\r\nvar _base2 = _interopRequireDefault(_base);\r\n\r\nvar _selection = __webpack_require__(15);\r\n\r\nvar _icons = __webpack_require__(41);\r\n\r\nvar _icons2 = _interopRequireDefault(_icons);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar TOOLBAR_CONFIG = [['bold', 'italic', 'link'], [{ header: 1 }, { header: 2 }, 'blockquote']];\r\n\r\nvar BubbleTheme = function (_BaseTheme) {\r\n  _inherits(BubbleTheme, _BaseTheme);\r\n\r\n  function BubbleTheme(quill, options) {\r\n    _classCallCheck(this, BubbleTheme);\r\n\r\n    if (options.modules.toolbar != null && options.modules.toolbar.container == null) {\r\n      options.modules.toolbar.container = TOOLBAR_CONFIG;\r\n    }\r\n\r\n    var _this = _possibleConstructorReturn(this, (BubbleTheme.__proto__ || Object.getPrototypeOf(BubbleTheme)).call(this, quill, options));\r\n\r\n    _this.quill.container.classList.add('ql-bubble');\r\n    return _this;\r\n  }\r\n\r\n  _createClass(BubbleTheme, [{\r\n    key: 'extendToolbar',\r\n    value: function extendToolbar(toolbar) {\r\n      this.tooltip = new BubbleTooltip(this.quill, this.options.bounds);\r\n      this.tooltip.root.appendChild(toolbar.container);\r\n      this.buildButtons([].slice.call(toolbar.container.querySelectorAll('button')), _icons2.default);\r\n      this.buildPickers([].slice.call(toolbar.container.querySelectorAll('select')), _icons2.default);\r\n    }\r\n  }]);\r\n\r\n  return BubbleTheme;\r\n}(_base2.default);\r\n\r\nBubbleTheme.DEFAULTS = (0, _extend2.default)(true, {}, _base2.default.DEFAULTS, {\r\n  modules: {\r\n    toolbar: {\r\n      handlers: {\r\n        link: function link(value) {\r\n          if (!value) {\r\n            this.quill.format('link', false);\r\n          } else {\r\n            this.quill.theme.tooltip.edit();\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n});\r\n\r\nvar BubbleTooltip = function (_BaseTooltip) {\r\n  _inherits(BubbleTooltip, _BaseTooltip);\r\n\r\n  function BubbleTooltip(quill, bounds) {\r\n    _classCallCheck(this, BubbleTooltip);\r\n\r\n    var _this2 = _possibleConstructorReturn(this, (BubbleTooltip.__proto__ || Object.getPrototypeOf(BubbleTooltip)).call(this, quill, bounds));\r\n\r\n    _this2.quill.on(_emitter2.default.events.EDITOR_CHANGE, function (type, range, oldRange, source) {\r\n      if (type !== _emitter2.default.events.SELECTION_CHANGE) return;\r\n      if (range != null && range.length > 0 && source === _emitter2.default.sources.USER) {\r\n        _this2.show();\r\n        // Lock our width so we will expand beyond our offsetParent boundaries\r\n        _this2.root.style.left = '0px';\r\n        _this2.root.style.width = '';\r\n        _this2.root.style.width = _this2.root.offsetWidth + 'px';\r\n        var lines = _this2.quill.getLines(range.index, range.length);\r\n        if (lines.length === 1) {\r\n          _this2.position(_this2.quill.getBounds(range));\r\n        } else {\r\n          var lastLine = lines[lines.length - 1];\r\n          var index = _this2.quill.getIndex(lastLine);\r\n          var length = Math.min(lastLine.length() - 1, range.index + range.length - index);\r\n          var _bounds = _this2.quill.getBounds(new _selection.Range(index, length));\r\n          _this2.position(_bounds);\r\n        }\r\n      } else if (document.activeElement !== _this2.textbox && _this2.quill.hasFocus()) {\r\n        _this2.hide();\r\n      }\r\n    });\r\n    return _this2;\r\n  }\r\n\r\n  _createClass(BubbleTooltip, [{\r\n    key: 'listen',\r\n    value: function listen() {\r\n      var _this3 = this;\r\n\r\n      _get(BubbleTooltip.prototype.__proto__ || Object.getPrototypeOf(BubbleTooltip.prototype), 'listen', this).call(this);\r\n      this.root.querySelector('.ql-close').addEventListener('click', function () {\r\n        _this3.root.classList.remove('ql-editing');\r\n      });\r\n      this.quill.on(_emitter2.default.events.SCROLL_OPTIMIZE, function () {\r\n        // Let selection be restored by toolbar handlers before repositioning\r\n        setTimeout(function () {\r\n          if (_this3.root.classList.contains('ql-hidden')) return;\r\n          var range = _this3.quill.getSelection();\r\n          if (range != null) {\r\n            _this3.position(_this3.quill.getBounds(range));\r\n          }\r\n        }, 1);\r\n      });\r\n    }\r\n  }, {\r\n    key: 'cancel',\r\n    value: function cancel() {\r\n      this.show();\r\n    }\r\n  }, {\r\n    key: 'position',\r\n    value: function position(reference) {\r\n      var shift = _get(BubbleTooltip.prototype.__proto__ || Object.getPrototypeOf(BubbleTooltip.prototype), 'position', this).call(this, reference);\r\n      var arrow = this.root.querySelector('.ql-tooltip-arrow');\r\n      arrow.style.marginLeft = '';\r\n      if (shift === 0) return shift;\r\n      arrow.style.marginLeft = -1 * shift - arrow.offsetWidth / 2 + 'px';\r\n    }\r\n  }]);\r\n\r\n  return BubbleTooltip;\r\n}(_base.BaseTooltip);\r\n\r\nBubbleTooltip.TEMPLATE = ['<span class=\"ql-tooltip-arrow\"></span>', '<div class=\"ql-tooltip-editor\">', '<input type=\"text\" data-formula=\"e=mc^2\" data-link=\"https://quilljs.com\" data-video=\"Embed URL\">', '<a class=\"ql-close\"></a>', '</div>'].join('');\r\n\r\nexports.BubbleTooltip = BubbleTooltip;\r\nexports.default = BubbleTheme;\r\n\r\n/***/ }),\r\n/* 109 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\nmodule.exports = __webpack_require__(63);\r\n\r\n\r\n/***/ })\r\n/******/ ])[\"default\"];\r\n});",".ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"1\"]::before, .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"1\"]::before {\r\n  content: '48' !important;\r\n}\r\n\r\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"2\"]::before, .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"2\"]::before {\r\n  content: '36' !important;\r\n}\r\n\r\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"3\"]::before, .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"3\"]::before {\r\n  content: '30' !important;\r\n}\r\n\r\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"4\"]::before, .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"4\"]::before {\r\n  content: '24' !important;\r\n}\r\n\r\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"5\"]::before, .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"5\"]::before {\r\n  content: '20' !important;\r\n}\r\n\r\n.ql-snow .ql-picker.ql-header .ql-picker-label[data-value=\"6\"]::before, .ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"6\"]::before {\r\n  content: '16' !important;\r\n}\r\n\r\n.ql-snow .ql-editor h1, .ql-snow .ql-editor .h1 {\r\n  font-size: 3rem !important;\r\n}\r\n\r\n.ql-snow .ql-editor h2, .ql-snow .ql-editor .h2 {\r\n  font-size: 2.25rem !important;\r\n}\r\n\r\n.ql-snow .ql-editor h3, .ql-snow .ql-editor .h3 {\r\n  font-size: 1.875rem !important;\r\n}\r\n\r\n.ql-snow .ql-editor h4, .ql-snow .ql-editor .h4 {\r\n  font-size: 1.5rem !important;\r\n}\r\n\r\n.ql-snow .ql-editor h5, .ql-snow .ql-editor .h5 {\r\n  font-size: 1.25rem !important;\r\n}\r\n\r\n.ql-snow .ql-editor h6, .ql-snow .ql-editor .h6 {\r\n  font-size: 1rem !important;\r\n}\r\n\r\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"1\"]::before {\r\n  font-size: 3rem !important;\r\n}\r\n\r\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"2\"]::before {\r\n  font-size: 2.25rem !important;\r\n}\r\n\r\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"3\"]::before {\r\n  font-size: 1.875rem !important;\r\n}\r\n\r\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"4\"]::before {\r\n  font-size: 1.5rem !important;\r\n}\r\n\r\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"5\"]::before {\r\n  font-size: 1.25rem !important;\r\n}\r\n\r\n.ql-snow .ql-picker.ql-header .ql-picker-item[data-value=\"6\"]::before {\r\n  font-size: 1rem !important;\r\n}\r\n","import { Component, Element, Event, EventEmitter, Host, Prop, h } from '@stencil/core';\r\nimport Quill, { Delta } from 'quill';\r\n\r\n@Component({\r\n  tag: 'storm-text-editor',\r\n  styleUrl: 'storm-text-editor.css',\r\n  shadow: false,\r\n})\r\nexport class StormTextEditor {\r\n  @Element() host: HTMLElement;\r\n  @Prop({ mutable: true }) value: string;\r\n  @Prop() label: string;\r\n  @Event() change: EventEmitter<string>;\r\n  quillRef: HTMLElement;\r\n  quill: Quill;\r\n  qlEditor: HTMLDivElement;\r\n  labelDivRef: HTMLDivElement;\r\n\r\n  componentDidLoad() {\r\n    this.quill = new Quill(this.quillRef, {\r\n      theme: 'snow',\r\n      modules: {\r\n        toolbar: [\r\n          [{ header: [6, 5, 4, 3, 2, 1] }],\r\n          ['italic', 'underline', 'strike'],\r\n          [{ color: [] }, { background: [] }],\r\n          [{ list: 'ordered' }, { list: 'bullet' }],\r\n          [{ align: [] }],\r\n        ],\r\n      },\r\n    });\r\n    this.quill.format('header', 6);\r\n    this.qlEditor = this.host.querySelector('.ql-container').querySelector('.ql-editor');\r\n\r\n    if (this.value) this.qlEditor.innerHTML = this.value;\r\n\r\n    if (this.label) this.handleFocus(this.qlEditor);\r\n\r\n    this.quill.on('text-change', (_delta: Delta, _oldContents: Delta, _source: string) => {\r\n      this.value = this.qlEditor.innerHTML;\r\n      this.change.emit(this.qlEditor.innerHTML);\r\n    });\r\n  }\r\n\r\n  labelRender() {\r\n    if (this.label) {\r\n      return (\r\n        <div class=\"input-group input-group-static\" ref={el => (this.labelDivRef = el)}>\r\n          <label>{this.label}</label>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  handleFocus(el: HTMLElement) {\r\n    el.addEventListener('focusin', () => this.labelDivRef.classList.add('is-focused'));\r\n    el.addEventListener('focusout', () => this.labelDivRef.classList.remove('is-focused'));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host>\r\n        {this.labelRender()}\r\n        <div ref={el => (this.quillRef = el)} />\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"mappings":";;;;;;gFAMA,SAAUA,EAAiCC,EAAMC,GAE/CC,EAAAC,QAAiBF,GAOlB,EATD,QASUG,OAAS,YAAcA,KAAOC,GAAM,WAC9C,OAAgB,SAAUC,GAEhB,IAAIC,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GAAW,CAC9B,OAAOF,EAAiBE,GAAUN,O,CAGnC,IAAID,EAASK,EAAiBE,GAAY,CACzCC,EAAGD,EACHE,EAAG,MACHR,QAAS,IAIVG,EAAQG,GAAUG,KAAKV,EAAOC,QAASD,EAAQA,EAAOC,QAASK,GAG/DN,EAAOS,EAAI,KAGX,OAAOT,EAAOC,O,CAKfK,EAAoBK,EAAIP,EAGxBE,EAAoBM,EAAIP,EAGxBC,EAAoBO,EAAI,SAASZ,EAASa,EAAMC,GAC/C,IAAIT,EAAoBU,EAAEf,EAASa,GAAO,CACzCG,OAAOC,eAAejB,EAASa,EAAM,CACpCK,aAAc,MACdC,WAAY,KACZC,IAAKN,G,CAGlB,EAGUT,EAAoBgB,EAAI,SAAStB,GAChC,IAAIe,EAASf,GAAUA,EAAOuB,WAC7B,SAASC,IAAe,OAAOxB,EAAO,UAAW,EACjD,SAASyB,IAAqB,OAAOzB,CAAO,EAC7CM,EAAoBO,EAAEE,EAAQ,IAAKA,GACnC,OAAOA,CAClB,EAGUT,EAAoBU,EAAI,SAASU,EAAQC,GAAY,OAAOV,OAAOW,UAAUC,eAAenB,KAAKgB,EAAQC,EAAU,EAGnHrB,EAAoBwB,EAAI,GAGxB,OAAOxB,EAAoBA,EAAoByB,EAAI,IACnD,CA/DM,CAiEN,CAEV,SAAgB/B,EAAQC,EAASK,GAIjCW,OAAOC,eAAejB,EAAS,aAAc,CAAE+B,MAAO,OACtD,IAAIC,EAAc3B,EAAoB,IACtC,IAAI4B,EAAW5B,EAAoB,IACnC,IAAI6B,EAAS7B,EAAoB,IACjC,IAAI8B,EAAW9B,EAAoB,IACnC,IAAI+B,EAAW/B,EAAoB,IACnC,IAAIgC,EAAUhC,EAAoB,IAClC,IAAIiC,EAAUjC,EAAoB,IAClC,IAAIkC,EAASlC,EAAoB,IACjC,IAAImC,EAAenC,EAAoB,IACvC,IAAIoC,EAAUpC,EAAoB,IAClC,IAAIqC,EAAUrC,EAAoB,IAClC,IAAIsC,EAAUtC,EAAoB,IAClC,IAAIuC,EAAWvC,EAAoB,GACnC,IAAIwC,EAAY,CACZC,MAAOF,EAASE,MAChBC,OAAQH,EAASG,OACjBC,KAAMJ,EAASI,KACfC,MAAOL,EAASK,MAChBC,SAAUN,EAASM,SACnBC,UAAWnB,EAAYoB,QACvBC,OAAQpB,EAASmB,QACjBE,KAAMpB,EAAOkB,QACbG,MAAOjB,EAAQc,QACfI,OAAQrB,EAASiB,QACjBK,MAAOpB,EAAQe,QACfM,OAAQtB,EAASgB,QACjBO,KAAMpB,EAAOa,QACbQ,WAAY,CACRC,UAAWrB,EAAaY,QACxBU,MAAOrB,EAAQW,QACfW,MAAOrB,EAAQU,QACfY,MAAOrB,EAAQS,UAGvBpD,EAAQoD,QAAUP,CAGX,EAEP,SAAgB9C,EAAQC,EAASK,GAIjC,IAAI4D,EAAa/D,MAAQA,KAAK+D,WAAc,WACxC,IAAIC,EAAgBlD,OAAOmD,gBACtB,CAAEC,UAAW,cAAgBC,OAAS,SAAUzD,EAAG0D,GAAK1D,EAAEwD,UAAYE,CAAE,GACzE,SAAU1D,EAAG0D,GAAK,IAAK,IAAIzC,KAAKyC,EAAG,GAAIA,EAAE1C,eAAeC,GAAIjB,EAAEiB,GAAKyC,EAAEzC,EAAG,EAC5E,OAAO,SAAUjB,EAAG0D,GAChBJ,EAActD,EAAG0D,GACjB,SAASC,IAAOrE,KAAKsE,YAAc5D,CAAE,CACrCA,EAAEe,UAAY2C,IAAM,KAAOtD,OAAO+B,OAAOuB,IAAMC,EAAG5C,UAAY2C,EAAE3C,UAAW,IAAI4C,EACvF,CACC,CAT2C,GAU5CvD,OAAOC,eAAejB,EAAS,aAAc,CAAE+B,MAAO,OACtD,IAAI0C,EAAgC,SAAUC,GAC1CT,EAAUQ,EAAgBC,GAC1B,SAASD,EAAeE,GACpB,IAAIC,EAAQ1E,KACZyE,EAAU,eAAiBA,EAC3BC,EAAQF,EAAOjE,KAAKP,KAAMyE,IAAYzE,KACtC0E,EAAMD,QAAUA,EAChBC,EAAM/D,KAAO+D,EAAMJ,YAAY3D,KAC/B,OAAO+D,C,CAEX,OAAOH,CACX,CAXkB,CAWhBI,OACF7E,EAAQyE,eAAiBA,EACzB,IAAIK,EAAa,GACjB,IAAIC,EAAU,GACd,IAAIC,EAAO,GACX,IAAIC,EAAQ,GACZjF,EAAQkF,SAAW,SACnB,IAAIpC,GACJ,SAAWA,GACPA,EAAMA,EAAM,QAAU,GAAK,OAC3BA,EAAMA,EAAM,SAAW,IAAM,QAC7BA,EAAMA,EAAM,aAAe,IAAM,YACjCA,EAAMA,EAAM,QAAU,IAAM,OAC5BA,EAAMA,EAAM,UAAY,GAAK,SAC7BA,EAAMA,EAAM,SAAW,IAAM,QAC7BA,EAAMA,EAAM,cAAgB,IAAM,aAClCA,EAAMA,EAAM,eAAiB,GAAK,cAClCA,EAAMA,EAAM,mBAAqB,GAAK,kBACtCA,EAAMA,EAAM,oBAAsB,GAAK,mBACvCA,EAAMA,EAAM,OAAS,IAAM,KAC9B,EAZD,CAYGA,EAAQ9C,EAAQ8C,QAAU9C,EAAQ8C,MAAQ,KAC7C,SAASC,EAAOoC,EAAOpD,GACnB,IAAIqD,EAAQnC,EAAMkC,GAClB,GAAIC,GAAS,KAAM,CACf,MAAM,IAAIX,EAAe,oBAAsBU,EAAQ,Q,CAE3D,IAAIE,EAAYD,EAChB,IAAIE,EAEJH,aAAiBI,MAAQJ,EAAM,cAAgBI,KAAKC,UAAYL,EAAQE,EAAUtC,OAAOhB,GACzF,OAAO,IAAIsD,EAAUC,EAAMvD,E,CAE/B/B,EAAQ+C,OAASA,EACjB,SAASC,EAAKsC,EAAMG,GAChB,GAAIA,SAAW,EAAQ,CAAEA,EAAS,KAAM,CACxC,GAAIH,GAAQ,KACR,OAAO,KAEX,GAAIA,EAAKtF,EAAQkF,WAAa,KAC1B,OAAOI,EAAKtF,EAAQkF,UAAUQ,KAClC,GAAID,EACA,OAAOzC,EAAKsC,EAAKK,WAAYF,GACjC,OAAO,I,CAEXzF,EAAQgD,KAAOA,EACf,SAASC,EAAMA,EAAO2C,GAClB,GAAIA,SAAU,EAAQ,CAAEA,EAAQ9C,EAAM+C,GAAI,CAC1C,IAAIT,EACJ,UAAWnC,IAAU,SAAU,CAC3BmC,EAAQH,EAAMhC,IAAU6B,EAAW7B,E,MAGlC,GAAIA,aAAiBU,MAAQV,EAAM,cAAgBsC,KAAKC,UAAW,CACpEJ,EAAQH,EAAM,O,MAEb,UAAWhC,IAAU,SAAU,CAChC,GAAIA,EAAQH,EAAMgD,MAAQhD,EAAMiD,MAAO,CACnCX,EAAQH,EAAM,Q,MAEb,GAAIhC,EAAQH,EAAMgD,MAAQhD,EAAMkD,OAAQ,CACzCZ,EAAQH,EAAM,S,OAGjB,GAAIhC,aAAiBgD,YAAa,CACnC,IAAIC,GAASjD,EAAMkD,aAAa,UAAY,IAAIC,MAAM,OACtD,IAAK,IAAI7F,KAAK2F,EAAO,CACjBd,EAAQL,EAAQmB,EAAM3F,IACtB,GAAI6E,EACA,K,CAERA,EAAQA,GAASJ,EAAK/B,EAAMoD,Q,CAEhC,GAAIjB,GAAS,KACT,OAAO,KAEX,GAAIQ,EAAQ9C,EAAMgD,MAAQV,EAAMQ,OAASA,EAAQ9C,EAAMwD,KAAOlB,EAAMQ,MAChE,OAAOR,EACX,OAAO,I,CAEXpF,EAAQiD,MAAQA,EAChB,SAASC,IACL,IAAIqD,EAAc,GAClB,IAAK,IAAIC,EAAK,EAAGA,EAAKC,UAAUC,OAAQF,IAAM,CAC1CD,EAAYC,GAAMC,UAAUD,E,CAEhC,GAAID,EAAYG,OAAS,EAAG,CACxB,OAAOH,EAAYI,KAAI,SAAU/F,GAC7B,OAAOsC,EAAStC,EAC5B,G,CAEI,IAAIgG,EAAaL,EAAY,GAC7B,UAAWK,EAAWC,WAAa,iBAAmBD,EAAWE,WAAa,SAAU,CACpF,MAAM,IAAIrC,EAAe,qB,MAExB,GAAImC,EAAWC,WAAa,WAAY,CACzC,MAAM,IAAIpC,EAAe,iC,CAE7BQ,EAAM2B,EAAWC,UAAYD,EAAWE,UAAYF,EACpD,UAAWA,EAAWG,UAAY,SAAU,CACxCjC,EAAW8B,EAAWG,SAAWH,C,KAEhC,CACD,GAAIA,EAAWI,WAAa,KAAM,CAC9BjC,EAAQ6B,EAAWI,WAAaJ,C,CAEpC,GAAIA,EAAWP,SAAW,KAAM,CAC5B,GAAIhC,MAAM4C,QAAQL,EAAWP,SAAU,CACnCO,EAAWP,QAAUO,EAAWP,QAAQM,KAAI,SAAUN,GAClD,OAAOA,EAAQa,aACnC,G,KAEiB,CACDN,EAAWP,QAAUO,EAAWP,QAAQa,a,CAE5C,IAAIC,EAAW9C,MAAM4C,QAAQL,EAAWP,SAAWO,EAAWP,QAAU,CAACO,EAAWP,SACpFc,EAASC,SAAQ,SAAUC,GACvB,GAAIrC,EAAKqC,IAAQ,MAAQT,EAAWI,WAAa,KAAM,CACnDhC,EAAKqC,GAAOT,C,CAEhC,G,EAGI,OAAOA,C,CAEX5G,EAAQkD,SAAWA,CAGZ,EAEP,SAAgBnD,EAAQC,EAASK,GAEjC,IAAIiH,EAAOjH,EAAoB,IAC/B,IAAIkH,EAAQlH,EAAoB,IAChC,IAAImH,EAASnH,EAAoB,GACjC,IAAIoH,EAAKpH,EAAoB,IAG7B,IAAIqH,EAAiBC,OAAOC,aAAa,GAGzC,IAAIC,EAAQ,SAAUC,GAEpB,GAAIzD,MAAM4C,QAAQa,GAAM,CACtB5H,KAAK4H,IAAMA,CACf,MAAS,GAAIA,GAAO,MAAQzD,MAAM4C,QAAQa,EAAIA,KAAM,CAChD5H,KAAK4H,IAAMA,EAAIA,GACnB,KAAS,CACL5H,KAAK4H,IAAM,E,CAEf,EAGAD,EAAMlG,UAAUoG,OAAS,SAAUC,EAAMlD,GACvC,IAAImD,EAAQ,GACZ,GAAID,EAAKtB,SAAW,EAAG,OAAOxG,KAC9B+H,EAAMF,OAASC,EACf,GAAIlD,GAAc,aAAeA,IAAe,UAAY9D,OAAOkH,KAAKpD,GAAY4B,OAAS,EAAG,CAC9FuB,EAAMnD,WAAaA,C,CAErB,OAAO5E,KAAKiI,KAAKF,EACnB,EAEAJ,EAAMlG,UAAU,UAAY,SAAU+E,GACpC,GAAIA,GAAU,EAAG,OAAOxG,KACxB,OAAOA,KAAKiI,KAAK,CAAEC,OAAU1B,GAC/B,EAEAmB,EAAMlG,UAAU0G,OAAS,SAAU3B,EAAQ5B,GACzC,GAAI4B,GAAU,EAAG,OAAOxG,KACxB,IAAI+H,EAAQ,CAAEI,OAAQ3B,GACtB,GAAI5B,GAAc,aAAeA,IAAe,UAAY9D,OAAOkH,KAAKpD,GAAY4B,OAAS,EAAG,CAC9FuB,EAAMnD,WAAaA,C,CAErB,OAAO5E,KAAKiI,KAAKF,EACnB,EAEAJ,EAAMlG,UAAUwG,KAAO,SAAUF,GAC/B,IAAIK,EAAQpI,KAAK4H,IAAIpB,OACrB,IAAI6B,EAASrI,KAAK4H,IAAIQ,EAAQ,GAC9BL,EAAQT,EAAO,KAAM,GAAIS,GACzB,UAAWM,IAAW,SAAU,CAC9B,UAAWN,EAAM,YAAc,iBAAmBM,EAAO,YAAc,SAAU,CAC/ErI,KAAK4H,IAAIQ,EAAQ,GAAK,CAAEF,OAAUG,EAAO,UAAYN,EAAM,WAC3D,OAAO/H,I,CAIT,UAAWqI,EAAO,YAAc,UAAYN,EAAMF,QAAU,KAAM,CAChEO,GAAS,EACTC,EAASrI,KAAK4H,IAAIQ,EAAQ,GAC1B,UAAWC,IAAW,SAAU,CAC9BrI,KAAK4H,IAAIU,QAAQP,GACjB,OAAO/H,I,EAGX,GAAIqH,EAAMU,EAAMnD,WAAYyD,EAAOzD,YAAa,CAC9C,UAAWmD,EAAMF,SAAW,iBAAmBQ,EAAOR,SAAW,SAAU,CACzE7H,KAAK4H,IAAIQ,EAAQ,GAAK,CAAEP,OAAQQ,EAAOR,OAASE,EAAMF,QACtD,UAAWE,EAAMnD,aAAe,SAAU5E,KAAK4H,IAAIQ,EAAQ,GAAGxD,WAAamD,EAAMnD,WACjF,OAAO5E,IACf,MAAa,UAAW+H,EAAMI,SAAW,iBAAmBE,EAAOF,SAAW,SAAU,CAChFnI,KAAK4H,IAAIQ,EAAQ,GAAK,CAAED,OAAQE,EAAOF,OAASJ,EAAMI,QACtD,UAAWJ,EAAMnD,aAAe,SAAU5E,KAAK4H,IAAIQ,EAAQ,GAAGxD,WAAamD,EAAMnD,WACjF,OAAO5E,I,GAIb,GAAIoI,IAAUpI,KAAK4H,IAAIpB,OAAQ,CAC7BxG,KAAK4H,IAAIK,KAAKF,EAClB,KAAS,CACL/H,KAAK4H,IAAIW,OAAOH,EAAO,EAAGL,E,CAE5B,OAAO/H,IACT,EAEA2H,EAAMlG,UAAU+G,KAAO,WACrB,IAAIH,EAASrI,KAAK4H,IAAI5H,KAAK4H,IAAIpB,OAAS,GACxC,GAAI6B,GAAUA,EAAOF,SAAWE,EAAOzD,WAAY,CACjD5E,KAAK4H,IAAIa,K,CAEX,OAAOzI,IACT,EAEA2H,EAAMlG,UAAUiH,OAAS,SAAUC,GACjC,OAAO3I,KAAK4H,IAAIc,OAAOC,EACzB,EAEAhB,EAAMlG,UAAUyF,QAAU,SAAUyB,GAClC3I,KAAK4H,IAAIV,QAAQyB,EACnB,EAEAhB,EAAMlG,UAAUgF,IAAM,SAAUkC,GAC9B,OAAO3I,KAAK4H,IAAInB,IAAIkC,EACtB,EAEAhB,EAAMlG,UAAUmH,UAAY,SAAUD,GACpC,IAAIE,EAAS,GAAIC,EAAS,GAC1B9I,KAAKkH,SAAQ,SAASK,GACpB,IAAIwB,EAASJ,EAAUpB,GAAMsB,EAASC,EACtCC,EAAOd,KAAKV,EAChB,IACE,MAAO,CAACsB,EAAQC,EAClB,EAEAnB,EAAMlG,UAAUuH,OAAS,SAAUL,EAAWM,GAC5C,OAAOjJ,KAAK4H,IAAIoB,OAAOL,EAAWM,EACpC,EAEAtB,EAAMlG,UAAUyH,aAAe,WAC7B,OAAOlJ,KAAKgJ,QAAO,SAAUxC,EAAQ2C,GACnC,GAAIA,EAAKtB,OAAQ,CACf,OAAOrB,EAASe,EAAGf,OAAO2C,EAChC,MAAW,GAAIA,EAAKjB,OAAQ,CACtB,OAAO1B,EAAS2C,EAAKjB,M,CAEvB,OAAO1B,C,GACN,EACL,EAEAmB,EAAMlG,UAAU+E,OAAS,WACvB,OAAOxG,KAAKgJ,QAAO,SAAUxC,EAAQ2C,GACnC,OAAO3C,EAASe,EAAGf,OAAO2C,E,GACzB,EACL,EAEAxB,EAAMlG,UAAU2H,MAAQ,SAAUC,EAAOC,GACvCD,EAAQA,GAAS,EACjB,UAAWC,IAAQ,SAAUA,EAAMC,SACnC,IAAI3B,EAAM,GACV,IAAI4B,EAAOjC,EAAGkC,SAASzJ,KAAK4H,KAC5B,IAAIQ,EAAQ,EACZ,MAAOA,EAAQkB,GAAOE,EAAKE,UAAW,CACpC,IAAIC,EACJ,GAAIvB,EAAQiB,EAAO,CACjBM,EAASH,EAAKI,KAAKP,EAAQjB,EACjC,KAAW,CACLuB,EAASH,EAAKI,KAAKN,EAAMlB,GACzBR,EAAIK,KAAK0B,E,CAEXvB,GAASb,EAAGf,OAAOmD,E,CAErB,OAAO,IAAIhC,EAAMC,EACnB,EAGAD,EAAMlG,UAAUoI,QAAU,SAAUC,GAClC,IAAIC,EAAWxC,EAAGkC,SAASzJ,KAAK4H,KAChC,IAAIoC,EAAYzC,EAAGkC,SAASK,EAAMlC,KAClC,IAAIA,EAAM,GACV,IAAIqC,EAAaD,EAAUE,OAC3B,GAAID,GAAc,aAAeA,EAAW9B,SAAW,UAAY8B,EAAWrF,YAAc,KAAM,CAChG,IAAIuF,EAAYF,EAAW9B,OAC3B,MAAO4B,EAASK,aAAe,UAAYL,EAASM,cAAgBF,EAAW,CAC7EA,GAAaJ,EAASM,aACtBzC,EAAIK,KAAK8B,EAASH,O,CAEpB,GAAIK,EAAW9B,OAASgC,EAAY,EAAG,CACrCH,EAAUJ,KAAKK,EAAW9B,OAASgC,E,EAGvC,IAAIG,EAAQ,IAAI3C,EAAMC,GACtB,MAAOmC,EAASL,WAAaM,EAAUN,UAAW,CAChD,GAAIM,EAAUI,aAAe,SAAU,CACrCE,EAAMrC,KAAK+B,EAAUJ,O,MAChB,GAAIG,EAASK,aAAe,SAAU,CAC3CE,EAAMrC,KAAK8B,EAASH,OAC1B,KAAW,CACL,IAAIpD,EAAS+D,KAAKC,IAAIT,EAASM,aAAcL,EAAUK,cACvD,IAAII,EAASV,EAASH,KAAKpD,GAC3B,IAAIkE,EAAUV,EAAUJ,KAAKpD,GAC7B,UAAWkE,EAAQvC,SAAW,SAAU,CACtC,IAAIJ,EAAQ,GACZ,UAAW0C,EAAOtC,SAAW,SAAU,CACrCJ,EAAMI,OAAS3B,CACzB,KAAe,CACLuB,EAAMF,OAAS4C,EAAO5C,M,CAGxB,IAAIjD,EAAa2C,EAAG3C,WAAWiF,QAAQY,EAAO7F,WAAY8F,EAAQ9F,kBAAmB6F,EAAOtC,SAAW,UACvG,GAAIvD,EAAYmD,EAAMnD,WAAaA,EACnC0F,EAAMrC,KAAKF,GAGX,IAAKiC,EAAUN,WAAarC,EAAMiD,EAAM1C,IAAI0C,EAAM1C,IAAIpB,OAAS,GAAIuB,GAAQ,CACzE,IAAI4C,EAAO,IAAIhD,EAAMoC,EAASY,QAC9B,OAAOL,EAAMM,OAAOD,GAAMnC,M,CAKpC,MAAa,UAAWkC,EAAQ,YAAc,iBAAmBD,EAAOtC,SAAW,SAAU,CACrFmC,EAAMrC,KAAKyC,E,GAIjB,OAAOJ,EAAM9B,MACf,EAEAb,EAAMlG,UAAUmJ,OAAS,SAAUd,GACjC,IAAIQ,EAAQ,IAAI3C,EAAM3H,KAAK4H,IAAIwB,SAC/B,GAAIU,EAAMlC,IAAIpB,OAAS,EAAG,CACxB8D,EAAMrC,KAAK6B,EAAMlC,IAAI,IACrB0C,EAAM1C,IAAM0C,EAAM1C,IAAIgD,OAAOd,EAAMlC,IAAIwB,MAAM,G,CAE/C,OAAOkB,CACT,EAEA3C,EAAMlG,UAAU2F,KAAO,SAAU0C,EAAO1B,GACtC,GAAIpI,KAAK4H,MAAQkC,EAAMlC,IAAK,CAC1B,OAAO,IAAID,C,CAEb,IAAIkD,EAAU,CAAC7K,KAAM8J,GAAOrD,KAAI,SAAU6D,GACxC,OAAOA,EAAM7D,KAAI,SAAUc,GACzB,GAAIA,EAAGM,QAAU,KAAM,CACrB,cAAcN,EAAGM,SAAW,SAAWN,EAAGM,OAASL,C,CAErD,IAAIsD,EAAQR,IAAUR,EAAS,KAAO,OACtC,MAAM,IAAInF,MAAM,iBAAmBmG,EAAO,gBAChD,IAAOC,KAAK,GACZ,IACE,IAAIT,EAAQ,IAAI3C,EAChB,IAAIqD,EAAa5D,EAAKyD,EAAQ,GAAIA,EAAQ,GAAIzC,GAC9C,IAAI2B,EAAWxC,EAAGkC,SAASzJ,KAAK4H,KAChC,IAAIoC,EAAYzC,EAAGkC,SAASK,EAAMlC,KAClCoD,EAAW9D,SAAQ,SAAU+D,GAC3B,IAAIzE,EAASyE,EAAU,GAAGzE,OAC1B,MAAOA,EAAS,EAAG,CACjB,IAAI0E,EAAW,EACf,OAAQD,EAAU,IAChB,KAAK7D,EAAK+D,OACRD,EAAWX,KAAKC,IAAIR,EAAUK,aAAc7D,GAC5C8D,EAAMrC,KAAK+B,EAAUJ,KAAKsB,IAC1B,MACF,KAAK9D,EAAKgE,OACRF,EAAWX,KAAKC,IAAIhE,EAAQuD,EAASM,cACrCN,EAASH,KAAKsB,GACdZ,EAAM,UAAUY,GAChB,MACF,KAAK9D,EAAKiE,MACRH,EAAWX,KAAKC,IAAIT,EAASM,aAAcL,EAAUK,aAAc7D,GACnE,IAAIiE,EAASV,EAASH,KAAKsB,GAC3B,IAAIR,EAAUV,EAAUJ,KAAKsB,GAC7B,GAAI7D,EAAMoD,EAAO5C,OAAQ6C,EAAQ7C,QAAS,CACxCyC,EAAMnC,OAAO+C,EAAU3D,EAAG3C,WAAWwC,KAAKqD,EAAO7F,WAAY8F,EAAQ9F,YACjF,KAAiB,CACL0F,EAAMrC,KAAKyC,GAAS,UAAUQ,E,CAEhC,MAEJ1E,GAAU0E,C,CAEhB,IACE,OAAOZ,EAAM9B,MACf,EAEAb,EAAMlG,UAAU6J,SAAW,SAAU3C,EAAW4C,GAC9CA,EAAUA,GAAW,KACrB,IAAI/B,EAAOjC,EAAGkC,SAASzJ,KAAK4H,KAC5B,IAAI4D,EAAO,IAAI7D,EACf,IAAItH,EAAI,EACR,MAAOmJ,EAAKE,UAAW,CACrB,GAAIF,EAAKY,aAAe,SAAU,OAClC,IAAIK,EAASjB,EAAKU,OAClB,IAAIb,EAAQ9B,EAAGf,OAAOiE,GAAUjB,EAAKa,aACrC,IAAIjC,SAAeqC,EAAO5C,SAAW,SACnC4C,EAAO5C,OAAO4D,QAAQF,EAASlC,GAASA,GAAQ,EAClD,GAAIjB,EAAQ,EAAG,CACboD,EAAKvD,KAAKuB,EAAKI,OACrB,MAAW,GAAIxB,EAAQ,EAAG,CACpBoD,EAAKvD,KAAKuB,EAAKI,KAAKxB,GAC1B,KAAW,CACL,GAAIO,EAAU6C,EAAMhC,EAAKI,KAAK,GAAGhF,YAAc,GAAIvE,KAAO,MAAO,CAC/D,M,CAEFA,GAAK,EACLmL,EAAO,IAAI7D,C,EAGf,GAAI6D,EAAKhF,SAAW,EAAG,CACrBmC,EAAU6C,EAAM,GAAInL,E,CAExB,EAEAsH,EAAMlG,UAAUiK,UAAY,SAAU5B,EAAO6B,GAC3CA,IAAaA,EACb,UAAW7B,IAAU,SAAU,CAC7B,OAAO9J,KAAK4L,kBAAkB9B,EAAO6B,E,CAEvC,IAAI5B,EAAWxC,EAAGkC,SAASzJ,KAAK4H,KAChC,IAAIoC,EAAYzC,EAAGkC,SAASK,EAAMlC,KAClC,IAAI0C,EAAQ,IAAI3C,EAChB,MAAOoC,EAASL,WAAaM,EAAUN,UAAW,CAChD,GAAIK,EAASK,aAAe,WAAauB,GAAY3B,EAAUI,aAAe,UAAW,CACvFE,EAAMnC,OAAOZ,EAAGf,OAAOuD,EAASH,Q,MAC3B,GAAII,EAAUI,aAAe,SAAU,CAC5CE,EAAMrC,KAAK+B,EAAUJ,OAC3B,KAAW,CACL,IAAIpD,EAAS+D,KAAKC,IAAIT,EAASM,aAAcL,EAAUK,cACvD,IAAII,EAASV,EAASH,KAAKpD,GAC3B,IAAIkE,EAAUV,EAAUJ,KAAKpD,GAC7B,GAAIiE,EAAO,UAAW,CAEpB,QACR,MAAa,GAAIC,EAAQ,UAAW,CAC5BJ,EAAMrC,KAAKyC,EACnB,KAAa,CAELJ,EAAMnC,OAAO3B,EAAQe,EAAG3C,WAAW8G,UAAUjB,EAAO7F,WAAY8F,EAAQ9F,WAAY+G,G,GAI1F,OAAOrB,EAAM9B,MACf,EAEAb,EAAMlG,UAAUmK,kBAAoB,SAAUxD,EAAOuD,GACnDA,IAAaA,EACb,IAAI5B,EAAWxC,EAAGkC,SAASzJ,KAAK4H,KAChC,IAAIiE,EAAS,EACb,MAAO9B,EAASL,WAAamC,GAAUzD,EAAO,CAC5C,IAAI5B,EAASuD,EAASM,aACtB,IAAIyB,EAAW/B,EAASK,WACxBL,EAASH,OACT,GAAIkC,IAAa,SAAU,CACzB1D,GAASmC,KAAKC,IAAIhE,EAAQ4B,EAAQyD,GAClC,QACN,MAAW,GAAIC,IAAa,WAAaD,EAASzD,IAAUuD,GAAW,CACjEvD,GAAS5B,C,CAEXqF,GAAUrF,C,CAEZ,OAAO4B,CACT,EAGAvI,EAAOC,QAAU6H,CAGV,EAEP,SAAgB9H,EAAQC,GAIxB,IAAIiM,EAASjL,OAAOW,UAAUC,eAC9B,IAAIsK,EAAQlL,OAAOW,UAAUwK,SAC7B,IAAIlL,EAAiBD,OAAOC,eAC5B,IAAImL,EAAOpL,OAAOqL,yBAElB,IAAIpF,EAAU,SAASA,EAAQqF,GAC9B,UAAWjI,MAAM4C,UAAY,WAAY,CACxC,OAAO5C,MAAM4C,QAAQqF,E,CAGtB,OAAOJ,EAAMzL,KAAK6L,KAAS,gBAC5B,EAEA,IAAIC,EAAgB,SAASA,EAAcC,GAC1C,IAAKA,GAAON,EAAMzL,KAAK+L,KAAS,kBAAmB,CAClD,OAAO,K,CAGR,IAAIC,EAAoBR,EAAOxL,KAAK+L,EAAK,eACzC,IAAIE,EAAmBF,EAAIhI,aAAegI,EAAIhI,YAAY7C,WAAasK,EAAOxL,KAAK+L,EAAIhI,YAAY7C,UAAW,iBAE9G,GAAI6K,EAAIhI,cAAgBiI,IAAsBC,EAAkB,CAC/D,OAAO,K,CAKR,IAAIC,EACJ,IAAKA,KAAOH,EAAK,EAEjB,cAAcG,IAAQ,aAAeV,EAAOxL,KAAK+L,EAAKG,EACvD,EAGA,IAAIC,EAAc,SAASA,EAAY3D,EAAQ4D,GAC9C,GAAI5L,GAAkB4L,EAAQhM,OAAS,YAAa,CACnDI,EAAegI,EAAQ4D,EAAQhM,KAAM,CACpCM,WAAY,KACZD,aAAc,KACda,MAAO8K,EAAQC,SACfC,SAAU,MAEb,KAAQ,CACN9D,EAAO4D,EAAQhM,MAAQgM,EAAQC,Q,CAEjC,EAGA,IAAIE,EAAc,SAASA,EAAYR,EAAK3L,GAC3C,GAAIA,IAAS,YAAa,CACzB,IAAKoL,EAAOxL,KAAK+L,EAAK3L,GAAO,CAC5B,YAAO,C,MACD,GAAIuL,EAAM,CAGhB,OAAOA,EAAKI,EAAK3L,GAAMkB,K,EAIzB,OAAOyK,EAAI3L,EACZ,EAEAd,EAAOC,QAAU,SAASwH,IACzB,IAAIqF,EAAShM,EAAMoM,EAAKC,EAAMC,EAAaC,EAC3C,IAAInE,EAASxC,UAAU,GACvB,IAAIlG,EAAI,EACR,IAAImG,EAASD,UAAUC,OACvB,IAAI2G,EAAO,MAGX,UAAWpE,IAAW,UAAW,CAChCoE,EAAOpE,EACPA,EAASxC,UAAU,IAAM,GAEzBlG,EAAI,C,CAEL,GAAI0I,GAAU,aAAgBA,IAAW,iBAAmBA,IAAW,WAAa,CACnFA,EAAS,E,CAGV,KAAO1I,EAAImG,IAAUnG,EAAG,CACvBsM,EAAUpG,UAAUlG,GAEpB,GAAIsM,GAAW,KAAM,CAEpB,IAAKhM,KAAQgM,EAAS,CACrBI,EAAMD,EAAY/D,EAAQpI,GAC1BqM,EAAOF,EAAYH,EAAShM,GAG5B,GAAIoI,IAAWiE,EAAM,CAEpB,GAAIG,GAAQH,IAASX,EAAcW,KAAUC,EAAclG,EAAQiG,KAAS,CAC3E,GAAIC,EAAa,CAChBA,EAAc,MACdC,EAAQH,GAAOhG,EAAQgG,GAAOA,EAAM,EAC3C,KAAa,CACNG,EAAQH,GAAOV,EAAcU,GAAOA,EAAM,E,CAI3CL,EAAY3D,EAAQ,CAAEpI,KAAMA,EAAMiM,SAAUtF,EAAO6F,EAAMD,EAAOF,IAGtE,MAAY,UAAWA,IAAS,YAAa,CACvCN,EAAY3D,EAAQ,CAAEpI,KAAMA,EAAMiM,SAAUI,G,KAQjD,OAAOjE,CACR,CAGO,EAEP,SAAgBlJ,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAET/B,EAAQoD,QAAUpD,EAAQsN,WAAatN,EAAQuN,cAAgBC,UAE/D,IAAIC,EAAe,WAAc,SAASC,EAAiBzE,EAAQ0E,GAAS,IAAK,IAAIpN,EAAI,EAAGA,EAAIoN,EAAMjH,OAAQnG,IAAK,CAAE,IAAIqN,EAAaD,EAAMpN,GAAIqN,EAAWzM,WAAayM,EAAWzM,YAAc,MAAOyM,EAAW1M,aAAe,KAAM,GAAI,UAAW0M,EAAYA,EAAWb,SAAW,KAAM/L,OAAOC,eAAegI,EAAQ2E,EAAWjB,IAAKiB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAe,GAAID,EAAYJ,EAAiBG,EAAYlM,UAAWmM,GAAa,GAAIC,EAAaL,EAAiBG,EAAaE,GAAc,OAAOF,CAAY,CAAG,CAA5hB,GAEnB,IAAIG,EAAO,SAAS5M,EAAIK,EAAQC,EAAUuM,GAAY,GAAIxM,IAAW,KAAMA,EAASyM,SAASvM,UAAW,IAAIwM,EAAOnN,OAAOqL,yBAAyB5K,EAAQC,GAAW,GAAIyM,IAASX,UAAW,CAAE,IAAIY,EAASpN,OAAOqN,eAAe5M,GAAS,GAAI2M,IAAW,KAAM,CAAE,OAAOZ,SAAU,KAAQ,CAAE,OAAOpM,EAAIgN,EAAQ1M,EAAUuM,EAAU,CAAE,MAAQ,GAAI,UAAWE,EAAM,CAAE,OAAOA,EAAKpM,KAAM,KAAQ,CAAE,IAAIjB,EAASqN,EAAK/M,IAAK,GAAIN,IAAW0M,UAAW,CAAE,OAAOA,SAAU,CAAG,OAAO1M,EAAOL,KAAKwN,EAAU,CAAE,EAExe,IAAIK,EAAUjO,EAAoB,GAElC,IAAIkO,EAAWC,EAAuBF,GAEtC,IAAIG,EAAcpO,EAAoB,GAEtC,IAAIqO,EAAeF,EAAuBC,GAE1C,IAAIE,EAAatO,EAAoB,GAErC,IAAIuO,EAAcJ,EAAuBG,GAEzC,IAAIE,EAASxO,EAAoB,IAEjC,IAAIyO,EAAUN,EAAuBK,GAErC,IAAIE,EAAU1O,EAAoB,GAElC,IAAI2O,EAAWR,EAAuBO,GAEtC,IAAIE,EAAQ5O,EAAoB,GAEhC,IAAI6O,EAASV,EAAuBS,GAEpC,SAAST,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,SAAS2C,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,SAASC,EAA2BrP,EAAMQ,GAAQ,IAAKR,EAAM,CAAE,MAAM,IAAIsP,eAAe,4DAA6D,CAAG,OAAO9O,WAAgBA,IAAS,iBAAmBA,IAAS,YAAcA,EAAOR,CAAK,CAE9O,SAASuP,EAAUC,EAAUC,GAAc,UAAWA,IAAe,YAAcA,IAAe,KAAM,CAAE,MAAM,IAAIL,UAAU,kEAAoEK,EAAY,CAAGD,EAAS9N,UAAYX,OAAO+B,OAAO2M,GAAcA,EAAW/N,UAAW,CAAE6C,YAAa,CAAEzC,MAAO0N,EAAUtO,WAAY,MAAO4L,SAAU,KAAM7L,aAAc,QAAW,GAAIwO,EAAY1O,OAAOmD,eAAiBnD,OAAOmD,eAAesL,EAAUC,GAAcD,EAASrL,UAAYsL,CAAW,CAE5e,IAAIC,EAAiB,EAErB,IAAIrC,EAAa,SAAUsC,GACzBJ,EAAUlC,EAAYsC,GAEtB,SAAStC,IACP6B,EAAgBjP,KAAMoN,GAEtB,OAAOgC,EAA2BpP,MAAOoN,EAAWlJ,WAAapD,OAAOqN,eAAef,IAAauC,MAAM3P,KAAMuG,W,CAGlHgH,EAAaH,EAAY,CAAC,CACxBX,IAAK,SACL5K,MAAO,SAAS+N,IACd9B,EAAKV,EAAW3L,UAAUyC,WAAapD,OAAOqN,eAAef,EAAW3L,WAAY,SAAUzB,MAAMO,KAAKP,MACzGA,KAAK4E,WAAa,IAAI8J,EAAYxL,QAAQQ,WAAWI,MAAM9D,KAAK6P,Q,GAEjE,CACDpD,IAAK,QACL5K,MAAO,SAASyI,IACd,OAAO,IAAIkE,EAAatL,SAAU2E,OAAO7H,KAAK6B,SAAS,EAAIwM,EAASnL,SAASlD,KAAK8P,UAAW9P,KAAK4E,WAAWmL,U,GAE9G,CACDtD,IAAK,SACL5K,MAAO,SAASmO,EAAOrP,EAAMkB,GAC3B,IAAIoO,EAAYvB,EAAYxL,QAAQH,MAAMpC,EAAM+N,EAAYxL,QAAQN,MAAMsN,iBAC1E,GAAID,GAAa,KAAM,CACrBjQ,KAAK4E,WAAWqL,UAAUA,EAAWpO,E,IAGxC,CACD4K,IAAK,WACL5K,MAAO,SAASsO,EAAS/H,EAAO5B,EAAQ7F,EAAMkB,GAC5C7B,KAAKgQ,OAAOrP,EAAMkB,E,GAEnB,CACD4K,IAAK,WACL5K,MAAO,SAASuO,EAAShI,EAAOvG,EAAOwO,GACrC,UAAWxO,IAAU,UAAYA,EAAMyO,SAAS,MAAO,CACrD,IAAIC,EAAQ7B,EAAYxL,QAAQL,OAAOU,EAAMoD,UAC7C3G,KAAKkO,OAAOsC,aAAaD,EAAOnI,IAAU,EAAIpI,KAAOA,KAAK4J,MAC1D2G,EAAMH,SAAS,EAAGvO,EAAMuH,MAAM,GAAG,GACzC,KAAa,CACL0E,EAAKV,EAAW3L,UAAUyC,WAAapD,OAAOqN,eAAef,EAAW3L,WAAY,WAAYzB,MAAMO,KAAKP,KAAMoI,EAAOvG,EAAOwO,E,MAKrI,OAAOjD,CACT,CA/CiB,CA+CfsB,EAAYxL,QAAQG,OAEtB+J,EAAW1H,MAAQgJ,EAAYxL,QAAQN,MAAM6N,WAI7C,IAAIlN,EAAQ,SAAUmN,GACpBpB,EAAU/L,EAAOmN,GAEjB,SAASnN,EAAMsM,GACbZ,EAAgBjP,KAAMuD,GAEtB,IAAIoN,EAASvB,EAA2BpP,MAAOuD,EAAMW,WAAapD,OAAOqN,eAAe5K,IAAQhD,KAAKP,KAAM6P,IAE3Gc,EAAOC,MAAQ,GACf,OAAOD,C,CAGTpD,EAAahK,EAAO,CAAC,CACnBkJ,IAAK,QACL5K,MAAO,SAASyI,IACd,GAAItK,KAAK4Q,MAAMtG,OAAS,KAAM,CAC5BtK,KAAK4Q,MAAMtG,MAAQtK,KAAK6Q,YAAYnC,EAAYxL,QAAQE,MAAM4F,QAAO,SAAUsB,EAAOwG,GACpF,GAAIA,EAAKtK,WAAa,EAAG,CACvB,OAAO8D,CACnB,KAAiB,CACL,OAAOA,EAAMzC,OAAOiJ,EAAKjP,QAASwL,EAAcyD,G,CAE5D,GAAW,IAAItC,EAAatL,SAAW2E,OAAO,KAAMwF,EAAcrN,M,CAE5D,OAAOA,KAAK4Q,MAAMtG,K,GAEnB,CACDmC,IAAK,WACL5K,MAAO,SAASkP,EAAS3I,EAAO5B,GAC9BsH,EAAKvK,EAAM9B,UAAUyC,WAAapD,OAAOqN,eAAe5K,EAAM9B,WAAY,WAAYzB,MAAMO,KAAKP,KAAMoI,EAAO5B,GAC9GxG,KAAK4Q,MAAQ,E,GAEd,CACDnE,IAAK,WACL5K,MAAO,SAASsO,EAAS/H,EAAO5B,EAAQ7F,EAAMkB,GAC5C,GAAI2E,GAAU,EAAG,OACjB,GAAIkI,EAAYxL,QAAQH,MAAMpC,EAAM+N,EAAYxL,QAAQN,MAAMiD,OAAQ,CACpE,GAAIuC,EAAQ5B,IAAWxG,KAAKwG,SAAU,CACpCxG,KAAKgQ,OAAOrP,EAAMkB,E,CAE5B,KAAa,CACLiM,EAAKvK,EAAM9B,UAAUyC,WAAapD,OAAOqN,eAAe5K,EAAM9B,WAAY,WAAYzB,MAAMO,KAAKP,KAAMoI,EAAOmC,KAAKC,IAAIhE,EAAQxG,KAAKwG,SAAW4B,EAAQ,GAAIzH,EAAMkB,E,CAEnK7B,KAAK4Q,MAAQ,E,GAEd,CACDnE,IAAK,WACL5K,MAAO,SAASuO,EAAShI,EAAOvG,EAAOwO,GACrC,GAAIA,GAAO,KAAM,OAAOvC,EAAKvK,EAAM9B,UAAUyC,WAAapD,OAAOqN,eAAe5K,EAAM9B,WAAY,WAAYzB,MAAMO,KAAKP,KAAMoI,EAAOvG,EAAOwO,GAC7I,GAAIxO,EAAM2E,SAAW,EAAG,OACxB,IAAIwK,EAAQnP,EAAMqE,MAAM,MACxB,IAAI4B,EAAOkJ,EAAMC,QACjB,GAAInJ,EAAKtB,OAAS,EAAG,CACnB,GAAI4B,EAAQpI,KAAKwG,SAAW,GAAKxG,KAAKkR,SAASC,MAAQ,KAAM,CAC3DrD,EAAKvK,EAAM9B,UAAUyC,WAAapD,OAAOqN,eAAe5K,EAAM9B,WAAY,WAAYzB,MAAMO,KAAKP,KAAMuK,KAAKC,IAAIpC,EAAOpI,KAAKwG,SAAW,GAAIsB,EACrJ,KAAe,CACL9H,KAAKkR,SAASC,KAAKf,SAASpQ,KAAKkR,SAASC,KAAK3K,SAAUsB,E,CAE3D9H,KAAK4Q,MAAQ,E,CAEf,IAAIL,EAAQvQ,KACZgR,EAAMhI,QAAO,SAAUZ,EAAOoD,GAC5B+E,EAAQA,EAAMrK,MAAMkC,EAAO,MAC3BmI,EAAMH,SAAS,EAAG5E,GAClB,OAAOA,EAAKhF,MACpB,GAAS4B,EAAQN,EAAKtB,O,GAEjB,CACDiG,IAAK,eACL5K,MAAO,SAAS2O,EAAahL,EAAM4L,GACjC,IAAIC,EAAOrR,KAAKkR,SAASG,KACzBvD,EAAKvK,EAAM9B,UAAUyC,WAAapD,OAAOqN,eAAe5K,EAAM9B,WAAY,eAAgBzB,MAAMO,KAAKP,KAAMwF,EAAM4L,GACjH,GAAIC,aAAgBzC,EAAQ1L,QAAS,CACnCmO,EAAKC,Q,CAEPtR,KAAK4Q,MAAQ,E,GAEd,CACDnE,IAAK,SACL5K,MAAO,SAAS2E,IACd,GAAIxG,KAAK4Q,MAAMpK,QAAU,KAAM,CAC7BxG,KAAK4Q,MAAMpK,OAASsH,EAAKvK,EAAM9B,UAAUyC,WAAapD,OAAOqN,eAAe5K,EAAM9B,WAAY,SAAUzB,MAAMO,KAAKP,MAAQyP,C,CAE7H,OAAOzP,KAAK4Q,MAAMpK,M,GAEnB,CACDiG,IAAK,eACL5K,MAAO,SAAS0P,EAAaxI,EAAQqI,GACnCtD,EAAKvK,EAAM9B,UAAUyC,WAAapD,OAAOqN,eAAe5K,EAAM9B,WAAY,eAAgBzB,MAAMO,KAAKP,KAAM+I,EAAQqI,GACnHpR,KAAK4Q,MAAQ,E,GAEd,CACDnE,IAAK,WACL5K,MAAO,SAAS2P,EAASC,GACvB3D,EAAKvK,EAAM9B,UAAUyC,WAAapD,OAAOqN,eAAe5K,EAAM9B,WAAY,WAAYzB,MAAMO,KAAKP,KAAMyR,GACvGzR,KAAK4Q,MAAQ,E,GAEd,CACDnE,IAAK,OACL5K,MAAO,SAAS6P,EAAKtJ,GACnB,OAAO0F,EAAKvK,EAAM9B,UAAUyC,WAAapD,OAAOqN,eAAe5K,EAAM9B,WAAY,OAAQzB,MAAMO,KAAKP,KAAMoI,EAAO,K,GAElH,CACDqE,IAAK,cACL5K,MAAO,SAAS8P,EAAYC,GAC1B9D,EAAKvK,EAAM9B,UAAUyC,WAAapD,OAAOqN,eAAe5K,EAAM9B,WAAY,cAAezB,MAAMO,KAAKP,KAAM4R,GAC1G5R,KAAK4Q,MAAQ,E,GAEd,CACDnE,IAAK,QACL5K,MAAO,SAASqE,EAAMkC,GACpB,IAAIyJ,EAAQtL,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAK,MAEhF,GAAIsL,IAAUzJ,IAAU,GAAKA,GAASpI,KAAKwG,SAAWiJ,GAAiB,CACrE,IAAIvC,EAAQlN,KAAKkN,QACjB,GAAI9E,IAAU,EAAG,CACfpI,KAAKkO,OAAOsC,aAAatD,EAAOlN,MAChC,OAAOA,IACjB,KAAe,CACLA,KAAKkO,OAAOsC,aAAatD,EAAOlN,KAAK4J,MACrC,OAAOsD,C,CAEjB,KAAa,CACL,IAAItD,EAAOkE,EAAKvK,EAAM9B,UAAUyC,WAAapD,OAAOqN,eAAe5K,EAAM9B,WAAY,QAASzB,MAAMO,KAAKP,KAAMoI,EAAOyJ,GACtH7R,KAAK4Q,MAAQ,GACb,OAAOhH,C,MAKb,OAAOrG,CACT,CAnIY,CAmIVmL,EAAYxL,QAAQK,OAEtBA,EAAMoD,SAAW,QACjBpD,EAAM4C,QAAU,IAChB5C,EAAMuO,aAAe,QACrBvO,EAAMwO,gBAAkB,CAACjD,EAAS5L,QAASwL,EAAYxL,QAAQG,MAAO2L,EAAO9L,SAE7E,SAASmK,EAAc7H,GACrB,IAAIsK,EAAUvJ,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAK,GAElF,GAAIf,GAAQ,KAAM,OAAOsK,EACzB,UAAWtK,EAAKsK,UAAY,WAAY,CACtCA,GAAU,EAAIzB,EAASnL,SAAS4M,EAAStK,EAAKsK,U,CAEhD,GAAItK,EAAK0I,QAAU,MAAQ1I,EAAK0I,OAAOvH,UAAY,UAAYnB,EAAK0I,OAAO8D,QAAQtM,QAAUF,EAAKwM,QAAQtM,MAAO,CAC/G,OAAOoK,C,CAET,OAAOzC,EAAc7H,EAAK0I,OAAQ4B,E,CAGpChQ,EAAQuN,cAAgBA,EACxBvN,EAAQsN,WAAaA,EACrBtN,EAAQoD,QAAUK,CAEX,EAEP,SAAgB1D,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAET/B,EAAQoD,QAAUpD,EAAQmS,SAAWnS,EAAQoS,aAAe5E,UAE5D,IAAI6E,SAAiBC,SAAW,mBAAqBA,OAAO3I,WAAa,SAAW,SAAU6C,GAAO,cAAcA,CAAI,EAAK,SAAUA,GAAO,OAAOA,UAAc8F,SAAW,YAAc9F,EAAIhI,cAAgB8N,QAAU9F,IAAQ8F,OAAO3Q,UAAY,gBAAkB6K,CAAI,EAE1Q,IAAI+F,EAAiB,WAAc,SAASC,EAAclG,EAAK/L,GAAK,IAAIkS,EAAO,GAAI,IAAIC,EAAK,KAAM,IAAIC,EAAK,MAAO,IAAIC,EAAKpF,UAAW,IAAM,IAAK,IAAIhH,EAAK8F,EAAIgG,OAAO3I,YAAakJ,IAAMH,GAAMG,EAAKrM,EAAGsD,QAAQgJ,MAAOJ,EAAK,KAAM,CAAED,EAAKtK,KAAK0K,EAAG9Q,OAAQ,GAAIxB,GAAKkS,EAAK/L,SAAWnG,EAAG,KAAM,CAAE,CAAG,MAAOwS,GAAOJ,EAAK,KAAMC,EAAKG,CAAI,CAAE,QAAW,IAAM,IAAKL,GAAMlM,EAAG,UAAWA,EAAG,WAAY,CAAE,QAAW,GAAImM,EAAI,MAAMC,CAAG,CAAE,CAAG,OAAOH,CAAK,CAAG,OAAO,SAAUnG,EAAK/L,GAAK,GAAI8D,MAAM4C,QAAQqF,GAAM,CAAE,OAAOA,CAAI,MAAQ,GAAIgG,OAAO3I,YAAY3I,OAAOsL,GAAM,CAAE,OAAOkG,EAAclG,EAAK/L,EAAG,KAAQ,CAAE,MAAM,IAAI8O,UAAU,uDAAwD,CAAE,CAAG,CAA9nB,GAErB,IAAI5B,EAAe,WAAc,SAASC,EAAiBzE,EAAQ0E,GAAS,IAAK,IAAIpN,EAAI,EAAGA,EAAIoN,EAAMjH,OAAQnG,IAAK,CAAE,IAAIqN,EAAaD,EAAMpN,GAAIqN,EAAWzM,WAAayM,EAAWzM,YAAc,MAAOyM,EAAW1M,aAAe,KAAM,GAAI,UAAW0M,EAAYA,EAAWb,SAAW,KAAM/L,OAAOC,eAAegI,EAAQ2E,EAAWjB,IAAKiB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAe,GAAID,EAAYJ,EAAiBG,EAAYlM,UAAWmM,GAAa,GAAIC,EAAaL,EAAiBG,EAAaE,GAAc,OAAOF,CAAY,CAAG,CAA5hB,GAEnBxN,EAAoB,IAEpB,IAAIoO,EAAcpO,EAAoB,GAEtC,IAAIqO,EAAeF,EAAuBC,GAE1C,IAAIuE,EAAU3S,EAAoB,IAElC,IAAI4S,EAAWzE,EAAuBwE,GAEtC,IAAIE,EAAY7S,EAAoB,GAEpC,IAAI8S,EAAY3E,EAAuB0E,GAEvC,IAAIE,EAAU/S,EAAoB,GAElC,IAAIgT,EAAW7E,EAAuB4E,GAEtC,IAAIzE,EAAatO,EAAoB,GAErC,IAAIuO,EAAcJ,EAAuBG,GAEzC,IAAI2E,EAAajT,EAAoB,IAErC,IAAIkT,EAAc/E,EAAuB8E,GAEzC,IAAIhF,EAAUjO,EAAoB,GAElC,IAAIkO,EAAWC,EAAuBF,GAEtC,IAAIkF,EAAUnT,EAAoB,IAElC,IAAIoT,EAAWjF,EAAuBgF,GAEtC,IAAIE,EAASrT,EAAoB,IAEjC,IAAIsT,EAAUnF,EAAuBkF,GAErC,SAASlF,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,SAASoH,EAAgBpH,EAAKG,EAAK5K,GAAS,GAAI4K,KAAOH,EAAK,CAAExL,OAAOC,eAAeuL,EAAKG,EAAK,CAAE5K,MAAOA,EAAOZ,WAAY,KAAMD,aAAc,KAAM6L,SAAU,MAAQ,KAAQ,CAAEP,EAAIG,GAAO5K,CAAM,CAAG,OAAOyK,CAAI,CAE/M,SAAS2C,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,IAAIwE,GAAQ,EAAIJ,EAASrQ,SAAS,SAElC,IAAI0Q,EAAQ,WACVrG,EAAaqG,EAAO,KAAM,CAAC,CACzBnH,IAAK,QACL5K,MAAO,SAAS8R,EAAME,GACpB,GAAIA,IAAU,KAAM,CAClBA,EAAQ,K,CAEVN,EAASrQ,QAAQ4Q,MAAMD,E,GAExB,CACDpH,IAAK,OACL5K,MAAO,SAASiB,EAAKsC,GACnB,OAAOA,EAAK2O,SAAWrF,EAAYxL,QAAQJ,KAAKsC,E,GAEjD,CACDqH,IAAK,SACL5K,MAAO,SAASmS,EAAQrT,GACtB,GAAIX,KAAKiU,QAAQtT,IAAS,KAAM,CAC9BgT,EAAMO,MAAM,iBAAmBvT,EAAO,oC,CAExC,OAAOX,KAAKiU,QAAQtT,E,GAErB,CACD8L,IAAK,WACL5K,MAAO,SAASmB,EAAS0O,EAAM3I,GAC7B,IAAIrE,EAAQ1E,KAEZ,IAAImU,EAAY5N,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAK,MAEpF,UAAWmL,IAAS,SAAU,CAC5B,IAAI/Q,EAAO+Q,EAAK9K,UAAY8K,EAAK/K,SACjC,UAAWhG,IAAS,SAAU,CAE5BX,KAAKgD,SAAS,WAAarC,EAAM+Q,EAAM3I,EACjD,KAAe,CACLjI,OAAOkH,KAAK0J,GAAMxK,SAAQ,SAAUuF,GAClC/H,EAAM1B,SAASyJ,EAAKiF,EAAKjF,GAAM1D,EAC3C,G,CAEA,KAAa,CACL,GAAI/I,KAAKiU,QAAQvC,IAAS,OAASyC,EAAW,CAC5CR,EAAMS,KAAK,eAAiB1C,EAAO,QAAS3I,E,CAE9C/I,KAAKiU,QAAQvC,GAAQ3I,EACrB,IAAK2I,EAAK2C,WAAW,WAAa3C,EAAK2C,WAAW,cAAgBtL,EAAOpC,WAAa,WAAY,CAChG+H,EAAYxL,QAAQF,SAAS+F,EACvC,MAAe,GAAI2I,EAAK2C,WAAW,mBAAqBtL,EAAO/F,WAAa,WAAY,CAC9E+F,EAAO/F,U,OAMf,SAAS4Q,EAAMU,GACb,IAAI3D,EAAS3Q,KAEb,IAAI2M,EAAUpG,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAK,GAElF0I,EAAgBjP,KAAM4T,GAEtB5T,KAAK2M,QAAUuF,EAAaoC,EAAW3H,GACvC3M,KAAKsU,UAAYtU,KAAK2M,QAAQ2H,UAC9B,GAAItU,KAAKsU,WAAa,KAAM,CAC1B,OAAOX,EAAMO,MAAM,0BAA2BI,E,CAEhD,GAAItU,KAAK2M,QAAQgH,MAAO,CACtBC,EAAMD,MAAM3T,KAAK2M,QAAQgH,M,CAE3B,IAAIY,EAAOvU,KAAKsU,UAAUE,UAAUC,OACpCzU,KAAKsU,UAAUI,UAAUC,IAAI,gBAC7B3U,KAAKsU,UAAUE,UAAY,GAC3BxU,KAAKsU,UAAUP,QAAU/T,KACzBA,KAAKL,KAAOK,KAAK4U,aAAa,aAC9B5U,KAAKL,KAAK+U,UAAUC,IAAI,YACxB3U,KAAKL,KAAKkV,aAAa,aAAc,OACrC7U,KAAK8U,mBAAqB9U,KAAK2M,QAAQmI,oBAAsB9U,KAAKL,KAClEK,KAAK+U,QAAU,IAAI9B,EAAU/P,QAC7BlD,KAAKgV,OAAStG,EAAYxL,QAAQL,OAAO7C,KAAKL,KAAM,CAClDoV,QAAS/U,KAAK+U,QACdE,UAAWjV,KAAK2M,QAAQmD,UAE1B9P,KAAKkV,OAAS,IAAInC,EAAS7P,QAAQlD,KAAKgV,QACxChV,KAAKmV,UAAY,IAAI9B,EAAYnQ,QAAQlD,KAAKgV,OAAQhV,KAAK+U,SAC3D/U,KAAKoV,MAAQ,IAAIpV,KAAK2M,QAAQyI,MAAMpV,KAAMA,KAAK2M,SAC/C3M,KAAKqV,SAAWrV,KAAKoV,MAAME,UAAU,YACrCtV,KAAKuV,UAAYvV,KAAKoV,MAAME,UAAU,aACtCtV,KAAKwV,QAAUxV,KAAKoV,MAAME,UAAU,WACpCtV,KAAKoV,MAAMK,OACXzV,KAAK+U,QAAQW,GAAGzC,EAAU/P,QAAQyS,OAAOC,eAAe,SAAUC,GAChE,GAAIA,IAAS5C,EAAU/P,QAAQyS,OAAOG,YAAa,CACjDnF,EAAOhR,KAAK+U,UAAUqB,OAAO,WAAYpF,EAAOuE,OAAOc,U,CAE/D,IACIhW,KAAK+U,QAAQW,GAAGzC,EAAU/P,QAAQyS,OAAOM,eAAe,SAAUC,EAAQC,GACxE,IAAIC,EAAQzF,EAAOwE,UAAUkB,UAC7B,IAAIjO,EAAQgO,GAASA,EAAM5P,SAAW,EAAI4P,EAAMhO,MAAQkF,UACxDgJ,EAAO/V,KAAKoQ,GAAQ,WAClB,OAAOA,EAAOuE,OAAOqB,OAAO,KAAMJ,EAAW/N,E,GAC5C8N,EACT,IACI,IAAIM,EAAWxW,KAAKuV,UAAUkB,QAAQ,yDAA2DlC,EAAO,qBACxGvU,KAAK0W,YAAYF,GACjBxW,KAAKwV,QAAQmB,QACb,GAAI3W,KAAK2M,QAAQiK,YAAa,CAC5B5W,KAAKL,KAAKkV,aAAa,mBAAoB7U,KAAK2M,QAAQiK,Y,CAE1D,GAAI5W,KAAK2M,QAAQkK,SAAU,CACzB7W,KAAK8W,S,EAITvJ,EAAaqG,EAAO,CAAC,CACnBnH,IAAK,eACL5K,MAAO,SAAS+S,EAAaN,GAC3B,IAAIyC,EAAUxQ,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAK,KAElF,UAAW+N,IAAc,SAAU,CACjC,IAAIxN,EAAYwN,EAChBA,EAAY0C,SAASC,cAAc,OACnC3C,EAAUI,UAAUC,IAAI7N,E,CAE1B9G,KAAKsU,UAAU9D,aAAa8D,EAAWyC,GACvC,OAAOzC,C,GAER,CACD7H,IAAK,OACL5K,MAAO,SAASqV,IACdlX,KAAKmV,UAAUgC,SAAS,K,GAEzB,CACD1K,IAAK,aACL5K,MAAO,SAASuV,EAAWhP,EAAO5B,EAAQ0P,GACxC,IAAImB,EAASrX,KAEb,IAAIsX,EAAYrF,EAAS7J,EAAO5B,EAAQ0P,GAExC,IAAIqB,EAAalF,EAAeiF,EAAW,GAE3ClP,EAAQmP,EAAW,GACnB/Q,EAAS+Q,EAAW,GACpBrB,EAASqB,EAAW,GAEpB,OAAOjB,EAAO/V,KAAKP,MAAM,WACvB,OAAOqX,EAAOnC,OAAOkC,WAAWhP,EAAO5B,E,GACtC0P,EAAQ9N,GAAO,EAAK5B,E,GAExB,CACDiG,IAAK,UACL5K,MAAO,SAASiV,IACd9W,KAAKwX,OAAO,M,GAEb,CACD/K,IAAK,SACL5K,MAAO,SAAS2V,IACd,IAAIC,EAAUlR,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAK,KAElFvG,KAAKgV,OAAOwC,OAAOC,GACnBzX,KAAKsU,UAAUI,UAAUqB,OAAO,eAAgB0B,E,GAEjD,CACDhL,IAAK,QACL5K,MAAO,SAAS6V,IACd,IAAIC,EAAY3X,KAAK8U,mBAAmB6C,UACxC3X,KAAKmV,UAAUuC,QACf1X,KAAK8U,mBAAmB6C,UAAYA,EACpC3X,KAAK4X,gB,GAEN,CACDnL,IAAK,SACL5K,MAAO,SAASmO,EAAOrP,EAAMkB,GAC3B,IAAIgW,EAAS7X,KAEb,IAAIkW,EAAS3P,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAK0M,EAAU/P,QAAQ4U,QAAQC,IAE3G,OAAOzB,EAAO/V,KAAKP,MAAM,WACvB,IAAIoW,EAAQyB,EAAOG,aAAa,MAChC,IAAIC,EAAS,IAAIzJ,EAAatL,QAC9B,GAAIkT,GAAS,KAAM,CACjB,OAAO6B,CACjB,MAAe,GAAIvJ,EAAYxL,QAAQH,MAAMpC,EAAM+N,EAAYxL,QAAQN,MAAMiD,OAAQ,CAC3EoS,EAASJ,EAAO3C,OAAOgD,WAAW9B,EAAMhO,MAAOgO,EAAM5P,OAAQkN,EAAgB,GAAI/S,EAAMkB,GACjG,MAAe,GAAIuU,EAAM5P,SAAW,EAAG,CAC7BqR,EAAO1C,UAAUnF,OAAOrP,EAAMkB,GAC9B,OAAOoW,CACjB,KAAe,CACLA,EAASJ,EAAO3C,OAAOiD,WAAW/B,EAAMhO,MAAOgO,EAAM5P,OAAQkN,EAAgB,GAAI/S,EAAMkB,G,CAEzFgW,EAAOO,aAAahC,EAAOnD,EAAU/P,QAAQ4U,QAAQO,QACrD,OAAOJ,C,GACN/B,E,GAEJ,CACDzJ,IAAK,aACL5K,MAAO,SAASqW,EAAW9P,EAAO5B,EAAQ7F,EAAMkB,EAAOqU,GACrD,IAAIoC,EAAStY,KAEb,IAAI8P,OAAU,EAEd,IAAIyI,EAAatG,EAAS7J,EAAO5B,EAAQ7F,EAAMkB,EAAOqU,GAEtD,IAAIsC,EAAanG,EAAekG,EAAY,GAE5CnQ,EAAQoQ,EAAW,GACnBhS,EAASgS,EAAW,GACpB1I,EAAU0I,EAAW,GACrBtC,EAASsC,EAAW,GAEpB,OAAOlC,EAAO/V,KAAKP,MAAM,WACvB,OAAOsY,EAAOpD,OAAOgD,WAAW9P,EAAO5B,EAAQsJ,EACvD,GAASoG,EAAQ9N,EAAO,E,GAEnB,CACDqE,IAAK,aACL5K,MAAO,SAASsW,EAAW/P,EAAO5B,EAAQ7F,EAAMkB,EAAOqU,GACrD,IAAIuC,EAASzY,KAEb,IAAI8P,OAAU,EAEd,IAAI4I,EAAazG,EAAS7J,EAAO5B,EAAQ7F,EAAMkB,EAAOqU,GAEtD,IAAIyC,EAAatG,EAAeqG,EAAY,GAE5CtQ,EAAQuQ,EAAW,GACnBnS,EAASmS,EAAW,GACpB7I,EAAU6I,EAAW,GACrBzC,EAASyC,EAAW,GAEpB,OAAOrC,EAAO/V,KAAKP,MAAM,WACvB,OAAOyY,EAAOvD,OAAOiD,WAAW/P,EAAO5B,EAAQsJ,EACvD,GAASoG,EAAQ9N,EAAO,E,GAEnB,CACDqE,IAAK,YACL5K,MAAO,SAAS+W,EAAUxQ,GACxB,IAAI5B,EAASD,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAK,EAEjF,IAAIsS,OAAS,EACb,UAAWzQ,IAAU,SAAU,CAC7ByQ,EAAS7Y,KAAKmV,UAAUyD,UAAUxQ,EAAO5B,EACjD,KAAa,CACLqS,EAAS7Y,KAAKmV,UAAUyD,UAAUxQ,EAAMA,MAAOA,EAAM5B,O,CAEvD,IAAIsS,EAAkB9Y,KAAKsU,UAAUyE,wBACrC,MAAO,CACLC,OAAQH,EAAOG,OAASF,EAAgBG,IACxCC,OAAQL,EAAOK,OACfC,KAAMN,EAAOM,KAAOL,EAAgBK,KACpCC,MAAOP,EAAOO,MAAQN,EAAgBK,KACtCF,IAAKJ,EAAOI,IAAMH,EAAgBG,IAClCI,MAAOR,EAAOQ,M,GAGjB,CACD5M,IAAK,cACL5K,MAAO,SAASyX,IACd,IAAIlR,EAAQ7B,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAK,EAChF,IAAIC,EAASD,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAKvG,KAAKuZ,YAAcnR,EAEpG,IAAIoR,EAAavH,EAAS7J,EAAO5B,GAEjC,IAAIiT,EAAapH,EAAemH,EAAY,GAE5CpR,EAAQqR,EAAW,GACnBjT,EAASiT,EAAW,GAEpB,OAAOzZ,KAAKkV,OAAOoE,YAAYlR,EAAO5B,E,GAEvC,CACDiG,IAAK,YACL5K,MAAO,SAAS6X,IACd,IAAItR,EAAQ7B,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAKvG,KAAKgY,aAAa,MAClG,IAAIxR,EAASD,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAK,EAEjF,UAAW6B,IAAU,SAAU,CAC7B,OAAOpI,KAAKkV,OAAOwE,UAAUtR,EAAO5B,EAC5C,KAAa,CACL,OAAOxG,KAAKkV,OAAOwE,UAAUtR,EAAMA,MAAOA,EAAM5B,O,IAGnD,CACDiG,IAAK,WACL5K,MAAO,SAAS8X,EAASnU,GACvB,OAAOA,EAAKqG,OAAO7L,KAAKgV,O,GAEzB,CACDvI,IAAK,YACL5K,MAAO,SAAS0X,IACd,OAAOvZ,KAAKgV,OAAOxO,Q,GAEpB,CACDiG,IAAK,UACL5K,MAAO,SAAS+X,EAAQxR,GACtB,OAAOpI,KAAKgV,OAAOlE,KAAK1I,E,GAEzB,CACDqE,IAAK,UACL5K,MAAO,SAASgY,EAAQzR,GACtB,OAAOpI,KAAKgV,OAAOxJ,KAAKpD,E,GAEzB,CACDqE,IAAK,WACL5K,MAAO,SAASiY,IACd,IAAI1R,EAAQ7B,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAK,EAChF,IAAIC,EAASD,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAKwT,OAAOC,UAExF,UAAW5R,IAAU,SAAU,CAC7B,OAAOpI,KAAKgV,OAAOhE,MAAM5I,EAAMA,MAAOA,EAAM5B,OACpD,KAAa,CACL,OAAOxG,KAAKgV,OAAOhE,MAAM5I,EAAO5B,E,IAGnC,CACDiG,IAAK,YACL5K,MAAO,SAASoY,EAAUtZ,GACxB,OAAOX,KAAKoV,MAAMnV,QAAQU,E,GAE3B,CACD8L,IAAK,eACL5K,MAAO,SAASmW,IACd,IAAIN,EAAQnR,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAK,MAEhF,GAAImR,EAAO1X,KAAK0X,QAChB1X,KAAKuW,SACL,OAAOvW,KAAKmV,UAAU+E,WAAW,E,GAElC,CACDzN,IAAK,UACL5K,MAAO,SAASsY,IACd,IAAI/R,EAAQ7B,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAK,EAChF,IAAIC,EAASD,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAKvG,KAAKuZ,YAAcnR,EAEpG,IAAIgS,EAAanI,EAAS7J,EAAO5B,GAEjC,IAAI6T,EAAchI,EAAe+H,EAAY,GAE7ChS,EAAQiS,EAAY,GACpB7T,EAAS6T,EAAY,GAErB,OAAOra,KAAKkV,OAAOiF,QAAQ/R,EAAO5B,E,GAEnC,CACDiG,IAAK,WACL5K,MAAO,SAASyY,IACd,OAAOta,KAAKmV,UAAUmF,U,GAEvB,CACD7N,IAAK,cACL5K,MAAO,SAAS0Y,EAAYnS,EAAOoS,EAAO3Y,GACxC,IAAI4Y,EAASza,KAEb,IAAIkW,EAAS3P,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAKqN,EAAMkE,QAAQC,IAE/F,OAAOzB,EAAO/V,KAAKP,MAAM,WACvB,OAAOya,EAAOvF,OAAOqF,YAAYnS,EAAOoS,EAAO3Y,EACvD,GAASqU,EAAQ9N,E,GAEZ,CACDqE,IAAK,aACL5K,MAAO,SAAS6Y,EAAWtS,EAAON,EAAMnH,EAAMkB,EAAOqU,GACnD,IAAIyE,EAAS3a,KAEb,IAAI8P,OAAU,EAEd,IAAI8K,EAAc3I,EAAS7J,EAAO,EAAGzH,EAAMkB,EAAOqU,GAElD,IAAI2E,EAAcxI,EAAeuI,EAAa,GAE9CxS,EAAQyS,EAAY,GACpB/K,EAAU+K,EAAY,GACtB3E,EAAS2E,EAAY,GAErB,OAAOvE,EAAO/V,KAAKP,MAAM,WACvB,OAAO2a,EAAOzF,OAAOwF,WAAWtS,EAAON,EAAMgI,E,GAC5CoG,EAAQ9N,EAAON,EAAKtB,O,GAExB,CACDiG,IAAK,YACL5K,MAAO,SAASiZ,IACd,OAAQ9a,KAAKsU,UAAUI,UAAUqG,SAAS,c,GAE3C,CACDtO,IAAK,MACL5K,MAAO,SAASmZ,IACd,OAAOhb,KAAK+U,QAAQiG,IAAIrL,MAAM3P,KAAK+U,QAASxO,U,GAE7C,CACDkG,IAAK,KACL5K,MAAO,SAAS6T,IACd,OAAO1V,KAAK+U,QAAQW,GAAG/F,MAAM3P,KAAK+U,QAASxO,U,GAE5C,CACDkG,IAAK,OACL5K,MAAO,SAASoZ,IACd,OAAOjb,KAAK+U,QAAQkG,KAAKtL,MAAM3P,KAAK+U,QAASxO,U,GAE9C,CACDkG,IAAK,YACL5K,MAAO,SAASqZ,EAAU9S,EAAOmM,EAAM2B,GACrClW,KAAKuV,UAAU4F,qBAAqB/S,EAAOmM,EAAM2B,E,GAElD,CACDzJ,IAAK,eACL5K,MAAO,SAASuZ,EAAahT,EAAO5B,EAAQ0P,GAC1C,IAAImF,EAASrb,KAEb,IAAIsb,EAAcrJ,EAAS7J,EAAO5B,EAAQ0P,GAE1C,IAAIqF,EAAclJ,EAAeiJ,EAAa,GAE9ClT,EAAQmT,EAAY,GACpB/U,EAAS+U,EAAY,GACrBrF,EAASqF,EAAY,GAErB,OAAOjF,EAAO/V,KAAKP,MAAM,WACvB,OAAOqb,EAAOnG,OAAOkG,aAAahT,EAAO5B,EACjD,GAAS0P,EAAQ9N,E,GAEZ,CACDqE,IAAK,iBACL5K,MAAO,SAAS+V,IACd5X,KAAKmV,UAAUyC,eAAe5X,KAAK8U,mB,GAEpC,CACDrI,IAAK,cACL5K,MAAO,SAAS6U,EAAYpM,GAC1B,IAAIkR,EAAUxb,KAEd,IAAIkW,EAAS3P,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAK0M,EAAU/P,QAAQ4U,QAAQC,IAE3G,OAAOzB,EAAO/V,KAAKP,MAAM,WACvBsK,EAAQ,IAAIkE,EAAatL,QAAQoH,GACjC,IAAI9D,EAASgV,EAAQjC,YACrB,IAAIkC,EAAUD,EAAQtG,OAAOkC,WAAW,EAAG5Q,GAC3C,IAAIkV,EAAUF,EAAQtG,OAAOyG,WAAWrR,GACxC,IAAIjC,EAASqT,EAAQ9T,IAAI8T,EAAQ9T,IAAIpB,OAAS,GAC9C,GAAI6B,GAAU,aAAeA,EAAOR,SAAW,UAAYQ,EAAOR,OAAOQ,EAAOR,OAAOrB,OAAS,KAAO,KAAM,CAC3GgV,EAAQtG,OAAOkC,WAAWoE,EAAQjC,YAAc,EAAG,GACnDmC,EAAQxT,OAAO,E,CAEjB,IAAI0T,EAAMH,EAAQ5R,QAAQ6R,GAC1B,OAAOE,C,GACN1F,E,GAEJ,CACDzJ,IAAK,eACL5K,MAAO,SAASuW,EAAahQ,EAAO5B,EAAQ0P,GAC1C,GAAI9N,GAAS,KAAM,CACjBpI,KAAKmV,UAAUgC,SAAS,KAAM3Q,GAAUoN,EAAMkE,QAAQC,IAC9D,KAAa,CACL,IAAI8D,EAAc5J,EAAS7J,EAAO5B,EAAQ0P,GAE1C,IAAI4F,EAAczJ,EAAewJ,EAAa,GAE9CzT,EAAQ0T,EAAY,GACpBtV,EAASsV,EAAY,GACrB5F,EAAS4F,EAAY,GAErB9b,KAAKmV,UAAUgC,SAAS,IAAI/D,EAAW2I,MAAM3T,EAAO5B,GAAS0P,GAC7D,GAAIA,IAAWjD,EAAU/P,QAAQ4U,QAAQO,OAAQ,CAC/CrY,KAAKmV,UAAUyC,eAAe5X,KAAK8U,mB,KAIxC,CACDrI,IAAK,UACL5K,MAAO,SAASma,EAAQlU,GACtB,IAAIoO,EAAS3P,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAK0M,EAAU/P,QAAQ4U,QAAQC,IAE3G,IAAIzN,GAAQ,IAAIkE,EAAatL,SAAU2E,OAAOC,GAC9C,OAAO9H,KAAK0W,YAAYpM,EAAO4L,E,GAEhC,CACDzJ,IAAK,SACL5K,MAAO,SAAS0U,IACd,IAAIL,EAAS3P,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAK0M,EAAU/P,QAAQ4U,QAAQmE,KAE3G,IAAIhE,EAASjY,KAAKgV,OAAOuB,OAAOL,GAChClW,KAAKmV,UAAUoB,OAAOL,GACtB,OAAO+B,C,GAER,CACDxL,IAAK,iBACL5K,MAAO,SAASqa,EAAe5R,GAC7B,IAAI6R,EAAUnc,KAEd,IAAIkW,EAAS3P,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAK0M,EAAU/P,QAAQ4U,QAAQC,IAE3G,OAAOzB,EAAO/V,KAAKP,MAAM,WACvBsK,EAAQ,IAAIkE,EAAatL,QAAQoH,GACjC,OAAO6R,EAAQjH,OAAOyG,WAAWrR,EAAO4L,EAChD,GAASA,EAAQ,K,KAIf,OAAOtC,CACT,CA/eY,GAifZA,EAAMwI,SAAW,CACfvD,OAAQ,KACR/I,QAAS,KACT7P,QAAS,GACT2W,YAAa,GACbC,SAAU,MACV/B,mBAAoB,KACpBuH,OAAQ,KACRjH,MAAO,WAETxB,EAAM+B,OAAS1C,EAAU/P,QAAQyS,OACjC/B,EAAMkE,QAAU7E,EAAU/P,QAAQ4U,QAElClE,EAAM0I,QAA2B,QAEjC1I,EAAMK,QAAU,CACd3J,MAASkE,EAAatL,QACtBqZ,UAAa7N,EAAYxL,QACzB,cAAeiQ,EAASjQ,QACxB,aAAcuQ,EAAQvQ,SAGxB,SAASgP,EAAaoC,EAAWkI,GAC/BA,GAAa,EAAInO,EAASnL,SAAS,KAAM,CACvCoR,UAAWA,EACXrU,QAAS,CACPsV,UAAW,KACXF,SAAU,KACVG,QAAS,OAEVgH,GACH,IAAKA,EAAWpH,OAASoH,EAAWpH,QAAUxB,EAAMwI,SAAShH,MAAO,CAClEoH,EAAWpH,MAAQ3B,EAAQvQ,OAC/B,KAAS,CACLsZ,EAAWpH,MAAQxB,EAAM6I,OAAO,UAAYD,EAAWpH,OACvD,GAAIoH,EAAWpH,OAAS,KAAM,CAC5B,MAAM,IAAIzQ,MAAM,iBAAmB6X,EAAWpH,MAAQ,yB,EAG1D,IAAIsH,GAAc,EAAIrO,EAASnL,SAAS,KAAM,GAAIsZ,EAAWpH,MAAMgH,UACnE,CAACM,EAAaF,GAAYtV,SAAQ,SAAUyV,GAC1CA,EAAO1c,QAAU0c,EAAO1c,SAAW,GACnCa,OAAOkH,KAAK2U,EAAO1c,SAASiH,SAAQ,SAAUrH,GAC5C,GAAI8c,EAAO1c,QAAQJ,KAAY,KAAM,CACnC8c,EAAO1c,QAAQJ,GAAU,E,CAEjC,GACA,IACE,IAAI+c,EAAc9b,OAAOkH,KAAK0U,EAAYzc,SAAS2K,OAAO9J,OAAOkH,KAAKwU,EAAWvc,UACjF,IAAI4c,EAAeD,EAAY5T,QAAO,SAAU2T,EAAQhc,GACtD,IAAImc,EAAclJ,EAAM6I,OAAO,WAAa9b,GAC5C,GAAImc,GAAe,KAAM,CACvBnJ,EAAMO,MAAM,eAAiBvT,EAAO,2CAC1C,KAAW,CACLgc,EAAOhc,GAAQmc,EAAYV,UAAY,E,CAEzC,OAAOO,C,GACN,IAEH,GAAIH,EAAWvc,SAAW,MAAQuc,EAAWvc,QAAQ8c,SAAWP,EAAWvc,QAAQ8c,QAAQzY,cAAgBxD,OAAQ,CACjH0b,EAAWvc,QAAQ8c,QAAU,CAC3BzI,UAAWkI,EAAWvc,QAAQ8c,Q,CAGlCP,GAAa,EAAInO,EAASnL,SAAS,KAAM,GAAI0Q,EAAMwI,SAAU,CAAEnc,QAAS4c,GAAgBH,EAAaF,GACrG,CAAC,SAAU,YAAa,sBAAsBtV,SAAQ,SAAUuF,GAC9D,UAAW+P,EAAW/P,KAAS,SAAU,CACvC+P,EAAW/P,GAAOuK,SAASgG,cAAcR,EAAW/P,G,CAE1D,IACE+P,EAAWvc,QAAUa,OAAOkH,KAAKwU,EAAWvc,SAAS+I,QAAO,SAAU2T,EAAQhc,GAC5E,GAAI6b,EAAWvc,QAAQU,GAAO,CAC5Bgc,EAAOhc,GAAQ6b,EAAWvc,QAAQU,E,CAEpC,OAAOgc,C,GACN,IACH,OAAOH,C,CAKT,SAASlG,EAAO2G,EAAU/G,EAAQ9N,EAAO6I,GACvC,GAAIjR,KAAK2M,QAAQ0P,SAAWrc,KAAK8a,aAAe5E,IAAWjD,EAAU/P,QAAQ4U,QAAQmE,KAAM,CACzF,OAAO,IAAIzN,EAAatL,O,CAE1B,IAAIkT,EAAQhO,GAAS,KAAO,KAAOpI,KAAKgY,eACxC,IAAIkF,EAAWld,KAAKkV,OAAO5K,MAC3B,IAAI2N,EAASgF,IACb,GAAI7G,GAAS,KAAM,CACjB,GAAIhO,IAAU,KAAMA,EAAQgO,EAAMhO,MAClC,GAAI6I,GAAS,KAAM,CACjBmF,EAAQ+G,EAAW/G,EAAO6B,EAAQ/B,EACxC,MAAW,GAAIjF,IAAU,EAAG,CACtBmF,EAAQ+G,EAAW/G,EAAOhO,EAAO6I,EAAOiF,E,CAE1ClW,KAAKoY,aAAahC,EAAOnD,EAAU/P,QAAQ4U,QAAQO,O,CAErD,GAAIJ,EAAOzR,SAAW,EAAG,CACvB,IAAI4W,EAEJ,IAAIC,EAAO,CAACpK,EAAU/P,QAAQyS,OAAOG,YAAamC,EAAQiF,EAAUhH,IACnEkH,EAAWpd,KAAK+U,SAASuI,KAAK3N,MAAMyN,EAAU,CAACnK,EAAU/P,QAAQyS,OAAOC,eAAehL,OAAOyS,IAC/F,GAAInH,IAAWjD,EAAU/P,QAAQ4U,QAAQO,OAAQ,CAC/C,IAAIkF,GAEHA,EAAYvd,KAAK+U,SAASuI,KAAK3N,MAAM4N,EAAWF,E,EAGrD,OAAOpF,C,CAGT,SAAShG,EAAS7J,EAAO5B,EAAQ7F,EAAMkB,EAAOqU,GAC5C,IAAIpG,EAAU,GACd,UAAW1H,EAAMA,QAAU,iBAAmBA,EAAM5B,SAAW,SAAU,CAEvE,UAAWA,IAAW,SAAU,CAC9B0P,EAASrU,EAAOA,EAAQlB,EAAMA,EAAO6F,EAAQA,EAAS4B,EAAM5B,OAAQ4B,EAAQA,EAAMA,KACxF,KAAW,CACL5B,EAAS4B,EAAM5B,OAAQ4B,EAAQA,EAAMA,K,CAE3C,MAAS,UAAW5B,IAAW,SAAU,CACrC0P,EAASrU,EAAOA,EAAQlB,EAAMA,EAAO6F,EAAQA,EAAS,C,CAGxD,WAAY7F,IAAS,YAAc,YAAcwR,EAAQxR,MAAW,SAAU,CAC5EmP,EAAUnP,EACVuV,EAASrU,CACb,MAAS,UAAWlB,IAAS,SAAU,CACnC,GAAIkB,GAAS,KAAM,CACjBiO,EAAQnP,GAAQkB,CACtB,KAAW,CACLqU,EAASvV,C,EAIbuV,EAASA,GAAUjD,EAAU/P,QAAQ4U,QAAQC,IAC7C,MAAO,CAAC3P,EAAO5B,EAAQsJ,EAASoG,E,CAGlC,SAASiH,EAAW/G,EAAOhO,EAAO5B,EAAQ0P,GACxC,GAAIE,GAAS,KAAM,OAAO,KAC1B,IAAI/M,OAAQ,EACRC,OAAM,EACV,GAAIlB,aAAiBoG,EAAatL,QAAS,CACzC,IAAIsa,EAAO,CAACpH,EAAMhO,MAAOgO,EAAMhO,MAAQgO,EAAM5P,QAAQC,KAAI,SAAUgX,GACjE,OAAOrV,EAAMwD,kBAAkB6R,EAAKvH,IAAWjD,EAAU/P,QAAQ4U,QAAQmE,KAC/E,IAEI,IAAIyB,EAAQrL,EAAemL,EAAM,GAEjCnU,EAAQqU,EAAM,GACdpU,EAAMoU,EAAM,EAChB,KAAS,CACL,IAAIC,EAAQ,CAACvH,EAAMhO,MAAOgO,EAAMhO,MAAQgO,EAAM5P,QAAQC,KAAI,SAAUgX,GAClE,GAAIA,EAAMrV,GAASqV,IAAQrV,GAAS8N,IAAWjD,EAAU/P,QAAQ4U,QAAQmE,KAAM,OAAOwB,EACtF,GAAIjX,GAAU,EAAG,CACf,OAAOiX,EAAMjX,CACrB,KAAa,CACL,OAAO+D,KAAKqT,IAAIxV,EAAOqV,EAAMjX,E,CAErC,IAEI,IAAIqX,EAAQxL,EAAesL,EAAO,GAElCtU,EAAQwU,EAAM,GACdvU,EAAMuU,EAAM,E,CAEd,OAAO,IAAIzK,EAAW2I,MAAM1S,EAAOC,EAAMD,E,CAG3CvJ,EAAQoS,aAAeA,EACvBpS,EAAQmS,SAAWA,EACnBnS,EAAQoD,QAAU0Q,CAEX,EAEP,SAAgB/T,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAGT,IAAI0L,EAAe,WAAc,SAASC,EAAiBzE,EAAQ0E,GAAS,IAAK,IAAIpN,EAAI,EAAGA,EAAIoN,EAAMjH,OAAQnG,IAAK,CAAE,IAAIqN,EAAaD,EAAMpN,GAAIqN,EAAWzM,WAAayM,EAAWzM,YAAc,MAAOyM,EAAW1M,aAAe,KAAM,GAAI,UAAW0M,EAAYA,EAAWb,SAAW,KAAM/L,OAAOC,eAAegI,EAAQ2E,EAAWjB,IAAKiB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAe,GAAID,EAAYJ,EAAiBG,EAAYlM,UAAWmM,GAAa,GAAIC,EAAaL,EAAiBG,EAAaE,GAAc,OAAOF,CAAY,CAAG,CAA5hB,GAEnB,IAAIG,EAAO,SAAS5M,EAAIK,EAAQC,EAAUuM,GAAY,GAAIxM,IAAW,KAAMA,EAASyM,SAASvM,UAAW,IAAIwM,EAAOnN,OAAOqL,yBAAyB5K,EAAQC,GAAW,GAAIyM,IAASX,UAAW,CAAE,IAAIY,EAASpN,OAAOqN,eAAe5M,GAAS,GAAI2M,IAAW,KAAM,CAAE,OAAOZ,SAAU,KAAQ,CAAE,OAAOpM,EAAIgN,EAAQ1M,EAAUuM,EAAU,CAAE,MAAQ,GAAI,UAAWE,EAAM,CAAE,OAAOA,EAAKpM,KAAM,KAAQ,CAAE,IAAIjB,EAASqN,EAAK/M,IAAK,GAAIN,IAAW0M,UAAW,CAAE,OAAOA,SAAU,CAAG,OAAO1M,EAAOL,KAAKwN,EAAU,CAAE,EAExe,IAAIgB,EAAQ5O,EAAoB,GAEhC,IAAI6O,EAASV,EAAuBS,GAEpC,IAAIN,EAAatO,EAAoB,GAErC,IAAIuO,EAAcJ,EAAuBG,GAEzC,SAASH,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,SAAS2C,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,SAASC,EAA2BrP,EAAMQ,GAAQ,IAAKR,EAAM,CAAE,MAAM,IAAIsP,eAAe,4DAA6D,CAAG,OAAO9O,WAAgBA,IAAS,iBAAmBA,IAAS,YAAcA,EAAOR,CAAK,CAE9O,SAASuP,EAAUC,EAAUC,GAAc,UAAWA,IAAe,YAAcA,IAAe,KAAM,CAAE,MAAM,IAAIL,UAAU,kEAAoEK,EAAY,CAAGD,EAAS9N,UAAYX,OAAO+B,OAAO2M,GAAcA,EAAW/N,UAAW,CAAE6C,YAAa,CAAEzC,MAAO0N,EAAUtO,WAAY,MAAO4L,SAAU,KAAM7L,aAAc,QAAW,GAAIwO,EAAY1O,OAAOmD,eAAiBnD,OAAOmD,eAAesL,EAAUC,GAAcD,EAASrL,UAAYsL,CAAW,CAE5e,IAAIhM,EAAS,SAAUsa,GACrBxO,EAAU9L,EAAQsa,GAElB,SAASta,IACPyL,EAAgBjP,KAAMwD,GAEtB,OAAO4L,EAA2BpP,MAAOwD,EAAOU,WAAapD,OAAOqN,eAAe3K,IAASmM,MAAM3P,KAAMuG,W,CAG1GgH,EAAa/J,EAAQ,CAAC,CACpBiJ,IAAK,WACL5K,MAAO,SAASsO,EAAS/H,EAAO5B,EAAQ7F,EAAMkB,GAC5C,GAAI2B,EAAOua,QAAQ/d,KAAKgS,QAAQrL,SAAUhG,GAAQ,GAAK+N,EAAYxL,QAAQH,MAAMpC,EAAM+N,EAAYxL,QAAQN,MAAMob,MAAO,CACtH,IAAIxY,EAAOxF,KAAKie,QAAQ7V,EAAO5B,GAC/B,GAAI3E,EAAO,CACT2D,EAAK0Y,KAAKvd,EAAMkB,E,CAE1B,KAAa,CACLiM,EAAKtK,EAAO/B,UAAUyC,WAAapD,OAAOqN,eAAe3K,EAAO/B,WAAY,WAAYzB,MAAMO,KAAKP,KAAMoI,EAAO5B,EAAQ7F,EAAMkB,E,IAGjI,CACD4K,IAAK,WACL5K,MAAO,SAAS2P,EAASC,GACvB3D,EAAKtK,EAAO/B,UAAUyC,WAAapD,OAAOqN,eAAe3K,EAAO/B,WAAY,WAAYzB,MAAMO,KAAKP,KAAMyR,GACzG,GAAIzR,KAAKkO,kBAAkB1K,GAAUA,EAAOua,QAAQ/d,KAAKgS,QAAQrL,SAAU3G,KAAKkO,OAAO8D,QAAQrL,UAAY,EAAG,CAC5G,IAAIuH,EAASlO,KAAKkO,OAAO+P,QAAQje,KAAK6L,SAAU7L,KAAKwG,UACrDxG,KAAKuR,aAAarD,GAClBA,EAAOgQ,KAAKle,K,KAGd,CAAC,CACHyM,IAAK,UACL5K,MAAO,SAASkc,EAAQhe,EAAM+J,GAC5B,IAAIqU,EAAY3a,EAAO4a,MAAM3S,QAAQ1L,GACrC,IAAIse,EAAa7a,EAAO4a,MAAM3S,QAAQ3B,GACtC,GAAIqU,GAAa,GAAKE,GAAc,EAAG,CACrC,OAAOF,EAAYE,CAC3B,MAAa,GAAIte,IAAS+J,EAAO,CACzB,OAAO,CACf,MAAa,GAAI/J,EAAO+J,EAAO,CACvB,OAAO,CACf,KAAa,CACL,OAAO,C,MAKb,OAAOtG,CACT,CAjDa,CAiDXkL,EAAYxL,QAAQM,QAEtBA,EAAOuO,gBAAkB,CAACvO,EAAQkL,EAAYxL,QAAQG,MAAO2L,EAAO9L,SAEpEM,EAAO4a,MAAQ,CAAC,SAAU,SAC1B,YAAa,SAAU,SAAU,OAAQ,SAAU,OAAQ,QAG3Dte,EAAQoD,QAAUM,CAEX,EAEP,SAAgB3D,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAGT,IAAI4M,EAAatO,EAAoB,GAErC,IAAIuO,EAAcJ,EAAuBG,GAEzC,SAASH,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,SAAS2C,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,SAASC,EAA2BrP,EAAMQ,GAAQ,IAAKR,EAAM,CAAE,MAAM,IAAIsP,eAAe,4DAA6D,CAAG,OAAO9O,WAAgBA,IAAS,iBAAmBA,IAAS,YAAcA,EAAOR,CAAK,CAE9O,SAASuP,EAAUC,EAAUC,GAAc,UAAWA,IAAe,YAAcA,IAAe,KAAM,CAAE,MAAM,IAAIL,UAAU,kEAAoEK,EAAY,CAAGD,EAAS9N,UAAYX,OAAO+B,OAAO2M,GAAcA,EAAW/N,UAAW,CAAE6C,YAAa,CAAEzC,MAAO0N,EAAUtO,WAAY,MAAO4L,SAAU,KAAM7L,aAAc,QAAW,GAAIwO,EAAY1O,OAAOmD,eAAiBnD,OAAOmD,eAAesL,EAAUC,GAAcD,EAASrL,UAAYsL,CAAW,CAE5e,IAAI8O,EAAW,SAAUC,GACvBjP,EAAUgP,EAAUC,GAEpB,SAASD,IACPrP,EAAgBjP,KAAMse,GAEtB,OAAOlP,EAA2BpP,MAAOse,EAASpa,WAAapD,OAAOqN,eAAemQ,IAAW3O,MAAM3P,KAAMuG,W,CAG9G,OAAO+X,CACT,CAVe,CAUb5P,EAAYxL,QAAQO,MAEtB3D,EAAQoD,QAAUob,CAEX,EAEP,SAAgBze,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAGT,IAAI0L,EAAe,WAAc,SAASC,EAAiBzE,EAAQ0E,GAAS,IAAK,IAAIpN,EAAI,EAAGA,EAAIoN,EAAMjH,OAAQnG,IAAK,CAAE,IAAIqN,EAAaD,EAAMpN,GAAIqN,EAAWzM,WAAayM,EAAWzM,YAAc,MAAOyM,EAAW1M,aAAe,KAAM,GAAI,UAAW0M,EAAYA,EAAWb,SAAW,KAAM/L,OAAOC,eAAegI,EAAQ2E,EAAWjB,IAAKiB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAe,GAAID,EAAYJ,EAAiBG,EAAYlM,UAAWmM,GAAa,GAAIC,EAAaL,EAAiBG,EAAaE,GAAc,OAAOF,CAAY,CAAG,CAA5hB,GAEnB,IAAIG,EAAO,SAAS5M,EAAIK,EAAQC,EAAUuM,GAAY,GAAIxM,IAAW,KAAMA,EAASyM,SAASvM,UAAW,IAAIwM,EAAOnN,OAAOqL,yBAAyB5K,EAAQC,GAAW,GAAIyM,IAASX,UAAW,CAAE,IAAIY,EAASpN,OAAOqN,eAAe5M,GAAS,GAAI2M,IAAW,KAAM,CAAE,OAAOZ,SAAU,KAAQ,CAAE,OAAOpM,EAAIgN,EAAQ1M,EAAUuM,EAAU,CAAE,MAAQ,GAAI,UAAWE,EAAM,CAAE,OAAOA,EAAKpM,KAAM,KAAQ,CAAE,IAAIjB,EAASqN,EAAK/M,IAAK,GAAIN,IAAW0M,UAAW,CAAE,OAAOA,SAAU,CAAG,OAAO1M,EAAOL,KAAKwN,EAAU,CAAE,EAExe,IAAIyQ,EAAgBre,EAAoB,IAExC,IAAIse,EAAiBnQ,EAAuBkQ,GAE5C,IAAIlL,EAAUnT,EAAoB,IAElC,IAAIoT,EAAWjF,EAAuBgF,GAEtC,SAAShF,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,SAAS2C,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,SAASC,EAA2BrP,EAAMQ,GAAQ,IAAKR,EAAM,CAAE,MAAM,IAAIsP,eAAe,4DAA6D,CAAG,OAAO9O,WAAgBA,IAAS,iBAAmBA,IAAS,YAAcA,EAAOR,CAAK,CAE9O,SAASuP,EAAUC,EAAUC,GAAc,UAAWA,IAAe,YAAcA,IAAe,KAAM,CAAE,MAAM,IAAIL,UAAU,kEAAoEK,EAAY,CAAGD,EAAS9N,UAAYX,OAAO+B,OAAO2M,GAAcA,EAAW/N,UAAW,CAAE6C,YAAa,CAAEzC,MAAO0N,EAAUtO,WAAY,MAAO4L,SAAU,KAAM7L,aAAc,QAAW,GAAIwO,EAAY1O,OAAOmD,eAAiBnD,OAAOmD,eAAesL,EAAUC,GAAcD,EAASrL,UAAYsL,CAAW,CAE5e,IAAImE,GAAQ,EAAIJ,EAASrQ,SAAS,gBAElC,IAAIwb,EAAS,CAAC,kBAAmB,YAAa,UAAW,SAEzDA,EAAOxX,SAAQ,SAAUyX,GACvB3H,SAAS4H,iBAAiBD,GAAW,WACnC,IAAK,IAAIE,EAAOtY,UAAUC,OAAQ6W,EAAOlZ,MAAM0a,GAAOC,EAAO,EAAGA,EAAOD,EAAMC,IAAQ,CACnFzB,EAAKyB,GAAQvY,UAAUuY,E,CAGzB,GAAG1V,MAAM7I,KAAKyW,SAAS+H,iBAAiB,kBAAkB7X,SAAQ,SAAU9B,GAE1E,GAAIA,EAAK2O,SAAW3O,EAAK2O,QAAQgB,QAAS,CACxC,IAAIiK,GAEHA,EAAwB5Z,EAAK2O,QAAQgB,SAASkK,UAAUtP,MAAMqP,EAAuB3B,E,CAE9F,GACA,GACA,IAEA,IAAI6B,EAAU,SAAUC,GACtB7P,EAAU4P,EAASC,GAEnB,SAASD,IACPjQ,EAAgBjP,KAAMkf,GAEtB,IAAIxa,EAAQ0K,EAA2BpP,MAAOkf,EAAQhb,WAAapD,OAAOqN,eAAe+Q,IAAU3e,KAAKP,OAExG0E,EAAM0a,UAAY,GAClB1a,EAAMgR,GAAG,QAAS/B,EAAMO,OACxB,OAAOxP,C,CAGT6I,EAAa2R,EAAS,CAAC,CACrBzS,IAAK,OACL5K,MAAO,SAASyb,IACd3J,EAAM0L,IAAI1P,MAAMgE,EAAOpN,WACvBuH,EAAKoR,EAAQzd,UAAUyC,WAAapD,OAAOqN,eAAe+Q,EAAQzd,WAAY,OAAQzB,MAAM2P,MAAM3P,KAAMuG,U,GAEzG,CACDkG,IAAK,YACL5K,MAAO,SAASod,EAAUK,GACxB,IAAK,IAAIC,EAAQhZ,UAAUC,OAAQ6W,EAAOlZ,MAAMob,EAAQ,EAAIA,EAAQ,EAAI,GAAIC,EAAQ,EAAGA,EAAQD,EAAOC,IAAS,CAC7GnC,EAAKmC,EAAQ,GAAKjZ,UAAUiZ,E,EAG7Bxf,KAAKof,UAAUE,EAAMzJ,OAAS,IAAI3O,SAAQ,SAAUuY,GACnD,IAAIra,EAAOqa,EAAKra,KACZsa,EAAUD,EAAKC,QAEnB,GAAIJ,EAAMvW,SAAW3D,GAAQA,EAAK2V,SAASuE,EAAMvW,QAAS,CACxD2W,EAAQ/P,MAAMrC,UAAW,CAACgS,GAAO1U,OAAOyS,G,CAElD,G,GAEK,CACD5Q,IAAK,YACL5K,MAAO,SAAS8d,EAAUhB,EAAWvZ,EAAMsa,GACzC,IAAK1f,KAAKof,UAAUT,GAAY,CAC9B3e,KAAKof,UAAUT,GAAa,E,CAE9B3e,KAAKof,UAAUT,GAAW1W,KAAK,CAAE7C,KAAMA,EAAMsa,QAASA,G,KAI1D,OAAOR,CACT,CA9Cc,CA8CZT,EAAevb,SAEjBgc,EAAQvJ,OAAS,CACfC,cAAe,gBACfgK,qBAAsB,uBACtBC,gBAAiB,kBACjB5J,cAAe,gBACf6J,iBAAkB,mBAClBhK,YAAa,eAEfoJ,EAAQpH,QAAU,CAChBC,IAAK,MACLM,OAAQ,SACR4D,KAAM,QAGRnc,EAAQoD,QAAUgc,CAEX,EAEP,SAAgBrf,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAGT,SAASoN,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,IAAI4Q,EAAS,SAASA,EAAOC,GAC3B,IAAIrT,EAAUpG,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAK,GAElF0I,EAAgBjP,KAAM+f,GAEtB/f,KAAKggB,MAAQA,EACbhgB,KAAK2M,QAAUA,CACjB,EAEAoT,EAAO3D,SAAW,GAElBtc,EAAQoD,QAAU6c,CAEX,EAEP,SAAgBlgB,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAET,IAAIoe,EAAS,CAAC,QAAS,OAAQ,MAAO,QACtC,IAAInM,EAAQ,OAEZ,SAASH,EAAMuM,GACb,GAAID,EAAOxU,QAAQyU,IAAWD,EAAOxU,QAAQqI,GAAQ,CACnD,IAAIqM,EAEJ,IAAK,IAAItB,EAAOtY,UAAUC,OAAQ6W,EAAOlZ,MAAM0a,EAAO,EAAIA,EAAO,EAAI,GAAIC,EAAO,EAAGA,EAAOD,EAAMC,IAAQ,CACtGzB,EAAKyB,EAAO,GAAKvY,UAAUuY,E,EAG5BqB,EAAWC,SAASF,GAAQvQ,MAAMwQ,EAAU9C,E,EAIjD,SAASgD,EAAUC,GACjB,OAAOL,EAAOjX,QAAO,SAAUuX,EAAQL,GACrCK,EAAOL,GAAUvM,EAAM6M,KAAKJ,QAASF,EAAQI,GAC7C,OAAOC,C,GACN,G,CAGL5M,EAAMG,MAAQuM,EAAUvM,MAAQ,SAAU2M,GACxC3M,EAAQ2M,CACV,EAEA3gB,EAAQoD,QAAUmd,CAEX,EAEP,SAAgBxgB,EAAQC,EAASK,GAEjC,IAAIugB,EAASvc,MAAM1C,UAAU2H,MAC7B,IAAIuX,EAAaxgB,EAAoB,IACrC,IAAIygB,EAAczgB,EAAoB,IAEtC,IAAI0gB,EAAYhhB,EAAOC,QAAU,SAAUghB,EAAQC,EAAUC,GAC3D,IAAKA,EAAMA,EAAO,GAElB,GAAIF,IAAWC,EAAU,CACvB,OAAO,I,MAEF,GAAID,aAAkBG,MAAQF,aAAoBE,KAAM,CAC7D,OAAOH,EAAOI,YAAcH,EAASG,SAIzC,MAAS,IAAKJ,IAAWC,UAAmBD,GAAU,iBAAmBC,GAAY,SAAU,CAC3F,OAAOC,EAAK3E,OAASyE,IAAWC,EAAWD,GAAUC,CAQzD,KAAS,CACL,OAAOI,EAASL,EAAQC,EAAUC,E,GAItC,SAASI,EAAkBvf,GACzB,OAAOA,IAAU,MAAQA,IAAUyL,S,CAGrC,SAAS+T,EAAUC,GACjB,IAAKA,UAAYA,IAAM,iBAAmBA,EAAE9a,SAAW,SAAU,OAAO,MACxE,UAAW8a,EAAEtU,OAAS,mBAAqBsU,EAAElY,QAAU,WAAY,CACjE,OAAO,K,CAET,GAAIkY,EAAE9a,OAAS,UAAY8a,EAAE,KAAO,SAAU,OAAO,MACrD,OAAO,I,CAGT,SAASH,EAASI,EAAGnd,EAAG4c,GACtB,IAAI3gB,EAAGoM,EACP,GAAI2U,EAAkBG,IAAMH,EAAkBhd,GAC5C,OAAO,MAET,GAAImd,EAAE9f,YAAc2C,EAAE3C,UAAW,OAAO,MAGxC,GAAImf,EAAYW,GAAI,CAClB,IAAKX,EAAYxc,GAAI,CACnB,OAAO,K,CAETmd,EAAIb,EAAOngB,KAAKghB,GAChBnd,EAAIsc,EAAOngB,KAAK6D,GAChB,OAAOyc,EAAUU,EAAGnd,EAAG4c,E,CAEzB,GAAIK,EAASE,GAAI,CACf,IAAKF,EAASjd,GAAI,CAChB,OAAO,K,CAET,GAAImd,EAAE/a,SAAWpC,EAAEoC,OAAQ,OAAO,MAClC,IAAKnG,EAAI,EAAGA,EAAIkhB,EAAE/a,OAAQnG,IAAK,CAC7B,GAAIkhB,EAAElhB,KAAO+D,EAAE/D,GAAI,OAAO,K,CAE5B,OAAO,I,CAET,IACE,IAAImhB,EAAKb,EAAWY,GAChBE,EAAKd,EAAWvc,E,CACpB,MAAOsd,GACP,OAAO,K,CAIT,GAAIF,EAAGhb,QAAUib,EAAGjb,OAClB,OAAO,MAETgb,EAAGG,OACHF,EAAGE,OAEH,IAAKthB,EAAImhB,EAAGhb,OAAS,EAAGnG,GAAK,EAAGA,IAAK,CACnC,GAAImhB,EAAGnhB,IAAMohB,EAAGphB,GACd,OAAO,K,CAIX,IAAKA,EAAImhB,EAAGhb,OAAS,EAAGnG,GAAK,EAAGA,IAAK,CACnCoM,EAAM+U,EAAGnhB,GACT,IAAKwgB,EAAUU,EAAE9U,GAAMrI,EAAEqI,GAAMuU,GAAO,OAAO,K,CAE/C,cAAcO,WAAand,C,CAItB,EAEP,SAAgBvE,EAAQC,EAASK,GAIjCW,OAAOC,eAAejB,EAAS,aAAc,CAAE+B,MAAO,OACtD,IAAIa,EAAWvC,EAAoB,GACnC,IAAIuD,EAA4B,WAC5B,SAASA,EAAWkD,EAAUC,EAAS8F,GACnC,GAAIA,SAAY,EAAQ,CAAEA,EAAU,EAAG,CACvC3M,KAAK4G,SAAWA,EAChB5G,KAAK6G,QAAUA,EACf,IAAI+a,EAAelf,EAASE,MAAMwD,KAAO1D,EAASE,MAAMif,UACxD,GAAIlV,EAAQjH,OAAS,KAAM,CAEvB1F,KAAK0F,MAASiH,EAAQjH,MAAQhD,EAASE,MAAMgD,MAASgc,C,KAErD,CACD5hB,KAAK0F,MAAQhD,EAASE,MAAMif,S,CAEhC,GAAIlV,EAAQsI,WAAa,KACrBjV,KAAKiV,UAAYtI,EAAQsI,S,CAEjCvR,EAAWsE,KAAO,SAAU5C,GACxB,MAAO,GAAGqB,IAAIlG,KAAK6E,EAAKR,YAAY,SAAUkd,GAC1C,OAAOA,EAAKnhB,IACxB,GACA,EACI+C,EAAWjC,UAAUkT,IAAM,SAAUvP,EAAMvD,GACvC,IAAK7B,KAAK+hB,OAAO3c,EAAMvD,GACnB,OAAO,MACXuD,EAAKyP,aAAa7U,KAAK6G,QAAShF,GAChC,OAAO,IACf,EACI6B,EAAWjC,UAAUsgB,OAAS,SAAU3c,EAAMvD,GAC1C,IAAIqD,EAAQxC,EAASK,MAAMqC,EAAM1C,EAASE,MAAMob,MAAQhe,KAAK0F,MAAQhD,EAASE,MAAMwD,OACpF,GAAIlB,GAAS,KACT,OAAO,MACX,GAAIlF,KAAKiV,WAAa,KAClB,OAAO,KACX,UAAWpT,IAAU,SAAU,CAC3B,OAAO7B,KAAKiV,UAAUxJ,QAAQ5J,EAAMmgB,QAAQ,QAAS,MAAO,C,KAE3D,CACD,OAAOhiB,KAAKiV,UAAUxJ,QAAQ5J,IAAS,C,CAEnD,EACI6B,EAAWjC,UAAU6P,OAAS,SAAUlM,GACpCA,EAAK6c,gBAAgBjiB,KAAK6G,QAClC,EACInD,EAAWjC,UAAUI,MAAQ,SAAUuD,GACnC,IAAIvD,EAAQuD,EAAKa,aAAajG,KAAK6G,SACnC,GAAI7G,KAAK+hB,OAAO3c,EAAMvD,IAAUA,EAAO,CACnC,OAAOA,C,CAEX,MAAO,EACf,EACI,OAAO6B,C,CAlDG,GAoDd5D,EAAQoD,QAAUQ,CAGX,EAEP,SAAgB7D,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAET/B,EAAQoD,QAAUpD,EAAQoiB,KAAO5U,UAEjC,IAAI+E,EAAiB,WAAc,SAASC,EAAclG,EAAK/L,GAAK,IAAIkS,EAAO,GAAI,IAAIC,EAAK,KAAM,IAAIC,EAAK,MAAO,IAAIC,EAAKpF,UAAW,IAAM,IAAK,IAAIhH,EAAK8F,EAAIgG,OAAO3I,YAAakJ,IAAMH,GAAMG,EAAKrM,EAAGsD,QAAQgJ,MAAOJ,EAAK,KAAM,CAAED,EAAKtK,KAAK0K,EAAG9Q,OAAQ,GAAIxB,GAAKkS,EAAK/L,SAAWnG,EAAG,KAAM,CAAE,CAAG,MAAOwS,GAAOJ,EAAK,KAAMC,EAAKG,CAAI,CAAE,QAAW,IAAM,IAAKL,GAAMlM,EAAG,UAAWA,EAAG,WAAY,CAAE,QAAW,GAAImM,EAAI,MAAMC,CAAG,CAAE,CAAG,OAAOH,CAAK,CAAG,OAAO,SAAUnG,EAAK/L,GAAK,GAAI8D,MAAM4C,QAAQqF,GAAM,CAAE,OAAOA,CAAI,MAAQ,GAAIgG,OAAO3I,YAAY3I,OAAOsL,GAAM,CAAE,OAAOkG,EAAclG,EAAK/L,EAAG,KAAQ,CAAE,MAAM,IAAI8O,UAAU,uDAAwD,CAAE,CAAG,CAA9nB,GAErB,IAAI5B,EAAe,WAAc,SAASC,EAAiBzE,EAAQ0E,GAAS,IAAK,IAAIpN,EAAI,EAAGA,EAAIoN,EAAMjH,OAAQnG,IAAK,CAAE,IAAIqN,EAAaD,EAAMpN,GAAIqN,EAAWzM,WAAayM,EAAWzM,YAAc,MAAOyM,EAAW1M,aAAe,KAAM,GAAI,UAAW0M,EAAYA,EAAWb,SAAW,KAAM/L,OAAOC,eAAegI,EAAQ2E,EAAWjB,IAAKiB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAe,GAAID,EAAYJ,EAAiBG,EAAYlM,UAAWmM,GAAa,GAAIC,EAAaL,EAAiBG,EAAaE,GAAc,OAAOF,CAAY,CAAG,CAA5hB,GAEnB,IAAIG,EAAO,SAAS5M,EAAIK,EAAQC,EAAUuM,GAAY,GAAIxM,IAAW,KAAMA,EAASyM,SAASvM,UAAW,IAAIwM,EAAOnN,OAAOqL,yBAAyB5K,EAAQC,GAAW,GAAIyM,IAASX,UAAW,CAAE,IAAIY,EAASpN,OAAOqN,eAAe5M,GAAS,GAAI2M,IAAW,KAAM,CAAE,OAAOZ,SAAU,KAAQ,CAAE,OAAOpM,EAAIgN,EAAQ1M,EAAUuM,EAAU,CAAE,MAAQ,GAAI,UAAWE,EAAM,CAAE,OAAOA,EAAKpM,KAAM,KAAQ,CAAE,IAAIjB,EAASqN,EAAK/M,IAAK,GAAIN,IAAW0M,UAAW,CAAE,OAAOA,SAAU,CAAG,OAAO1M,EAAOL,KAAKwN,EAAU,CAAE,EAExe,IAAIQ,EAAcpO,EAAoB,GAEtC,IAAIqO,EAAeF,EAAuBC,GAE1C,IAAIE,EAAatO,EAAoB,GAErC,IAAIuO,EAAcJ,EAAuBG,GAEzC,IAAI0T,EAAShiB,EAAoB,GAEjC,IAAIiiB,EAAU9T,EAAuB6T,GAErC,IAAItT,EAAU1O,EAAoB,GAElC,IAAI2O,EAAWR,EAAuBO,GAEtC,IAAIE,EAAQ5O,EAAoB,GAEhC,IAAI6O,EAASV,EAAuBS,GAEpC,SAAST,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,SAAS2C,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,SAASC,EAA2BrP,EAAMQ,GAAQ,IAAKR,EAAM,CAAE,MAAM,IAAIsP,eAAe,4DAA6D,CAAG,OAAO9O,WAAgBA,IAAS,iBAAmBA,IAAS,YAAcA,EAAOR,CAAK,CAE9O,SAASuP,EAAUC,EAAUC,GAAc,UAAWA,IAAe,YAAcA,IAAe,KAAM,CAAE,MAAM,IAAIL,UAAU,kEAAoEK,EAAY,CAAGD,EAAS9N,UAAYX,OAAO+B,OAAO2M,GAAcA,EAAW/N,UAAW,CAAE6C,YAAa,CAAEzC,MAAO0N,EAAUtO,WAAY,MAAO4L,SAAU,KAAM7L,aAAc,QAAW,GAAIwO,EAAY1O,OAAOmD,eAAiBnD,OAAOmD,eAAesL,EAAUC,GAAcD,EAASrL,UAAYsL,CAAW,CAE5e,IAAI0S,EAAO,SAAUG,GACnB/S,EAAU4S,EAAMG,GAEhB,SAASH,IACPjT,EAAgBjP,KAAMkiB,GAEtB,OAAO9S,EAA2BpP,MAAOkiB,EAAKhe,WAAapD,OAAOqN,eAAe+T,IAAOvS,MAAM3P,KAAMuG,W,CAGtG,OAAO2b,CACT,CAVW,CAUTpT,EAAS5L,SAEXgf,EAAKvb,SAAW,OAChBub,EAAK/b,QAAU,OAEf,IAAImc,EAAY,SAAUC,GACxBjT,EAAUgT,EAAWC,GAErB,SAASD,IACPrT,EAAgBjP,KAAMsiB,GAEtB,OAAOlT,EAA2BpP,MAAOsiB,EAAUpe,WAAapD,OAAOqN,eAAemU,IAAY3S,MAAM3P,KAAMuG,W,CAGhHgH,EAAa+U,EAAW,CAAC,CACvB7V,IAAK,QACL5K,MAAO,SAASyI,IACd,IAAI+M,EAASrX,KAEb,IAAI8H,EAAO9H,KAAK6P,QAAQ2S,YACxB,GAAI1a,EAAKwI,SAAS,MAAO,CAEvBxI,EAAOA,EAAKsB,MAAM,GAAG,E,CAEvB,OAAOtB,EAAK5B,MAAM,MAAM8C,QAAO,SAAUsB,EAAOmY,GAC9C,OAAOnY,EAAMzC,OAAO4a,GAAM5a,OAAO,KAAMwP,EAAOvH,UACtD,GAAS,IAAItB,EAAatL,Q,GAErB,CACDuJ,IAAK,SACL5K,MAAO,SAASmO,EAAOrP,EAAMkB,GAC3B,GAAIlB,IAASX,KAAKgS,QAAQrL,UAAY9E,EAAO,OAE7C,IAAI6gB,EAAc1iB,KAAK2iB,WAAW3T,EAAO9L,QAASlD,KAAKwG,SAAW,GAC9Doc,EAAevQ,EAAeqQ,EAAa,GAC3C5a,EAAO8a,EAAa,GAExB,GAAI9a,GAAQ,KAAM,CAChBA,EAAKiJ,SAASjJ,EAAKtB,SAAW,EAAG,E,CAEnCsH,EAAKwU,EAAU7gB,UAAUyC,WAAapD,OAAOqN,eAAemU,EAAU7gB,WAAY,SAAUzB,MAAMO,KAAKP,KAAMW,EAAMkB,E,GAEpH,CACD4K,IAAK,WACL5K,MAAO,SAASsO,EAAS/H,EAAO5B,EAAQ7F,EAAMkB,GAC5C,GAAI2E,IAAW,EAAG,OAClB,GAAIkI,EAAYxL,QAAQH,MAAMpC,EAAM+N,EAAYxL,QAAQN,MAAMiD,QAAU,MAAQlF,IAASX,KAAKgS,QAAQrL,UAAY9E,IAAU7B,KAAKgS,QAAQlC,QAAQ9P,KAAK6P,SAAU,CAC9J,M,CAEF,IAAIgT,EAAc7iB,KAAK8iB,aAAa1a,GACpC,GAAIya,EAAc,GAAKA,GAAeza,EAAQ5B,EAAQ,OACtD,IAAIuc,EAAc/iB,KAAK8iB,aAAa1a,EAAO,MAAQ,EACnD,IAAI4a,EAAgBH,EAAcE,EAAc,EAChD,IAAIvd,EAAOxF,KAAKie,QAAQ8E,EAAaC,GACrC,IAAIpZ,EAAOpE,EAAKoE,KAChBpE,EAAKwK,OAAOrP,EAAMkB,GAClB,GAAI+H,aAAgB0Y,EAAW,CAC7B1Y,EAAKuG,SAAS,EAAG/H,EAAQ2a,EAAcvc,EAASwc,EAAeriB,EAAMkB,E,IAGxE,CACD4K,IAAK,WACL5K,MAAO,SAASuO,EAAShI,EAAOvG,EAAOwO,GACrC,GAAIA,GAAO,KAAM,OAEjB,IAAI4S,EAAejjB,KAAK2iB,WAAW3T,EAAO9L,QAASkF,GAC/C8a,EAAe7Q,EAAe4Q,EAAc,GAC5Cnb,EAAOob,EAAa,GACpBrX,EAASqX,EAAa,GAE1Bpb,EAAKsI,SAASvE,EAAQhK,E,GAEvB,CACD4K,IAAK,SACL5K,MAAO,SAAS2E,IACd,IAAIA,EAASxG,KAAK6P,QAAQ2S,YAAYhc,OACtC,IAAKxG,KAAK6P,QAAQ2S,YAAYlS,SAAS,MAAO,CAC5C,OAAO9J,EAAS,C,CAElB,OAAOA,C,GAER,CACDiG,IAAK,eACL5K,MAAO,SAASihB,EAAaK,GAC3B,IAAIC,EAAU7c,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAK,MAElF,IAAK6c,EAAS,CACZ,IAAIvX,EAAS7L,KAAK6P,QAAQ2S,YAAYpZ,MAAM+Z,GAAa1X,QAAQ,MACjE,OAAOI,GAAS,EAAKsX,EAActX,GAAS,CACpD,KAAa,CACL,OAAO7L,KAAK6P,QAAQ2S,YAAYpZ,MAAM,EAAG+Z,GAAaE,YAAY,K,IAGrE,CACD5W,IAAK,WACL5K,MAAO,SAAS2P,EAASC,GACvB,IAAKzR,KAAK6P,QAAQ2S,YAAYlS,SAAS,MAAO,CAC5CtQ,KAAKsjB,YAAY5U,EAAYxL,QAAQL,OAAO,OAAQ,M,CAEtDiL,EAAKwU,EAAU7gB,UAAUyC,WAAapD,OAAOqN,eAAemU,EAAU7gB,WAAY,WAAYzB,MAAMO,KAAKP,KAAMyR,GAC/G,IAAI7H,EAAO5J,KAAK4J,KAChB,GAAIA,GAAQ,MAAQA,EAAK2Z,OAASvjB,MAAQ4J,EAAKoI,QAAQrL,WAAa3G,KAAKgS,QAAQrL,UAAY3G,KAAKgS,QAAQlC,QAAQ9P,KAAK6P,WAAajG,EAAKoI,QAAQlC,QAAQlG,EAAKiG,SAAU,CACtKjG,EAAK4H,SAASC,GACd7H,EAAK2H,aAAavR,MAClB4J,EAAK0H,Q,IAGR,CACD7E,IAAK,UACL5K,MAAO,SAASmgB,EAAQjZ,GACtB+E,EAAKwU,EAAU7gB,UAAUyC,WAAapD,OAAOqN,eAAemU,EAAU7gB,WAAY,UAAWzB,MAAMO,KAAKP,KAAM+I,GAC9G,GAAGK,MAAM7I,KAAKP,KAAK6P,QAAQkP,iBAAiB,MAAM7X,SAAQ,SAAU9B,GAClE,IAAII,EAAOkJ,EAAYxL,QAAQJ,KAAKsC,GACpC,GAAII,GAAQ,KAAM,CAChBJ,EAAKK,WAAWkM,YAAYvM,E,MACvB,GAAII,aAAgBkJ,EAAYxL,QAAQG,MAAO,CACpDmC,EAAK8L,QACf,KAAe,CACL9L,EAAKge,Q,CAEf,G,IAEM,CAAC,CACH/W,IAAK,SACL5K,MAAO,SAASgB,EAAOhB,GACrB,IAAIgO,EAAU/B,EAAKwU,EAAUpe,WAAapD,OAAOqN,eAAemU,GAAY,SAAUtiB,MAAMO,KAAKP,KAAM6B,GACvGgO,EAAQgF,aAAa,aAAc,OACnC,OAAOhF,C,GAER,CACDpD,IAAK,UACL5K,MAAO,SAASiO,IACd,OAAO,I,KAIX,OAAOwS,CACT,CApIgB,CAoIdF,EAAQlf,SAEVof,EAAU3b,SAAW,aACrB2b,EAAUnc,QAAU,MACpBmc,EAAUmB,IAAM,KAEhB3jB,EAAQoiB,KAAOA,EACfpiB,EAAQoD,QAAUof,CAEX,EAEP,SAAgBziB,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAGT,IAAIsQ,SAAiBC,SAAW,mBAAqBA,OAAO3I,WAAa,SAAW,SAAU6C,GAAO,cAAcA,CAAI,EAAK,SAAUA,GAAO,OAAOA,UAAc8F,SAAW,YAAc9F,EAAIhI,cAAgB8N,QAAU9F,IAAQ8F,OAAO3Q,UAAY,gBAAkB6K,CAAI,EAE1Q,IAAI+F,EAAiB,WAAc,SAASC,EAAclG,EAAK/L,GAAK,IAAIkS,EAAO,GAAI,IAAIC,EAAK,KAAM,IAAIC,EAAK,MAAO,IAAIC,EAAKpF,UAAW,IAAM,IAAK,IAAIhH,EAAK8F,EAAIgG,OAAO3I,YAAakJ,IAAMH,GAAMG,EAAKrM,EAAGsD,QAAQgJ,MAAOJ,EAAK,KAAM,CAAED,EAAKtK,KAAK0K,EAAG9Q,OAAQ,GAAIxB,GAAKkS,EAAK/L,SAAWnG,EAAG,KAAM,CAAE,CAAG,MAAOwS,GAAOJ,EAAK,KAAMC,EAAKG,CAAI,CAAE,QAAW,IAAM,IAAKL,GAAMlM,EAAG,UAAWA,EAAG,WAAY,CAAE,QAAW,GAAImM,EAAI,MAAMC,CAAG,CAAE,CAAG,OAAOH,CAAK,CAAG,OAAO,SAAUnG,EAAK/L,GAAK,GAAI8D,MAAM4C,QAAQqF,GAAM,CAAE,OAAOA,CAAI,MAAQ,GAAIgG,OAAO3I,YAAY3I,OAAOsL,GAAM,CAAE,OAAOkG,EAAclG,EAAK/L,EAAG,KAAQ,CAAE,MAAM,IAAI8O,UAAU,uDAAwD,CAAE,CAAG,CAA9nB,GAErB,IAAI5B,EAAe,WAAc,SAASC,EAAiBzE,EAAQ0E,GAAS,IAAK,IAAIpN,EAAI,EAAGA,EAAIoN,EAAMjH,OAAQnG,IAAK,CAAE,IAAIqN,EAAaD,EAAMpN,GAAIqN,EAAWzM,WAAayM,EAAWzM,YAAc,MAAOyM,EAAW1M,aAAe,KAAM,GAAI,UAAW0M,EAAYA,EAAWb,SAAW,KAAM/L,OAAOC,eAAegI,EAAQ2E,EAAWjB,IAAKiB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAe,GAAID,EAAYJ,EAAiBG,EAAYlM,UAAWmM,GAAa,GAAIC,EAAaL,EAAiBG,EAAaE,GAAc,OAAOF,CAAY,CAAG,CAA5hB,GAEnB,IAAIY,EAAcpO,EAAoB,GAEtC,IAAIqO,EAAeF,EAAuBC,GAE1C,IAAImV,EAAMvjB,EAAoB,IAE9B,IAAIwjB,EAAOrV,EAAuBoV,GAElC,IAAIjV,EAAatO,EAAoB,GAErC,IAAIuO,EAAcJ,EAAuBG,GAEzC,IAAImV,EAAQzjB,EAAoB,IAEhC,IAAI0jB,EAASvV,EAAuBsV,GAEpC,IAAIE,EAAU3jB,EAAoB,IAElC,IAAI4jB,EAAWzV,EAAuBwV,GAEtC,IAAI3B,EAAShiB,EAAoB,GAEjC,IAAIiiB,EAAU9T,EAAuB6T,GAErC,IAAIxT,EAASxO,EAAoB,IAEjC,IAAIyO,EAAUN,EAAuBK,GAErC,IAAIqV,EAAS7jB,EAAoB,IAEjC,IAAI8jB,EAAU3V,EAAuB0V,GAErC,IAAIE,EAAa/jB,EAAoB,IAErC,IAAIgkB,EAAc7V,EAAuB4V,GAEzC,IAAI9V,EAAUjO,EAAoB,GAElC,IAAIkO,EAAWC,EAAuBF,GAEtC,SAASE,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,SAASoH,EAAgBpH,EAAKG,EAAK5K,GAAS,GAAI4K,KAAOH,EAAK,CAAExL,OAAOC,eAAeuL,EAAKG,EAAK,CAAE5K,MAAOA,EAAOZ,WAAY,KAAMD,aAAc,KAAM6L,SAAU,MAAQ,KAAQ,CAAEP,EAAIG,GAAO5K,CAAM,CAAG,OAAOyK,CAAI,CAE/M,SAAS2C,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,IAAIiV,EAAQ,WAEZ,IAAIC,EAAS,WACX,SAASA,EAAOrP,GACd/F,EAAgBjP,KAAMqkB,GAEtBrkB,KAAKgV,OAASA,EACdhV,KAAKsK,MAAQtK,KAAKskB,U,CAGpB/W,EAAa8W,EAAQ,CAAC,CACpB5X,IAAK,aACL5K,MAAO,SAAS8Z,EAAWrR,GACzB,IAAI5F,EAAQ1E,KAEZ,IAAIukB,EAAqB,MACzBvkB,KAAKgV,OAAOuB,SACZ,IAAIiO,EAAexkB,KAAKgV,OAAOxO,SAC/BxG,KAAKgV,OAAOyP,aACZna,EAAQoa,EAAepa,GACvBA,EAAMtB,QAAO,SAAUZ,EAAOb,GAC5B,IAAIf,EAASe,EAAGY,QAAUZ,EAAGW,QAAUX,EAAGM,OAAOrB,QAAU,EAC3D,IAAI5B,EAAa2C,EAAG3C,YAAc,GAClC,GAAI2C,EAAGM,QAAU,KAAM,CACrB,UAAWN,EAAGM,SAAW,SAAU,CACjC,IAAIC,EAAOP,EAAGM,OACd,GAAIC,EAAKwI,SAAS,OAASiU,EAAoB,CAC7CA,EAAqB,MACrBzc,EAAOA,EAAKsB,MAAM,GAAG,E,CAEvB,GAAIhB,GAASoc,IAAiB1c,EAAKwI,SAAS,MAAO,CACjDiU,EAAqB,I,CAEvB7f,EAAMsQ,OAAO5E,SAAShI,EAAON,GAE7B,IAAI6c,EAAejgB,EAAMsQ,OAAOxJ,KAAKpD,GACjCwc,EAAgBvS,EAAesS,EAAc,GAC7CnZ,EAAOoZ,EAAc,GACrB/Y,EAAS+Y,EAAc,GAE3B,IAAI9U,GAAU,EAAIzB,EAASnL,SAAS,IAAI,EAAIif,EAAO9U,eAAe7B,IAClE,GAAIA,aAAgB4W,EAAQlf,QAAS,CACnC,IAAI2hB,EAAmBrZ,EAAKmX,WAAWjU,EAAYxL,QAAQE,KAAMyI,GAC7DiZ,EAAoBzS,EAAewS,EAAkB,GACrD/T,EAAOgU,EAAkB,GAE7BhV,GAAU,EAAIzB,EAASnL,SAAS4M,GAAS,EAAIqS,EAAO9U,eAAeyD,G,CAErElM,EAAa+e,EAAKzgB,QAAQ0B,WAAWwC,KAAK0I,EAASlL,IAAe,E,MAC7D,GAAIuN,EAAQ5K,EAAGM,UAAY,SAAU,CAC1C,IAAI4E,EAAM3L,OAAOkH,KAAKT,EAAGM,QAAQ,GACjC,GAAI4E,GAAO,KAAM,OAAOrE,EACxB1D,EAAMsQ,OAAO5E,SAAShI,EAAOqE,EAAKlF,EAAGM,OAAO4E,G,CAE9C+X,GAAgBhe,C,CAElB1F,OAAOkH,KAAKpD,GAAYsC,SAAQ,SAAUvG,GACxC+D,EAAMsQ,OAAO7E,SAAS/H,EAAO5B,EAAQ7F,EAAMiE,EAAWjE,GAChE,IACQ,OAAOyH,EAAQ5B,C,GACd,GACH8D,EAAMtB,QAAO,SAAUZ,EAAOb,GAC5B,UAAWA,EAAGW,SAAW,SAAU,CACjCxD,EAAMsQ,OAAOjE,SAAS3I,EAAOb,EAAGW,QAChC,OAAOE,C,CAET,OAAOA,GAASb,EAAGY,QAAUZ,EAAGM,OAAOrB,QAAU,E,GAChD,GACHxG,KAAKgV,OAAO+P,WACZ,OAAO/kB,KAAKuW,OAAOjM,E,GAEpB,CACDmC,IAAK,aACL5K,MAAO,SAASuV,EAAWhP,EAAO5B,GAChCxG,KAAKgV,OAAOjE,SAAS3I,EAAO5B,GAC5B,OAAOxG,KAAKuW,QAAO,IAAI/H,EAAatL,SAAUiF,OAAOC,GAAOF,OAAO1B,G,GAEpE,CACDiG,IAAK,aACL5K,MAAO,SAASqW,EAAW9P,EAAO5B,GAChC,IAAImK,EAAS3Q,KAEb,IAAI8P,EAAUvJ,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAK,GAElFvG,KAAKgV,OAAOuB,SACZzV,OAAOkH,KAAK8H,GAAS5I,SAAQ,SAAU8I,GACrC,GAAIW,EAAOqE,OAAOC,WAAa,OAAStE,EAAOqE,OAAOC,UAAUjF,GAAS,OACzE,IAAIgB,EAAQL,EAAOqE,OAAOhE,MAAM5I,EAAOmC,KAAKqT,IAAIpX,EAAQ,IACxD,IAAIwe,EAAkBxe,EACtBwK,EAAM9J,SAAQ,SAAUsE,GACtB,IAAIyZ,EAAazZ,EAAKhF,SACtB,KAAMgF,aAAgBqY,EAAO3gB,SAAU,CACrCsI,EAAKwE,OAAOA,EAAQF,EAAQE,GACxC,KAAiB,CACL,IAAIkV,EAAY9c,EAAQoD,EAAKK,OAAO8E,EAAOqE,QAC3C,IAAImQ,EAAa3Z,EAAKsX,aAAaoC,EAAYF,GAAmBE,EAAY,EAC9E1Z,EAAK2E,SAAS+U,EAAWC,EAAYnV,EAAQF,EAAQE,G,CAEvDgV,GAAmBC,CAC7B,GACA,IACMjlB,KAAKgV,OAAOxD,WACZ,OAAOxR,KAAKuW,QAAO,IAAI/H,EAAatL,SAAUiF,OAAOC,GAAOD,OAAO3B,GAAQ,EAAIyd,EAAQ/gB,SAAS4M,I,GAEjG,CACDrD,IAAK,aACL5K,MAAO,SAASsW,EAAW/P,EAAO5B,GAChC,IAAI6Q,EAASrX,KAEb,IAAI8P,EAAUvJ,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAK,GAElFzF,OAAOkH,KAAK8H,GAAS5I,SAAQ,SAAU8I,GACrCqH,EAAOrC,OAAO7E,SAAS/H,EAAO5B,EAAQwJ,EAAQF,EAAQE,GAC9D,IACM,OAAOhQ,KAAKuW,QAAO,IAAI/H,EAAatL,SAAUiF,OAAOC,GAAOD,OAAO3B,GAAQ,EAAIyd,EAAQ/gB,SAAS4M,I,GAEjG,CACDrD,IAAK,cACL5K,MAAO,SAASyX,EAAYlR,EAAO5B,GACjC,OAAOxG,KAAKsK,MAAMlB,MAAMhB,EAAOA,EAAQ5B,E,GAExC,CACDiG,IAAK,WACL5K,MAAO,SAASyiB,IACd,OAAOtkB,KAAKgV,OAAOhE,QAAQhI,QAAO,SAAUsB,EAAOkB,GACjD,OAAOlB,EAAMM,OAAOY,EAAKlB,QACjC,GAAS,IAAIkE,EAAatL,Q,GAErB,CACDuJ,IAAK,YACL5K,MAAO,SAAS6X,EAAUtR,GACxB,IAAI5B,EAASD,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAK,EAEjF,IAAIyK,EAAQ,GACRoU,EAAS,GACb,GAAI5e,IAAW,EAAG,CAChBxG,KAAKgV,OAAOtD,KAAKtJ,GAAOlB,SAAQ,SAAUwK,GACxC,IAAI2T,EAAQhT,EAAeX,EAAM,GAC7BlM,EAAO6f,EAAM,GAEjB,GAAI7f,aAAgB4c,EAAQlf,QAAS,CACnC8N,EAAM/I,KAAKzC,E,MACN,GAAIA,aAAgBkJ,EAAYxL,QAAQE,KAAM,CACnDgiB,EAAOnd,KAAKzC,E,CAExB,GACA,KAAa,CACLwL,EAAQhR,KAAKgV,OAAOhE,MAAM5I,EAAO5B,GACjC4e,EAASplB,KAAKgV,OAAOnE,YAAYnC,EAAYxL,QAAQE,KAAMgF,EAAO5B,E,CAEpE,IAAI8e,EAAa,CAACtU,EAAOoU,GAAQ3e,KAAI,SAAU8e,GAC7C,GAAIA,EAAM/e,SAAW,EAAG,MAAO,GAC/B,IAAIsJ,GAAU,EAAIqS,EAAO9U,eAAekY,EAAMtU,SAC9C,MAAOnQ,OAAOkH,KAAK8H,GAAStJ,OAAS,EAAG,CACtC,IAAIhB,EAAO+f,EAAMtU,QACjB,GAAIzL,GAAQ,KAAM,OAAOsK,EACzBA,EAAU0V,GAAe,EAAIrD,EAAO9U,eAAe7H,GAAOsK,E,CAE5D,OAAOA,CACf,IACM,OAAOzB,EAASnL,QAAQyM,MAAMtB,EAASnL,QAASoiB,E,GAEjD,CACD7Y,IAAK,UACL5K,MAAO,SAASsY,EAAQ/R,EAAO5B,GAC7B,OAAOxG,KAAKsZ,YAAYlR,EAAO5B,GAAQkC,QAAO,SAAUnB,GACtD,cAAcA,EAAGM,SAAW,QACpC,IAASpB,KAAI,SAAUc,GACf,OAAOA,EAAGM,MAClB,IAASkD,KAAK,G,GAET,CACD0B,IAAK,cACL5K,MAAO,SAAS0Y,EAAYnS,EAAOoS,EAAO3Y,GACxC7B,KAAKgV,OAAO5E,SAAShI,EAAOoS,EAAO3Y,GACnC,OAAO7B,KAAKuW,QAAO,IAAI/H,EAAatL,SAAUiF,OAAOC,GAAOP,OAAO6L,EAAgB,GAAI8G,EAAO3Y,I,GAE/F,CACD4K,IAAK,aACL5K,MAAO,SAAS6Y,EAAWtS,EAAON,GAChC,IAAI+P,EAAS7X,KAEb,IAAI8P,EAAUvJ,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAK,GAElFuB,EAAOA,EAAKka,QAAQ,QAAS,MAAMA,QAAQ,MAAO,MAClDhiB,KAAKgV,OAAO5E,SAAShI,EAAON,GAC5BhH,OAAOkH,KAAK8H,GAAS5I,SAAQ,SAAU8I,GACrC6H,EAAO7C,OAAO7E,SAAS/H,EAAON,EAAKtB,OAAQwJ,EAAQF,EAAQE,GACnE,IACM,OAAOhQ,KAAKuW,QAAO,IAAI/H,EAAatL,SAAUiF,OAAOC,GAAOP,OAAOC,GAAM,EAAImc,EAAQ/gB,SAAS4M,I,GAE/F,CACDrD,IAAK,UACL5K,MAAO,SAASmU,IACd,GAAIhW,KAAKgV,OAAO9D,SAAS1K,QAAU,EAAG,OAAO,KAC7C,GAAIxG,KAAKgV,OAAO9D,SAAS1K,OAAS,EAAG,OAAO,MAC5C,IAAI+J,EAAQvQ,KAAKgV,OAAO9D,SAASG,KACjC,GAAId,EAAMyB,QAAQrL,WAAayb,EAAQlf,QAAQyD,SAAU,OAAO,MAChE,GAAI4J,EAAMW,SAAS1K,OAAS,EAAG,OAAO,MACtC,OAAO+J,EAAMW,SAASG,gBAAgBzC,EAAQ1L,O,GAE/C,CACDuJ,IAAK,eACL5K,MAAO,SAASuZ,EAAahT,EAAO5B,GAClC,IAAIsB,EAAO9H,KAAKma,QAAQ/R,EAAO5B,GAE/B,IAAIif,EAAgBzlB,KAAKgV,OAAOxJ,KAAKpD,EAAQ5B,GACzCkf,EAAgBrT,EAAeoT,EAAe,GAC9Cja,EAAOka,EAAc,GACrB7Z,EAAS6Z,EAAc,GAE3B,IAAIC,EAAe,EACfC,EAAS,IAAIpX,EAAatL,QAC9B,GAAIsI,GAAQ,KAAM,CAChB,KAAMA,aAAgBqY,EAAO3gB,SAAU,CACrCyiB,EAAena,EAAKhF,SAAWqF,CACzC,KAAe,CACL8Z,EAAena,EAAKsX,aAAajX,GAAUA,EAAS,C,CAEtD+Z,EAASpa,EAAKlB,QAAQlB,MAAMyC,EAAQA,EAAS8Z,EAAe,GAAG9d,OAAO,K,CAExE,IAAI2O,EAAWxW,KAAKsZ,YAAYlR,EAAO5B,EAASmf,GAChD,IAAIve,EAAOoP,EAASpP,MAAK,IAAIoH,EAAatL,SAAU2E,OAAOC,GAAM8C,OAAOgb,IACxE,IAAItb,GAAQ,IAAIkE,EAAatL,SAAUiF,OAAOC,GAAOwC,OAAOxD,GAC5D,OAAOpH,KAAK2b,WAAWrR,E,GAExB,CACDmC,IAAK,SACL5K,MAAO,SAAS0U,EAAO0B,GACrB,IAAI9B,EAAY5P,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAK,GACpF,IAAIsf,EAActf,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAK+G,UAEtF,IAAI4P,EAAWld,KAAKsK,MACpB,GAAI6L,EAAU3P,SAAW,GAAK2P,EAAU,GAAGN,OAAS,iBAAmBM,EAAU,GAAGpN,OAAO+c,KAAK5gB,MAAMkf,IAAU1V,EAAYxL,QAAQJ,KAAKqT,EAAU,GAAGpN,QAAS,CAE7J,IAAIgd,EAAWrX,EAAYxL,QAAQJ,KAAKqT,EAAU,GAAGpN,QACrD,IAAI+G,GAAU,EAAIqS,EAAO9U,eAAe0Y,GACxC,IAAI3d,EAAQ2d,EAASla,OAAO7L,KAAKgV,QACjC,IAAIgR,EAAW7P,EAAU,GAAG6P,SAAShE,QAAQ+B,EAAS7gB,QAAQ+iB,SAAU,IACxE,IAAIC,GAAU,IAAI1X,EAAatL,SAAU2E,OAAOme,GAChD,IAAIG,GAAU,IAAI3X,EAAatL,SAAU2E,OAAOke,EAASlkB,SACzD,IAAIukB,GAAY,IAAI5X,EAAatL,SAAUiF,OAAOC,GAAOwC,OAAOsb,EAAQ9e,KAAK+e,EAASN,IACtF5N,EAASmO,EAAUpd,QAAO,SAAUsB,EAAO/C,GACzC,GAAIA,EAAGM,OAAQ,CACb,OAAOyC,EAAMzC,OAAON,EAAGM,OAAQiI,EAC3C,KAAiB,CACL,OAAOxF,EAAMrC,KAAKV,E,CAE9B,GAAW,IAAIiH,EAAatL,SACpBlD,KAAKsK,MAAQ4S,EAASrT,QAAQoO,EACtC,KAAa,CACLjY,KAAKsK,MAAQtK,KAAKskB,WAClB,IAAKrM,KAAW,EAAIkM,EAAYjhB,SAASga,EAASrT,QAAQoO,GAASjY,KAAKsK,OAAQ,CAC9E2N,EAASiF,EAAS9V,KAAKpH,KAAKsK,MAAOub,E,EAGvC,OAAO5N,C,KAIX,OAAOoM,CACT,CAnQa,GAqQb,SAASmB,EAAe1V,EAASuW,GAC/B,OAAOvlB,OAAOkH,KAAKqe,GAAUrd,QAAO,SAAUsd,EAAQ3lB,GACpD,GAAImP,EAAQnP,IAAS,KAAM,OAAO2lB,EAClC,GAAID,EAAS1lB,KAAUmP,EAAQnP,GAAO,CACpC2lB,EAAO3lB,GAAQ0lB,EAAS1lB,E,MACnB,GAAIwD,MAAM4C,QAAQsf,EAAS1lB,IAAQ,CACxC,GAAI0lB,EAAS1lB,GAAM8K,QAAQqE,EAAQnP,IAAS,EAAG,CAC7C2lB,EAAO3lB,GAAQ0lB,EAAS1lB,GAAMiK,OAAO,CAACkF,EAAQnP,I,CAEtD,KAAW,CACL2lB,EAAO3lB,GAAQ,CAAC0lB,EAAS1lB,GAAOmP,EAAQnP,G,CAE1C,OAAO2lB,C,GACN,G,CAGL,SAAS5B,EAAepa,GACtB,OAAOA,EAAMtB,QAAO,SAAUsB,EAAO/C,GACnC,GAAIA,EAAGM,SAAW,EAAG,CACnB,IAAIjD,GAAa,EAAIqf,EAAQ/gB,SAASqE,EAAG3C,mBAClCA,EAAW,SAClB,OAAO0F,EAAMzC,OAAO,CAAE0e,MAAOhf,EAAG3C,WAAW2hB,OAAS3hB,E,CAEtD,GAAI2C,EAAG3C,YAAc,OAAS2C,EAAG3C,WAAW4hB,OAAS,MAAQjf,EAAG3C,WAAW6hB,SAAW,MAAO,CAC3Flf,GAAK,EAAI0c,EAAQ/gB,SAASqE,GAC1B,GAAIA,EAAG3C,WAAW4hB,KAAM,CACtBjf,EAAG3C,WAAW4hB,KAAO,SAC7B,KAAa,CACLjf,EAAG3C,WAAW4hB,KAAO,gBACdjf,EAAG3C,WAAW6hB,M,EAGzB,UAAWlf,EAAGM,SAAW,SAAU,CACjC,IAAIC,EAAOP,EAAGM,OAAOma,QAAQ,QAAS,MAAMA,QAAQ,MAAO,MAC3D,OAAO1X,EAAMzC,OAAOC,EAAMP,EAAG3C,W,CAE/B,OAAO0F,EAAMrC,KAAKV,EACtB,GAAK,IAAIiH,EAAatL,Q,CAGtBpD,EAAQoD,QAAUmhB,CAEX,EAEP,SAAgBxkB,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAET/B,EAAQoD,QAAUpD,EAAQic,MAAQzO,UAElC,IAAI+E,EAAiB,WAAc,SAASC,EAAclG,EAAK/L,GAAK,IAAIkS,EAAO,GAAI,IAAIC,EAAK,KAAM,IAAIC,EAAK,MAAO,IAAIC,EAAKpF,UAAW,IAAM,IAAK,IAAIhH,EAAK8F,EAAIgG,OAAO3I,YAAakJ,IAAMH,GAAMG,EAAKrM,EAAGsD,QAAQgJ,MAAOJ,EAAK,KAAM,CAAED,EAAKtK,KAAK0K,EAAG9Q,OAAQ,GAAIxB,GAAKkS,EAAK/L,SAAWnG,EAAG,KAAM,CAAE,CAAG,MAAOwS,GAAOJ,EAAK,KAAMC,EAAKG,CAAI,CAAE,QAAW,IAAM,IAAKL,GAAMlM,EAAG,UAAWA,EAAG,WAAY,CAAE,QAAW,GAAImM,EAAI,MAAMC,CAAG,CAAE,CAAG,OAAOH,CAAK,CAAG,OAAO,SAAUnG,EAAK/L,GAAK,GAAI8D,MAAM4C,QAAQqF,GAAM,CAAE,OAAOA,CAAI,MAAQ,GAAIgG,OAAO3I,YAAY3I,OAAOsL,GAAM,CAAE,OAAOkG,EAAclG,EAAK/L,EAAG,KAAQ,CAAE,MAAM,IAAI8O,UAAU,uDAAwD,CAAE,CAAG,CAA9nB,GAErB,IAAI5B,EAAe,WAAc,SAASC,EAAiBzE,EAAQ0E,GAAS,IAAK,IAAIpN,EAAI,EAAGA,EAAIoN,EAAMjH,OAAQnG,IAAK,CAAE,IAAIqN,EAAaD,EAAMpN,GAAIqN,EAAWzM,WAAayM,EAAWzM,YAAc,MAAOyM,EAAW1M,aAAe,KAAM,GAAI,UAAW0M,EAAYA,EAAWb,SAAW,KAAM/L,OAAOC,eAAegI,EAAQ2E,EAAWjB,IAAKiB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAe,GAAID,EAAYJ,EAAiBG,EAAYlM,UAAWmM,GAAa,GAAIC,EAAaL,EAAiBG,EAAaE,GAAc,OAAOF,CAAY,CAAG,CAA5hB,GAEnB,IAAIc,EAAatO,EAAoB,GAErC,IAAIuO,EAAcJ,EAAuBG,GAEzC,IAAIuV,EAAS7jB,EAAoB,IAEjC,IAAI8jB,EAAU3V,EAAuB0V,GAErC,IAAIE,EAAa/jB,EAAoB,IAErC,IAAIgkB,EAAc7V,EAAuB4V,GAEzC,IAAIlR,EAAY7S,EAAoB,GAEpC,IAAI8S,EAAY3E,EAAuB0E,GAEvC,IAAIM,EAAUnT,EAAoB,IAElC,IAAIoT,EAAWjF,EAAuBgF,GAEtC,SAAShF,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,SAASoa,EAAmBta,GAAO,GAAIjI,MAAM4C,QAAQqF,GAAM,CAAE,IAAK,IAAI/L,EAAI,EAAGsmB,EAAOxiB,MAAMiI,EAAI5F,QAASnG,EAAI+L,EAAI5F,OAAQnG,IAAK,CAAEsmB,EAAKtmB,GAAK+L,EAAI/L,EAAG,CAAG,OAAOsmB,CAAK,KAAQ,CAAE,OAAOxiB,MAAMyiB,KAAKxa,EAAK,CAAE,CAEjM,SAAS6C,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,IAAIwE,GAAQ,EAAIJ,EAASrQ,SAAS,mBAElC,IAAI6Y,EAAQ,SAASA,EAAM3T,GACzB,IAAI5B,EAASD,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAK,EAEjF0I,EAAgBjP,KAAM+b,GAEtB/b,KAAKoI,MAAQA,EACbpI,KAAKwG,OAASA,CAChB,EAEA,IAAIqgB,EAAY,WACd,SAASA,EAAU7R,EAAQD,GACzB,IAAIrQ,EAAQ1E,KAEZiP,EAAgBjP,KAAM6mB,GAEtB7mB,KAAK+U,QAAUA,EACf/U,KAAKgV,OAASA,EACdhV,KAAK8mB,UAAY,MACjB9mB,KAAK+mB,UAAY,MACjB/mB,KAAKL,KAAOK,KAAKgV,OAAOnF,QACxB7P,KAAKgnB,OAAStY,EAAYxL,QAAQL,OAAO,SAAU7C,MAEnDA,KAAKqW,UAAYrW,KAAKinB,WAAa,IAAIlL,EAAM,EAAG,GAChD/b,KAAKknB,oBACLlnB,KAAKmnB,iBACLnnB,KAAK+U,QAAQ4K,UAAU,kBAAmB3I,UAAU,WAClD,IAAKtS,EAAMqiB,UAAW,CACpBK,WAAW1iB,EAAM6R,OAAOiK,KAAK9b,EAAOuO,EAAU/P,QAAQ4U,QAAQmE,MAAO,E,CAE7E,IACIjc,KAAK+U,QAAQW,GAAGzC,EAAU/P,QAAQyS,OAAOC,eAAe,SAAUC,EAAMvL,GACtE,GAAIuL,IAAS5C,EAAU/P,QAAQyS,OAAOG,aAAexL,EAAM9D,SAAW,EAAG,CACvE9B,EAAM6R,OAAOtD,EAAU/P,QAAQ4U,QAAQO,O,CAE/C,IACIrY,KAAK+U,QAAQW,GAAGzC,EAAU/P,QAAQyS,OAAOiK,sBAAsB,WAC7D,IAAKlb,EAAM4V,WAAY,OACvB,IAAI+M,EAAS3iB,EAAM4iB,iBACnB,GAAID,GAAU,KAAM,OACpB,GAAIA,EAAOhe,MAAMjE,OAASV,EAAMsiB,OAAOO,SAAU,OAEjD7iB,EAAMqQ,QAAQkG,KAAKhI,EAAU/P,QAAQyS,OAAOM,eAAe,WACzD,IACEvR,EAAM8iB,eAAeH,EAAOhe,MAAMjE,KAAMiiB,EAAOhe,MAAMwC,OAAQwb,EAAO/d,IAAIlE,KAAMiiB,EAAO/d,IAAIuC,OACnG,CAAU,MAAO4b,GAAS,CAC1B,GACA,IACIznB,KAAK+U,QAAQW,GAAGzC,EAAU/P,QAAQyS,OAAOkK,iBAAiB,SAAU1J,EAAW1E,GAC7E,GAAIA,EAAQ2E,MAAO,CACjB,IAAIsR,EAAiBjW,EAAQ2E,MACzBuR,EAAYD,EAAeC,UAC3BC,EAAcF,EAAeE,YAC7BC,EAAUH,EAAeG,QACzBC,EAAYJ,EAAeI,UAE/BpjB,EAAM8iB,eAAeG,EAAWC,EAAaC,EAASC,E,CAE9D,IACI9nB,KAAKuW,OAAOtD,EAAU/P,QAAQ4U,QAAQO,O,CAGxC9K,EAAasZ,EAAW,CAAC,CACvBpa,IAAK,oBACL5K,MAAO,SAASqlB,IACd,IAAIvW,EAAS3Q,KAEbA,KAAKL,KAAKif,iBAAiB,oBAAoB,WAC7CjO,EAAOmW,UAAY,IAC3B,IACM9mB,KAAKL,KAAKif,iBAAiB,kBAAkB,WAC3CjO,EAAOmW,UAAY,MACnB,GAAInW,EAAOqW,OAAO9Y,OAAQ,CACxB,IAAIkI,EAAQzF,EAAOqW,OAAOe,UAC1B,IAAK3R,EAAO,OACZgR,YAAW,WACTzW,EAAO6W,eAAepR,EAAMuR,UAAWvR,EAAMwR,YAAaxR,EAAMyR,QAASzR,EAAM0R,U,GAC9E,E,CAEb,G,GAEK,CACDrb,IAAK,iBACL5K,MAAO,SAASslB,IACd,IAAI9P,EAASrX,KAEbA,KAAK+U,QAAQ4K,UAAU,YAAa3I,SAASgR,MAAM,WACjD3Q,EAAO0P,UAAY,IAC3B,IACM/mB,KAAK+U,QAAQ4K,UAAU,UAAW3I,SAASgR,MAAM,WAC/C3Q,EAAO0P,UAAY,MACnB1P,EAAOd,OAAOtD,EAAU/P,QAAQ4U,QAAQmE,KAChD,G,GAEK,CACDxP,IAAK,QACL5K,MAAO,SAAS6V,IACd,GAAI1X,KAAKsa,WAAY,OACrBta,KAAKL,KAAK+X,QACV1X,KAAKmX,SAASnX,KAAKinB,W,GAEpB,CACDxa,IAAK,SACL5K,MAAO,SAASmO,EAAOiY,EAASpmB,GAC9B,GAAI7B,KAAKgV,OAAOC,WAAa,OAASjV,KAAKgV,OAAOC,UAAUgT,GAAU,OACtEjoB,KAAKgV,OAAOuB,SACZ,IAAI2R,EAAcloB,KAAKsnB,iBACvB,GAAIY,GAAe,OAASA,EAAYb,OAAOc,WAAazZ,EAAYxL,QAAQH,MAAMklB,EAASvZ,EAAYxL,QAAQN,MAAMiD,OAAQ,OACjI,GAAIqiB,EAAY7e,MAAMjE,OAASpF,KAAKgnB,OAAOO,SAAU,CACnD,IAAI/hB,EAAOkJ,EAAYxL,QAAQJ,KAAKolB,EAAY7e,MAAMjE,KAAM,OAC5D,GAAII,GAAQ,KAAM,OAElB,GAAIA,aAAgBkJ,EAAYxL,QAAQE,KAAM,CAC5C,IAAIglB,EAAQ5iB,EAAKU,MAAMgiB,EAAY7e,MAAMwC,QACzCrG,EAAK0I,OAAOsC,aAAaxQ,KAAKgnB,OAAQoB,EAChD,KAAe,CACL5iB,EAAKgL,aAAaxQ,KAAKgnB,OAAQkB,EAAY7e,MAAMjE,K,CAEnDpF,KAAKgnB,OAAOpX,Q,CAEd5P,KAAKgnB,OAAOhX,OAAOiY,EAASpmB,GAC5B7B,KAAKgV,OAAOxD,WACZxR,KAAKwnB,eAAexnB,KAAKgnB,OAAOO,SAAUvnB,KAAKgnB,OAAOO,SAASzB,KAAKtf,QACpExG,KAAKuW,Q,GAEN,CACD9J,IAAK,YACL5K,MAAO,SAAS+W,EAAUxQ,GACxB,IAAI5B,EAASD,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAK,EAEjF,IAAIie,EAAexkB,KAAKgV,OAAOxO,SAC/B4B,EAAQmC,KAAKC,IAAIpC,EAAOoc,EAAe,GACvChe,EAAS+D,KAAKC,IAAIpC,EAAQ5B,EAAQge,EAAe,GAAKpc,EACtD,IAAIhD,OAAO,EACPijB,EAAeroB,KAAKgV,OAAOlE,KAAK1I,GAChCkgB,EAAgBjW,EAAegW,EAAc,GAC7CvX,EAAOwX,EAAc,GACrBzc,EAASyc,EAAc,GAC3B,GAAIxX,GAAQ,KAAM,OAAO,KAEzB,IAAIyX,EAAiBzX,EAAK0X,SAAS3c,EAAQ,MAE3C,IAAI4c,EAAkBpW,EAAekW,EAAgB,GAErDnjB,EAAOqjB,EAAgB,GACvB5c,EAAS4c,EAAgB,GAEzB,IAAIrS,EAAQY,SAAS0R,cACrB,GAAIliB,EAAS,EAAG,CACd4P,EAAMuS,SAASvjB,EAAMyG,GAErB,IAAI+c,EAAgB5oB,KAAKgV,OAAOlE,KAAK1I,EAAQ5B,GAE7C,IAAIqiB,EAAgBxW,EAAeuW,EAAe,GAElD9X,EAAO+X,EAAc,GACrBhd,EAASgd,EAAc,GAEvB,GAAI/X,GAAQ,KAAM,OAAO,KAEzB,IAAIgY,EAAkBhY,EAAK0X,SAAS3c,EAAQ,MAE5C,IAAIkd,EAAkB1W,EAAeyW,EAAiB,GAEtD1jB,EAAO2jB,EAAgB,GACvBld,EAASkd,EAAgB,GAEzB3S,EAAM4S,OAAO5jB,EAAMyG,GACnB,OAAOuK,EAAM2C,uBACrB,KAAa,CACL,IAAIkQ,EAAO,OACX,IAAIC,OAAO,EACX,GAAI9jB,aAAgB3B,KAAM,CACxB,GAAIoI,EAASzG,EAAK0gB,KAAKtf,OAAQ,CAC7B4P,EAAMuS,SAASvjB,EAAMyG,GACrBuK,EAAM4S,OAAO5jB,EAAMyG,EAAS,EACxC,KAAiB,CACLuK,EAAMuS,SAASvjB,EAAMyG,EAAS,GAC9BuK,EAAM4S,OAAO5jB,EAAMyG,GACnBod,EAAO,O,CAETC,EAAO9S,EAAM2C,uBACvB,KAAe,CACLmQ,EAAOpY,EAAKjB,QAAQkJ,wBACpB,GAAIlN,EAAS,EAAGod,EAAO,O,CAEzB,MAAO,CACLjQ,OAAQkQ,EAAKjQ,IAAMiQ,EAAKhQ,OACxBA,OAAQgQ,EAAKhQ,OACbC,KAAM+P,EAAKD,GACX7P,MAAO8P,EAAKD,GACZhQ,IAAKiQ,EAAKjQ,IACVI,MAAO,E,IAIZ,CACD5M,IAAK,iBACL5K,MAAO,SAASylB,IACd,IAAInS,EAAY6B,SAASgB,eACzB,GAAI7C,GAAa,MAAQA,EAAUgU,YAAc,EAAG,OAAO,KAC3D,IAAIjB,EAAc/S,EAAUiU,WAAW,GACvC,GAAIlB,GAAe,KAAM,OAAO,KAChC,IAAI9R,EAAQpW,KAAKqpB,gBAAgBnB,GACjCvU,EAAM2V,KAAK,iBAAkBlT,GAC7B,OAAOA,C,GAER,CACD3J,IAAK,WACL5K,MAAO,SAASqY,IACd,IAAIqP,EAAavpB,KAAKsnB,iBACtB,GAAIiC,GAAc,KAAM,MAAO,CAAC,KAAM,MACtC,IAAInT,EAAQpW,KAAKwpB,kBAAkBD,GACnC,MAAO,CAACnT,EAAOmT,E,GAEhB,CACD9c,IAAK,WACL5K,MAAO,SAASyY,IACd,OAAOtD,SAASyS,gBAAkBzpB,KAAKL,I,GAExC,CACD8M,IAAK,oBACL5K,MAAO,SAAS2nB,EAAkBpT,GAChC,IAAIyB,EAAS7X,KAEb,IAAI0pB,EAAY,CAAC,CAACtT,EAAM/M,MAAMjE,KAAMgR,EAAM/M,MAAMwC,SAChD,IAAKuK,EAAMiR,OAAOc,UAAW,CAC3BuB,EAAUzhB,KAAK,CAACmO,EAAM9M,IAAIlE,KAAMgR,EAAM9M,IAAIuC,Q,CAE5C,IAAI8d,EAAUD,EAAUjjB,KAAI,SAAU+hB,GACpC,IAAIoB,EAAYvX,EAAemW,EAAU,GACrCpjB,EAAOwkB,EAAU,GACjB/d,EAAS+d,EAAU,GAEvB,IAAIpkB,EAAOkJ,EAAYxL,QAAQJ,KAAKsC,EAAM,MAC1C,IAAIgD,EAAQ5C,EAAKqG,OAAOgM,EAAO7C,QAC/B,GAAInJ,IAAW,EAAG,CAChB,OAAOzD,C,MACF,GAAI5C,aAAgBkJ,EAAYxL,QAAQD,UAAW,CACxD,OAAOmF,EAAQ5C,EAAKgB,QAC9B,KAAe,CACL,OAAO4B,EAAQ5C,EAAK4C,MAAMhD,EAAMyG,E,CAE1C,IACM,IAAIvC,EAAMiB,KAAKC,IAAID,KAAKqT,IAAIjO,MAAMpF,KAAMmc,EAAmBiD,IAAW3pB,KAAKgV,OAAOxO,SAAW,GAC7F,IAAI6C,EAAQkB,KAAKC,IAAImF,MAAMpF,KAAM,CAACjB,GAAKsB,OAAO8b,EAAmBiD,KACjE,OAAO,IAAI5N,EAAM1S,EAAOC,EAAMD,E,GAE/B,CACDoD,IAAK,kBACL5K,MAAO,SAASwnB,EAAgBnB,GAC9B,IAAKnN,EAAS/a,KAAKL,KAAMuoB,EAAY2B,kBAAoB3B,EAAYC,YAAcpN,EAAS/a,KAAKL,KAAMuoB,EAAY4B,cAAe,CAChI,OAAO,I,CAET,IAAI1T,EAAQ,CACV/M,MAAO,CAAEjE,KAAM8iB,EAAY2B,eAAgBhe,OAAQqc,EAAYN,aAC/Dte,IAAK,CAAElE,KAAM8iB,EAAY4B,aAAcje,OAAQqc,EAAYJ,WAC3DT,OAAQa,GAEV,CAAC9R,EAAM/M,MAAO+M,EAAM9M,KAAKpC,SAAQ,SAAUshB,GACzC,IAAIpjB,EAAOojB,EAASpjB,KAChByG,EAAS2c,EAAS3c,OACtB,QAASzG,aAAgB3B,OAAS2B,EAAK2kB,WAAWvjB,OAAS,EAAG,CAC5D,GAAIpB,EAAK2kB,WAAWvjB,OAASqF,EAAQ,CACnCzG,EAAOA,EAAK2kB,WAAWle,GACvBA,EAAS,C,MACJ,GAAIzG,EAAK2kB,WAAWvjB,SAAWqF,EAAQ,CAC5CzG,EAAOA,EAAK4kB,UACZne,EAASzG,aAAgB3B,KAAO2B,EAAK0gB,KAAKtf,OAASpB,EAAK2kB,WAAWvjB,OAAS,CACxF,KAAiB,CACL,K,EAGJgiB,EAASpjB,KAAOA,EAAMojB,EAAS3c,OAASA,CAChD,IACM,OAAOuK,C,GAER,CACD3J,IAAK,gBACL5K,MAAO,SAASooB,EAAc7T,GAC5B,IAAIkC,EAAStY,KAEb,IAAI2pB,EAAUvT,EAAM+R,UAAY,CAAC/R,EAAMhO,OAAS,CAACgO,EAAMhO,MAAOgO,EAAMhO,MAAQgO,EAAM5P,QAClF,IAAI6W,EAAO,GACX,IAAImH,EAAexkB,KAAKgV,OAAOxO,SAC/BmjB,EAAQziB,SAAQ,SAAUkB,EAAO/H,GAC/B+H,EAAQmC,KAAKC,IAAIga,EAAe,EAAGpc,GACnC,IAAIhD,OAAO,EACP8kB,EAAgB5R,EAAOtD,OAAOlE,KAAK1I,GACnC+hB,EAAgB9X,EAAe6X,EAAe,GAC9CpZ,EAAOqZ,EAAc,GACrBte,EAASse,EAAc,GAC3B,IAAIC,EAAkBtZ,EAAK0X,SAAS3c,EAAQxL,IAAM,GAElD,IAAIgqB,EAAkBhY,EAAe+X,EAAiB,GAEtDhlB,EAAOilB,EAAgB,GACvBxe,EAASwe,EAAgB,GAEzBhN,EAAKpV,KAAK7C,EAAMyG,EACxB,IACM,GAAIwR,EAAK7W,OAAS,EAAG,CACnB6W,EAAOA,EAAKzS,OAAOyS,E,CAErB,OAAOA,C,GAER,CACD5Q,IAAK,iBACL5K,MAAO,SAAS+V,EAAe9C,GAC7B,IAAIsB,EAAQpW,KAAKqW,UACjB,GAAID,GAAS,KAAM,OACnB,IAAIyC,EAAS7Y,KAAK4Y,UAAUxC,EAAMhO,MAAOgO,EAAM5P,QAC/C,GAAIqS,GAAU,KAAM,OACpB,IAAIhF,EAAQ7T,KAAKgV,OAAOxO,SAAW,EAEnC,IAAIme,EAAe3kB,KAAKgV,OAAOxJ,KAAKjB,KAAKC,IAAI4L,EAAMhO,MAAOyL,IACtD+Q,EAAgBvS,EAAesS,EAAc,GAC7C2F,EAAQ1F,EAAc,GAE1B,IAAI2F,EAAOD,EACX,GAAIlU,EAAM5P,OAAS,EAAG,CACpB,IAAIif,EAAgBzlB,KAAKgV,OAAOxJ,KAAKjB,KAAKC,IAAI4L,EAAMhO,MAAQgO,EAAM5P,OAAQqN,IAE1E,IAAI6R,EAAgBrT,EAAeoT,EAAe,GAElD8E,EAAO7E,EAAc,E,CAEvB,GAAI4E,GAAS,MAAQC,GAAQ,KAAM,OACnC,IAAIC,EAAe1V,EAAmBiE,wBACtC,GAAIF,EAAOI,IAAMuR,EAAavR,IAAK,CACjCnE,EAAmB6C,WAAa6S,EAAavR,IAAMJ,EAAOI,G,MACrD,GAAIJ,EAAOG,OAASwR,EAAaxR,OAAQ,CAC9ClE,EAAmB6C,WAAakB,EAAOG,OAASwR,EAAaxR,M,IAGhE,CACDvM,IAAK,iBACL5K,MAAO,SAAS2lB,EAAeG,EAAWC,GACxC,IAAIC,EAAUthB,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAKohB,EAClF,IAAIG,EAAYvhB,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAKqhB,EACpF,IAAI/V,EAAQtL,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAK,MAEhFoN,EAAM2V,KAAK,iBAAkB3B,EAAWC,EAAaC,EAASC,GAC9D,GAAIH,GAAa,OAAS3nB,KAAKL,KAAK8F,YAAc,MAAQkiB,EAAUliB,YAAc,MAAQoiB,EAAQpiB,YAAc,MAAO,CACrH,M,CAEF,IAAI0P,EAAY6B,SAASgB,eACzB,GAAI7C,GAAa,KAAM,OACvB,GAAIwS,GAAa,KAAM,CACrB,IAAK3nB,KAAKsa,WAAYta,KAAKL,KAAK+X,QAChC,IAAI2P,GAAUrnB,KAAKsnB,kBAAoB,IAAID,OAC3C,GAAIA,GAAU,MAAQxV,GAAS8V,IAAcN,EAAOwC,gBAAkBjC,IAAgBP,EAAOO,aAAeC,IAAYR,EAAOyC,cAAgBhC,IAAcT,EAAOS,UAAW,CAE7K,GAAIH,EAAUxhB,SAAW,KAAM,CAC7ByhB,EAAc,GAAGnc,QAAQlL,KAAKonB,EAAUliB,WAAWskB,WAAYpC,GAC/DA,EAAYA,EAAUliB,U,CAExB,GAAIoiB,EAAQ1hB,SAAW,KAAM,CAC3B2hB,EAAY,GAAGrc,QAAQlL,KAAKsnB,EAAQpiB,WAAWskB,WAAYlC,GAC3DA,EAAUA,EAAQpiB,U,CAEpB,IAAI2Q,EAAQY,SAAS0R,cACrBtS,EAAMuS,SAAShB,EAAWC,GAC1BxR,EAAM4S,OAAOnB,EAASC,GACtB3S,EAAUsV,kBACVtV,EAAUuV,SAAStU,E,CAE7B,KAAa,CACLjB,EAAUsV,kBACVzqB,KAAKL,KAAKuX,OACVF,SAASgR,KAAKtQ,O,IAGjB,CACDjL,IAAK,WACL5K,MAAO,SAASsV,EAASf,GACvB,IAAIvE,EAAQtL,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAK,MAChF,IAAI2P,EAAS3P,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAK0M,EAAU/P,QAAQ4U,QAAQC,IAE3G,UAAWlG,IAAU,SAAU,CAC7BqE,EAASrE,EACTA,EAAQ,K,CAEV8B,EAAM2V,KAAK,WAAYlT,GACvB,GAAIA,GAAS,KAAM,CACjB,IAAIiH,EAAOrd,KAAKiqB,cAAc7T,GAC9BpW,KAAKwnB,eAAe7X,MAAM3P,KAAM0mB,EAAmBrJ,GAAMzS,OAAO,CAACiH,IACzE,KAAa,CACL7R,KAAKwnB,eAAe,K,CAEtBxnB,KAAKuW,OAAOL,E,GAEb,CACDzJ,IAAK,SACL5K,MAAO,SAAS0U,IACd,IAAIL,EAAS3P,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAK0M,EAAU/P,QAAQ4U,QAAQmE,KAE3G,IAAI0O,EAAW3qB,KAAKqW,UAEpB,IAAIuU,EAAY5qB,KAAKka,WACjB2Q,EAAaxY,EAAeuY,EAAW,GACvCvU,EAAYwU,EAAW,GACvB3C,EAAc2C,EAAW,GAE7B7qB,KAAKqW,UAAYA,EACjB,GAAIrW,KAAKqW,WAAa,KAAM,CAC1BrW,KAAKinB,WAAajnB,KAAKqW,S,CAEzB,KAAK,EAAI8N,EAAYjhB,SAASynB,EAAU3qB,KAAKqW,WAAY,CACvD,IAAI+G,EAEJ,IAAKpd,KAAK8mB,WAAaoB,GAAe,MAAQA,EAAYb,OAAOc,WAAaD,EAAY7e,MAAMjE,OAASpF,KAAKgnB,OAAOO,SAAU,CAC7HvnB,KAAKgnB,OAAOe,S,CAEd,IAAI1K,EAAO,CAACpK,EAAU/P,QAAQyS,OAAOmK,kBAAkB,EAAImE,EAAQ/gB,SAASlD,KAAKqW,YAAY,EAAI4N,EAAQ/gB,SAASynB,GAAWzU,IAC5HkH,EAAWpd,KAAK+U,SAASuI,KAAK3N,MAAMyN,EAAU,CAACnK,EAAU/P,QAAQyS,OAAOC,eAAehL,OAAOyS,IAC/F,GAAInH,IAAWjD,EAAU/P,QAAQ4U,QAAQO,OAAQ,CAC/C,IAAIkF,GAEHA,EAAYvd,KAAK+U,SAASuI,KAAK3N,MAAM4N,EAAWF,E,OAMzD,OAAOwJ,CACT,CAhagB,GAkahB,SAAS9L,EAAS7M,EAAQyU,GASxB,GAAIA,aAAsBlf,KAAM,CAC9Bkf,EAAaA,EAAWld,U,CAE1B,OAAOyI,EAAO6M,SAAS4H,E,CAGzB7iB,EAAQic,MAAQA,EAChBjc,EAAQoD,QAAU2jB,CAEX,EAEP,SAAgBhnB,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAGT,IAAI0L,EAAe,WAAc,SAASC,EAAiBzE,EAAQ0E,GAAS,IAAK,IAAIpN,EAAI,EAAGA,EAAIoN,EAAMjH,OAAQnG,IAAK,CAAE,IAAIqN,EAAaD,EAAMpN,GAAIqN,EAAWzM,WAAayM,EAAWzM,YAAc,MAAOyM,EAAW1M,aAAe,KAAM,GAAI,UAAW0M,EAAYA,EAAWb,SAAW,KAAM/L,OAAOC,eAAegI,EAAQ2E,EAAWjB,IAAKiB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAe,GAAID,EAAYJ,EAAiBG,EAAYlM,UAAWmM,GAAa,GAAIC,EAAaL,EAAiBG,EAAaE,GAAc,OAAOF,CAAY,CAAG,CAA5hB,GAEnB,IAAIG,EAAO,SAAS5M,EAAIK,EAAQC,EAAUuM,GAAY,GAAIxM,IAAW,KAAMA,EAASyM,SAASvM,UAAW,IAAIwM,EAAOnN,OAAOqL,yBAAyB5K,EAAQC,GAAW,GAAIyM,IAASX,UAAW,CAAE,IAAIY,EAASpN,OAAOqN,eAAe5M,GAAS,GAAI2M,IAAW,KAAM,CAAE,OAAOZ,SAAU,KAAQ,CAAE,OAAOpM,EAAIgN,EAAQ1M,EAAUuM,EAAU,CAAE,MAAQ,GAAI,UAAWE,EAAM,CAAE,OAAOA,EAAKpM,KAAM,KAAQ,CAAE,IAAIjB,EAASqN,EAAK/M,IAAK,GAAIN,IAAW0M,UAAW,CAAE,OAAOA,SAAU,CAAG,OAAO1M,EAAOL,KAAKwN,EAAU,CAAE,EAExe,IAAIU,EAAatO,EAAoB,GAErC,IAAIuO,EAAcJ,EAAuBG,GAEzC,SAASH,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,SAAS2C,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,SAASC,EAA2BrP,EAAMQ,GAAQ,IAAKR,EAAM,CAAE,MAAM,IAAIsP,eAAe,4DAA6D,CAAG,OAAO9O,WAAgBA,IAAS,iBAAmBA,IAAS,YAAcA,EAAOR,CAAK,CAE9O,SAASuP,EAAUC,EAAUC,GAAc,UAAWA,IAAe,YAAcA,IAAe,KAAM,CAAE,MAAM,IAAIL,UAAU,kEAAoEK,EAAY,CAAGD,EAAS9N,UAAYX,OAAO+B,OAAO2M,GAAcA,EAAW/N,UAAW,CAAE6C,YAAa,CAAEzC,MAAO0N,EAAUtO,WAAY,MAAO4L,SAAU,KAAM7L,aAAc,QAAW,GAAIwO,EAAY1O,OAAOmD,eAAiBnD,OAAOmD,eAAesL,EAAUC,GAAcD,EAASrL,UAAYsL,CAAW,CAE5e,IAAIsb,EAAQ,SAAUpb,GACpBJ,EAAUwb,EAAOpb,GAEjB,SAASob,IACP7b,EAAgBjP,KAAM8qB,GAEtB,OAAO1b,EAA2BpP,MAAO8qB,EAAM5mB,WAAapD,OAAOqN,eAAe2c,IAAQnb,MAAM3P,KAAMuG,W,CAGxGgH,EAAaud,EAAO,CAAC,CACnBre,IAAK,aACL5K,MAAO,SAASkpB,EAAW7c,EAAQkD,GACjC,GAAIlD,EAAOgD,SAAS1K,SAAW,EAAG,CAChCsH,EAAKgd,EAAMrpB,UAAUyC,WAAapD,OAAOqN,eAAe2c,EAAMrpB,WAAY,aAAczB,MAAMO,KAAKP,KAAMkO,EAAQkD,EACzH,KAAa,CACLpR,KAAKsR,Q,IAGR,CACD7E,IAAK,SACL5K,MAAO,SAAS2E,IACd,OAAO,C,GAER,CACDiG,IAAK,QACL5K,MAAO,SAASA,IACd,MAAO,E,IAEP,CAAC,CACH4K,IAAK,QACL5K,MAAO,SAASA,IACd,OAAOyL,S,KAIX,OAAOwd,CACT,CApCY,CAoCVpc,EAAYxL,QAAQG,OAEtBynB,EAAMnkB,SAAW,QACjBmkB,EAAM3kB,QAAU,KAEhBrG,EAAQoD,QAAU4nB,CAEX,EAEP,SAAgBjrB,EAAQC,EAASK,GAIjC,IAAI4D,EAAa/D,MAAQA,KAAK+D,WAAc,WACxC,IAAIC,EAAgBlD,OAAOmD,gBACtB,CAAEC,UAAW,cAAgBC,OAAS,SAAUzD,EAAG0D,GAAK1D,EAAEwD,UAAYE,CAAE,GACzE,SAAU1D,EAAG0D,GAAK,IAAK,IAAIzC,KAAKyC,EAAG,GAAIA,EAAE1C,eAAeC,GAAIjB,EAAEiB,GAAKyC,EAAEzC,EAAG,EAC5E,OAAO,SAAUjB,EAAG0D,GAChBJ,EAActD,EAAG0D,GACjB,SAASC,IAAOrE,KAAKsE,YAAc5D,CAAE,CACrCA,EAAEe,UAAY2C,IAAM,KAAOtD,OAAO+B,OAAOuB,IAAMC,EAAG5C,UAAY2C,EAAE3C,UAAW,IAAI4C,EACvF,CACC,CAT2C,GAU5CvD,OAAOC,eAAejB,EAAS,aAAc,CAAE+B,MAAO,OACtD,IAAImpB,EAAgB7qB,EAAoB,IACxC,IAAI8qB,EAAW9qB,EAAoB,IACnC,IAAIuC,EAAWvC,EAAoB,GACnC,IAAI+qB,EAA+B,SAAU1mB,GACzCT,EAAUmnB,EAAe1mB,GACzB,SAAS0mB,EAAcrb,GACnB,IAAInL,EAAQF,EAAOjE,KAAKP,KAAM6P,IAAY7P,KAC1C0E,EAAMymB,QACN,OAAOzmB,C,CAEXwmB,EAAczpB,UAAU6hB,YAAc,SAAUxZ,GAC5C9J,KAAKwQ,aAAa1G,EAC1B,EACIohB,EAAczpB,UAAUmO,OAAS,WAC7BpL,EAAO/C,UAAUmO,OAAOrP,KAAKP,MAC7BA,KAAKkR,SAAShK,SAAQ,SAAU0K,GAC5BA,EAAMhC,QAClB,GACA,EACIsb,EAAczpB,UAAU0pB,MAAQ,WAC5B,IAAIzmB,EAAQ1E,KACZA,KAAKkR,SAAW,IAAI8Z,EAAc9nB,QAElC,GAAGkG,MACE7I,KAAKP,KAAK6P,QAAQka,YAClB3G,UACAlc,SAAQ,SAAU9B,GACnB,IACI,IAAIwM,EAAQwZ,EAAShmB,GACrBV,EAAM8L,aAAaoB,EAAOlN,EAAMwM,SAASG,MAAQ/D,U,CAErD,MAAOuF,GACH,GAAIA,aAAenQ,EAAS6B,eACxB,YAEA,MAAMsO,C,CAE1B,GACA,EACIqY,EAAczpB,UAAUsP,SAAW,SAAU3I,EAAO5B,GAChD,GAAI4B,IAAU,GAAK5B,IAAWxG,KAAKwG,SAAU,CACzC,OAAOxG,KAAKsR,Q,CAEhBtR,KAAKkR,SAASma,UAAUjjB,EAAO5B,GAAQ,SAAUoL,EAAO/F,EAAQrF,GAC5DoL,EAAMb,SAASlF,EAAQrF,EACnC,GACA,EACI0kB,EAAczpB,UAAUkhB,WAAa,SAAU2I,EAAUljB,GACrD,IAAImjB,EAAKvrB,KAAKkR,SAASpO,KAAKsF,GAAQwJ,EAAQ2Z,EAAG,GAAI1f,EAAS0f,EAAG,GAC/D,GAAKD,EAAS3kB,UAAY,MAAQ2kB,EAAS1Z,IACtC0Z,EAAS3kB,UAAY,MAAQiL,aAAiB0Z,EAAW,CAC1D,MAAO,CAAC1Z,EAAO/F,E,MAEd,GAAI+F,aAAiBsZ,EAAe,CACrC,OAAOtZ,EAAM+Q,WAAW2I,EAAUzf,E,KAEjC,CACD,MAAO,CAAC,MAAM,E,CAE1B,EACIqf,EAAczpB,UAAUoP,YAAc,SAAUya,EAAUljB,EAAO5B,GAC7D,GAAI4B,SAAU,EAAQ,CAAEA,EAAQ,CAAE,CAClC,GAAI5B,SAAW,EAAQ,CAAEA,EAASuT,OAAOC,SAAU,CACnD,IAAInJ,EAAc,GAClB,IAAI2a,EAAahlB,EACjBxG,KAAKkR,SAASma,UAAUjjB,EAAO5B,GAAQ,SAAUoL,EAAOxJ,EAAO5B,GAC3D,GAAK8kB,EAAS3kB,UAAY,MAAQ2kB,EAAS1Z,IACtC0Z,EAAS3kB,UAAY,MAAQiL,aAAiB0Z,EAAW,CAC1Dza,EAAY5I,KAAK2J,E,CAErB,GAAIA,aAAiBsZ,EAAe,CAChCra,EAAcA,EAAYjG,OAAOgH,EAAMf,YAAYya,EAAUljB,EAAOojB,G,CAExEA,GAAchlB,CAC1B,IACQ,OAAOqK,CACf,EACIqa,EAAczpB,UAAUgqB,OAAS,WAC7BzrB,KAAKkR,SAAShK,SAAQ,SAAU0K,GAC5BA,EAAM6Z,QAClB,IACQjnB,EAAO/C,UAAUgqB,OAAOlrB,KAAKP,KACrC,EACIkrB,EAAczpB,UAAU0O,SAAW,SAAU/H,EAAO5B,EAAQ7F,EAAMkB,GAC9D7B,KAAKkR,SAASma,UAAUjjB,EAAO5B,GAAQ,SAAUoL,EAAO/F,EAAQrF,GAC5DoL,EAAMzB,SAAStE,EAAQrF,EAAQ7F,EAAMkB,EACjD,GACA,EACIqpB,EAAczpB,UAAU2O,SAAW,SAAUhI,EAAOvG,EAAOwO,GACvD,IAAIkb,EAAKvrB,KAAKkR,SAASpO,KAAKsF,GAAQwJ,EAAQ2Z,EAAG,GAAI1f,EAAS0f,EAAG,GAC/D,GAAI3Z,EAAO,CACPA,EAAMxB,SAASvE,EAAQhK,EAAOwO,E,KAE7B,CACD,IAAI7K,EAAO6K,GAAO,KAAO3N,EAASG,OAAO,OAAQhB,GAASa,EAASG,OAAOhB,EAAOwO,GACjFrQ,KAAKsjB,YAAY9d,E,CAE7B,EACI0lB,EAAczpB,UAAU+O,aAAe,SAAUkb,EAAWC,GACxD,GAAI3rB,KAAKgS,QAAQD,iBAAmB,OAC/B/R,KAAKgS,QAAQD,gBAAgB6Z,MAAK,SAAUha,GACzC,OAAO8Z,aAAqB9Z,CAC5C,IAAgB,CACJ,MAAM,IAAIlP,EAAS6B,eAAe,iBAAmBmnB,EAAU1Z,QAAQrL,SAAW,SAAW3G,KAAKgS,QAAQrL,S,CAE9G+kB,EAAUX,WAAW/qB,KAAM2rB,EACnC,EACIT,EAAczpB,UAAU+E,OAAS,WAC7B,OAAOxG,KAAKkR,SAASlI,QAAO,SAAU6iB,EAAMja,GACxC,OAAOia,EAAOja,EAAMpL,Q,GACrB,EACX,EACI0kB,EAAczpB,UAAU8P,aAAe,SAAUua,EAAc/U,GAC3D/W,KAAKkR,SAAShK,SAAQ,SAAU0K,GAC5Bka,EAAatb,aAAaoB,EAAOmF,EAC7C,GACA,EACImU,EAAczpB,UAAU+P,SAAW,SAAUC,GACzCjN,EAAO/C,UAAU+P,SAASjR,KAAKP,KAAMyR,GACrC,GAAIzR,KAAKkR,SAAS1K,SAAW,EAAG,CAC5B,GAAIxG,KAAKgS,QAAQF,cAAgB,KAAM,CACnC,IAAIF,EAAQlP,EAASG,OAAO7C,KAAKgS,QAAQF,cACzC9R,KAAKsjB,YAAY1R,GACjBA,EAAMJ,SAASC,E,KAEd,CACDzR,KAAKsR,Q,EAGrB,EACI4Z,EAAczpB,UAAUiQ,KAAO,SAAUtJ,EAAO2jB,GAC5C,GAAIA,SAAc,EAAQ,CAAEA,EAAY,KAAM,CAC9C,IAAIR,EAAKvrB,KAAKkR,SAASpO,KAAKsF,EAAO2jB,GAAYna,EAAQ2Z,EAAG,GAAI1f,EAAS0f,EAAG,GAC1E,IAAI/C,EAAW,CAAC,CAACxoB,KAAMoI,IACvB,GAAIwJ,aAAiBsZ,EAAe,CAChC,OAAO1C,EAAS5d,OAAOgH,EAAMF,KAAK7F,EAAQkgB,G,MAEzC,GAAIna,GAAS,KAAM,CACpB4W,EAASvgB,KAAK,CAAC2J,EAAO/F,G,CAE1B,OAAO2c,CACf,EACI0C,EAAczpB,UAAUkQ,YAAc,SAAUC,GAC5C5R,KAAKkR,SAASI,OAAOM,EAC7B,EACIsZ,EAAczpB,UAAUugB,QAAU,SAAUjZ,GACxC,GAAIA,aAAkBmiB,EAAe,CACjCniB,EAAOwI,aAAavR,K,CAExBwE,EAAO/C,UAAUugB,QAAQzhB,KAAKP,KAAM+I,EAC5C,EACImiB,EAAczpB,UAAUyE,MAAQ,SAAUkC,EAAOyJ,GAC7C,GAAIA,SAAU,EAAQ,CAAEA,EAAQ,KAAM,CACtC,IAAKA,EAAO,CACR,GAAIzJ,IAAU,EACV,OAAOpI,KACX,GAAIoI,IAAUpI,KAAKwG,SACf,OAAOxG,KAAK4J,I,CAEpB,IAAIwe,EAAQpoB,KAAKkN,QACjBlN,KAAKkO,OAAOsC,aAAa4X,EAAOpoB,KAAK4J,MACrC5J,KAAKkR,SAASma,UAAUjjB,EAAOpI,KAAKwG,UAAU,SAAUoL,EAAO/F,EAAQrF,GACnEoL,EAAQA,EAAM1L,MAAM2F,EAAQgG,GAC5BuW,EAAM9E,YAAY1R,EAC9B,IACQ,OAAOwW,CACf,EACI8C,EAAczpB,UAAU+hB,OAAS,WAC7BxjB,KAAKuR,aAAavR,KAAKkO,OAAQlO,KAAK4J,MACpC5J,KAAKsR,QACb,EACI4Z,EAAczpB,UAAU8U,OAAS,SAAUJ,EAAW1E,GAClD,IAAI/M,EAAQ1E,KACZ,IAAIgsB,EAAa,GACjB,IAAIC,EAAe,GACnB9V,EAAUjP,SAAQ,SAAUglB,GACxB,GAAIA,EAASnjB,SAAWrE,EAAMmL,SAAWqc,EAASrW,OAAS,YAAa,CACpEmW,EAAW/jB,KAAK0H,MAAMqc,EAAYE,EAASF,YAC3CC,EAAahkB,KAAK0H,MAAMsc,EAAcC,EAASD,a,CAE/D,IACQA,EAAa/kB,SAAQ,SAAU9B,GAI3B,GAAIA,EAAKK,YAAc,MAEnBL,EAAKe,UAAY,UACjB6Q,SAASgR,KAAKmE,wBAAwB/mB,GAAQC,KAAK+mB,+BAAgC,CACnF,M,CAEJ,IAAI5mB,EAAO9C,EAASI,KAAKsC,GACzB,GAAII,GAAQ,KACR,OACJ,GAAIA,EAAKqK,QAAQpK,YAAc,MAAQD,EAAKqK,QAAQpK,aAAef,EAAMmL,QAAS,CAC9ErK,EAAKimB,Q,CAErB,IACQO,EACKtjB,QAAO,SAAUtD,GAClB,OAAOA,EAAKK,YAAcf,EAAMmL,OAC5C,IACa8R,MAAK,SAAUJ,EAAGnd,GACnB,GAAImd,IAAMnd,EACN,OAAO,EACX,GAAImd,EAAE4K,wBAAwB/nB,GAAKiB,KAAKgnB,4BAA6B,CACjE,OAAO,C,CAEX,OAAO,CACnB,IACanlB,SAAQ,SAAU9B,GACnB,IAAIumB,EAAU,KACd,GAAIvmB,EAAKknB,aAAe,KAAM,CAC1BX,EAAUjpB,EAASI,KAAKsC,EAAKknB,Y,CAEjC,IAAI9mB,EAAO4lB,EAAShmB,GACpB,GAAII,EAAKoE,MAAQ+hB,GAAWnmB,EAAKoE,MAAQ,KAAM,CAC3C,GAAIpE,EAAK0I,QAAU,KAAM,CACrB1I,EAAK0I,OAAOyD,YAAYjN,E,CAE5BA,EAAM8L,aAAahL,EAAMmmB,GAAWre,U,CAEpD,GACA,EACI,OAAO4d,CACX,CA9NiB,CA8NfD,EAAS/nB,SACX,SAASkoB,EAAShmB,GACd,IAAII,EAAO9C,EAASI,KAAKsC,GACzB,GAAII,GAAQ,KAAM,CACd,IACIA,EAAO9C,EAASG,OAAOuC,E,CAE3B,MAAOsc,GACHlc,EAAO9C,EAASG,OAAOH,EAASE,MAAMkD,QACtC,GAAGsD,MAAM7I,KAAK6E,EAAK2kB,YAAY7iB,SAAQ,SAAU0K,GAE7CpM,EAAKqK,QAAQyT,YAAY1R,EACzC,IACY,GAAIxM,EAAKK,WAAY,CACjBL,EAAKK,WAAW8mB,aAAa/mB,EAAKqK,QAASzK,E,CAE/CI,EAAKoK,Q,EAGb,OAAOpK,C,CAEX1F,EAAQoD,QAAUgoB,CAGX,EAEP,SAAgBrrB,EAAQC,EAASK,GAIjC,IAAI4D,EAAa/D,MAAQA,KAAK+D,WAAc,WACxC,IAAIC,EAAgBlD,OAAOmD,gBACtB,CAAEC,UAAW,cAAgBC,OAAS,SAAUzD,EAAG0D,GAAK1D,EAAEwD,UAAYE,CAAE,GACzE,SAAU1D,EAAG0D,GAAK,IAAK,IAAIzC,KAAKyC,EAAG,GAAIA,EAAE1C,eAAeC,GAAIjB,EAAEiB,GAAKyC,EAAEzC,EAAG,EAC5E,OAAO,SAAUjB,EAAG0D,GAChBJ,EAActD,EAAG0D,GACjB,SAASC,IAAOrE,KAAKsE,YAAc5D,CAAE,CACrCA,EAAEe,UAAY2C,IAAM,KAAOtD,OAAO+B,OAAOuB,IAAMC,EAAG5C,UAAY2C,EAAE3C,UAAW,IAAI4C,EACvF,CACC,CAT2C,GAU5CvD,OAAOC,eAAejB,EAAS,aAAc,CAAE+B,MAAO,OACtD,IAAIS,EAAenC,EAAoB,IACvC,IAAIsC,EAAUtC,EAAoB,IAClC,IAAI2B,EAAc3B,EAAoB,IACtC,IAAIuC,EAAWvC,EAAoB,GACnC,IAAIqsB,EAA4B,SAAUhoB,GACtCT,EAAUyoB,EAAYhoB,GACtB,SAASgoB,EAAW3c,GAChB,IAAInL,EAAQF,EAAOjE,KAAKP,KAAM6P,IAAY7P,KAC1C0E,EAAME,WAAa,IAAInC,EAAQS,QAAQwB,EAAMmL,SAC7C,OAAOnL,C,CAEX8nB,EAAW1c,QAAU,SAAUD,GAC3B,UAAW7P,KAAKmG,UAAY,SAAU,CAClC,OAAO,I,MAEN,GAAIhC,MAAM4C,QAAQ/G,KAAKmG,SAAU,CAClC,OAAO0J,EAAQ1J,QAAQsmB,a,CAE3B,OAAOnf,SACf,EACIkf,EAAW/qB,UAAUuO,OAAS,SAAUrP,EAAMkB,GAC1C,IAAImO,EAAStN,EAASK,MAAMpC,GAC5B,GAAIqP,aAAkB1N,EAAaY,QAAS,CACxClD,KAAK4E,WAAWqL,UAAUD,EAAQnO,E,MAEjC,GAAIA,EAAO,CACZ,GAAImO,GAAU,OAASrP,IAASX,KAAKgS,QAAQrL,UAAY3G,KAAK8P,UAAUnP,KAAUkB,GAAQ,CACtF7B,KAAK0sB,YAAY/rB,EAAMkB,E,EAGvC,EACI2qB,EAAW/qB,UAAUqO,QAAU,WAC3B,IAAIA,EAAU9P,KAAK4E,WAAWmL,SAC9B,IAAIC,EAAShQ,KAAKgS,QAAQlC,QAAQ9P,KAAK6P,SACvC,GAAIG,GAAU,KAAM,CAChBF,EAAQ9P,KAAKgS,QAAQrL,UAAYqJ,C,CAErC,OAAOF,CACf,EACI0c,EAAW/qB,UAAUirB,YAAc,SAAU/rB,EAAMkB,GAC/C,IAAI8qB,EAAcnoB,EAAO/C,UAAUirB,YAAYnsB,KAAKP,KAAMW,EAAMkB,GAChE7B,KAAK4E,WAAWoI,KAAK2f,GACrB,OAAOA,CACf,EACIH,EAAW/qB,UAAU8U,OAAS,SAAUJ,EAAW1E,GAC/C,IAAI/M,EAAQ1E,KACZwE,EAAO/C,UAAU8U,OAAOhW,KAAKP,KAAMmW,EAAW1E,GAC9C,GAAI0E,EAAUyV,MAAK,SAAUM,GACzB,OAAOA,EAASnjB,SAAWrE,EAAMmL,SAAWqc,EAASrW,OAAS,YAC1E,IAAY,CACA7V,KAAK4E,WAAWumB,O,CAE5B,EACIqB,EAAW/qB,UAAUyc,KAAO,SAAUvd,EAAMkB,GACxC,IAAI+qB,EAAUpoB,EAAO/C,UAAUyc,KAAK3d,KAAKP,KAAMW,EAAMkB,GACrD,GAAI+qB,aAAmBJ,GAAcI,EAAQ5a,QAAQtM,QAAU1F,KAAKgS,QAAQtM,MAAO,CAC/E1F,KAAK4E,WAAWioB,KAAKD,E,CAEzB,OAAOA,CACf,EACI,OAAOJ,CACX,CAzDc,CAyDZ1qB,EAAYoB,SACdpD,EAAQoD,QAAUspB,CAGX,EAEP,SAAgB3sB,EAAQC,EAASK,GAIjC,IAAI4D,EAAa/D,MAAQA,KAAK+D,WAAc,WACxC,IAAIC,EAAgBlD,OAAOmD,gBACtB,CAAEC,UAAW,cAAgBC,OAAS,SAAUzD,EAAG0D,GAAK1D,EAAEwD,UAAYE,CAAE,GACzE,SAAU1D,EAAG0D,GAAK,IAAK,IAAIzC,KAAKyC,EAAG,GAAIA,EAAE1C,eAAeC,GAAIjB,EAAEiB,GAAKyC,EAAEzC,EAAG,EAC5E,OAAO,SAAUjB,EAAG0D,GAChBJ,EAActD,EAAG0D,GACjB,SAASC,IAAOrE,KAAKsE,YAAc5D,CAAE,CACrCA,EAAEe,UAAY2C,IAAM,KAAOtD,OAAO+B,OAAOuB,IAAMC,EAAG5C,UAAY2C,EAAE3C,UAAW,IAAI4C,EACvF,CACC,CAT2C,GAU5CvD,OAAOC,eAAejB,EAAS,aAAc,CAAE+B,MAAO,OACtD,IAAIopB,EAAW9qB,EAAoB,IACnC,IAAIuC,EAAWvC,EAAoB,GACnC,IAAI2sB,EAA0B,SAAUtoB,GACpCT,EAAU+oB,EAAUtoB,GACpB,SAASsoB,IACL,OAAOtoB,IAAW,MAAQA,EAAOmL,MAAM3P,KAAMuG,YAAcvG,I,CAE/D8sB,EAASjrB,MAAQ,SAAUgO,GACvB,OAAO,IACf,EACIid,EAASrrB,UAAU2G,MAAQ,SAAUhD,EAAMyG,GACvC,GAAI7L,KAAK6P,UAAYzK,GACjBpF,KAAK6P,QAAQsc,wBAAwB/mB,GAAQC,KAAK+mB,+BAAgC,CAClF,OAAO7hB,KAAKC,IAAIqB,EAAQ,E,CAE5B,OAAO,CACf,EACIihB,EAASrrB,UAAU+mB,SAAW,SAAUpgB,EAAO2jB,GAC3C,IAAIlgB,EAAS,GAAGJ,QAAQlL,KAAKP,KAAKkO,OAAO2B,QAAQka,WAAY/pB,KAAK6P,SAClE,GAAIzH,EAAQ,EACRyD,GAAU,EACd,MAAO,CAAC7L,KAAKkO,OAAO2B,QAAShE,EACrC,EACIihB,EAASrrB,UAAUI,MAAQ,WACvB,IAAI0pB,EACJ,OAAOA,EAAK,GAAIA,EAAGvrB,KAAKgS,QAAQrL,UAAY3G,KAAKgS,QAAQnQ,MAAM7B,KAAK6P,UAAY,KAAM0b,CAC9F,EACIuB,EAASpnB,MAAQhD,EAASE,MAAMmqB,YAChC,OAAOD,CACX,CA3BY,CA2BV7B,EAAS/nB,SACXpD,EAAQoD,QAAU4pB,CAGX,EAEP,SAAgBjtB,EAAQC,EAASK,GAEjC,IAAIkH,EAAQlH,EAAoB,IAChC,IAAImH,EAASnH,EAAoB,GAGjC,IAAI6sB,EAAM,CACRpoB,WAAY,CACViF,QAAS,SAAU0X,EAAGnd,EAAG6oB,GACvB,UAAW1L,IAAM,SAAUA,EAAI,GAC/B,UAAWnd,IAAM,SAAUA,EAAI,GAC/B,IAAIQ,EAAa0C,EAAO,KAAM,GAAIlD,GAClC,IAAK6oB,EAAU,CACbroB,EAAa9D,OAAOkH,KAAKpD,GAAYoE,QAAO,SAAUgE,EAAMP,GAC1D,GAAI7H,EAAW6H,IAAQ,KAAM,CAC3BO,EAAKP,GAAO7H,EAAW6H,E,CAEzB,OAAOO,C,GACN,G,CAEL,IAAK,IAAIP,KAAO8U,EAAG,CACjB,GAAIA,EAAE9U,KAASa,WAAalJ,EAAEqI,KAASa,UAAW,CAChD1I,EAAW6H,GAAO8U,EAAE9U,E,EAGxB,OAAO3L,OAAOkH,KAAKpD,GAAY4B,OAAS,EAAI5B,EAAa0I,S,EAG3DlG,KAAM,SAASma,EAAGnd,GAChB,UAAWmd,IAAM,SAAUA,EAAI,GAC/B,UAAWnd,IAAM,SAAUA,EAAI,GAC/B,IAAIQ,EAAa9D,OAAOkH,KAAKuZ,GAAG3W,OAAO9J,OAAOkH,KAAK5D,IAAI4E,QAAO,SAAUpE,EAAY6H,GAClF,IAAKpF,EAAMka,EAAE9U,GAAMrI,EAAEqI,IAAO,CAC1B7H,EAAW6H,GAAOrI,EAAEqI,KAASa,UAAY,KAAOlJ,EAAEqI,E,CAEpD,OAAO7H,C,GACN,IACH,OAAO9D,OAAOkH,KAAKpD,GAAY4B,OAAS,EAAI5B,EAAa0I,S,EAG3D5B,UAAW,SAAU6V,EAAGnd,EAAGuH,GACzB,UAAW4V,IAAM,SAAU,OAAOnd,EAClC,UAAWA,IAAM,SAAU,OAAOkJ,UAClC,IAAK3B,EAAU,OAAOvH,EACtB,IAAIQ,EAAa9D,OAAOkH,KAAK5D,GAAG4E,QAAO,SAAUpE,EAAY6H,GAC3D,GAAI8U,EAAE9U,KAASa,UAAW1I,EAAW6H,GAAOrI,EAAEqI,GAC9C,OAAO7H,C,GACN,IACH,OAAO9D,OAAOkH,KAAKpD,GAAY4B,OAAS,EAAI5B,EAAa0I,S,GAI7D7D,SAAU,SAAU7B,GAClB,OAAO,IAAIslB,EAAStlB,E,EAGtBpB,OAAQ,SAAUe,GAChB,UAAWA,EAAG,YAAc,SAAU,CACpC,OAAOA,EAAG,S,MACL,UAAWA,EAAGY,SAAW,SAAU,CACxC,OAAOZ,EAAGY,MAChB,KAAW,CACL,cAAcZ,EAAGM,SAAW,SAAWN,EAAGM,OAAOrB,OAAS,C,IAMhE,SAAS0mB,EAAStlB,GAChB5H,KAAK4H,IAAMA,EACX5H,KAAKoI,MAAQ,EACbpI,KAAK6L,OAAS,CAChB,CAEAqhB,EAASzrB,UAAUiI,QAAU,WAC3B,OAAO1J,KAAKqK,aAAed,QAC7B,EAEA2jB,EAASzrB,UAAUmI,KAAO,SAAUpD,GAClC,IAAKA,EAAQA,EAAS+C,SACtB,IAAII,EAAS3J,KAAK4H,IAAI5H,KAAKoI,OAC3B,GAAIuB,EAAQ,CACV,IAAIkC,EAAS7L,KAAK6L,OAClB,IAAIX,EAAW8hB,EAAIxmB,OAAOmD,GAC1B,GAAInD,GAAU0E,EAAWW,EAAQ,CAC/BrF,EAAS0E,EAAWW,EACpB7L,KAAKoI,OAAS,EACdpI,KAAK6L,OAAS,CACpB,KAAW,CACL7L,KAAK6L,QAAUrF,C,CAEjB,UAAWmD,EAAO,YAAc,SAAU,CACxC,MAAO,CAAEzB,OAAU1B,EACzB,KAAW,CACL,IAAI2mB,EAAQ,GACZ,GAAIxjB,EAAO/E,WAAY,CACrBuoB,EAAMvoB,WAAa+E,EAAO/E,U,CAE5B,UAAW+E,EAAOxB,SAAW,SAAU,CACrCglB,EAAMhlB,OAAS3B,C,MACV,UAAWmD,EAAO9B,SAAW,SAAU,CAC5CslB,EAAMtlB,OAAS8B,EAAO9B,OAAOulB,OAAOvhB,EAAQrF,EACpD,KAAa,CAEL2mB,EAAMtlB,OAAS8B,EAAO9B,M,CAExB,OAAOslB,C,CAEb,KAAS,CACL,MAAO,CAAEhlB,OAAQoB,S,CAErB,EAEA2jB,EAASzrB,UAAUyI,KAAO,WACxB,OAAOlK,KAAK4H,IAAI5H,KAAKoI,MACvB,EAEA8kB,EAASzrB,UAAU4I,WAAa,WAC9B,GAAIrK,KAAK4H,IAAI5H,KAAKoI,OAAQ,CAExB,OAAO4kB,EAAIxmB,OAAOxG,KAAK4H,IAAI5H,KAAKoI,QAAUpI,KAAK6L,MACnD,KAAS,CACL,OAAOtC,Q,CAEX,EAEA2jB,EAASzrB,UAAU2I,SAAW,WAC5B,GAAIpK,KAAK4H,IAAI5H,KAAKoI,OAAQ,CACxB,UAAWpI,KAAK4H,IAAI5H,KAAKoI,OAAO,YAAc,SAAU,CACtD,MAAO,QACb,MAAW,UAAWpI,KAAK4H,IAAI5H,KAAKoI,OAAOD,SAAW,SAAU,CAC1D,MAAO,QACb,KAAW,CACL,MAAO,Q,EAGX,MAAO,QACT,EAEA+kB,EAASzrB,UAAUkJ,KAAO,WACxB,IAAK3K,KAAK0J,UAAW,CACnB,MAAO,EACX,MAAS,GAAI1J,KAAK6L,SAAW,EAAG,CAC5B,OAAO7L,KAAK4H,IAAIwB,MAAMpJ,KAAKoI,MAC/B,KAAS,CACL,IAAIyD,EAAS7L,KAAK6L,OAClB,IAAIzD,EAAQpI,KAAKoI,MACjB,IAAIwB,EAAO5J,KAAK4J,OAChB,IAAIe,EAAO3K,KAAK4H,IAAIwB,MAAMpJ,KAAKoI,OAC/BpI,KAAK6L,OAASA,EACd7L,KAAKoI,MAAQA,EACb,MAAO,CAACwB,GAAMgB,OAAOD,E,CAEzB,EAGA9K,EAAOC,QAAUktB,CAGV,EAEP,SAAgBntB,EAAQC,GAExB,IAAIoN,EAAQ,WAGZ,SAASmgB,EAAY/gB,EAAKuJ,GACxB,OAAOA,GAAQ,MAAQvJ,aAAeuJ,C,CAGxC,IAAIyX,EACJ,IACEA,EAAYC,G,CACZ,MAAMC,GAGNF,EAAY,WAAW,C,CAGzB,IAAIG,EACJ,IACEA,EAAYC,G,CACZ,MAAMF,GACNC,EAAY,WAAW,C,CAGzB,IAAIE,EACJ,IACEA,EAAgBC,O,CAChB,MAAMJ,GACNG,EAAgB,WAAW,C,CAwB7B,SAASzgB,EAAMgB,EAAQ2f,EAAUC,EAAOrsB,EAAWssB,GACjD,UAAWF,IAAa,SAAU,CAChCC,EAAQD,EAASC,MACjBrsB,EAAYosB,EAASpsB,UACrBssB,EAAuBF,EAASE,qBAChCF,EAAWA,EAASA,Q,CAItB,IAAIG,EAAa,GACjB,IAAIC,EAAc,GAElB,IAAIC,SAAmBC,QAAU,YAEjC,UAAWN,GAAY,YACrBA,EAAW,KAEb,UAAWC,GAAS,YAClBA,EAAQvkB,SAGV,SAASya,EAAO9V,EAAQ4f,GAEtB,GAAI5f,IAAW,KACb,OAAO,KAET,GAAI4f,IAAU,EACZ,OAAO5f,EAET,IAAI0D,EACJ,IAAIwc,EACJ,UAAWlgB,GAAU,SAAU,CAC7B,OAAOA,C,CAGT,GAAImf,EAAYnf,EAAQof,GAAY,CAClC1b,EAAQ,IAAI0b,C,MACP,GAAID,EAAYnf,EAAQuf,GAAY,CACzC7b,EAAQ,IAAI6b,C,MACP,GAAIJ,EAAYnf,EAAQyf,GAAgB,CAC7C/b,EAAQ,IAAI+b,GAAc,SAAUU,EAASC,GAC3CpgB,EAAOqgB,MAAK,SAAS1sB,GACnBwsB,EAAQrK,EAAOniB,EAAOisB,EAAQ,G,IAC7B,SAASjb,GACVyb,EAAOtK,EAAOnR,EAAKib,EAAQ,GACrC,GACA,G,MACW,GAAI5gB,EAAMshB,UAAUtgB,GAAS,CAClC0D,EAAQ,E,MACH,GAAI1E,EAAMuhB,WAAWvgB,GAAS,CACnC0D,EAAQ,IAAI8c,OAAOxgB,EAAOgI,OAAQyY,EAAiBzgB,IACnD,GAAIA,EAAO0gB,UAAWhd,EAAMgd,UAAY1gB,EAAO0gB,S,MAC1C,GAAI1hB,EAAM2hB,SAAS3gB,GAAS,CACjC0D,EAAQ,IAAIqP,KAAK/S,EAAOgT,U,MACnB,GAAIgN,GAAaC,OAAO9M,SAASnT,GAAS,CAC/C,GAAIigB,OAAOW,YAAa,CAEtBld,EAAQuc,OAAOW,YAAY5gB,EAAO1H,OAC1C,KAAa,CAELoL,EAAQ,IAAIuc,OAAOjgB,EAAO1H,O,CAE5B0H,EAAOlB,KAAK4E,GACZ,OAAOA,C,MACF,GAAIyb,EAAYnf,EAAQvJ,OAAQ,CACrCiN,EAAQ9Q,OAAO+B,OAAOqL,EAC5B,KAAW,CACL,UAAWzM,GAAa,YAAa,CACnC2sB,EAAQttB,OAAOqN,eAAeD,GAC9B0D,EAAQ9Q,OAAO+B,OAAOurB,E,KAEnB,CACHxc,EAAQ9Q,OAAO+B,OAAOpB,GACtB2sB,EAAQ3sB,C,EAIZ,GAAIosB,EAAU,CACZ,IAAIzlB,EAAQ4lB,EAAWviB,QAAQyC,GAE/B,GAAI9F,IAAS,EAAI,CACf,OAAO6lB,EAAY7lB,E,CAErB4lB,EAAW/lB,KAAKiG,GAChB+f,EAAYhmB,KAAK2J,E,CAGnB,GAAIyb,EAAYnf,EAAQof,GAAY,CAClCpf,EAAOhH,SAAQ,SAASrF,EAAO4K,GAC7B,IAAIsiB,EAAW/K,EAAOvX,EAAKqhB,EAAQ,GACnC,IAAIkB,EAAahL,EAAOniB,EAAOisB,EAAQ,GACvClc,EAAMqd,IAAIF,EAAUC,EAC5B,G,CAEI,GAAI3B,EAAYnf,EAAQuf,GAAY,CAClCvf,EAAOhH,SAAQ,SAASrF,GACtB,IAAIqtB,EAAalL,EAAOniB,EAAOisB,EAAQ,GACvClc,EAAM+C,IAAIua,EAClB,G,CAGI,IAAK,IAAI7uB,KAAK6N,EAAQ,CACpB,IAAIihB,EACJ,GAAIf,EAAO,CACTe,EAAQruB,OAAOqL,yBAAyBiiB,EAAO/tB,E,CAGjD,GAAI8uB,GAASA,EAAMF,KAAO,KAAM,CAC9B,Q,CAEFrd,EAAMvR,GAAK2jB,EAAO9V,EAAO7N,GAAIytB,EAAQ,E,CAGvC,GAAIhtB,OAAOsuB,sBAAuB,CAChC,IAAIC,EAAUvuB,OAAOsuB,sBAAsBlhB,GAC3C,IAAK,IAAI7N,EAAI,EAAGA,EAAIgvB,EAAQ7oB,OAAQnG,IAAK,CAGvC,IAAIivB,EAASD,EAAQhvB,GACrB,IAAIqN,EAAa5M,OAAOqL,yBAAyB+B,EAAQohB,GACzD,GAAI5hB,IAAeA,EAAWzM,aAAe8sB,EAAsB,CACjE,Q,CAEFnc,EAAM0d,GAAUtL,EAAO9V,EAAOohB,GAASxB,EAAQ,GAC/C,IAAKpgB,EAAWzM,WAAY,CAC1BH,OAAOC,eAAe6Q,EAAO0d,EAAQ,CACnCruB,WAAY,O,GAMpB,GAAI8sB,EAAsB,CACxB,IAAIwB,EAAmBzuB,OAAO0uB,oBAAoBthB,GAClD,IAAK,IAAI7N,EAAI,EAAGA,EAAIkvB,EAAiB/oB,OAAQnG,IAAK,CAChD,IAAIovB,EAAeF,EAAiBlvB,GACpC,IAAIqN,EAAa5M,OAAOqL,yBAAyB+B,EAAQuhB,GACzD,GAAI/hB,GAAcA,EAAWzM,WAAY,CACvC,Q,CAEF2Q,EAAM6d,GAAgBzL,EAAO9V,EAAOuhB,GAAe3B,EAAQ,GAC3DhtB,OAAOC,eAAe6Q,EAAO6d,EAAc,CACzCxuB,WAAY,O,EAKlB,OAAO2Q,C,CAGT,OAAOoS,EAAO9V,EAAQ4f,E,CAUxB5gB,EAAMwiB,eAAiB,SAASA,EAAexhB,GAC7C,GAAIA,IAAW,KACb,OAAO,KAET,IAAIzN,EAAI,WAAY,EACpBA,EAAEgB,UAAYyM,EACd,OAAO,IAAIzN,CACb,EAIA,SAASkvB,EAAW9uB,GAClB,OAAOC,OAAOW,UAAUwK,SAAS1L,KAAKM,E,CAExCqM,EAAMyiB,WAAaA,EAEnB,SAASd,EAAShuB,GAChB,cAAcA,IAAM,UAAY8uB,EAAW9uB,KAAO,e,CAEpDqM,EAAM2hB,SAAWA,EAEjB,SAASL,EAAU3tB,GACjB,cAAcA,IAAM,UAAY8uB,EAAW9uB,KAAO,gB,CAEpDqM,EAAMshB,UAAYA,EAElB,SAASC,EAAW5tB,GAClB,cAAcA,IAAM,UAAY8uB,EAAW9uB,KAAO,iB,CAEpDqM,EAAMuhB,WAAaA,EAEnB,SAASE,EAAiBiB,GACxB,IAAIC,EAAQ,GACZ,GAAID,EAAGE,OAAQD,GAAS,IACxB,GAAID,EAAGG,WAAYF,GAAS,IAC5B,GAAID,EAAGI,UAAWH,GAAS,IAC3B,OAAOA,C,CAET3iB,EAAMyhB,iBAAmBA,EAEzB,OAAOzhB,CACN,CA5PW,GA8PZ,UAAWrN,IAAW,UAAYA,EAAOC,QAAS,CAChDD,EAAOC,QAAUoN,C,CAIZ,EAEP,SAAgBrN,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAGT,IAAIwQ,EAAiB,WAAc,SAASC,EAAclG,EAAK/L,GAAK,IAAIkS,EAAO,GAAI,IAAIC,EAAK,KAAM,IAAIC,EAAK,MAAO,IAAIC,EAAKpF,UAAW,IAAM,IAAK,IAAIhH,EAAK8F,EAAIgG,OAAO3I,YAAakJ,IAAMH,GAAMG,EAAKrM,EAAGsD,QAAQgJ,MAAOJ,EAAK,KAAM,CAAED,EAAKtK,KAAK0K,EAAG9Q,OAAQ,GAAIxB,GAAKkS,EAAK/L,SAAWnG,EAAG,KAAM,CAAE,CAAG,MAAOwS,GAAOJ,EAAK,KAAMC,EAAKG,CAAI,CAAE,QAAW,IAAM,IAAKL,GAAMlM,EAAG,UAAWA,EAAG,WAAY,CAAE,QAAW,GAAImM,EAAI,MAAMC,CAAG,CAAE,CAAG,OAAOH,CAAK,CAAG,OAAO,SAAUnG,EAAK/L,GAAK,GAAI8D,MAAM4C,QAAQqF,GAAM,CAAE,OAAOA,CAAI,MAAQ,GAAIgG,OAAO3I,YAAY3I,OAAOsL,GAAM,CAAE,OAAOkG,EAAclG,EAAK/L,EAAG,KAAQ,CAAE,MAAM,IAAI8O,UAAU,uDAAwD,CAAE,CAAG,CAA9nB,GAErB,IAAI5B,EAAe,WAAc,SAASC,EAAiBzE,EAAQ0E,GAAS,IAAK,IAAIpN,EAAI,EAAGA,EAAIoN,EAAMjH,OAAQnG,IAAK,CAAE,IAAIqN,EAAaD,EAAMpN,GAAIqN,EAAWzM,WAAayM,EAAWzM,YAAc,MAAOyM,EAAW1M,aAAe,KAAM,GAAI,UAAW0M,EAAYA,EAAWb,SAAW,KAAM/L,OAAOC,eAAegI,EAAQ2E,EAAWjB,IAAKiB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAe,GAAID,EAAYJ,EAAiBG,EAAYlM,UAAWmM,GAAa,GAAIC,EAAaL,EAAiBG,EAAaE,GAAc,OAAOF,CAAY,CAAG,CAA5hB,GAEnB,IAAIG,EAAO,SAAS5M,EAAIK,EAAQC,EAAUuM,GAAY,GAAIxM,IAAW,KAAMA,EAASyM,SAASvM,UAAW,IAAIwM,EAAOnN,OAAOqL,yBAAyB5K,EAAQC,GAAW,GAAIyM,IAASX,UAAW,CAAE,IAAIY,EAASpN,OAAOqN,eAAe5M,GAAS,GAAI2M,IAAW,KAAM,CAAE,OAAOZ,SAAU,KAAQ,CAAE,OAAOpM,EAAIgN,EAAQ1M,EAAUuM,EAAU,CAAE,MAAQ,GAAI,UAAWE,EAAM,CAAE,OAAOA,EAAKpM,KAAM,KAAQ,CAAE,IAAIjB,EAASqN,EAAK/M,IAAK,GAAIN,IAAW0M,UAAW,CAAE,OAAOA,SAAU,CAAG,OAAO1M,EAAOL,KAAKwN,EAAU,CAAE,EAExe,IAAIU,EAAatO,EAAoB,GAErC,IAAIuO,EAAcJ,EAAuBG,GAEzC,IAAI2O,EAAWjd,EAAoB,GAEnC,IAAIod,EAAYjP,EAAuB8O,GAEvC,IAAI+E,EAAShiB,EAAoB,GAEjC,IAAIiiB,EAAU9T,EAAuB6T,GAErC,IAAIxT,EAASxO,EAAoB,IAEjC,IAAIyO,EAAUN,EAAuBK,GAErC,IAAIiV,EAAQzjB,EAAoB,IAEhC,IAAI0jB,EAASvV,EAAuBsV,GAEpC,IAAIqM,EAAa9vB,EAAoB,IAErC,IAAI+vB,EAAc5hB,EAAuB2hB,GAEzC,SAAS3hB,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,SAAS2C,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,SAASC,EAA2BrP,EAAMQ,GAAQ,IAAKR,EAAM,CAAE,MAAM,IAAIsP,eAAe,4DAA6D,CAAG,OAAO9O,WAAgBA,IAAS,iBAAmBA,IAAS,YAAcA,EAAOR,CAAK,CAE9O,SAASuP,EAAUC,EAAUC,GAAc,UAAWA,IAAe,YAAcA,IAAe,KAAM,CAAE,MAAM,IAAIL,UAAU,kEAAoEK,EAAY,CAAGD,EAAS9N,UAAYX,OAAO+B,OAAO2M,GAAcA,EAAW/N,UAAW,CAAE6C,YAAa,CAAEzC,MAAO0N,EAAUtO,WAAY,MAAO4L,SAAU,KAAM7L,aAAc,QAAW,GAAIwO,EAAY1O,OAAOmD,eAAiBnD,OAAOmD,eAAesL,EAAUC,GAAcD,EAASrL,UAAYsL,CAAW,CAE5e,SAAS2gB,EAAO3qB,GACd,OAAOA,aAAgB4c,EAAQlf,SAAWsC,aAAgB2c,EAAO/U,U,CAGnE,IAAI9J,EAAS,SAAU8sB,GACrB9gB,EAAUhM,EAAQ8sB,GAElB,SAAS9sB,EAAOuM,EAAS8M,GACvB1N,EAAgBjP,KAAMsD,GAEtB,IAAIoB,EAAQ0K,EAA2BpP,MAAOsD,EAAOY,WAAapD,OAAOqN,eAAe7K,IAAS/C,KAAKP,KAAM6P,IAE5GnL,EAAMqQ,QAAU4H,EAAO5H,QACvB,GAAI5Q,MAAM4C,QAAQ4V,EAAO1H,WAAY,CACnCvQ,EAAMuQ,UAAY0H,EAAO1H,UAAUjM,QAAO,SAAUiM,EAAWjF,GAC7DiF,EAAUjF,GAAU,KACpB,OAAOiF,C,GACN,G,CAGLvQ,EAAMmL,QAAQ+O,iBAAiB,mBAAmB,WAAY,IAC9Dla,EAAM8M,WACN9M,EAAM8S,SACN,OAAO9S,C,CAGT6I,EAAajK,EAAQ,CAAC,CACpBmJ,IAAK,aACL5K,MAAO,SAAS4iB,IACdzkB,KAAKqwB,MAAQ,I,GAEd,CACD5jB,IAAK,WACL5K,MAAO,SAASkjB,IACd/kB,KAAKqwB,MAAQ,MACbrwB,KAAKwR,U,GAEN,CACD/E,IAAK,WACL5K,MAAO,SAASkP,EAAS3I,EAAO5B,GAC9B,IAAI8pB,EAAQtwB,KAAKwL,KAAKpD,GAClBmoB,EAASle,EAAeie,EAAO,GAC/BhG,EAAQiG,EAAO,GACf1kB,EAAS0kB,EAAO,GAEpB,IAAIC,EAASxwB,KAAKwL,KAAKpD,EAAQ5B,GAC3BiqB,EAASpe,EAAeme,EAAQ,GAChCjG,EAAOkG,EAAO,GAElB3iB,EAAKxK,EAAO7B,UAAUyC,WAAapD,OAAOqN,eAAe7K,EAAO7B,WAAY,WAAYzB,MAAMO,KAAKP,KAAMoI,EAAO5B,GAChH,GAAI+jB,GAAQ,MAAQD,IAAUC,GAAQ1e,EAAS,EAAG,CAChD,GAAIye,aAAiBnI,EAAO/U,YAAcmd,aAAgBpI,EAAO/U,WAAY,CAC3EpN,KAAKwR,WACL,M,CAEF,GAAI8Y,aAAiBzG,EAAO3gB,QAAS,CACnC,IAAI4f,EAAewH,EAAMxH,aAAawH,EAAM9jB,SAAU,MACtD,GAAIsc,GAAe,EAAI,CACrBwH,EAAQA,EAAMpkB,MAAM4c,EAAe,GACnC,GAAIwH,IAAUC,EAAM,CAClBvqB,KAAKwR,WACL,M,EAGd,MAAe,GAAI+Y,aAAgB1G,EAAO3gB,QAAS,CACzC,IAAIwtB,EAAgBnG,EAAKzH,aAAa,GACtC,GAAI4N,GAAgB,EAAI,CACtBnG,EAAKrkB,MAAMwqB,EAAgB,E,EAG/B,IAAItf,EAAMmZ,EAAKrZ,SAASG,gBAAgBzC,EAAQ1L,QAAU,KAAOqnB,EAAKrZ,SAASG,KAC/EiZ,EAAM/Y,aAAagZ,EAAMnZ,GACzBkZ,EAAMhZ,Q,CAERtR,KAAKwR,U,GAEN,CACD/E,IAAK,SACL5K,MAAO,SAAS2V,IACd,IAAIC,EAAUlR,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAK,KAElFvG,KAAK6P,QAAQgF,aAAa,kBAAmB4C,E,GAE9C,CACDhL,IAAK,WACL5K,MAAO,SAASsO,EAAS/H,EAAO5B,EAAQwJ,EAAQnO,GAC9C,GAAI7B,KAAKiV,WAAa,OAASjV,KAAKiV,UAAUjF,GAAS,OACvDlC,EAAKxK,EAAO7B,UAAUyC,WAAapD,OAAOqN,eAAe7K,EAAO7B,WAAY,WAAYzB,MAAMO,KAAKP,KAAMoI,EAAO5B,EAAQwJ,EAAQnO,GAChI7B,KAAKwR,U,GAEN,CACD/E,IAAK,WACL5K,MAAO,SAASuO,EAAShI,EAAOvG,EAAOwO,GACrC,GAAIA,GAAO,MAAQrQ,KAAKiV,WAAa,OAASjV,KAAKiV,UAAUpT,GAAQ,OACrE,GAAIuG,GAASpI,KAAKwG,SAAU,CAC1B,GAAI6J,GAAO,MAAQ3B,EAAYxL,QAAQH,MAAMlB,EAAO6M,EAAYxL,QAAQN,MAAMiD,QAAU,KAAM,CAC5F,IAAIL,EAAOkJ,EAAYxL,QAAQL,OAAO7C,KAAKgS,QAAQF,cACnD9R,KAAKsjB,YAAY9d,GACjB,GAAI6K,GAAO,MAAQxO,EAAMyO,SAAS,MAAO,CACvCzO,EAAQA,EAAMuH,MAAM,GAAG,E,CAEzB5D,EAAK4K,SAAS,EAAGvO,EAAOwO,EAClC,KAAe,CACL,IAAImK,EAAQ9L,EAAYxL,QAAQL,OAAOhB,EAAOwO,GAC9CrQ,KAAKsjB,YAAY9I,E,CAE3B,KAAa,CACL1M,EAAKxK,EAAO7B,UAAUyC,WAAapD,OAAOqN,eAAe7K,EAAO7B,WAAY,WAAYzB,MAAMO,KAAKP,KAAMoI,EAAOvG,EAAOwO,E,CAEzHrQ,KAAKwR,U,GAEN,CACD/E,IAAK,eACL5K,MAAO,SAAS2O,EAAahL,EAAM4L,GACjC,GAAI5L,EAAKwM,QAAQtM,QAAUgJ,EAAYxL,QAAQN,MAAMmqB,YAAa,CAChE,IAAIH,EAAUle,EAAYxL,QAAQL,OAAO7C,KAAKgS,QAAQF,cACtD8a,EAAQtJ,YAAY9d,GACpBA,EAAOonB,C,CAET9e,EAAKxK,EAAO7B,UAAUyC,WAAapD,OAAOqN,eAAe7K,EAAO7B,WAAY,eAAgBzB,MAAMO,KAAKP,KAAMwF,EAAM4L,E,GAEpH,CACD3E,IAAK,OACL5K,MAAO,SAASiP,EAAK1I,GACnB,OAAOpI,KAAK0R,KAAKtJ,GAAOK,OAAS,CAAC,MAAM,E,GAEzC,CACDgE,IAAK,OACL5K,MAAO,SAAS2J,EAAKpD,GACnB,GAAIA,IAAUpI,KAAKwG,SAAU,CAC3B,OAAOxG,KAAKwL,KAAKpD,EAAQ,E,CAE3B,OAAOpI,KAAK2iB,WAAWwN,EAAQ/nB,E,GAEhC,CACDqE,IAAK,QACL5K,MAAO,SAASmP,IACd,IAAI5I,EAAQ7B,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAK,EAChF,IAAIC,EAASD,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAKwT,OAAOC,UAExF,IAAIF,EAAW,SAASA,EAAStU,EAAM4C,EAAO5B,GAC5C,IAAIwK,EAAQ,GACRwa,EAAahlB,EACjBhB,EAAK0L,SAASma,UAAUjjB,EAAO5B,GAAQ,SAAUoL,EAAOxJ,EAAO5B,GAC7D,GAAI2pB,EAAOve,GAAQ,CACjBZ,EAAM/I,KAAK2J,E,MACN,GAAIA,aAAiBlD,EAAYxL,QAAQD,UAAW,CACzD+N,EAAQA,EAAMpG,OAAOkP,EAASlI,EAAOxJ,EAAOojB,G,CAE9CA,GAAchlB,CACxB,IACQ,OAAOwK,CACf,EACM,OAAO8I,EAAS9Z,KAAMoI,EAAO5B,E,GAE9B,CACDiG,IAAK,WACL5K,MAAO,SAAS2P,IACd,IAAI2E,EAAY5P,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAK,GACpF,IAAIkL,EAAUlL,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAK,GAElF,GAAIvG,KAAKqwB,QAAU,KAAM,OACzBviB,EAAKxK,EAAO7B,UAAUyC,WAAapD,OAAOqN,eAAe7K,EAAO7B,WAAY,WAAYzB,MAAMO,KAAKP,KAAMmW,EAAW1E,GACpH,GAAI0E,EAAU3P,OAAS,EAAG,CACxBxG,KAAK+U,QAAQuI,KAAKC,EAAUra,QAAQyS,OAAOkK,gBAAiB1J,EAAW1E,E,IAG1E,CACDhF,IAAK,OACL5K,MAAO,SAAS6P,EAAKtJ,GACnB,OAAO0F,EAAKxK,EAAO7B,UAAUyC,WAAapD,OAAOqN,eAAe7K,EAAO7B,WAAY,OAAQzB,MAAMO,KAAKP,KAAMoI,GAAOgB,MAAM,E,GAE1H,CACDqD,IAAK,SACL5K,MAAO,SAAS0U,EAAOJ,GACrB,GAAInW,KAAKqwB,QAAU,KAAM,OACzB,IAAIna,EAASqH,EAAUra,QAAQ4U,QAAQmE,KACvC,UAAW9F,IAAc,SAAU,CACjCD,EAASC,C,CAEX,IAAKhS,MAAM4C,QAAQoP,GAAY,CAC7BA,EAAYnW,KAAK2wB,SAASC,a,CAE5B,GAAIza,EAAU3P,OAAS,EAAG,CACxBxG,KAAK+U,QAAQuI,KAAKC,EAAUra,QAAQyS,OAAOiK,qBAAsB1J,EAAQC,E,CAE3ErI,EAAKxK,EAAO7B,UAAUyC,WAAapD,OAAOqN,eAAe7K,EAAO7B,WAAY,SAAUzB,MAAMO,KAAKP,KAAMmW,EAAUvL,OAAO,KACxH,GAAIuL,EAAU3P,OAAS,EAAG,CACxBxG,KAAK+U,QAAQuI,KAAKC,EAAUra,QAAQyS,OAAOM,cAAeC,EAAQC,E,MAKxE,OAAO7S,CACT,CA9La,CA8LXoL,EAAYxL,QAAQI,QAEtBA,EAAOqD,SAAW,SAClBrD,EAAOwD,UAAY,YACnBxD,EAAO6C,QAAU,MACjB7C,EAAOwO,aAAe,QACtBxO,EAAOyO,gBAAkB,CAACqQ,EAAQlf,QAASif,EAAO/U,WAAY8iB,EAAYhtB,SAE1EpD,EAAQoD,QAAUI,CAEX,EAEP,SAAgBzD,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAET/B,EAAQ+wB,SAAW/wB,EAAQoD,QAAUoK,UAErC,IAAI6E,SAAiBC,SAAW,mBAAqBA,OAAO3I,WAAa,SAAW,SAAU6C,GAAO,cAAcA,CAAI,EAAK,SAAUA,GAAO,OAAOA,UAAc8F,SAAW,YAAc9F,EAAIhI,cAAgB8N,QAAU9F,IAAQ8F,OAAO3Q,UAAY,gBAAkB6K,CAAI,EAE1Q,IAAI+F,EAAiB,WAAc,SAASC,EAAclG,EAAK/L,GAAK,IAAIkS,EAAO,GAAI,IAAIC,EAAK,KAAM,IAAIC,EAAK,MAAO,IAAIC,EAAKpF,UAAW,IAAM,IAAK,IAAIhH,EAAK8F,EAAIgG,OAAO3I,YAAakJ,IAAMH,GAAMG,EAAKrM,EAAGsD,QAAQgJ,MAAOJ,EAAK,KAAM,CAAED,EAAKtK,KAAK0K,EAAG9Q,OAAQ,GAAIxB,GAAKkS,EAAK/L,SAAWnG,EAAG,KAAM,CAAE,CAAG,MAAOwS,GAAOJ,EAAK,KAAMC,EAAKG,CAAI,CAAE,QAAW,IAAM,IAAKL,GAAMlM,EAAG,UAAWA,EAAG,WAAY,CAAE,QAAW,GAAImM,EAAI,MAAMC,CAAG,CAAE,CAAG,OAAOH,CAAK,CAAG,OAAO,SAAUnG,EAAK/L,GAAK,GAAI8D,MAAM4C,QAAQqF,GAAM,CAAE,OAAOA,CAAI,MAAQ,GAAIgG,OAAO3I,YAAY3I,OAAOsL,GAAM,CAAE,OAAOkG,EAAclG,EAAK/L,EAAG,KAAQ,CAAE,MAAM,IAAI8O,UAAU,uDAAwD,CAAE,CAAG,CAA9nB,GAErB,IAAI5B,EAAe,WAAc,SAASC,EAAiBzE,EAAQ0E,GAAS,IAAK,IAAIpN,EAAI,EAAGA,EAAIoN,EAAMjH,OAAQnG,IAAK,CAAE,IAAIqN,EAAaD,EAAMpN,GAAIqN,EAAWzM,WAAayM,EAAWzM,YAAc,MAAOyM,EAAW1M,aAAe,KAAM,GAAI,UAAW0M,EAAYA,EAAWb,SAAW,KAAM/L,OAAOC,eAAegI,EAAQ2E,EAAWjB,IAAKiB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAe,GAAID,EAAYJ,EAAiBG,EAAYlM,UAAWmM,GAAa,GAAIC,EAAaL,EAAiBG,EAAaE,GAAc,OAAOF,CAAY,CAAG,CAA5hB,GAEnB,IAAIqW,EAAS7jB,EAAoB,IAEjC,IAAI8jB,EAAU3V,EAAuB0V,GAErC,IAAIE,EAAa/jB,EAAoB,IAErC,IAAIgkB,EAAc7V,EAAuB4V,GAEzC,IAAI9V,EAAUjO,EAAoB,GAElC,IAAIkO,EAAWC,EAAuBF,GAEtC,IAAIG,EAAcpO,EAAoB,GAEtC,IAAIqO,EAAeF,EAAuBC,GAE1C,IAAImV,EAAMvjB,EAAoB,IAE9B,IAAIwjB,EAAOrV,EAAuBoV,GAElC,IAAIjV,EAAatO,EAAoB,GAErC,IAAIuO,EAAcJ,EAAuBG,GAEzC,IAAIqiB,EAAS3wB,EAAoB,GAEjC,IAAI4wB,EAAUziB,EAAuBwiB,GAErC,IAAIxd,EAAUnT,EAAoB,IAElC,IAAIoT,EAAWjF,EAAuBgF,GAEtC,IAAIJ,EAAU/S,EAAoB,GAElC,IAAIgT,EAAW7E,EAAuB4E,GAEtC,SAAS5E,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,SAASoH,EAAgBpH,EAAKG,EAAK5K,GAAS,GAAI4K,KAAOH,EAAK,CAAExL,OAAOC,eAAeuL,EAAKG,EAAK,CAAE5K,MAAOA,EAAOZ,WAAY,KAAMD,aAAc,KAAM6L,SAAU,MAAQ,KAAQ,CAAEP,EAAIG,GAAO5K,CAAM,CAAG,OAAOyK,CAAI,CAE/M,SAAS2C,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,SAASC,EAA2BrP,EAAMQ,GAAQ,IAAKR,EAAM,CAAE,MAAM,IAAIsP,eAAe,4DAA6D,CAAG,OAAO9O,WAAgBA,IAAS,iBAAmBA,IAAS,YAAcA,EAAOR,CAAK,CAE9O,SAASuP,EAAUC,EAAUC,GAAc,UAAWA,IAAe,YAAcA,IAAe,KAAM,CAAE,MAAM,IAAIL,UAAU,kEAAoEK,EAAY,CAAGD,EAAS9N,UAAYX,OAAO+B,OAAO2M,GAAcA,EAAW/N,UAAW,CAAE6C,YAAa,CAAEzC,MAAO0N,EAAUtO,WAAY,MAAO4L,SAAU,KAAM7L,aAAc,QAAW,GAAIwO,EAAY1O,OAAOmD,eAAiBnD,OAAOmD,eAAesL,EAAUC,GAAcD,EAASrL,UAAYsL,CAAW,CAE5e,IAAImE,GAAQ,EAAIJ,EAASrQ,SAAS,kBAElC,IAAI2tB,EAAW,OAAOG,KAAKC,UAAUC,UAAY,UAAY,UAE7D,IAAIC,EAAW,SAAUC,GACvB9hB,EAAU6hB,EAAUC,GAEpB7jB,EAAa4jB,EAAU,KAAM,CAAC,CAC5B1kB,IAAK,QACL5K,MAAO,SAASqD,EAAMmsB,EAAKC,GACzBA,EAAUC,EAAUD,GACpB,GAAI,CAAC,SAAU,UAAW,UAAW,YAAY1F,MAAK,SAAUnf,GAC9D,QAAS6kB,EAAQ7kB,KAAS4kB,EAAI5kB,IAAQ6kB,EAAQ7kB,KAAS,IAC/D,IAAU,CACF,OAAO,K,CAET,OAAO6kB,EAAQ7kB,OAAS4kB,EAAIG,OAASH,EAAII,Q,KAI7C,SAASN,EAASnR,EAAOrT,GACvBsC,EAAgBjP,KAAMmxB,GAEtB,IAAIzsB,EAAQ0K,EAA2BpP,MAAOmxB,EAASjtB,WAAapD,OAAOqN,eAAegjB,IAAW5wB,KAAKP,KAAMggB,EAAOrT,IAEvHjI,EAAMgtB,SAAW,GACjB5wB,OAAOkH,KAAKtD,EAAMiI,QAAQ+kB,UAAUxqB,SAAQ,SAAUvG,GACpD,GAAIA,IAAS,iBAAmBqf,EAAMhL,OAAOC,WAAa,OAAS+K,EAAMhL,OAAOC,UAAU,QAAS,CACjG,M,CAEF,GAAIvQ,EAAMiI,QAAQ+kB,SAAS/wB,GAAO,CAChC+D,EAAMitB,WAAWjtB,EAAMiI,QAAQ+kB,SAAS/wB,G,CAEhD,IACI+D,EAAMitB,WAAW,CAAEllB,IAAK0kB,EAASnpB,KAAK4pB,MAAOC,SAAU,MAAQC,GAC/DptB,EAAMitB,WAAW,CAAEllB,IAAK0kB,EAASnpB,KAAK4pB,MAAOG,QAAS,KAAMC,QAAS,KAAMC,OAAQ,OAAQ,WAAY,IACvG,GAAI,WAAWjB,KAAKC,UAAUiB,WAAY,CAExCxtB,EAAMitB,WAAW,CAAEllB,IAAK0kB,EAASnpB,KAAKmqB,WAAa,CAAEhK,UAAW,MAAQiK,GACxE1tB,EAAMitB,WAAW,CAAEllB,IAAK0kB,EAASnpB,KAAKoD,QAAU,CAAE+c,UAAW,MAAQkK,EAC3E,KAAW,CACL3tB,EAAMitB,WAAW,CAAEllB,IAAK0kB,EAASnpB,KAAKmqB,WAAa,CAAEhK,UAAW,KAAMmK,OAAQ,QAAUF,GACxF1tB,EAAMitB,WAAW,CAAEllB,IAAK0kB,EAASnpB,KAAKoD,QAAU,CAAE+c,UAAW,KAAMvC,OAAQ,QAAUyM,E,CAEvF3tB,EAAMitB,WAAW,CAAEllB,IAAK0kB,EAASnpB,KAAKmqB,WAAa,CAAEhK,UAAW,OAASoK,GACzE7tB,EAAMitB,WAAW,CAAEllB,IAAK0kB,EAASnpB,KAAKoD,QAAU,CAAE+c,UAAW,OAASoK,GACtE7tB,EAAMitB,WAAW,CAAEllB,IAAK0kB,EAASnpB,KAAKmqB,UAAWF,OAAQ,KAAMD,QAAS,KAAMD,QAAS,KAAMF,SAAU,MAAQ,CAAE1J,UAAW,KAAMtc,OAAQ,GAAKumB,GAC/I1tB,EAAM8tB,SACN,OAAO9tB,C,CAGT6I,EAAa4jB,EAAU,CAAC,CACtB1kB,IAAK,aACL5K,MAAO,SAAS8vB,EAAWllB,GACzB,IAAIgF,EAAUlL,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAK,GAClF,IAAImZ,EAAUnZ,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAK,GAElF,IAAI+qB,EAAUC,EAAU9kB,GACxB,GAAI6kB,GAAW,MAAQA,EAAQ7kB,KAAO,KAAM,CAC1C,OAAOkH,EAAMS,KAAK,4CAA6Ckd,E,CAEjE,UAAW7f,IAAY,WAAY,CACjCA,EAAU,CAAEiO,QAASjO,E,CAEvB,UAAWiO,IAAY,WAAY,CACjCA,EAAU,CAAEA,QAASA,E,CAEvB4R,GAAU,EAAIjjB,EAASnL,SAASouB,EAAS7f,EAASiO,GAClD1f,KAAK0xB,SAASJ,EAAQ7kB,KAAOzM,KAAK0xB,SAASJ,EAAQ7kB,MAAQ,GAC3DzM,KAAK0xB,SAASJ,EAAQ7kB,KAAKxE,KAAKqpB,E,GAEjC,CACD7kB,IAAK,SACL5K,MAAO,SAAS2wB,IACd,IAAI7hB,EAAS3Q,KAEbA,KAAKggB,MAAMrgB,KAAKif,iBAAiB,WAAW,SAAUyS,GACpD,GAAIA,EAAIoB,iBAAkB,OAC1B,IAAIjB,EAAQH,EAAIG,OAASH,EAAII,QAC7B,IAAIC,GAAY/gB,EAAO+gB,SAASF,IAAU,IAAI9oB,QAAO,SAAU4oB,GAC7D,OAAOH,EAASjsB,MAAMmsB,EAAKC,EACrC,IACQ,GAAII,EAASlrB,SAAW,EAAG,OAC3B,IAAI4P,EAAQzF,EAAOqP,MAAMhI,eACzB,GAAI5B,GAAS,OAASzF,EAAOqP,MAAM1F,WAAY,OAE/C,IAAIoY,EAAiB/hB,EAAOqP,MAAMnG,QAAQzD,EAAMhO,OAC5CuqB,EAAkBtgB,EAAeqgB,EAAgB,GACjDlnB,EAAOmnB,EAAgB,GACvB9mB,EAAS8mB,EAAgB,GAE7B,IAAIC,EAAiBjiB,EAAOqP,MAAMpG,QAAQxD,EAAMhO,OAC5CyqB,EAAkBxgB,EAAeugB,EAAgB,GACjDE,EAAYD,EAAgB,GAC5BE,EAAcF,EAAgB,GAElC,IAAIpT,EAAOrJ,EAAM5P,SAAW,EAAI,CAACssB,EAAWC,GAAepiB,EAAOqP,MAAMpG,QAAQxD,EAAMhO,MAAQgO,EAAM5P,QAChGwsB,EAAQ3gB,EAAeoN,EAAM,GAC7BwT,EAAUD,EAAM,GAChBE,EAAYF,EAAM,GAEtB,IAAIG,EAAaL,aAAqBpkB,EAAYxL,QAAQO,KAAOqvB,EAAUjxB,QAAQuH,MAAM,EAAG2pB,GAAe,GAC3G,IAAIK,EAAaH,aAAmBvkB,EAAYxL,QAAQO,KAAOwvB,EAAQpxB,QAAQuH,MAAM8pB,GAAa,GAClG,IAAIG,EAAa,CACflL,UAAW/R,EAAM5P,SAAW,EAC5B8sB,MAAOld,EAAM5P,SAAW,GAAKgF,EAAKhF,UAAY,EAC9CwJ,OAAQW,EAAOqP,MAAMtG,UAAUtD,GAC/BvK,OAAQA,EACRymB,OAAQa,EACRvN,OAAQwN,GAEV,IAAIG,EAAY7B,EAAS9F,MAAK,SAAU0F,GACtC,GAAIA,EAAQnJ,WAAa,MAAQmJ,EAAQnJ,YAAckL,EAAWlL,UAAW,OAAO,MACpF,GAAImJ,EAAQgC,OAAS,MAAQhC,EAAQgC,QAAUD,EAAWC,MAAO,OAAO,MACxE,GAAIhC,EAAQzlB,QAAU,MAAQylB,EAAQzlB,SAAWwnB,EAAWxnB,OAAQ,OAAO,MAC3E,GAAI1H,MAAM4C,QAAQuqB,EAAQthB,QAAS,CAEjC,GAAIshB,EAAQthB,OAAOwjB,OAAM,SAAU7yB,GACjC,OAAO0yB,EAAWrjB,OAAOrP,IAAS,IAChD,IAAgB,CACF,OAAO,K,OAEJ,GAAIwR,EAAQmf,EAAQthB,UAAY,SAAU,CAE/C,IAAKlP,OAAOkH,KAAKspB,EAAQthB,QAAQwjB,OAAM,SAAU7yB,GAC/C,GAAI2wB,EAAQthB,OAAOrP,KAAU,KAAM,OAAO0yB,EAAWrjB,OAAOrP,IAAS,KACrE,GAAI2wB,EAAQthB,OAAOrP,KAAU,MAAO,OAAO0yB,EAAWrjB,OAAOrP,IAAS,KACtE,OAAO,EAAIwjB,EAAYjhB,SAASouB,EAAQthB,OAAOrP,GAAO0yB,EAAWrjB,OAAOrP,GACtF,IAAgB,CACF,OAAO,K,EAGX,GAAI2wB,EAAQgB,QAAU,OAAShB,EAAQgB,OAAOtB,KAAKqC,EAAWf,QAAS,OAAO,MAC9E,GAAIhB,EAAQ1L,QAAU,OAAS0L,EAAQ1L,OAAOoL,KAAKqC,EAAWzN,QAAS,OAAO,MAC9E,OAAO0L,EAAQ5R,QAAQnf,KAAKoQ,EAAQyF,EAAOid,KAAgB,IACrE,IACQ,GAAIE,EAAW,CACblC,EAAIoC,gB,CAEd,G,KAIE,OAAOtC,CACT,CA5Ie,CA4Ibhe,EAASjQ,SAEXiuB,EAASnpB,KAAO,CACdmqB,UAAW,EACX1O,IAAK,EACLmO,MAAO,GACP8B,OAAQ,GACRC,KAAM,GACNC,GAAI,GACJC,MAAO,GACPC,KAAM,GACN1oB,OAAQ,IAGV+lB,EAAS/U,SAAW,CAClBsV,SAAU,CACRqC,KAAQC,EAAkB,QAC1BC,OAAUD,EAAkB,UAC5BE,UAAaF,EAAkB,aAC/BG,OAAU,CAER1nB,IAAK0kB,EAASnpB,KAAKyb,IACnBzT,OAAQ,CAAC,aAAc,SAAU,QACjC0P,QAAS,SAASA,EAAQtJ,EAAO3E,GAC/B,GAAIA,EAAQ0W,WAAa1W,EAAQ5F,SAAW,EAAG,OAAO,KACtD7L,KAAKggB,MAAMhQ,OAAO,SAAU,KAAM+gB,EAAQ7tB,QAAQ4U,QAAQmE,K,GAG9DmY,QAAW,CACT3nB,IAAK0kB,EAASnpB,KAAKyb,IACnBoO,SAAU,KACV7hB,OAAQ,CAAC,aAAc,SAAU,QAEjC0P,QAAS,SAASA,EAAQtJ,EAAO3E,GAC/B,GAAIA,EAAQ0W,WAAa1W,EAAQ5F,SAAW,EAAG,OAAO,KACtD7L,KAAKggB,MAAMhQ,OAAO,SAAU,KAAM+gB,EAAQ7tB,QAAQ4U,QAAQmE,K,GAG9D,oBAAqB,CACnBxP,IAAK0kB,EAASnpB,KAAKmqB,UACnBhK,UAAW,KACX0J,SAAU,KACVE,QAAS,KACTC,QAAS,KACTC,OAAQ,KACRjiB,OAAQ,CAAC,SAAU,QACnBnE,OAAQ,EACR6T,QAAS,SAASA,EAAQtJ,EAAO3E,GAC/B,GAAIA,EAAQzB,OAAOmkB,QAAU,KAAM,CACjCn0B,KAAKggB,MAAMhQ,OAAO,SAAU,KAAM+gB,EAAQ7tB,QAAQ4U,QAAQmE,K,MACrD,GAAIxK,EAAQzB,OAAOwW,MAAQ,KAAM,CACtCxmB,KAAKggB,MAAMhQ,OAAO,OAAQ,MAAO+gB,EAAQ7tB,QAAQ4U,QAAQmE,K,IAI/D,oBAAqBoY,EAAqB,MAC1C,qBAAsBA,EAAqB,OAC3C,aAAc,CACZ5nB,IAAK0kB,EAASnpB,KAAKyb,IACnBoO,SAAU,KACV1J,UAAW,KACXmK,OAAQ,MACR5S,QAAS,SAASA,EAAQtJ,GACxBpW,KAAKggB,MAAM5I,WAAWhB,EAAMhO,MAAQ,EAAG,EAAG2oB,EAAQ7tB,QAAQ4U,QAAQmE,K,GAGtEqY,IAAO,CACL7nB,IAAK0kB,EAASnpB,KAAKyb,IACnB/D,QAAS,SAASA,EAAQtJ,GACxBpW,KAAKggB,MAAMxK,QAAQ+e,SACnB,IAAIjqB,GAAQ,IAAIkE,EAAatL,SAAUiF,OAAOiO,EAAMhO,OAAOF,OAAOkO,EAAM5P,QAAQqB,OAAO,MACvF7H,KAAKggB,MAAM9D,eAAe5R,EAAOymB,EAAQ7tB,QAAQ4U,QAAQmE,MACzDjc,KAAKggB,MAAMxK,QAAQ+e,SACnBv0B,KAAKggB,MAAM5H,aAAahC,EAAMhO,MAAQ,EAAG2oB,EAAQ7tB,QAAQ4U,QAAQO,O,GAGrE,mBAAoB,CAClB5L,IAAK0kB,EAASnpB,KAAK4pB,MACnBzJ,UAAW,KACXnY,OAAQ,CAAC,QACTsjB,MAAO,KACP5T,QAAS,SAASA,EAAQtJ,EAAO3E,GAC/BzR,KAAKggB,MAAMhQ,OAAO,OAAQ,MAAO+gB,EAAQ7tB,QAAQ4U,QAAQmE,MACzD,GAAIxK,EAAQzB,OAAOmkB,OAAQ,CACzBn0B,KAAKggB,MAAMhQ,OAAO,SAAU,MAAO+gB,EAAQ7tB,QAAQ4U,QAAQmE,K,IAIjE,kBAAmB,CACjBxP,IAAK0kB,EAASnpB,KAAK4pB,MACnBzJ,UAAW,KACXnY,OAAQ,CAAEwW,KAAM,WAChB9G,QAAS,SAASA,EAAQtJ,GACxB,IAAIoe,EAAkBx0B,KAAKggB,MAAMnG,QAAQzD,EAAMhO,OAC3CqsB,EAAkBpiB,EAAemiB,EAAiB,GAClDhpB,EAAOipB,EAAgB,GACvB5oB,EAAS4oB,EAAgB,GAE7B,IAAI3kB,GAAU,EAAIzB,EAASnL,SAAS,GAAIsI,EAAKsE,UAAW,CAAE0W,KAAM,YAChE,IAAIlc,GAAQ,IAAIkE,EAAatL,SAAUiF,OAAOiO,EAAMhO,OAAOP,OAAO,KAAMiI,GAAS3H,OAAOqD,EAAKhF,SAAWqF,EAAS,GAAG1D,OAAO,EAAG,CAAEqe,KAAM,cACtIxmB,KAAKggB,MAAM9D,eAAe5R,EAAOymB,EAAQ7tB,QAAQ4U,QAAQmE,MACzDjc,KAAKggB,MAAM5H,aAAahC,EAAMhO,MAAQ,EAAG2oB,EAAQ7tB,QAAQ4U,QAAQO,QACjErY,KAAKggB,MAAMpI,gB,GAGf,eAAgB,CACdnL,IAAK0kB,EAASnpB,KAAK4pB,MACnBzJ,UAAW,KACXnY,OAAQ,CAAC,UACT4V,OAAQ,KACRlG,QAAS,SAASA,EAAQtJ,EAAO3E,GAC/B,IAAIijB,EAAkB10B,KAAKggB,MAAMnG,QAAQzD,EAAMhO,OAC3CusB,EAAkBtiB,EAAeqiB,EAAiB,GAClDlpB,EAAOmpB,EAAgB,GACvB9oB,EAAS8oB,EAAgB,GAE7B,IAAIrqB,GAAQ,IAAIkE,EAAatL,SAAUiF,OAAOiO,EAAMhO,OAAOP,OAAO,KAAM4J,EAAQzB,QAAQ7H,OAAOqD,EAAKhF,SAAWqF,EAAS,GAAG1D,OAAO,EAAG,CAAEysB,OAAQ,OAC/I50B,KAAKggB,MAAM9D,eAAe5R,EAAOymB,EAAQ7tB,QAAQ4U,QAAQmE,MACzDjc,KAAKggB,MAAM5H,aAAahC,EAAMhO,MAAQ,EAAG2oB,EAAQ7tB,QAAQ4U,QAAQO,QACjErY,KAAKggB,MAAMpI,gB,GAGf,gBAAiB,CACfnL,IAAK,IACL0b,UAAW,KACXnY,OAAQ,CAAEwW,KAAM,OAChB8L,OAAQ,kCACR5S,QAAS,SAASA,EAAQtJ,EAAO3E,GAC/B,IAAIjL,EAASiL,EAAQ6gB,OAAO9rB,OAE5B,IAAIquB,EAAkB70B,KAAKggB,MAAMnG,QAAQzD,EAAMhO,OAC3C0sB,EAAkBziB,EAAewiB,EAAiB,GAClDrpB,EAAOspB,EAAgB,GACvBjpB,EAASipB,EAAgB,GAE7B,GAAIjpB,EAASrF,EAAQ,OAAO,KAC5B,IAAI3E,OAAQ,EACZ,OAAQ4P,EAAQ6gB,OAAO7d,QACrB,IAAK,KAAK,IAAK,MACb5S,EAAQ,YACR,MACF,IAAK,MACHA,EAAQ,UACR,MACF,IAAK,IAAI,IAAK,IACZA,EAAQ,SACR,MACF,QACEA,EAAQ,UAEZ7B,KAAKggB,MAAMtF,WAAWtE,EAAMhO,MAAO,IAAK2oB,EAAQ7tB,QAAQ4U,QAAQmE,MAChEjc,KAAKggB,MAAMxK,QAAQ+e,SACnB,IAAIjqB,GAAQ,IAAIkE,EAAatL,SAAUiF,OAAOiO,EAAMhO,MAAQyD,GAAQ3D,OAAO1B,EAAS,GAAG2B,OAAOqD,EAAKhF,SAAW,EAAIqF,GAAQ1D,OAAO,EAAG,CAAEqe,KAAM3kB,IAC5I7B,KAAKggB,MAAM9D,eAAe5R,EAAOymB,EAAQ7tB,QAAQ4U,QAAQmE,MACzDjc,KAAKggB,MAAMxK,QAAQ+e,SACnBv0B,KAAKggB,MAAM5H,aAAahC,EAAMhO,MAAQ5B,EAAQuqB,EAAQ7tB,QAAQ4U,QAAQO,O,GAG1E,YAAa,CACX5L,IAAK0kB,EAASnpB,KAAK4pB,MACnBzJ,UAAW,KACXnY,OAAQ,CAAC,cACTsiB,OAAQ,QACR1M,OAAQ,QACRlG,QAAS,SAASA,EAAQtJ,GACxB,IAAI2e,EAAkB/0B,KAAKggB,MAAMnG,QAAQzD,EAAMhO,OAC3C4sB,EAAmB3iB,EAAe0iB,EAAiB,GACnDvpB,EAAOwpB,EAAiB,GACxBnpB,EAASmpB,EAAiB,GAE9B,IAAI1qB,GAAQ,IAAIkE,EAAatL,SAAUiF,OAAOiO,EAAMhO,MAAQoD,EAAKhF,SAAWqF,EAAS,GAAG1D,OAAO,EAAG,CAAE,aAAc,OAAQD,OAAO,GACjIlI,KAAKggB,MAAM9D,eAAe5R,EAAOymB,EAAQ7tB,QAAQ4U,QAAQmE,K,GAG7D,aAAcgZ,EAAsB9D,EAASnpB,KAAK2rB,KAAM,OACxD,mBAAoBsB,EAAsB9D,EAASnpB,KAAK2rB,KAAM,MAC9D,cAAesB,EAAsB9D,EAASnpB,KAAK6rB,MAAO,OAC1D,oBAAqBoB,EAAsB9D,EAASnpB,KAAK6rB,MAAO,QAIpE,SAASoB,EAAsBxoB,EAAKolB,GAClC,IAAIqD,EAEJ,IAAIC,EAAQ1oB,IAAQ0kB,EAASnpB,KAAK2rB,KAAO,SAAW,SACpD,OAAOuB,EAAQ,CACbzoB,IAAKA,EACLolB,SAAUA,EACVI,OAAQ,MACPve,EAAgBwhB,EAAOC,EAAO,MAAOzhB,EAAgBwhB,EAAO,WAAW,SAASxV,EAAQtJ,GACzF,IAAIhO,EAAQgO,EAAMhO,MAClB,GAAIqE,IAAQ0kB,EAASnpB,KAAK6rB,MAAO,CAC/BzrB,GAASgO,EAAM5P,OAAS,C,CAG1B,IAAI4uB,EAAkBp1B,KAAKggB,MAAMpG,QAAQxR,GACrCitB,EAAkBhjB,EAAe+iB,EAAiB,GAClDtkB,EAAOukB,EAAgB,GAE3B,KAAMvkB,aAAgBpC,EAAYxL,QAAQG,OAAQ,OAAO,KACzD,GAAIoJ,IAAQ0kB,EAASnpB,KAAK2rB,KAAM,CAC9B,GAAI9B,EAAU,CACZ7xB,KAAKggB,MAAM5H,aAAahC,EAAMhO,MAAQ,EAAGgO,EAAM5P,OAAS,EAAGuqB,EAAQ7tB,QAAQ4U,QAAQmE,KAC3F,KAAa,CACLjc,KAAKggB,MAAM5H,aAAahC,EAAMhO,MAAQ,EAAG2oB,EAAQ7tB,QAAQ4U,QAAQmE,K,CAEzE,KAAW,CACL,GAAI4V,EAAU,CACZ7xB,KAAKggB,MAAM5H,aAAahC,EAAMhO,MAAOgO,EAAM5P,OAAS,EAAGuqB,EAAQ7tB,QAAQ4U,QAAQmE,KACvF,KAAa,CACLjc,KAAKggB,MAAM5H,aAAahC,EAAMhO,MAAQgO,EAAM5P,OAAS,EAAGuqB,EAAQ7tB,QAAQ4U,QAAQmE,K,EAGpF,OAAO,K,IACLiZ,C,CAGN,SAAS9C,EAAgBhc,EAAO3E,GAC9B,GAAI2E,EAAMhO,QAAU,GAAKpI,KAAKggB,MAAMzG,aAAe,EAAG,OAEtD,IAAI+b,EAAmBt1B,KAAKggB,MAAMnG,QAAQzD,EAAMhO,OAC5CmtB,EAAmBljB,EAAeijB,EAAkB,GACpD9pB,EAAO+pB,EAAiB,GAE5B,IAAIzlB,EAAU,GACd,GAAI2B,EAAQ5F,SAAW,EAAG,CACxB,IAAI2pB,EAAmBx1B,KAAKggB,MAAMnG,QAAQzD,EAAMhO,MAAQ,GACpDqtB,EAAmBpjB,EAAemjB,EAAkB,GACpDjS,EAAOkS,EAAiB,GAE5B,GAAIlS,GAAQ,MAAQA,EAAK/c,SAAW,EAAG,CACrC,IAAIkvB,EAAalqB,EAAKsE,UACtB,IAAI6lB,EAAc31B,KAAKggB,MAAMtG,UAAUtD,EAAMhO,MAAQ,EAAG,GACxD0H,EAAU6T,EAAKzgB,QAAQ0B,WAAWwC,KAAKsuB,EAAYC,IAAgB,E,EAIvE,IAAInvB,EAAS,kCAAkCwqB,KAAKvf,EAAQ6gB,QAAU,EAAI,EAC1EtyB,KAAKggB,MAAM5I,WAAWhB,EAAMhO,MAAQ5B,EAAQA,EAAQuqB,EAAQ7tB,QAAQ4U,QAAQmE,MAC5E,GAAInb,OAAOkH,KAAK8H,GAAStJ,OAAS,EAAG,CACnCxG,KAAKggB,MAAM9H,WAAW9B,EAAMhO,MAAQ5B,EAAQA,EAAQsJ,EAASihB,EAAQ7tB,QAAQ4U,QAAQmE,K,CAEvFjc,KAAKggB,MAAMtI,O,CAGb,SAAS2a,EAAajc,EAAO3E,GAE3B,IAAIjL,EAAS,kCAAkCwqB,KAAKvf,EAAQmU,QAAU,EAAI,EAC1E,GAAIxP,EAAMhO,OAASpI,KAAKggB,MAAMzG,YAAc/S,EAAQ,OACpD,IAAIsJ,EAAU,GACV8lB,EAAa,EAEjB,IAAIC,EAAmB71B,KAAKggB,MAAMnG,QAAQzD,EAAMhO,OAC5C0tB,EAAmBzjB,EAAewjB,EAAkB,GACpDrqB,EAAOsqB,EAAiB,GAE5B,GAAIrkB,EAAQ5F,QAAUL,EAAKhF,SAAW,EAAG,CACvC,IAAIuvB,EAAmB/1B,KAAKggB,MAAMnG,QAAQzD,EAAMhO,MAAQ,GACpD4tB,EAAmB3jB,EAAe0jB,EAAkB,GACpDnsB,EAAOosB,EAAiB,GAE5B,GAAIpsB,EAAM,CACR,IAAI8rB,EAAalqB,EAAKsE,UACtB,IAAImmB,EAAcj2B,KAAKggB,MAAMtG,UAAUtD,EAAMhO,MAAO,GACpD0H,EAAU6T,EAAKzgB,QAAQ0B,WAAWwC,KAAKsuB,EAAYO,IAAgB,GACnEL,EAAahsB,EAAKpD,Q,EAGtBxG,KAAKggB,MAAM5I,WAAWhB,EAAMhO,MAAO5B,EAAQuqB,EAAQ7tB,QAAQ4U,QAAQmE,MACnE,GAAInb,OAAOkH,KAAK8H,GAAStJ,OAAS,EAAG,CACnCxG,KAAKggB,MAAM9H,WAAW9B,EAAMhO,MAAQwtB,EAAa,EAAGpvB,EAAQsJ,EAASihB,EAAQ7tB,QAAQ4U,QAAQmE,K,EAIjG,SAASsW,EAAkBnc,GACzB,IAAIpF,EAAQhR,KAAKggB,MAAMlG,SAAS1D,GAChC,IAAItG,EAAU,GACd,GAAIkB,EAAMxK,OAAS,EAAG,CACpB,IAAI0vB,EAAellB,EAAM,GAAGlB,UAC5B,IAAIqmB,EAAcnlB,EAAMA,EAAMxK,OAAS,GAAGsJ,UAC1CA,EAAU6T,EAAKzgB,QAAQ0B,WAAWwC,KAAK+uB,EAAaD,IAAiB,E,CAEvEl2B,KAAKggB,MAAM5I,WAAWhB,EAAO2a,EAAQ7tB,QAAQ4U,QAAQmE,MACrD,GAAInb,OAAOkH,KAAK8H,GAAStJ,OAAS,EAAG,CACnCxG,KAAKggB,MAAM9H,WAAW9B,EAAMhO,MAAO,EAAG0H,EAASihB,EAAQ7tB,QAAQ4U,QAAQmE,K,CAEzEjc,KAAKggB,MAAM5H,aAAahC,EAAMhO,MAAO2oB,EAAQ7tB,QAAQ4U,QAAQO,QAC7DrY,KAAKggB,MAAMtI,O,CAGb,SAASoa,EAAY1b,EAAO3E,GAC1B,IAAI4F,EAASrX,KAEb,GAAIoW,EAAM5P,OAAS,EAAG,CACpBxG,KAAKggB,MAAMhL,OAAOjE,SAASqF,EAAMhO,MAAOgO,EAAM5P,O,CAEhD,IAAI4vB,EAAct1B,OAAOkH,KAAKyJ,EAAQzB,QAAQhH,QAAO,SAAUotB,EAAapmB,GAC1E,GAAItB,EAAYxL,QAAQH,MAAMiN,EAAQtB,EAAYxL,QAAQN,MAAMiD,SAAW1B,MAAM4C,QAAQ0K,EAAQzB,OAAOA,IAAU,CAChHomB,EAAYpmB,GAAUyB,EAAQzB,OAAOA,E,CAEvC,OAAOomB,C,GACN,IACHp2B,KAAKggB,MAAMtF,WAAWtE,EAAMhO,MAAO,KAAMguB,EAAarF,EAAQ7tB,QAAQ4U,QAAQmE,MAG9Ejc,KAAKggB,MAAM5H,aAAahC,EAAMhO,MAAQ,EAAG2oB,EAAQ7tB,QAAQ4U,QAAQO,QACjErY,KAAKggB,MAAMtI,QACX5W,OAAOkH,KAAKyJ,EAAQzB,QAAQ9I,SAAQ,SAAUvG,GAC5C,GAAIy1B,EAAYz1B,IAAS,KAAM,OAC/B,GAAIwD,MAAM4C,QAAQ0K,EAAQzB,OAAOrP,IAAQ,OACzC,GAAIA,IAAS,OAAQ,OACrB0W,EAAO2I,MAAMhQ,OAAOrP,EAAM8Q,EAAQzB,OAAOrP,GAAOowB,EAAQ7tB,QAAQ4U,QAAQmE,KAC5E,G,CAGA,SAASoY,EAAqBF,GAC5B,MAAO,CACL1nB,IAAK0kB,EAASnpB,KAAKyb,IACnBoO,UAAWsC,EACXnkB,OAAQ,CAAE,aAAc,MACxB0P,QAAS,SAASA,EAAQtJ,GACxB,IAAIkM,EAAY5T,EAAYxL,QAAQH,MAAM,cAC1C,IAAIqF,EAAQgO,EAAMhO,MACd5B,EAAS4P,EAAM5P,OAEnB,IAAI6vB,EAAwBr2B,KAAKggB,MAAMhL,OAAO2N,WAAWL,EAAWla,GAChEkuB,EAAyBjkB,EAAegkB,EAAuB,GAC/D9lB,EAAQ+lB,EAAuB,GAC/BzqB,EAASyqB,EAAuB,GAEpC,GAAI/lB,GAAS,KAAM,OACnB,IAAIgmB,EAAcv2B,KAAKggB,MAAMrG,SAASpJ,GACtC,IAAIlH,EAAQkH,EAAMuS,aAAajX,EAAQ,MAAQ,EAC/C,IAAIvC,EAAMiH,EAAMuS,aAAayT,EAAc1qB,EAASrF,GACpD,IAAIwK,EAAQT,EAAMV,QAAQ2S,YAAYpZ,MAAMC,EAAOC,GAAKpD,MAAM,MAC9D2F,EAAS,EACTmF,EAAM9J,SAAQ,SAAUsE,EAAMnL,GAC5B,GAAI8zB,EAAQ,CACV5jB,EAAMH,SAAS/G,EAAQwC,EAAQyW,EAAUmB,KACzC5X,GAAUyW,EAAUmB,IAAIjd,OACxB,GAAInG,IAAM,EAAG,CACX+H,GAASka,EAAUmB,IAAIjd,MACnC,KAAiB,CACLA,GAAU8b,EAAUmB,IAAIjd,M,OAErB,GAAIgF,EAAK6I,WAAWiO,EAAUmB,KAAM,CACzClT,EAAMQ,SAAS1H,EAAQwC,EAAQyW,EAAUmB,IAAIjd,QAC7CqF,GAAUyW,EAAUmB,IAAIjd,OACxB,GAAInG,IAAM,EAAG,CACX+H,GAASka,EAAUmB,IAAIjd,MACnC,KAAiB,CACLA,GAAU8b,EAAUmB,IAAIjd,M,EAG5BqF,GAAUL,EAAKhF,OAAS,CAChC,IACMxG,KAAKggB,MAAMzJ,OAAOwa,EAAQ7tB,QAAQ4U,QAAQmE,MAC1Cjc,KAAKggB,MAAM5H,aAAahQ,EAAO5B,EAAQuqB,EAAQ7tB,QAAQ4U,QAAQO,O,GAKrE,SAAS2b,EAAkBhkB,GACzB,MAAO,CACLvD,IAAKuD,EAAO,GAAGhJ,cACfwvB,SAAU,KACV9W,QAAS,SAASA,EAAQtJ,EAAO3E,GAC/BzR,KAAKggB,MAAMhQ,OAAOA,GAASyB,EAAQzB,OAAOA,GAAS+gB,EAAQ7tB,QAAQ4U,QAAQmE,K,GAKjF,SAASsV,EAAUD,GACjB,UAAWA,IAAY,iBAAmBA,IAAY,SAAU,CAC9D,OAAOC,EAAU,CAAE9kB,IAAK6kB,G,CAE1B,WAAYA,IAAY,YAAc,YAAcnf,EAAQmf,MAAc,SAAU,CAClFA,GAAU,EAAIrN,EAAQ/gB,SAASouB,EAAS,M,CAE1C,UAAWA,EAAQ7kB,MAAQ,SAAU,CACnC,GAAI0kB,EAASnpB,KAAKspB,EAAQ7kB,IAAIzF,gBAAkB,KAAM,CACpDsqB,EAAQ7kB,IAAM0kB,EAASnpB,KAAKspB,EAAQ7kB,IAAIzF,c,MACnC,GAAIsqB,EAAQ7kB,IAAIjG,SAAW,EAAG,CACnC8qB,EAAQ7kB,IAAM6kB,EAAQ7kB,IAAIzF,cAAcyvB,WAAW,EACzD,KAAW,CACL,OAAO,I,EAGX,GAAInF,EAAQkF,SAAU,CACpBlF,EAAQT,GAAYS,EAAQkF,gBACrBlF,EAAQkF,Q,CAEjB,OAAOlF,C,CAGTxxB,EAAQoD,QAAUiuB,EAClBrxB,EAAQ+wB,SAAWA,CAEZ,EAEP,SAAgBhxB,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAGT,IAAIwQ,EAAiB,WAAc,SAASC,EAAclG,EAAK/L,GAAK,IAAIkS,EAAO,GAAI,IAAIC,EAAK,KAAM,IAAIC,EAAK,MAAO,IAAIC,EAAKpF,UAAW,IAAM,IAAK,IAAIhH,EAAK8F,EAAIgG,OAAO3I,YAAakJ,IAAMH,GAAMG,EAAKrM,EAAGsD,QAAQgJ,MAAOJ,EAAK,KAAM,CAAED,EAAKtK,KAAK0K,EAAG9Q,OAAQ,GAAIxB,GAAKkS,EAAK/L,SAAWnG,EAAG,KAAM,CAAE,CAAG,MAAOwS,GAAOJ,EAAK,KAAMC,EAAKG,CAAI,CAAE,QAAW,IAAM,IAAKL,GAAMlM,EAAG,UAAWA,EAAG,WAAY,CAAE,QAAW,GAAImM,EAAI,MAAMC,CAAG,CAAE,CAAG,OAAOH,CAAK,CAAG,OAAO,SAAUnG,EAAK/L,GAAK,GAAI8D,MAAM4C,QAAQqF,GAAM,CAAE,OAAOA,CAAI,MAAQ,GAAIgG,OAAO3I,YAAY3I,OAAOsL,GAAM,CAAE,OAAOkG,EAAclG,EAAK/L,EAAG,KAAQ,CAAE,MAAM,IAAI8O,UAAU,uDAAwD,CAAE,CAAG,CAA9nB,GAErB,IAAIrB,EAAO,SAAS5M,EAAIK,EAAQC,EAAUuM,GAAY,GAAIxM,IAAW,KAAMA,EAASyM,SAASvM,UAAW,IAAIwM,EAAOnN,OAAOqL,yBAAyB5K,EAAQC,GAAW,GAAIyM,IAASX,UAAW,CAAE,IAAIY,EAASpN,OAAOqN,eAAe5M,GAAS,GAAI2M,IAAW,KAAM,CAAE,OAAOZ,SAAU,KAAQ,CAAE,OAAOpM,EAAIgN,EAAQ1M,EAAUuM,EAAU,CAAE,MAAQ,GAAI,UAAWE,EAAM,CAAE,OAAOA,EAAKpM,KAAM,KAAQ,CAAE,IAAIjB,EAASqN,EAAK/M,IAAK,GAAIN,IAAW0M,UAAW,CAAE,OAAOA,SAAU,CAAG,OAAO1M,EAAOL,KAAKwN,EAAU,CAAE,EAExe,IAAIR,EAAe,WAAc,SAASC,EAAiBzE,EAAQ0E,GAAS,IAAK,IAAIpN,EAAI,EAAGA,EAAIoN,EAAMjH,OAAQnG,IAAK,CAAE,IAAIqN,EAAaD,EAAMpN,GAAIqN,EAAWzM,WAAayM,EAAWzM,YAAc,MAAOyM,EAAW1M,aAAe,KAAM,GAAI,UAAW0M,EAAYA,EAAWb,SAAW,KAAM/L,OAAOC,eAAegI,EAAQ2E,EAAWjB,IAAKiB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAe,GAAID,EAAYJ,EAAiBG,EAAYlM,UAAWmM,GAAa,GAAIC,EAAaL,EAAiBG,EAAaE,GAAc,OAAOF,CAAY,CAAG,CAA5hB,GAEnB,IAAIc,EAAatO,EAAoB,GAErC,IAAIuO,EAAcJ,EAAuBG,GAEzC,IAAIM,EAAQ5O,EAAoB,GAEhC,IAAI6O,EAASV,EAAuBS,GAEpC,SAAST,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,SAAS2C,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,SAASC,EAA2BrP,EAAMQ,GAAQ,IAAKR,EAAM,CAAE,MAAM,IAAIsP,eAAe,4DAA6D,CAAG,OAAO9O,WAAgBA,IAAS,iBAAmBA,IAAS,YAAcA,EAAOR,CAAK,CAE9O,SAASuP,EAAUC,EAAUC,GAAc,UAAWA,IAAe,YAAcA,IAAe,KAAM,CAAE,MAAM,IAAIL,UAAU,kEAAoEK,EAAY,CAAGD,EAAS9N,UAAYX,OAAO+B,OAAO2M,GAAcA,EAAW/N,UAAW,CAAE6C,YAAa,CAAEzC,MAAO0N,EAAUtO,WAAY,MAAO4L,SAAU,KAAM7L,aAAc,QAAW,GAAIwO,EAAY1O,OAAOmD,eAAiBnD,OAAOmD,eAAesL,EAAUC,GAAcD,EAASrL,UAAYsL,CAAW,CAE5e,IAAIknB,EAAS,SAAUhnB,GACrBJ,EAAUonB,EAAQhnB,GAElBnC,EAAampB,EAAQ,KAAM,CAAC,CAC1BjqB,IAAK,QACL5K,MAAO,SAASA,IACd,OAAOyL,S,KAIX,SAASopB,EAAO7mB,EAASsF,GACvBlG,EAAgBjP,KAAM02B,GAEtB,IAAIhyB,EAAQ0K,EAA2BpP,MAAO02B,EAAOxyB,WAAapD,OAAOqN,eAAeuoB,IAASn2B,KAAKP,KAAM6P,IAE5GnL,EAAMyQ,UAAYA,EAClBzQ,EAAM6iB,SAAWvQ,SAAS2f,eAAeD,EAAOzQ,UAChDvhB,EAAMmL,QAAQyT,YAAY5e,EAAM6iB,UAChC7iB,EAAMkyB,QAAU,EAChB,OAAOlyB,C,CAGT6I,EAAampB,EAAQ,CAAC,CACpBjqB,IAAK,SACL5K,MAAO,SAAS4pB,IAEd,GAAIzrB,KAAKkO,QAAU,KAAMlO,KAAKkO,OAAOyD,YAAY3R,K,GAElD,CACDyM,IAAK,SACL5K,MAAO,SAASmO,EAAOrP,EAAMkB,GAC3B,GAAI7B,KAAK42B,UAAY,EAAG,CACtB,OAAO9oB,EAAK4oB,EAAOj1B,UAAUyC,WAAapD,OAAOqN,eAAeuoB,EAAOj1B,WAAY,SAAUzB,MAAMO,KAAKP,KAAMW,EAAMkB,E,CAEtH,IAAIkH,EAAS/I,KACToI,EAAQ,EACZ,MAAOW,GAAU,MAAQA,EAAOiJ,QAAQtM,QAAUgJ,EAAYxL,QAAQN,MAAM6N,WAAY,CACtFrI,GAASW,EAAO8C,OAAO9C,EAAOmF,QAC9BnF,EAASA,EAAOmF,M,CAElB,GAAInF,GAAU,KAAM,CAClB/I,KAAK42B,QAAUF,EAAOzQ,SAASzf,OAC/BuC,EAAOyI,WACPzI,EAAOoH,SAAS/H,EAAOsuB,EAAOzQ,SAASzf,OAAQ7F,EAAMkB,GACrD7B,KAAK42B,QAAU,C,IAGlB,CACDnqB,IAAK,QACL5K,MAAO,SAASuG,EAAMhD,EAAMyG,GAC1B,GAAIzG,IAASpF,KAAKunB,SAAU,OAAO,EACnC,OAAOzZ,EAAK4oB,EAAOj1B,UAAUyC,WAAapD,OAAOqN,eAAeuoB,EAAOj1B,WAAY,QAASzB,MAAMO,KAAKP,KAAMoF,EAAMyG,E,GAEpH,CACDY,IAAK,SACL5K,MAAO,SAAS2E,IACd,OAAOxG,KAAK42B,O,GAEb,CACDnqB,IAAK,WACL5K,MAAO,SAAS2mB,IACd,MAAO,CAACxoB,KAAKunB,SAAUvnB,KAAKunB,SAASzB,KAAKtf,O,GAE3C,CACDiG,IAAK,SACL5K,MAAO,SAASyP,IACdxD,EAAK4oB,EAAOj1B,UAAUyC,WAAapD,OAAOqN,eAAeuoB,EAAOj1B,WAAY,SAAUzB,MAAMO,KAAKP,MACjGA,KAAKkO,OAAS,I,GAEf,CACDzB,IAAK,UACL5K,MAAO,SAASkmB,IACd,GAAI/nB,KAAKmV,UAAU2R,WAAa9mB,KAAKkO,QAAU,KAAM,OACrD,IAAIqZ,EAAWvnB,KAAKunB,SACpB,IAAInR,EAAQpW,KAAKmV,UAAUmS,iBAC3B,IAAIuP,OAAc,EACdxtB,OAAQ,EACRC,OAAM,EACV,GAAI8M,GAAS,MAAQA,EAAM/M,MAAMjE,OAASmiB,GAAYnR,EAAM9M,IAAIlE,OAASmiB,EAAU,CACjF,IAAI9H,EAAO,CAAC8H,EAAUnR,EAAM/M,MAAMwC,OAAQuK,EAAM9M,IAAIuC,QACpDgrB,EAAcpX,EAAK,GACnBpW,EAAQoW,EAAK,GACbnW,EAAMmW,EAAK,E,CAGb,MAAOzf,KAAK6P,QAAQma,WAAa,MAAQhqB,KAAK6P,QAAQma,YAAchqB,KAAKunB,SAAU,CACjFvnB,KAAK6P,QAAQpK,WAAW+K,aAAaxQ,KAAK6P,QAAQma,UAAWhqB,KAAK6P,Q,CAEpE,GAAI7P,KAAKunB,SAASzB,OAAS4Q,EAAOzQ,SAAU,CAC1C,IAAIne,EAAO9H,KAAKunB,SAASzB,KAAK5f,MAAMwwB,EAAOzQ,UAAUlb,KAAK,IAC1D,GAAI/K,KAAK4J,gBAAgBoF,EAAO9L,QAAS,CACvC2zB,EAAc72B,KAAK4J,KAAKiG,QACxB7P,KAAK4J,KAAKwG,SAAS,EAAGtI,GACtB9H,KAAKunB,SAASzB,KAAO4Q,EAAOzQ,QACtC,KAAe,CACLjmB,KAAKunB,SAASzB,KAAOhe,EACrB9H,KAAKkO,OAAOsC,aAAa9B,EAAYxL,QAAQL,OAAO7C,KAAKunB,UAAWvnB,MACpEA,KAAKunB,SAAWvQ,SAAS2f,eAAeD,EAAOzQ,UAC/CjmB,KAAK6P,QAAQyT,YAAYtjB,KAAKunB,S,EAGlCvnB,KAAKsR,SACL,GAAIjI,GAAS,KAAM,CACjB,IAAImU,EAAO,CAACnU,EAAOC,GAAK7C,KAAI,SAAUoF,GACpC,OAAOtB,KAAKqT,IAAI,EAAGrT,KAAKC,IAAIqsB,EAAY/Q,KAAKtf,OAAQqF,EAAS,GACxE,IAEQ,IAAI6R,EAAQrL,EAAemL,EAAM,GAEjCnU,EAAQqU,EAAM,GACdpU,EAAMoU,EAAM,GAEZ,MAAO,CACLiK,UAAWkP,EACXjP,YAAave,EACbwe,QAASgP,EACT/O,UAAWxe,E,IAIhB,CACDmD,IAAK,SACL5K,MAAO,SAAS0U,EAAOJ,EAAW1E,GAChC,IAAId,EAAS3Q,KAEb,GAAImW,EAAUyV,MAAK,SAAUM,GAC3B,OAAOA,EAASrW,OAAS,iBAAmBqW,EAASnjB,SAAW4H,EAAO4W,QAC/E,IAAU,CACF,IAAInR,EAAQpW,KAAK+nB,UACjB,GAAI3R,EAAO3E,EAAQ2E,MAAQA,C,IAG9B,CACD3J,IAAK,QACL5K,MAAO,SAASA,IACd,MAAO,E,KAIX,OAAO60B,CACT,CA5Ia,CA4IXhoB,EAAYxL,QAAQG,OAEtBqzB,EAAO/vB,SAAW,SAClB+vB,EAAO5vB,UAAY,YACnB4vB,EAAOvwB,QAAU,OACjBuwB,EAAOzQ,SAAW,SAGlBnmB,EAAQoD,QAAUwzB,CAEX,EAEP,SAAgB72B,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAGT,IAAI4M,EAAatO,EAAoB,GAErC,IAAIuO,EAAcJ,EAAuBG,GAEzC,IAAI0T,EAAShiB,EAAoB,GAEjC,IAAIiiB,EAAU9T,EAAuB6T,GAErC,SAAS7T,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,SAAS2C,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,SAASC,EAA2BrP,EAAMQ,GAAQ,IAAKR,EAAM,CAAE,MAAM,IAAIsP,eAAe,4DAA6D,CAAG,OAAO9O,WAAgBA,IAAS,iBAAmBA,IAAS,YAAcA,EAAOR,CAAK,CAE9O,SAASuP,EAAUC,EAAUC,GAAc,UAAWA,IAAe,YAAcA,IAAe,KAAM,CAAE,MAAM,IAAIL,UAAU,kEAAoEK,EAAY,CAAGD,EAAS9N,UAAYX,OAAO+B,OAAO2M,GAAcA,EAAW/N,UAAW,CAAE6C,YAAa,CAAEzC,MAAO0N,EAAUtO,WAAY,MAAO4L,SAAU,KAAM7L,aAAc,QAAW,GAAIwO,EAAY1O,OAAOmD,eAAiBnD,OAAOmD,eAAesL,EAAUC,GAAcD,EAASrL,UAAYsL,CAAW,CAE5e,IAAIvM,EAAY,SAAU6zB,GACxBxnB,EAAUrM,EAAW6zB,GAErB,SAAS7zB,IACPgM,EAAgBjP,KAAMiD,GAEtB,OAAOmM,EAA2BpP,MAAOiD,EAAUiB,WAAapD,OAAOqN,eAAelL,IAAY0M,MAAM3P,KAAMuG,W,CAGhH,OAAOtD,CACT,CAVgB,CAUdyL,EAAYxL,QAAQD,WAEtBA,EAAU8O,gBAAkB,CAACqQ,EAAQlf,QAASif,EAAO/U,WAAYnK,GAEjEnD,EAAQoD,QAAUD,CAEX,EAEP,SAAgBpD,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAET/B,EAAQi3B,WAAaj3B,EAAQk3B,WAAal3B,EAAQm3B,gBAAkB3pB,UAEpE,IAAIC,EAAe,WAAc,SAASC,EAAiBzE,EAAQ0E,GAAS,IAAK,IAAIpN,EAAI,EAAGA,EAAIoN,EAAMjH,OAAQnG,IAAK,CAAE,IAAIqN,EAAaD,EAAMpN,GAAIqN,EAAWzM,WAAayM,EAAWzM,YAAc,MAAOyM,EAAW1M,aAAe,KAAM,GAAI,UAAW0M,EAAYA,EAAWb,SAAW,KAAM/L,OAAOC,eAAegI,EAAQ2E,EAAWjB,IAAKiB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAe,GAAID,EAAYJ,EAAiBG,EAAYlM,UAAWmM,GAAa,GAAIC,EAAaL,EAAiBG,EAAaE,GAAc,OAAOF,CAAY,CAAG,CAA5hB,GAEnB,IAAIG,EAAO,SAAS5M,EAAIK,EAAQC,EAAUuM,GAAY,GAAIxM,IAAW,KAAMA,EAASyM,SAASvM,UAAW,IAAIwM,EAAOnN,OAAOqL,yBAAyB5K,EAAQC,GAAW,GAAIyM,IAASX,UAAW,CAAE,IAAIY,EAASpN,OAAOqN,eAAe5M,GAAS,GAAI2M,IAAW,KAAM,CAAE,OAAOZ,SAAU,KAAQ,CAAE,OAAOpM,EAAIgN,EAAQ1M,EAAUuM,EAAU,CAAE,MAAQ,GAAI,UAAWE,EAAM,CAAE,OAAOA,EAAKpM,KAAM,KAAQ,CAAE,IAAIjB,EAASqN,EAAK/M,IAAK,GAAIN,IAAW0M,UAAW,CAAE,OAAOA,SAAU,CAAG,OAAO1M,EAAOL,KAAKwN,EAAU,CAAE,EAExe,IAAIU,EAAatO,EAAoB,GAErC,IAAIuO,EAAcJ,EAAuBG,GAEzC,SAASH,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,SAAS2C,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,SAASC,EAA2BrP,EAAMQ,GAAQ,IAAKR,EAAM,CAAE,MAAM,IAAIsP,eAAe,4DAA6D,CAAG,OAAO9O,WAAgBA,IAAS,iBAAmBA,IAAS,YAAcA,EAAOR,CAAK,CAE9O,SAASuP,EAAUC,EAAUC,GAAc,UAAWA,IAAe,YAAcA,IAAe,KAAM,CAAE,MAAM,IAAIL,UAAU,kEAAoEK,EAAY,CAAGD,EAAS9N,UAAYX,OAAO+B,OAAO2M,GAAcA,EAAW/N,UAAW,CAAE6C,YAAa,CAAEzC,MAAO0N,EAAUtO,WAAY,MAAO4L,SAAU,KAAM7L,aAAc,QAAW,GAAIwO,EAAY1O,OAAOmD,eAAiBnD,OAAOmD,eAAesL,EAAUC,GAAcD,EAASrL,UAAYsL,CAAW,CAE5e,IAAIynB,EAAkB,SAAUC,GAC9B5nB,EAAU2nB,EAAiBC,GAE3B,SAASD,IACPhoB,EAAgBjP,KAAMi3B,GAEtB,OAAO7nB,EAA2BpP,MAAOi3B,EAAgB/yB,WAAapD,OAAOqN,eAAe8oB,IAAkBtnB,MAAM3P,KAAMuG,W,CAG5HgH,EAAa0pB,EAAiB,CAAC,CAC7BxqB,IAAK,QACL5K,MAAO,SAASA,EAAMgO,GACpB,IAAIhO,EAAQiM,EAAKmpB,EAAgBx1B,UAAUyC,WAAapD,OAAOqN,eAAe8oB,EAAgBx1B,WAAY,QAASzB,MAAMO,KAAKP,KAAM6P,GACpI,IAAKhO,EAAMwS,WAAW,QAAS,OAAOxS,EACtCA,EAAQA,EAAMmgB,QAAQ,UAAW,IAAIA,QAAQ,UAAW,IACxD,MAAO,IAAMngB,EAAMqE,MAAM,KAAKO,KAAI,SAAUwE,GAC1C,OAAQ,KAAOksB,SAASlsB,GAAWgB,SAAS,KAAK7C,OAAM,EAC/D,IAAS2B,KAAK,G,KAIZ,OAAOksB,C,CArBa,CAsBpBvoB,EAAYxL,QAAQQ,WAAWG,OAEjC,IAAImzB,EAAa,IAAItoB,EAAYxL,QAAQQ,WAAWE,MAAM,QAAS,WAAY,CAC7E8B,MAAOgJ,EAAYxL,QAAQN,MAAMkD,SAEnC,IAAIixB,EAAa,IAAIE,EAAgB,QAAS,QAAS,CACrDvxB,MAAOgJ,EAAYxL,QAAQN,MAAMkD,SAGnChG,EAAQm3B,gBAAkBA,EAC1Bn3B,EAAQk3B,WAAaA,EACrBl3B,EAAQi3B,WAAaA,CAEd,EAEP,SAAgBl3B,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAET/B,EAAQs3B,SAAWt3B,EAAQoD,QAAUoK,UAErC,IAAIC,EAAe,WAAc,SAASC,EAAiBzE,EAAQ0E,GAAS,IAAK,IAAIpN,EAAI,EAAGA,EAAIoN,EAAMjH,OAAQnG,IAAK,CAAE,IAAIqN,EAAaD,EAAMpN,GAAIqN,EAAWzM,WAAayM,EAAWzM,YAAc,MAAOyM,EAAW1M,aAAe,KAAM,GAAI,UAAW0M,EAAYA,EAAWb,SAAW,KAAM/L,OAAOC,eAAegI,EAAQ2E,EAAWjB,IAAKiB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAe,GAAID,EAAYJ,EAAiBG,EAAYlM,UAAWmM,GAAa,GAAIC,EAAaL,EAAiBG,EAAaE,GAAc,OAAOF,CAAY,CAAG,CAA5hB,GAEnB,IAAIG,EAAO,SAAS5M,EAAIK,EAAQC,EAAUuM,GAAY,GAAIxM,IAAW,KAAMA,EAASyM,SAASvM,UAAW,IAAIwM,EAAOnN,OAAOqL,yBAAyB5K,EAAQC,GAAW,GAAIyM,IAASX,UAAW,CAAE,IAAIY,EAASpN,OAAOqN,eAAe5M,GAAS,GAAI2M,IAAW,KAAM,CAAE,OAAOZ,SAAU,KAAQ,CAAE,OAAOpM,EAAIgN,EAAQ1M,EAAUuM,EAAU,CAAE,MAAQ,GAAI,UAAWE,EAAM,CAAE,OAAOA,EAAKpM,KAAM,KAAQ,CAAE,IAAIjB,EAASqN,EAAK/M,IAAK,GAAIN,IAAW0M,UAAW,CAAE,OAAOA,SAAU,CAAG,OAAO1M,EAAOL,KAAKwN,EAAU,CAAE,EAExe,IAAIc,EAAU1O,EAAoB,GAElC,IAAI2O,EAAWR,EAAuBO,GAEtC,SAASP,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,SAAS2C,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,SAASC,EAA2BrP,EAAMQ,GAAQ,IAAKR,EAAM,CAAE,MAAM,IAAIsP,eAAe,4DAA6D,CAAG,OAAO9O,WAAgBA,IAAS,iBAAmBA,IAAS,YAAcA,EAAOR,CAAK,CAE9O,SAASuP,EAAUC,EAAUC,GAAc,UAAWA,IAAe,YAAcA,IAAe,KAAM,CAAE,MAAM,IAAIL,UAAU,kEAAoEK,EAAY,CAAGD,EAAS9N,UAAYX,OAAO+B,OAAO2M,GAAcA,EAAW/N,UAAW,CAAE6C,YAAa,CAAEzC,MAAO0N,EAAUtO,WAAY,MAAO4L,SAAU,KAAM7L,aAAc,QAAW,GAAIwO,EAAY1O,OAAOmD,eAAiBnD,OAAOmD,eAAesL,EAAUC,GAAcD,EAASrL,UAAYsL,CAAW,CAE5e,IAAI6nB,EAAO,SAAUhV,GACnB/S,EAAU+nB,EAAMhV,GAEhB,SAASgV,IACPpoB,EAAgBjP,KAAMq3B,GAEtB,OAAOjoB,EAA2BpP,MAAOq3B,EAAKnzB,WAAapD,OAAOqN,eAAekpB,IAAO1nB,MAAM3P,KAAMuG,W,CAGtGgH,EAAa8pB,EAAM,CAAC,CAClB5qB,IAAK,SACL5K,MAAO,SAASmO,EAAOrP,EAAMkB,GAC3B,GAAIlB,IAASX,KAAKgS,QAAQrL,WAAa9E,EAAO,OAAOiM,EAAKupB,EAAK51B,UAAUyC,WAAapD,OAAOqN,eAAekpB,EAAK51B,WAAY,SAAUzB,MAAMO,KAAKP,KAAMW,EAAMkB,GAC9JA,EAAQ7B,KAAKsE,YAAY8yB,SAASv1B,GAClC7B,KAAK6P,QAAQgF,aAAa,OAAQhT,E,IAElC,CAAC,CACH4K,IAAK,SACL5K,MAAO,SAASgB,EAAOhB,GACrB,IAAIuD,EAAO0I,EAAKupB,EAAKnzB,WAAapD,OAAOqN,eAAekpB,GAAO,SAAUr3B,MAAMO,KAAKP,KAAM6B,GAC1FA,EAAQ7B,KAAKo3B,SAASv1B,GACtBuD,EAAKyP,aAAa,OAAQhT,GAC1BuD,EAAKyP,aAAa,MAAO,uBACzBzP,EAAKyP,aAAa,SAAU,UAC5B,OAAOzP,C,GAER,CACDqH,IAAK,UACL5K,MAAO,SAASiO,EAAQD,GACtB,OAAOA,EAAQ5J,aAAa,O,GAE7B,CACDwG,IAAK,WACL5K,MAAO,SAASu1B,EAASE,GACvB,OAAOC,EAAUD,EAAKt3B,KAAKw3B,oBAAsBF,EAAMt3B,KAAKy3B,a,KAIhE,OAAOJ,CACT,CAvCW,CAuCTvoB,EAAS5L,SAEXm0B,EAAK1wB,SAAW,OAChB0wB,EAAKlxB,QAAU,IACfkxB,EAAKI,cAAgB,cACrBJ,EAAKG,mBAAqB,CAAC,OAAQ,QAAS,SAAU,OAEtD,SAASD,EAAUD,EAAKI,GACtB,IAAIC,EAAS3gB,SAASC,cAAc,KACpC0gB,EAAOC,KAAON,EACd,IAAIO,EAAWF,EAAOC,KAAKxuB,MAAM,EAAGuuB,EAAOC,KAAKnsB,QAAQ,MACxD,OAAOisB,EAAUjsB,QAAQosB,IAAY,C,CAGvC/3B,EAAQoD,QAAUm0B,EAClBv3B,EAAQs3B,SAAWG,CAEZ,EAEP,SAAgB13B,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAGT,IAAIsQ,SAAiBC,SAAW,mBAAqBA,OAAO3I,WAAa,SAAW,SAAU6C,GAAO,cAAcA,CAAI,EAAK,SAAUA,GAAO,OAAOA,UAAc8F,SAAW,YAAc9F,EAAIhI,cAAgB8N,QAAU9F,IAAQ8F,OAAO3Q,UAAY,gBAAkB6K,CAAI,EAE1Q,IAAIiB,EAAe,WAAc,SAASC,EAAiBzE,EAAQ0E,GAAS,IAAK,IAAIpN,EAAI,EAAGA,EAAIoN,EAAMjH,OAAQnG,IAAK,CAAE,IAAIqN,EAAaD,EAAMpN,GAAIqN,EAAWzM,WAAayM,EAAWzM,YAAc,MAAOyM,EAAW1M,aAAe,KAAM,GAAI,UAAW0M,EAAYA,EAAWb,SAAW,KAAM/L,OAAOC,eAAegI,EAAQ2E,EAAWjB,IAAKiB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAe,GAAID,EAAYJ,EAAiBG,EAAYlM,UAAWmM,GAAa,GAAIC,EAAaL,EAAiBG,EAAaE,GAAc,OAAOF,CAAY,CAAG,CAA5hB,GAEnB,IAAImqB,EAAY33B,EAAoB,IAEpC,IAAI43B,EAAazpB,EAAuBwpB,GAExC,IAAIE,EAAY73B,EAAoB,KAEpC,IAAI83B,EAAa3pB,EAAuB0pB,GAExC,SAAS1pB,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,SAAS2C,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,IAAI+oB,EAAiB,EAErB,SAASC,EAAoBC,EAASnoB,GACpCmoB,EAAQvjB,aAAa5E,IAAamoB,EAAQnyB,aAAagK,KAAe,Q,CAGxE,IAAIooB,EAAS,WACX,SAASA,EAAOC,GACd,IAAI5zB,EAAQ1E,KAEZiP,EAAgBjP,KAAMq4B,GAEtBr4B,KAAKs4B,OAASA,EACdt4B,KAAKsU,UAAY0C,SAASC,cAAc,QACxCjX,KAAKu4B,cACLv4B,KAAKs4B,OAAOE,MAAMC,QAAU,OAC5Bz4B,KAAKs4B,OAAO7yB,WAAW+K,aAAaxQ,KAAKsU,UAAWtU,KAAKs4B,QAEzDt4B,KAAK04B,MAAM9Z,iBAAiB,aAAa,WACvCla,EAAMi0B,cACZ,IACI34B,KAAK04B,MAAM9Z,iBAAiB,WAAW,SAAUU,GAC/C,OAAQA,EAAMmS,SAEZ,KAAKsG,EAAW70B,QAAQ8E,KAAK4pB,MAC3BltB,EAAMi0B,eACN,MAGF,KAAKZ,EAAW70B,QAAQ8E,KAAK0rB,OAC3BhvB,EAAMk0B,SACNtZ,EAAMmU,iBACN,MAGV,IACIzzB,KAAKs4B,OAAO1Z,iBAAiB,SAAU5e,KAAKuW,OAAOiK,KAAKxgB,M,CAG1DuN,EAAa8qB,EAAQ,CAAC,CACpB5rB,IAAK,eACL5K,MAAO,SAAS82B,IACd34B,KAAKsU,UAAUI,UAAUqB,OAAO,eAEhCoiB,EAAoBn4B,KAAK04B,MAAO,iBAChCP,EAAoBn4B,KAAK2M,QAAS,c,GAEnC,CACDF,IAAK,YACL5K,MAAO,SAASg3B,EAAUC,GACxB,IAAInoB,EAAS3Q,KAEb,IAAI8hB,EAAO9K,SAASC,cAAc,QAClC6K,EAAKiX,SAAW,IAChBjX,EAAKjN,aAAa,OAAQ,UAE1BiN,EAAKpN,UAAUC,IAAI,kBACnB,GAAImkB,EAAOE,aAAa,SAAU,CAChClX,EAAKjN,aAAa,aAAcikB,EAAO7yB,aAAa,S,CAEtD,GAAI6yB,EAAOtW,YAAa,CACtBV,EAAKjN,aAAa,aAAcikB,EAAOtW,Y,CAEzCV,EAAKlD,iBAAiB,SAAS,WAC7BjO,EAAOsoB,WAAWnX,EAAM,KAChC,IACMA,EAAKlD,iBAAiB,WAAW,SAAUU,GACzC,OAAQA,EAAMmS,SAEZ,KAAKsG,EAAW70B,QAAQ8E,KAAK4pB,MAC3BjhB,EAAOsoB,WAAWnX,EAAM,MACxBxC,EAAMmU,iBACN,MAGF,KAAKsE,EAAW70B,QAAQ8E,KAAK0rB,OAC3B/iB,EAAOioB,SACPtZ,EAAMmU,iBACN,MAGZ,IAEM,OAAO3R,C,GAER,CACDrV,IAAK,aACL5K,MAAO,SAASq3B,IACd,IAAIR,EAAQ1hB,SAASC,cAAc,QACnCyhB,EAAMhkB,UAAUC,IAAI,mBACpB+jB,EAAMlkB,UAAYyjB,EAAW/0B,QAC7Bw1B,EAAMK,SAAW,IACjBL,EAAM7jB,aAAa,OAAQ,UAC3B6jB,EAAM7jB,aAAa,gBAAiB,SACpC7U,KAAKsU,UAAUgP,YAAYoV,GAC3B,OAAOA,C,GAER,CACDjsB,IAAK,eACL5K,MAAO,SAASs3B,IACd,IAAI9hB,EAASrX,KAEb,IAAI2M,EAAUqK,SAASC,cAAc,QACrCtK,EAAQ+H,UAAUC,IAAI,qBAGtBhI,EAAQkI,aAAa,cAAe,QACpClI,EAAQosB,SAAW,KAGnBpsB,EAAQysB,GAAK,qBAAuBlB,EACpCA,GAAkB,EAClBl4B,KAAK04B,MAAM7jB,aAAa,gBAAiBlI,EAAQysB,IAEjDp5B,KAAK2M,QAAUA,EAEf,GAAGvD,MAAM7I,KAAKP,KAAKs4B,OAAO3rB,SAASzF,SAAQ,SAAU4xB,GACnD,IAAIhX,EAAOzK,EAAOwhB,UAAUC,GAC5BnsB,EAAQ2W,YAAYxB,GACpB,GAAIgX,EAAOO,WAAa,KAAM,CAC5BhiB,EAAO4hB,WAAWnX,E,CAE5B,IACM9hB,KAAKsU,UAAUgP,YAAY3W,E,GAE5B,CACDF,IAAK,cACL5K,MAAO,SAAS02B,IACd,IAAI1gB,EAAS7X,KAEb,GAAGoJ,MAAM7I,KAAKP,KAAKs4B,OAAO1zB,YAAYsC,SAAQ,SAAU4a,GACtDjK,EAAOvD,UAAUO,aAAaiN,EAAKnhB,KAAMmhB,EAAKjgB,MACtD,IACM7B,KAAKsU,UAAUI,UAAUC,IAAI,aAC7B3U,KAAK04B,MAAQ14B,KAAKk5B,aAClBl5B,KAAKm5B,c,GAEN,CACD1sB,IAAK,SACL5K,MAAO,SAAS+2B,IACd,IAAItgB,EAAStY,KAGbA,KAAKs5B,QAGLlS,YAAW,WACT,OAAO9O,EAAOogB,MAAMhhB,O,GACnB,E,GAEJ,CACDjL,IAAK,QACL5K,MAAO,SAASy3B,IACdt5B,KAAKsU,UAAUI,UAAUpD,OAAO,eAChCtR,KAAK04B,MAAM7jB,aAAa,gBAAiB,SACzC7U,KAAK2M,QAAQkI,aAAa,cAAe,O,GAE1C,CACDpI,IAAK,aACL5K,MAAO,SAASo3B,EAAWnX,GACzB,IAAIyX,EAAUhzB,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAK,MAElF,IAAI8yB,EAAWr5B,KAAKsU,UAAU0I,cAAc,gBAC5C,GAAI8E,IAASuX,EAAU,OACvB,GAAIA,GAAY,KAAM,CACpBA,EAAS3kB,UAAUpD,OAAO,c,CAE5B,GAAIwQ,GAAQ,KAAM,OAClBA,EAAKpN,UAAUC,IAAI,eACnB3U,KAAKs4B,OAAOkB,cAAgB,GAAG/tB,QAAQlL,KAAKuhB,EAAKrc,WAAWyL,SAAU4Q,GACtE,GAAIA,EAAKkX,aAAa,cAAe,CACnCh5B,KAAK04B,MAAM7jB,aAAa,aAAciN,EAAK7b,aAAa,cAChE,KAAa,CACLjG,KAAK04B,MAAMzW,gBAAgB,a,CAE7B,GAAIH,EAAKkX,aAAa,cAAe,CACnCh5B,KAAK04B,MAAM7jB,aAAa,aAAciN,EAAK7b,aAAa,cAChE,KAAa,CACLjG,KAAK04B,MAAMzW,gBAAgB,a,CAE7B,GAAIsX,EAAS,CACX,UAAWE,QAAU,WAAY,CAC/Bz5B,KAAKs4B,OAAOoB,cAAc,IAAID,MAAM,UAC9C,MAAe,WAAYA,QAAU,YAAc,YAActnB,EAAQsnB,UAAY,SAAU,CAErF,IAAIna,EAAQtI,SAAS2iB,YAAY,SACjCra,EAAMsa,UAAU,SAAU,KAAM,MAChC55B,KAAKs4B,OAAOoB,cAAcpa,E,CAE5Btf,KAAKs5B,O,IAGR,CACD7sB,IAAK,SACL5K,MAAO,SAAS0U,IACd,IAAIuiB,OAAS,EACb,GAAI94B,KAAKs4B,OAAOkB,eAAgB,EAAI,CAClC,IAAI1X,EAAO9hB,KAAKsU,UAAU0I,cAAc,sBAAsB9L,SAASlR,KAAKs4B,OAAOkB,eACnFV,EAAS94B,KAAKs4B,OAAO3rB,QAAQ3M,KAAKs4B,OAAOkB,eACzCx5B,KAAKi5B,WAAWnX,EACxB,KAAa,CACL9hB,KAAKi5B,WAAW,K,CAElB,IAAIY,EAAWf,GAAU,MAAQA,IAAW94B,KAAKs4B,OAAOtb,cAAc,oBACtEhd,KAAK04B,MAAMhkB,UAAUqB,OAAO,YAAa8jB,E,KAI7C,OAAOxB,CACT,CA3Ma,GA6Mbv4B,EAAQoD,QAAUm1B,CAEX,EAEP,SAAgBx4B,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAGT,IAAI4M,EAAatO,EAAoB,GAErC,IAAIuO,EAAcJ,EAAuBG,GAEzC,IAAIqiB,EAAS3wB,EAAoB,GAEjC,IAAI4wB,EAAUziB,EAAuBwiB,GAErC,IAAI3O,EAAShiB,EAAoB,GAEjC,IAAIiiB,EAAU9T,EAAuB6T,GAErC,IAAIxT,EAASxO,EAAoB,IAEjC,IAAIyO,EAAUN,EAAuBK,GAErC,IAAIshB,EAAa9vB,EAAoB,IAErC,IAAI+vB,EAAc5hB,EAAuB2hB,GAEzC,IAAInM,EAAU3jB,EAAoB,IAElC,IAAI4jB,EAAWzV,EAAuBwV,GAEtC,IAAIgW,EAAS35B,EAAoB,IAEjC,IAAI45B,EAAUzrB,EAAuBwrB,GAErC,IAAIjrB,EAAU1O,EAAoB,GAElC,IAAI2O,EAAWR,EAAuBO,GAEtC,IAAImrB,EAAU75B,EAAoB,IAElC,IAAI85B,EAAW3rB,EAAuB0rB,GAEtC,IAAIjrB,EAAQ5O,EAAoB,GAEhC,IAAI6O,EAASV,EAAuBS,GAEpC,IAAImrB,EAAa/5B,EAAoB,IAErC,IAAIg6B,EAAc7rB,EAAuB4rB,GAEzC,IAAIE,EAAWj6B,EAAoB,IAEnC,IAAIk6B,EAAY/rB,EAAuB8rB,GAEvC,IAAItC,EAAY33B,EAAoB,IAEpC,IAAI43B,EAAazpB,EAAuBwpB,GAExC,SAASxpB,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7FykB,EAAQ7tB,QAAQF,SAAS,CACvB,cAAeof,EAAQlf,QACvB,oBAAqBif,EAAO/U,WAC5B,cAAewB,EAAQ1L,QACvB,kBAAmBgtB,EAAYhtB,QAC/B,eAAgB6gB,EAAS7gB,QACzB,cAAe62B,EAAQ72B,QACvB,eAAgB4L,EAAS5L,QACzB,eAAgB+2B,EAAS/2B,QACzB,aAAc8L,EAAO9L,QAErB,oBAAqBi3B,EAAYj3B,QACjC,kBAAmBm3B,EAAUn3B,QAC7B,mBAAoB60B,EAAW70B,UAGjCwL,EAAYxL,QAAQF,SAASof,EAAQlf,QAAS0L,EAAQ1L,QAAS6gB,EAAS7gB,QAAS4L,EAAS5L,QAAS+2B,EAAS/2B,QAAS8L,EAAO9L,SAE5HpD,EAAQoD,QAAU6tB,EAAQ7tB,OAEnB,EAEP,SAAgBrD,EAAQC,EAASK,GAIjCW,OAAOC,eAAejB,EAAS,aAAc,CAAE+B,MAAO,OACtD,IAAIa,EAAWvC,EAAoB,GACnC,IAAIm6B,EAA4B,WAC5B,SAASA,EAAWzqB,GAChB7P,KAAK6P,QAAUA,EAEf7P,KAAK6P,QAAQnN,EAASsC,UAAY,CAAEQ,KAAMxF,K,CAE9Cc,OAAOC,eAAeu5B,EAAW74B,UAAW,UAAW,CAEnDP,IAAK,WACD,OAAOlB,KAAKsE,W,EAEhBrD,WAAY,KACZD,aAAc,OAElBs5B,EAAWz3B,OAAS,SAAUhB,GAC1B,GAAI7B,KAAKmG,SAAW,KAAM,CACtB,MAAM,IAAIzD,EAAS6B,eAAe,kC,CAEtC,IAAIa,EACJ,GAAIjB,MAAM4C,QAAQ/G,KAAKmG,SAAU,CAC7B,UAAWtE,IAAU,SAAU,CAC3BA,EAAQA,EAAMmF,cACd,GAAImwB,SAASt1B,GAAOoK,aAAepK,EAAO,CACtCA,EAAQs1B,SAASt1B,E,EAGzB,UAAWA,IAAU,SAAU,CAC3BuD,EAAO4R,SAASC,cAAcjX,KAAKmG,QAAQtE,EAAQ,G,MAElD,GAAI7B,KAAKmG,QAAQsF,QAAQ5J,IAAS,EAAI,CACvCuD,EAAO4R,SAASC,cAAcpV,E,KAE7B,CACDuD,EAAO4R,SAASC,cAAcjX,KAAKmG,QAAQ,G,MAG9C,CACDf,EAAO4R,SAASC,cAAcjX,KAAKmG,Q,CAEvC,GAAInG,KAAK8G,UAAW,CAChB1B,EAAKsP,UAAUC,IAAI3U,KAAK8G,U,CAE5B,OAAO1B,CACf,EACIk1B,EAAW74B,UAAUmO,OAAS,WAC1B,GAAI5P,KAAKkO,QAAU,KAAM,CACrBlO,KAAKgV,OAAShV,KAAKkO,OAAO8G,M,CAEtC,EACIslB,EAAW74B,UAAUyL,MAAQ,WACzB,IAAI2C,EAAU7P,KAAK6P,QAAQ0qB,UAAU,OACrC,OAAO73B,EAASG,OAAOgN,EAC/B,EACIyqB,EAAW74B,UAAUgqB,OAAS,WAC1B,GAAIzrB,KAAKkO,QAAU,KACflO,KAAKkO,OAAOyD,YAAY3R,aAErBA,KAAK6P,QAAQnN,EAASsC,SACrC,EACIs1B,EAAW74B,UAAUsP,SAAW,SAAU3I,EAAO5B,GAC7C,IAAIhB,EAAOxF,KAAKie,QAAQ7V,EAAO5B,GAC/BhB,EAAK8L,QACb,EACIgpB,EAAW74B,UAAU0O,SAAW,SAAU/H,EAAO5B,EAAQ7F,EAAMkB,GAC3D,IAAI2D,EAAOxF,KAAKie,QAAQ7V,EAAO5B,GAC/B,GAAI9D,EAASK,MAAMpC,EAAM+B,EAASE,MAAMob,OAAS,MAAQnc,EAAO,CAC5D2D,EAAK0Y,KAAKvd,EAAMkB,E,MAEf,GAAIa,EAASK,MAAMpC,EAAM+B,EAASE,MAAMif,YAAc,KAAM,CAC7D,IAAI3T,EAASxL,EAASG,OAAO7C,KAAKgS,QAAQtM,OAC1CF,EAAK0Y,KAAKhQ,GACVA,EAAO8B,OAAOrP,EAAMkB,E,CAEhC,EACIy4B,EAAW74B,UAAU2O,SAAW,SAAUhI,EAAOvG,EAAOwO,GACpD,IAAI7K,EAAO6K,GAAO,KAAO3N,EAASG,OAAO,OAAQhB,GAASa,EAASG,OAAOhB,EAAOwO,GACjF,IAAIe,EAAMpR,KAAKkG,MAAMkC,GACrBpI,KAAKkO,OAAOsC,aAAahL,EAAM4L,EACvC,EACIkpB,EAAW74B,UAAUspB,WAAa,SAAUyP,EAAY7O,GACpD,GAAIA,SAAY,EAAQ,CAAEA,EAAU,IAAK,CACzC,GAAI3rB,KAAKkO,QAAU,KAAM,CACrBlO,KAAKkO,OAAOgD,SAASI,OAAOtR,K,CAEhC,IAAIy6B,EAAa,KACjBD,EAAWtpB,SAASV,aAAaxQ,KAAM2rB,GACvC,GAAIA,GAAW,KAAM,CACjB8O,EAAa9O,EAAQ9b,O,CAEzB,GAAI7P,KAAK6P,QAAQpK,YAAc+0B,EAAW3qB,SACtC7P,KAAK6P,QAAQyc,aAAemO,EAAY,CACxCD,EAAW3qB,QAAQW,aAAaxQ,KAAK6P,QAAS4qB,E,CAElDz6B,KAAKkO,OAASssB,EACdx6B,KAAK4P,QACb,EACI0qB,EAAW74B,UAAUwc,QAAU,SAAU7V,EAAO5B,GAC5C,IAAIuC,EAAS/I,KAAKkG,MAAMkC,GACxBW,EAAO7C,MAAMM,GACb,OAAOuC,CACf,EACIuxB,EAAW74B,UAAU+E,OAAS,WAC1B,OAAO,CACf,EACI8zB,EAAW74B,UAAUoK,OAAS,SAAUlM,GACpC,GAAIA,SAAS,EAAQ,CAAEA,EAAOK,KAAKkO,MAAO,CAC1C,GAAIlO,KAAKkO,QAAU,MAAQlO,MAAQL,EAC/B,OAAO,EACX,OAAOK,KAAKkO,OAAOgD,SAASrF,OAAO7L,MAAQA,KAAKkO,OAAOrC,OAAOlM,EACtE,EACI26B,EAAW74B,UAAU+P,SAAW,SAAUC,GAGtC,GAAIzR,KAAK6P,QAAQnN,EAASsC,WAAa,KAAM,QAElChF,KAAK6P,QAAQnN,EAASsC,UAAUmR,S,CAEnD,EACImkB,EAAW74B,UAAU6P,OAAS,WAC1B,GAAItR,KAAK6P,QAAQpK,YAAc,KAAM,CACjCzF,KAAK6P,QAAQpK,WAAWkM,YAAY3R,KAAK6P,Q,CAE7C7P,KAAKyrB,QACb,EACI6O,EAAW74B,UAAUugB,QAAU,SAAUjZ,GACrC,GAAIA,EAAOmF,QAAU,KACjB,OACJnF,EAAOmF,OAAOsC,aAAaxQ,KAAM+I,EAAOa,MACxCb,EAAOuI,QACf,EACIgpB,EAAW74B,UAAUirB,YAAc,SAAU/rB,EAAMkB,GAC/C,IAAI8qB,SAAqBhsB,IAAS,SAAW+B,EAASG,OAAOlC,EAAMkB,GAASlB,EAC5EgsB,EAAY3K,QAAQhiB,MACpB,OAAO2sB,CACf,EACI2N,EAAW74B,UAAUyE,MAAQ,SAAUkC,EAAOyJ,GAC1C,OAAOzJ,IAAU,EAAIpI,KAAOA,KAAK4J,IACzC,EACI0wB,EAAW74B,UAAU8U,OAAS,SAAUJ,EAAW1E,GAEvD,EACI6oB,EAAW74B,UAAUyc,KAAO,SAAUvd,EAAMkB,GACxC,IAAI+qB,SAAiBjsB,IAAS,SAAW+B,EAASG,OAAOlC,EAAMkB,GAASlB,EACxE,GAAIX,KAAKkO,QAAU,KAAM,CACrBlO,KAAKkO,OAAOsC,aAAaoc,EAAS5sB,KAAK4J,K,CAE3CgjB,EAAQtJ,YAAYtjB,MACpB,OAAO4sB,CACf,EACI0N,EAAW3zB,SAAW,WACtB,OAAO2zB,C,CAtJG,GAwJdx6B,EAAQoD,QAAUo3B,CAGX,EAEP,SAAgBz6B,EAAQC,EAASK,GAIjCW,OAAOC,eAAejB,EAAS,aAAc,CAAE+B,MAAO,OACtD,IAAIS,EAAenC,EAAoB,IACvC,IAAIoC,EAAUpC,EAAoB,IAClC,IAAIqC,EAAUrC,EAAoB,IAClC,IAAIuC,EAAWvC,EAAoB,GACnC,IAAIu6B,EAAiC,WACjC,SAASA,EAAgB7qB,GACrB7P,KAAK4E,WAAa,GAClB5E,KAAK6P,QAAUA,EACf7P,KAAKmrB,O,CAETuP,EAAgBj5B,UAAUwO,UAAY,SAAUA,EAAWpO,GAEvD,GAAIA,EAAO,CACP,GAAIoO,EAAU0E,IAAI3U,KAAK6P,QAAShO,GAAQ,CACpC,GAAIoO,EAAUpO,MAAM7B,KAAK6P,UAAY,KAAM,CACvC7P,KAAK4E,WAAWqL,EAAUrJ,UAAYqJ,C,KAErC,QACMjQ,KAAK4E,WAAWqL,EAAUrJ,S,OAIxC,CACDqJ,EAAUqB,OAAOtR,KAAK6P,gBACf7P,KAAK4E,WAAWqL,EAAUrJ,S,CAE7C,EACI8zB,EAAgBj5B,UAAU0pB,MAAQ,WAC9B,IAAIzmB,EAAQ1E,KACZA,KAAK4E,WAAa,GAClB,IAAIA,EAAatC,EAAaY,QAAQ8E,KAAKhI,KAAK6P,SAChD,IAAIhL,EAAUtC,EAAQW,QAAQ8E,KAAKhI,KAAK6P,SACxC,IAAI8qB,EAASn4B,EAAQU,QAAQ8E,KAAKhI,KAAK6P,SACvCjL,EACKgG,OAAO/F,GACP+F,OAAO+vB,GACPzzB,SAAQ,SAAUvG,GACnB,IAAIi6B,EAAOl4B,EAASK,MAAMpC,EAAM+B,EAASE,MAAMif,WAC/C,GAAI+Y,aAAgBt4B,EAAaY,QAAS,CACtCwB,EAAME,WAAWg2B,EAAKh0B,UAAYg0B,C,CAElD,GACA,EACIF,EAAgBj5B,UAAUuL,KAAO,SAAUjE,GACvC,IAAIrE,EAAQ1E,KACZc,OAAOkH,KAAKhI,KAAK4E,YAAYsC,SAAQ,SAAUuF,GAC3C,IAAI5K,EAAQ6C,EAAME,WAAW6H,GAAK5K,MAAM6C,EAAMmL,SAC9C9G,EAAOiH,OAAOvD,EAAK5K,EAC/B,GACA,EACI64B,EAAgBj5B,UAAUorB,KAAO,SAAU9jB,GACvC,IAAIrE,EAAQ1E,KACZA,KAAKgN,KAAKjE,GACVjI,OAAOkH,KAAKhI,KAAK4E,YAAYsC,SAAQ,SAAUuF,GAC3C/H,EAAME,WAAW6H,GAAK6E,OAAO5M,EAAMmL,QAC/C,IACQ7P,KAAK4E,WAAa,EAC1B,EACI81B,EAAgBj5B,UAAUsO,OAAS,WAC/B,IAAIrL,EAAQ1E,KACZ,OAAOc,OAAOkH,KAAKhI,KAAK4E,YAAYoE,QAAO,SAAUpE,EAAYjE,GAC7DiE,EAAWjE,GAAQ+D,EAAME,WAAWjE,GAAMkB,MAAM6C,EAAMmL,SACtD,OAAOjL,C,GACR,GACX,EACI,OAAO81B,C,CA7DQ,GA+DnB56B,EAAQoD,QAAUw3B,CAGX,EAEP,SAAgB76B,EAAQC,EAASK,GAIjC,IAAI4D,EAAa/D,MAAQA,KAAK+D,WAAc,WACxC,IAAIC,EAAgBlD,OAAOmD,gBACtB,CAAEC,UAAW,cAAgBC,OAAS,SAAUzD,EAAG0D,GAAK1D,EAAEwD,UAAYE,CAAE,GACzE,SAAU1D,EAAG0D,GAAK,IAAK,IAAIzC,KAAKyC,EAAG,GAAIA,EAAE1C,eAAeC,GAAIjB,EAAEiB,GAAKyC,EAAEzC,EAAG,EAC5E,OAAO,SAAUjB,EAAG0D,GAChBJ,EAActD,EAAG0D,GACjB,SAASC,IAAOrE,KAAKsE,YAAc5D,CAAE,CACrCA,EAAEe,UAAY2C,IAAM,KAAOtD,OAAO+B,OAAOuB,IAAMC,EAAG5C,UAAY2C,EAAE3C,UAAW,IAAI4C,EACvF,CACC,CAT2C,GAU5CvD,OAAOC,eAAejB,EAAS,aAAc,CAAE+B,MAAO,OACtD,IAAIS,EAAenC,EAAoB,IACvC,SAAS+E,EAAME,EAAMktB,GACjB,IAAIxrB,EAAY1B,EAAKa,aAAa,UAAY,GAC9C,OAAOa,EAAUZ,MAAM,OAAOwC,QAAO,SAAU/H,GAC3C,OAAOA,EAAK8K,QAAQ6mB,EAAS,OAAS,CAC9C,G,CAEA,IAAIuI,EAAiC,SAAUr2B,GAC3CT,EAAU82B,EAAiBr2B,GAC3B,SAASq2B,IACL,OAAOr2B,IAAW,MAAQA,EAAOmL,MAAM3P,KAAMuG,YAAcvG,I,CAE/D66B,EAAgB7yB,KAAO,SAAU5C,GAC7B,OAAQA,EAAKa,aAAa,UAAY,IAAIC,MAAM,OAAOO,KAAI,SAAU9F,GACjE,OAAOA,EACFuF,MAAM,KACNkD,MAAM,GAAG,GACT2B,KAAK,IACtB,GACA,EACI8vB,EAAgBp5B,UAAUkT,IAAM,SAAUvP,EAAMvD,GAC5C,IAAK7B,KAAK+hB,OAAO3c,EAAMvD,GACnB,OAAO,MACX7B,KAAKsR,OAAOlM,GACZA,EAAKsP,UAAUC,IAAI3U,KAAK6G,QAAU,IAAMhF,GACxC,OAAO,IACf,EACIg5B,EAAgBp5B,UAAU6P,OAAS,SAAUlM,GACzC,IAAI01B,EAAU51B,EAAME,EAAMpF,KAAK6G,SAC/Bi0B,EAAQ5zB,SAAQ,SAAUvG,GACtByE,EAAKsP,UAAUpD,OAAO3Q,EAClC,IACQ,GAAIyE,EAAKsP,UAAUlO,SAAW,EAAG,CAC7BpB,EAAK6c,gBAAgB,Q,CAEjC,EACI4Y,EAAgBp5B,UAAUI,MAAQ,SAAUuD,GACxC,IAAI21B,EAAS71B,EAAME,EAAMpF,KAAK6G,SAAS,IAAM,GAC7C,IAAIhF,EAAQk5B,EAAO3xB,MAAMpJ,KAAK6G,QAAQL,OAAS,GAC/C,OAAOxG,KAAK+hB,OAAO3c,EAAMvD,GAASA,EAAQ,EAClD,EACI,OAAOg5B,CACX,CAnCmB,CAmCjBv4B,EAAaY,SACfpD,EAAQoD,QAAU23B,CAGX,EAEP,SAAgBh7B,EAAQC,EAASK,GAIjC,IAAI4D,EAAa/D,MAAQA,KAAK+D,WAAc,WACxC,IAAIC,EAAgBlD,OAAOmD,gBACtB,CAAEC,UAAW,cAAgBC,OAAS,SAAUzD,EAAG0D,GAAK1D,EAAEwD,UAAYE,CAAE,GACzE,SAAU1D,EAAG0D,GAAK,IAAK,IAAIzC,KAAKyC,EAAG,GAAIA,EAAE1C,eAAeC,GAAIjB,EAAEiB,GAAKyC,EAAEzC,EAAG,EAC5E,OAAO,SAAUjB,EAAG0D,GAChBJ,EAActD,EAAG0D,GACjB,SAASC,IAAOrE,KAAKsE,YAAc5D,CAAE,CACrCA,EAAEe,UAAY2C,IAAM,KAAOtD,OAAO+B,OAAOuB,IAAMC,EAAG5C,UAAY2C,EAAE3C,UAAW,IAAI4C,EACvF,CACC,CAT2C,GAU5CvD,OAAOC,eAAejB,EAAS,aAAc,CAAE+B,MAAO,OACtD,IAAIS,EAAenC,EAAoB,IACvC,SAAS66B,EAASr6B,GACd,IAAIs6B,EAAQt6B,EAAKuF,MAAM,KACvB,IAAIyE,EAAOswB,EACN7xB,MAAM,GACN3C,KAAI,SAAUy0B,GACf,OAAOA,EAAK,GAAGl0B,cAAgBk0B,EAAK9xB,MAAM,EAClD,IACS2B,KAAK,IACV,OAAOkwB,EAAM,GAAKtwB,C,CAEtB,IAAIwwB,EAAiC,SAAU32B,GAC3CT,EAAUo3B,EAAiB32B,GAC3B,SAAS22B,IACL,OAAO32B,IAAW,MAAQA,EAAOmL,MAAM3P,KAAMuG,YAAcvG,I,CAE/Dm7B,EAAgBnzB,KAAO,SAAU5C,GAC7B,OAAQA,EAAKa,aAAa,UAAY,IAAIC,MAAM,KAAKO,KAAI,SAAU5E,GAC/D,IAAIuK,EAAMvK,EAAMqE,MAAM,KACtB,OAAOkG,EAAI,GAAGqI,MAC1B,GACA,EACI0mB,EAAgB15B,UAAUkT,IAAM,SAAUvP,EAAMvD,GAC5C,IAAK7B,KAAK+hB,OAAO3c,EAAMvD,GACnB,OAAO,MAEXuD,EAAKozB,MAAMwC,EAASh7B,KAAK6G,UAAYhF,EACrC,OAAO,IACf,EACIs5B,EAAgB15B,UAAU6P,OAAS,SAAUlM,GAEzCA,EAAKozB,MAAMwC,EAASh7B,KAAK6G,UAAY,GACrC,IAAKzB,EAAKa,aAAa,SAAU,CAC7Bb,EAAK6c,gBAAgB,Q,CAEjC,EACIkZ,EAAgB15B,UAAUI,MAAQ,SAAUuD,GAExC,IAAIvD,EAAQuD,EAAKozB,MAAMwC,EAASh7B,KAAK6G,UACrC,OAAO7G,KAAK+hB,OAAO3c,EAAMvD,GAASA,EAAQ,EAClD,EACI,OAAOs5B,CACX,CA/BmB,CA+BjB74B,EAAaY,SACfpD,EAAQoD,QAAUi4B,CAGX,EAEP,SAAgBt7B,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAGT,IAAI0L,EAAe,WAAc,SAASC,EAAiBzE,EAAQ0E,GAAS,IAAK,IAAIpN,EAAI,EAAGA,EAAIoN,EAAMjH,OAAQnG,IAAK,CAAE,IAAIqN,EAAaD,EAAMpN,GAAIqN,EAAWzM,WAAayM,EAAWzM,YAAc,MAAOyM,EAAW1M,aAAe,KAAM,GAAI,UAAW0M,EAAYA,EAAWb,SAAW,KAAM/L,OAAOC,eAAegI,EAAQ2E,EAAWjB,IAAKiB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAe,GAAID,EAAYJ,EAAiBG,EAAYlM,UAAWmM,GAAa,GAAIC,EAAaL,EAAiBG,EAAaE,GAAc,OAAOF,CAAY,CAAG,CAA5hB,GAEnB,SAASsB,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,IAAIisB,EAAQ,WACV,SAASA,EAAMpb,EAAOrT,GACpBsC,EAAgBjP,KAAMo7B,GAEtBp7B,KAAKggB,MAAQA,EACbhgB,KAAK2M,QAAUA,EACf3M,KAAKC,QAAU,E,CAGjBsN,EAAa6tB,EAAO,CAAC,CACnB3uB,IAAK,OACL5K,MAAO,SAAS4T,IACd,IAAI/Q,EAAQ1E,KAEZc,OAAOkH,KAAKhI,KAAK2M,QAAQ1M,SAASiH,SAAQ,SAAUvG,GAClD,GAAI+D,EAAMzE,QAAQU,IAAS,KAAM,CAC/B+D,EAAM4Q,UAAU3U,E,CAE1B,G,GAEK,CACD8L,IAAK,YACL5K,MAAO,SAASyT,EAAU3U,GACxB,IAAImc,EAAc9c,KAAKggB,MAAM1b,YAAYmY,OAAO,WAAa9b,GAC7DX,KAAKC,QAAQU,GAAQ,IAAImc,EAAY9c,KAAKggB,MAAOhgB,KAAK2M,QAAQ1M,QAAQU,IAAS,IAC/E,OAAOX,KAAKC,QAAQU,E,KAIxB,OAAOy6B,CACT,CA9BY,GAgCZA,EAAMhf,SAAW,CACfnc,QAAS,IAEXm7B,EAAMC,OAAS,CACbn4B,QAAWk4B,GAGbt7B,EAAQoD,QAAUk4B,CAEX,EAEP,SAAgBv7B,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAGT,IAAI0L,EAAe,WAAc,SAASC,EAAiBzE,EAAQ0E,GAAS,IAAK,IAAIpN,EAAI,EAAGA,EAAIoN,EAAMjH,OAAQnG,IAAK,CAAE,IAAIqN,EAAaD,EAAMpN,GAAIqN,EAAWzM,WAAayM,EAAWzM,YAAc,MAAOyM,EAAW1M,aAAe,KAAM,GAAI,UAAW0M,EAAYA,EAAWb,SAAW,KAAM/L,OAAOC,eAAegI,EAAQ2E,EAAWjB,IAAKiB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAe,GAAID,EAAYJ,EAAiBG,EAAYlM,UAAWmM,GAAa,GAAIC,EAAaL,EAAiBG,EAAaE,GAAc,OAAOF,CAAY,CAAG,CAA5hB,GAEnB,IAAIG,EAAO,SAAS5M,EAAIK,EAAQC,EAAUuM,GAAY,GAAIxM,IAAW,KAAMA,EAASyM,SAASvM,UAAW,IAAIwM,EAAOnN,OAAOqL,yBAAyB5K,EAAQC,GAAW,GAAIyM,IAASX,UAAW,CAAE,IAAIY,EAASpN,OAAOqN,eAAe5M,GAAS,GAAI2M,IAAW,KAAM,CAAE,OAAOZ,SAAU,KAAQ,CAAE,OAAOpM,EAAIgN,EAAQ1M,EAAUuM,EAAU,CAAE,MAAQ,GAAI,UAAWE,EAAM,CAAE,OAAOA,EAAKpM,KAAM,KAAQ,CAAE,IAAIjB,EAASqN,EAAK/M,IAAK,GAAIN,IAAW0M,UAAW,CAAE,OAAOA,SAAU,CAAG,OAAO1M,EAAOL,KAAKwN,EAAU,CAAE,EAExe,IAAIU,EAAatO,EAAoB,GAErC,IAAIuO,EAAcJ,EAAuBG,GAEzC,IAAIM,EAAQ5O,EAAoB,GAEhC,IAAI6O,EAASV,EAAuBS,GAEpC,SAAST,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,SAAS2C,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,SAASC,EAA2BrP,EAAMQ,GAAQ,IAAKR,EAAM,CAAE,MAAM,IAAIsP,eAAe,4DAA6D,CAAG,OAAO9O,WAAgBA,IAAS,iBAAmBA,IAAS,YAAcA,EAAOR,CAAK,CAE9O,SAASuP,EAAUC,EAAUC,GAAc,UAAWA,IAAe,YAAcA,IAAe,KAAM,CAAE,MAAM,IAAIL,UAAU,kEAAoEK,EAAY,CAAGD,EAAS9N,UAAYX,OAAO+B,OAAO2M,GAAcA,EAAW/N,UAAW,CAAE6C,YAAa,CAAEzC,MAAO0N,EAAUtO,WAAY,MAAO4L,SAAU,KAAM7L,aAAc,QAAW,GAAIwO,EAAY1O,OAAOmD,eAAiBnD,OAAOmD,eAAesL,EAAUC,GAAcD,EAASrL,UAAYsL,CAAW,CAE5e,IAAI8rB,EAAa,SAEjB,IAAIj4B,EAAQ,SAAUqM,GACpBJ,EAAUjM,EAAOqM,GAEjB,SAASrM,EAAM+B,GACb6J,EAAgBjP,KAAMqD,GAEtB,IAAIqB,EAAQ0K,EAA2BpP,MAAOqD,EAAMa,WAAapD,OAAOqN,eAAe9K,IAAQ9C,KAAKP,KAAMoF,IAE1GV,EAAM62B,YAAcvkB,SAASC,cAAc,QAC3CvS,EAAM62B,YAAY1mB,aAAa,kBAAmB,OAClD,GAAGzL,MAAM7I,KAAKmE,EAAMmL,QAAQka,YAAY7iB,SAAQ,SAAUs0B,GACxD92B,EAAM62B,YAAYjY,YAAYkY,EACpC,IACI92B,EAAM+2B,UAAYzkB,SAAS2f,eAAe2E,GAC1C52B,EAAMg3B,WAAa1kB,SAAS2f,eAAe2E,GAC3C52B,EAAMmL,QAAQyT,YAAY5e,EAAM+2B,WAChC/2B,EAAMmL,QAAQyT,YAAY5e,EAAM62B,aAChC72B,EAAMmL,QAAQyT,YAAY5e,EAAMg3B,YAChC,OAAOh3B,C,CAGT6I,EAAalK,EAAO,CAAC,CACnBoJ,IAAK,QACL5K,MAAO,SAASuG,EAAMhD,EAAMyG,GAC1B,GAAIzG,IAASpF,KAAKy7B,UAAW,OAAO,EACpC,GAAIr2B,IAASpF,KAAK07B,WAAY,OAAO,EACrC,OAAO5tB,EAAKzK,EAAM5B,UAAUyC,WAAapD,OAAOqN,eAAe9K,EAAM5B,WAAY,QAASzB,MAAMO,KAAKP,KAAMoF,EAAMyG,E,GAElH,CACDY,IAAK,UACL5K,MAAO,SAASkmB,EAAQ3iB,GACtB,IAAIgR,OAAQ,EACRmR,OAAW,EACf,IAAIzf,EAAO1C,EAAK0gB,KAAK5f,MAAMo1B,GAAYvwB,KAAK,IAC5C,GAAI3F,IAASpF,KAAKy7B,UAAW,CAC3B,GAAIz7B,KAAKujB,gBAAgBvU,EAAO9L,QAAS,CACvC,IAAIy4B,EAAa37B,KAAKujB,KAAK/c,SAC3BxG,KAAKujB,KAAKnT,SAASurB,EAAY7zB,GAC/BsO,EAAQ,CACNuR,UAAW3nB,KAAKujB,KAAK1T,QACrB+X,YAAa+T,EAAa7zB,EAAKtB,OAE3C,KAAe,CACL+gB,EAAWvQ,SAAS2f,eAAe7uB,GACnC9H,KAAKkO,OAAOsC,aAAa9B,EAAYxL,QAAQL,OAAO0kB,GAAWvnB,MAC/DoW,EAAQ,CACNuR,UAAWJ,EACXK,YAAa9f,EAAKtB,O,CAG9B,MAAa,GAAIpB,IAASpF,KAAK07B,WAAY,CACnC,GAAI17B,KAAK4J,gBAAgBoF,EAAO9L,QAAS,CACvClD,KAAK4J,KAAKwG,SAAS,EAAGtI,GACtBsO,EAAQ,CACNuR,UAAW3nB,KAAK4J,KAAKiG,QACrB+X,YAAa9f,EAAKtB,OAE9B,KAAe,CACL+gB,EAAWvQ,SAAS2f,eAAe7uB,GACnC9H,KAAKkO,OAAOsC,aAAa9B,EAAYxL,QAAQL,OAAO0kB,GAAWvnB,KAAK4J,MACpEwM,EAAQ,CACNuR,UAAWJ,EACXK,YAAa9f,EAAKtB,O,EAIxBpB,EAAK0gB,KAAOwV,EACZ,OAAOllB,C,GAER,CACD3J,IAAK,SACL5K,MAAO,SAAS0U,EAAOJ,EAAW1E,GAChC,IAAId,EAAS3Q,KAEbmW,EAAUjP,SAAQ,SAAUglB,GAC1B,GAAIA,EAASrW,OAAS,kBAAoBqW,EAASnjB,SAAW4H,EAAO8qB,WAAavP,EAASnjB,SAAW4H,EAAO+qB,YAAa,CACxH,IAAItlB,EAAQzF,EAAOoX,QAAQmE,EAASnjB,QACpC,GAAIqN,EAAO3E,EAAQ2E,MAAQA,C,CAErC,G,KAIE,OAAO/S,CACT,CApFY,CAoFVqL,EAAYxL,QAAQG,OAEtBvD,EAAQoD,QAAUG,CAEX,EAEP,SAAgBxD,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAET/B,EAAQ87B,WAAa97B,EAAQ+7B,WAAa/7B,EAAQg8B,eAAiBxuB,UAEnE,IAAImB,EAAatO,EAAoB,GAErC,IAAIuO,EAAcJ,EAAuBG,GAEzC,SAASH,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,IAAIqQ,EAAS,CACXjX,MAAOgJ,EAAYxL,QAAQN,MAAMiD,MACjCoP,UAAW,CAAC,QAAS,SAAU,YAGjC,IAAI6mB,EAAiB,IAAIptB,EAAYxL,QAAQQ,WAAWC,UAAU,QAAS,QAASgZ,GACpF,IAAIkf,EAAa,IAAIntB,EAAYxL,QAAQQ,WAAWE,MAAM,QAAS,WAAY+Y,GAC/E,IAAIif,EAAa,IAAIltB,EAAYxL,QAAQQ,WAAWG,MAAM,QAAS,aAAc8Y,GAEjF7c,EAAQg8B,eAAiBA,EACzBh8B,EAAQ+7B,WAAaA,EACrB/7B,EAAQ87B,WAAaA,CAEd,EAEP,SAAgB/7B,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAET/B,EAAQi8B,gBAAkBj8B,EAAQk8B,gBAAkB1uB,UAEpD,IAAImB,EAAatO,EAAoB,GAErC,IAAIuO,EAAcJ,EAAuBG,GAEzC,IAAIwtB,EAAS97B,EAAoB,IAEjC,SAASmO,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,IAAI0vB,EAAkB,IAAIttB,EAAYxL,QAAQQ,WAAWE,MAAM,aAAc,QAAS,CACpF8B,MAAOgJ,EAAYxL,QAAQN,MAAMkD,SAEnC,IAAIi2B,EAAkB,IAAIE,EAAOhF,gBAAgB,aAAc,mBAAoB,CACjFvxB,MAAOgJ,EAAYxL,QAAQN,MAAMkD,SAGnChG,EAAQk8B,gBAAkBA,EAC1Bl8B,EAAQi8B,gBAAkBA,CAEnB,EAEP,SAAgBl8B,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAET/B,EAAQo8B,eAAiBp8B,EAAQq8B,eAAiBr8B,EAAQs8B,mBAAqB9uB,UAE/E,IAAImB,EAAatO,EAAoB,GAErC,IAAIuO,EAAcJ,EAAuBG,GAEzC,SAASH,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,IAAIqQ,EAAS,CACXjX,MAAOgJ,EAAYxL,QAAQN,MAAMiD,MACjCoP,UAAW,CAAC,QAGd,IAAImnB,EAAqB,IAAI1tB,EAAYxL,QAAQQ,WAAWC,UAAU,YAAa,MAAOgZ,GAC1F,IAAIwf,EAAiB,IAAIztB,EAAYxL,QAAQQ,WAAWE,MAAM,YAAa,eAAgB+Y,GAC3F,IAAIuf,EAAiB,IAAIxtB,EAAYxL,QAAQQ,WAAWG,MAAM,YAAa,YAAa8Y,GAExF7c,EAAQs8B,mBAAqBA,EAC7Bt8B,EAAQq8B,eAAiBA,EACzBr8B,EAAQo8B,eAAiBA,CAElB,EAEP,SAAgBr8B,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAET/B,EAAQu8B,UAAYv8B,EAAQw8B,UAAYhvB,UAExC,IAAIC,EAAe,WAAc,SAASC,EAAiBzE,EAAQ0E,GAAS,IAAK,IAAIpN,EAAI,EAAGA,EAAIoN,EAAMjH,OAAQnG,IAAK,CAAE,IAAIqN,EAAaD,EAAMpN,GAAIqN,EAAWzM,WAAayM,EAAWzM,YAAc,MAAOyM,EAAW1M,aAAe,KAAM,GAAI,UAAW0M,EAAYA,EAAWb,SAAW,KAAM/L,OAAOC,eAAegI,EAAQ2E,EAAWjB,IAAKiB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAe,GAAID,EAAYJ,EAAiBG,EAAYlM,UAAWmM,GAAa,GAAIC,EAAaL,EAAiBG,EAAaE,GAAc,OAAOF,CAAY,CAAG,CAA5hB,GAEnB,IAAIG,EAAO,SAAS5M,EAAIK,EAAQC,EAAUuM,GAAY,GAAIxM,IAAW,KAAMA,EAASyM,SAASvM,UAAW,IAAIwM,EAAOnN,OAAOqL,yBAAyB5K,EAAQC,GAAW,GAAIyM,IAASX,UAAW,CAAE,IAAIY,EAASpN,OAAOqN,eAAe5M,GAAS,GAAI2M,IAAW,KAAM,CAAE,OAAOZ,SAAU,KAAQ,CAAE,OAAOpM,EAAIgN,EAAQ1M,EAAUuM,EAAU,CAAE,MAAQ,GAAI,UAAWE,EAAM,CAAE,OAAOA,EAAKpM,KAAM,KAAQ,CAAE,IAAIjB,EAASqN,EAAK/M,IAAK,GAAIN,IAAW0M,UAAW,CAAE,OAAOA,SAAU,CAAG,OAAO1M,EAAOL,KAAKwN,EAAU,CAAE,EAExe,IAAIU,EAAatO,EAAoB,GAErC,IAAIuO,EAAcJ,EAAuBG,GAEzC,SAASH,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,SAAS2C,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,SAASC,EAA2BrP,EAAMQ,GAAQ,IAAKR,EAAM,CAAE,MAAM,IAAIsP,eAAe,4DAA6D,CAAG,OAAO9O,WAAgBA,IAAS,iBAAmBA,IAAS,YAAcA,EAAOR,CAAK,CAE9O,SAASuP,EAAUC,EAAUC,GAAc,UAAWA,IAAe,YAAcA,IAAe,KAAM,CAAE,MAAM,IAAIL,UAAU,kEAAoEK,EAAY,CAAGD,EAAS9N,UAAYX,OAAO+B,OAAO2M,GAAcA,EAAW/N,UAAW,CAAE6C,YAAa,CAAEzC,MAAO0N,EAAUtO,WAAY,MAAO4L,SAAU,KAAM7L,aAAc,QAAW,GAAIwO,EAAY1O,OAAOmD,eAAiBnD,OAAOmD,eAAesL,EAAUC,GAAcD,EAASrL,UAAYsL,CAAW,CAE5e,IAAImN,EAAS,CACXjX,MAAOgJ,EAAYxL,QAAQN,MAAMkD,OACjCmP,UAAW,CAAC,QAAS,cAGvB,IAAIonB,EAAY,IAAI3tB,EAAYxL,QAAQQ,WAAWE,MAAM,OAAQ,UAAW+Y,GAE5E,IAAI4f,EAAsB,SAAUrF,GAClC5nB,EAAUitB,EAAqBrF,GAE/B,SAASqF,IACPttB,EAAgBjP,KAAMu8B,GAEtB,OAAOntB,EAA2BpP,MAAOu8B,EAAoBr4B,WAAapD,OAAOqN,eAAeouB,IAAsB5sB,MAAM3P,KAAMuG,W,CAGpIgH,EAAagvB,EAAqB,CAAC,CACjC9vB,IAAK,QACL5K,MAAO,SAASA,EAAMuD,GACpB,OAAO0I,EAAKyuB,EAAoB96B,UAAUyC,WAAapD,OAAOqN,eAAeouB,EAAoB96B,WAAY,QAASzB,MAAMO,KAAKP,KAAMoF,GAAM4c,QAAQ,QAAS,G,KAIlK,OAAOua,C,CAhBiB,CAiBxB7tB,EAAYxL,QAAQQ,WAAWG,OAEjC,IAAIy4B,EAAY,IAAIC,EAAoB,OAAQ,cAAe5f,GAE/D7c,EAAQw8B,UAAYA,EACpBx8B,EAAQu8B,UAAYA,CAEb,EAEP,SAAgBx8B,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAET/B,EAAQ08B,UAAY18B,EAAQ28B,UAAYnvB,UAExC,IAAImB,EAAatO,EAAoB,GAErC,IAAIuO,EAAcJ,EAAuBG,GAEzC,SAASH,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,IAAImwB,EAAY,IAAI/tB,EAAYxL,QAAQQ,WAAWE,MAAM,OAAQ,UAAW,CAC1E8B,MAAOgJ,EAAYxL,QAAQN,MAAMkD,OACjCmP,UAAW,CAAC,QAAS,QAAS,UAEhC,IAAIunB,EAAY,IAAI9tB,EAAYxL,QAAQQ,WAAWG,MAAM,OAAQ,YAAa,CAC5E6B,MAAOgJ,EAAYxL,QAAQN,MAAMkD,OACjCmP,UAAW,CAAC,OAAQ,OAAQ,UAG9BnV,EAAQ28B,UAAYA,EACpB38B,EAAQ08B,UAAYA,CAEb,EAEP,SAAgB38B,EAAQC,EAASK,GAKjCN,EAAOC,QAAU,CACf48B,MAAS,CACP,GAAIv8B,EAAoB,IACxBw8B,OAAUx8B,EAAoB,IAC9BiZ,MAASjZ,EAAoB,IAC7By8B,QAAWz8B,EAAoB,KAEjC08B,WAAc18B,EAAoB,IAClC28B,WAAc38B,EAAoB,IAClC4zB,KAAQ5zB,EAAoB,IAC5B48B,MAAS58B,EAAoB,IAC7B68B,KAAQ78B,EAAoB,IAC5B,aAAcA,EAAoB,IAClC88B,MAAS98B,EAAoB,IAC7B+8B,UAAa,CACX,GAAI/8B,EAAoB,IACxBg9B,IAAOh9B,EAAoB,KAE7Bi9B,MAAS,CACPT,OAAUx8B,EAAoB,IAC9Bk9B,KAAQl9B,EAAoB,IAC5BgZ,KAAQhZ,EAAoB,IAC5BiZ,MAASjZ,EAAoB,KAE/Bm9B,QAAWn9B,EAAoB,IAC/By0B,OAAU,CACR,EAAKz0B,EAAoB,IACzB,EAAKA,EAAoB,KAE3B8zB,OAAU9zB,EAAoB,IAC9BomB,MAASpmB,EAAoB,IAC7Bg0B,OAAU,CACR,KAAMh0B,EAAoB,IAC1B,KAAMA,EAAoB,KAE5Bo9B,KAAQp9B,EAAoB,IAC5BqmB,KAAQ,CACNgX,QAAWr9B,EAAoB,IAC/BsmB,OAAUtmB,EAAoB,KAC9Bs9B,MAASt9B,EAAoB,MAE/Bu9B,OAAU,CACRC,IAAOx9B,EAAoB,KAC3By9B,MAASz9B,EAAoB,MAE/B09B,OAAU19B,EAAoB,KAC9B+zB,UAAa/zB,EAAoB,KACjC29B,MAAS39B,EAAoB,KAGxB,EAEP,SAAgBN,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAET/B,EAAQi+B,mBAAqBj+B,EAAQoD,QAAUoK,UAE/C,IAAIC,EAAe,WAAc,SAASC,EAAiBzE,EAAQ0E,GAAS,IAAK,IAAIpN,EAAI,EAAGA,EAAIoN,EAAMjH,OAAQnG,IAAK,CAAE,IAAIqN,EAAaD,EAAMpN,GAAIqN,EAAWzM,WAAayM,EAAWzM,YAAc,MAAOyM,EAAW1M,aAAe,KAAM,GAAI,UAAW0M,EAAYA,EAAWb,SAAW,KAAM/L,OAAOC,eAAegI,EAAQ2E,EAAWjB,IAAKiB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAe,GAAID,EAAYJ,EAAiBG,EAAYlM,UAAWmM,GAAa,GAAIC,EAAaL,EAAiBG,EAAaE,GAAc,OAAOF,CAAY,CAAG,CAA5hB,GAEnB,IAAIc,EAAatO,EAAoB,GAErC,IAAIuO,EAAcJ,EAAuBG,GAEzC,IAAIqiB,EAAS3wB,EAAoB,GAEjC,IAAI4wB,EAAUziB,EAAuBwiB,GAErC,IAAI5d,EAAU/S,EAAoB,GAElC,IAAIgT,EAAW7E,EAAuB4E,GAEtC,SAAS5E,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,SAAS2C,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,SAASC,EAA2BrP,EAAMQ,GAAQ,IAAKR,EAAM,CAAE,MAAM,IAAIsP,eAAe,4DAA6D,CAAG,OAAO9O,WAAgBA,IAAS,iBAAmBA,IAAS,YAAcA,EAAOR,CAAK,CAE9O,SAASuP,EAAUC,EAAUC,GAAc,UAAWA,IAAe,YAAcA,IAAe,KAAM,CAAE,MAAM,IAAIL,UAAU,kEAAoEK,EAAY,CAAGD,EAAS9N,UAAYX,OAAO+B,OAAO2M,GAAcA,EAAW/N,UAAW,CAAE6C,YAAa,CAAEzC,MAAO0N,EAAUtO,WAAY,MAAO4L,SAAU,KAAM7L,aAAc,QAAW,GAAIwO,EAAY1O,OAAOmD,eAAiBnD,OAAOmD,eAAesL,EAAUC,GAAcD,EAASrL,UAAYsL,CAAW,CAE5e,IAAIwuB,EAAU,SAAU5M,GACtB9hB,EAAU0uB,EAAS5M,GAEnB,SAAS4M,EAAQhe,EAAOrT,GACtBsC,EAAgBjP,KAAMg+B,GAEtB,IAAIt5B,EAAQ0K,EAA2BpP,MAAOg+B,EAAQ95B,WAAapD,OAAOqN,eAAe6vB,IAAUz9B,KAAKP,KAAMggB,EAAOrT,IAErHjI,EAAMu5B,aAAe,EACrBv5B,EAAMw5B,aAAe,MACrBx5B,EAAMiS,QACNjS,EAAMsb,MAAMtK,GAAGqb,EAAQ7tB,QAAQyS,OAAOC,eAAe,SAAU+I,EAAWrU,EAAO4S,EAAUhH,GACzF,GAAIyI,IAAcoS,EAAQ7tB,QAAQyS,OAAOG,aAAepR,EAAMw5B,aAAc,OAC5E,IAAKx5B,EAAMiI,QAAQwxB,UAAYjoB,IAAW6a,EAAQ7tB,QAAQ4U,QAAQmE,KAAM,CACtEvX,EAAM05B,OAAO9zB,EAAO4S,EAC5B,KAAa,CACLxY,EAAMgH,UAAUpB,E,CAExB,IACI5F,EAAMsb,MAAM3K,SAASsc,WAAW,CAAEllB,IAAK,IAAK+pB,SAAU,MAAQ9xB,EAAM25B,KAAK7d,KAAK9b,IAC9EA,EAAMsb,MAAM3K,SAASsc,WAAW,CAAEllB,IAAK,IAAK+pB,SAAU,KAAM3E,SAAU,MAAQntB,EAAM45B,KAAK9d,KAAK9b,IAC9F,GAAI,OAAOssB,KAAKC,UAAUC,UAAW,CACnCxsB,EAAMsb,MAAM3K,SAASsc,WAAW,CAAEllB,IAAK,IAAK+pB,SAAU,MAAQ9xB,EAAM45B,KAAK9d,KAAK9b,G,CAEhF,OAAOA,C,CAGT6I,EAAaywB,EAAS,CAAC,CACrBvxB,IAAK,SACL5K,MAAO,SAASoW,EAAO/B,EAAQqoB,GAC7B,GAAIv+B,KAAKw+B,MAAMtoB,GAAQ1P,SAAW,EAAG,OACrC,IAAI8D,EAAQtK,KAAKw+B,MAAMtoB,GAAQzN,MAC/BzI,KAAKw+B,MAAMD,GAAMt2B,KAAKqC,GACtBtK,KAAKi+B,aAAe,EACpBj+B,KAAKk+B,aAAe,KACpBl+B,KAAKggB,MAAM9D,eAAe5R,EAAM4L,GAAS6a,EAAQ7tB,QAAQ4U,QAAQmE,MACjEjc,KAAKk+B,aAAe,MACpB,IAAI91B,EAAQ21B,EAAmBzzB,EAAM4L,IACrClW,KAAKggB,MAAM5H,aAAahQ,E,GAEzB,CACDqE,IAAK,QACL5K,MAAO,SAAS8U,IACd3W,KAAKw+B,MAAQ,CAAEH,KAAM,GAAIC,KAAM,G,GAEhC,CACD7xB,IAAK,SACL5K,MAAO,SAAS0yB,IACdv0B,KAAKi+B,aAAe,C,GAErB,CACDxxB,IAAK,SACL5K,MAAO,SAASu8B,EAAOK,EAAavhB,GAClC,GAAIuhB,EAAY72B,IAAIpB,SAAW,EAAG,OAClCxG,KAAKw+B,MAAMF,KAAO,GAClB,IAAII,EAAY1+B,KAAKggB,MAAM1G,cAAclS,KAAK8V,GAC9C,IAAIyhB,EAAY1d,KAAK2d,MACrB,GAAI5+B,KAAKi+B,aAAej+B,KAAK2M,QAAQkyB,MAAQF,GAAa3+B,KAAKw+B,MAAMH,KAAK73B,OAAS,EAAG,CACpF,IAAI8D,EAAQtK,KAAKw+B,MAAMH,KAAK51B,MAC5Bi2B,EAAYA,EAAU70B,QAAQS,EAAM+zB,MACpCI,EAAcn0B,EAAMg0B,KAAKz0B,QAAQ40B,EACzC,KAAa,CACLz+B,KAAKi+B,aAAeU,C,CAEtB3+B,KAAKw+B,MAAMH,KAAKp2B,KAAK,CACnBq2B,KAAMG,EACNJ,KAAMK,IAER,GAAI1+B,KAAKw+B,MAAMH,KAAK73B,OAASxG,KAAK2M,QAAQmyB,SAAU,CAClD9+B,KAAKw+B,MAAMH,KAAKptB,O,IAGnB,CACDxE,IAAK,OACL5K,MAAO,SAASy8B,IACdt+B,KAAKiY,OAAO,OAAQ,O,GAErB,CACDxL,IAAK,YACL5K,MAAO,SAAS6J,EAAUpB,GACxBtK,KAAKw+B,MAAMH,KAAKn3B,SAAQ,SAAU+Q,GAChCA,EAAOomB,KAAO/zB,EAAMoB,UAAUuM,EAAOomB,KAAM,MAC3CpmB,EAAOqmB,KAAOh0B,EAAMoB,UAAUuM,EAAOqmB,KAAM,KACnD,IACMt+B,KAAKw+B,MAAMF,KAAKp3B,SAAQ,SAAU+Q,GAChCA,EAAOomB,KAAO/zB,EAAMoB,UAAUuM,EAAOomB,KAAM,MAC3CpmB,EAAOqmB,KAAOh0B,EAAMoB,UAAUuM,EAAOqmB,KAAM,KACnD,G,GAEK,CACD7xB,IAAK,OACL5K,MAAO,SAASw8B,IACdr+B,KAAKiY,OAAO,OAAQ,O,KAIxB,OAAO+lB,CACT,CAjGc,CAiGZ7qB,EAASjQ,SAEX86B,EAAQ5hB,SAAW,CACjByiB,MAAO,IACPC,SAAU,IACVX,SAAU,OAGZ,SAASY,EAAsBz0B,GAC7B,IAAIjC,EAASiC,EAAM1C,IAAI0C,EAAM1C,IAAIpB,OAAS,GAC1C,GAAI6B,GAAU,KAAM,OAAO,MAC3B,GAAIA,EAAOR,QAAU,KAAM,CACzB,cAAcQ,EAAOR,SAAW,UAAYQ,EAAOR,OAAOyI,SAAS,K,CAErE,GAAIjI,EAAOzD,YAAc,KAAM,CAC7B,OAAO9D,OAAOkH,KAAKK,EAAOzD,YAAYgnB,MAAK,SAAUgP,GACnD,OAAOlsB,EAAYxL,QAAQH,MAAM63B,EAAMlsB,EAAYxL,QAAQN,MAAMiD,QAAU,IACjF,G,CAEE,OAAO,K,CAGT,SAASk4B,EAAmBzzB,GAC1B,IAAI00B,EAAe10B,EAAMtB,QAAO,SAAUxC,EAAQe,GAChDf,GAAUe,EAAGW,QAAU,EACvB,OAAO1B,C,GACN,GACH,IAAIy4B,EAAc30B,EAAM9D,SAAWw4B,EACnC,GAAID,EAAsBz0B,GAAQ,CAChC20B,GAAe,C,CAEjB,OAAOA,C,CAGTn/B,EAAQoD,QAAU86B,EAClBl+B,EAAQi+B,mBAAqBA,CAEtB,EAEP,SAAgBl+B,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAET/B,EAAQoD,QAAUpD,EAAQo/B,YAAc5xB,UAExC,IAAIC,EAAe,WAAc,SAASC,EAAiBzE,EAAQ0E,GAAS,IAAK,IAAIpN,EAAI,EAAGA,EAAIoN,EAAMjH,OAAQnG,IAAK,CAAE,IAAIqN,EAAaD,EAAMpN,GAAIqN,EAAWzM,WAAayM,EAAWzM,YAAc,MAAOyM,EAAW1M,aAAe,KAAM,GAAI,UAAW0M,EAAYA,EAAWb,SAAW,KAAM/L,OAAOC,eAAegI,EAAQ2E,EAAWjB,IAAKiB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAe,GAAID,EAAYJ,EAAiBG,EAAYlM,UAAWmM,GAAa,GAAIC,EAAaL,EAAiBG,EAAaE,GAAc,OAAOF,CAAY,CAAG,CAA5hB,GAEnB,IAAIG,EAAO,SAAS5M,EAAIK,EAAQC,EAAUuM,GAAY,GAAIxM,IAAW,KAAMA,EAASyM,SAASvM,UAAW,IAAIwM,EAAOnN,OAAOqL,yBAAyB5K,EAAQC,GAAW,GAAIyM,IAASX,UAAW,CAAE,IAAIY,EAASpN,OAAOqN,eAAe5M,GAAS,GAAI2M,IAAW,KAAM,CAAE,OAAOZ,SAAU,KAAQ,CAAE,OAAOpM,EAAIgN,EAAQ1M,EAAUuM,EAAU,CAAE,MAAQ,GAAI,UAAWE,EAAM,CAAE,OAAOA,EAAKpM,KAAM,KAAQ,CAAE,IAAIjB,EAASqN,EAAK/M,IAAK,GAAIN,IAAW0M,UAAW,CAAE,OAAOA,SAAU,CAAG,OAAO1M,EAAOL,KAAKwN,EAAU,CAAE,EAExe,IAAIK,EAAUjO,EAAoB,GAElC,IAAIkO,EAAWC,EAAuBF,GAEtC,IAAIG,EAAcpO,EAAoB,GAEtC,IAAIqO,EAAeF,EAAuBC,GAE1C,IAAI6O,EAAWjd,EAAoB,GAEnC,IAAIod,EAAYjP,EAAuB8O,GAEvC,IAAI0a,EAAY33B,EAAoB,IAEpC,IAAI43B,EAAazpB,EAAuBwpB,GAExC,IAAItkB,EAASrT,EAAoB,IAEjC,IAAIsT,EAAUnF,EAAuBkF,GAErC,IAAI2rB,EAAeh/B,EAAoB,IAEvC,IAAIi/B,EAAgB9wB,EAAuB6wB,GAE3C,IAAIE,EAAcl/B,EAAoB,IAEtC,IAAIm/B,EAAehxB,EAAuB+wB,GAE1C,IAAIE,EAAUp/B,EAAoB,IAElC,IAAIq/B,EAAWlxB,EAAuBixB,GAEtC,IAAIE,EAAWt/B,EAAoB,IAEnC,IAAIu/B,EAAYpxB,EAAuBmxB,GAEvC,SAASnxB,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,SAAS2C,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,SAASC,EAA2BrP,EAAMQ,GAAQ,IAAKR,EAAM,CAAE,MAAM,IAAIsP,eAAe,4DAA6D,CAAG,OAAO9O,WAAgBA,IAAS,iBAAmBA,IAAS,YAAcA,EAAOR,CAAK,CAE9O,SAASuP,EAAUC,EAAUC,GAAc,UAAWA,IAAe,YAAcA,IAAe,KAAM,CAAE,MAAM,IAAIL,UAAU,kEAAoEK,EAAY,CAAGD,EAAS9N,UAAYX,OAAO+B,OAAO2M,GAAcA,EAAW/N,UAAW,CAAE6C,YAAa,CAAEzC,MAAO0N,EAAUtO,WAAY,MAAO4L,SAAU,KAAM7L,aAAc,QAAW,GAAIwO,EAAY1O,OAAOmD,eAAiBnD,OAAOmD,eAAesL,EAAUC,GAAcD,EAASrL,UAAYsL,CAAW,CAE5e,IAAImwB,EAAS,CAAC,MAAO,SAAU,QAAS,WAExC,IAAIC,EAAS,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,WAEpY,IAAIC,EAAQ,CAAC,MAAO,QAAS,aAE7B,IAAIC,EAAU,CAAC,IAAK,IAAK,IAAK,OAE9B,IAAIC,EAAQ,CAAC,QAAS,MAAO,QAAS,QAEtC,IAAIC,EAAY,SAAUC,GACxB3wB,EAAU0wB,EAAWC,GAErB,SAASD,EAAUhgB,EAAOrT,GACxBsC,EAAgBjP,KAAMggC,GAEtB,IAAIt7B,EAAQ0K,EAA2BpP,MAAOggC,EAAU97B,WAAapD,OAAOqN,eAAe6xB,IAAYz/B,KAAKP,KAAMggB,EAAOrT,IAEzH,IAAIuzB,EAAW,SAASA,EAASxe,GAC/B,IAAK1K,SAASgR,KAAKjN,SAASiF,EAAMrgB,MAAO,CACvC,OAAOqX,SAASgR,KAAKmY,oBAAoB,QAASD,E,CAEpD,GAAIx7B,EAAM07B,SAAW,OAAS17B,EAAM07B,QAAQzgC,KAAKob,SAAS2G,EAAE3Y,SAAWiO,SAASyS,gBAAkB/kB,EAAM07B,QAAQC,UAAY37B,EAAMsb,MAAM1F,WAAY,CAClJ5V,EAAM07B,QAAQE,M,CAEhB,GAAI57B,EAAM67B,SAAW,KAAM,CACzB77B,EAAM67B,QAAQr5B,SAAQ,SAAUs5B,GAC9B,IAAKA,EAAOlsB,UAAUyG,SAAS2G,EAAE3Y,QAAS,CACxCy3B,EAAOlH,O,CAEnB,G,CAEA,EACItZ,EAAMjL,QAAQ4K,UAAU,QAAS3I,SAASgR,KAAMkY,GAChD,OAAOx7B,C,CAGT6I,EAAayyB,EAAW,CAAC,CACvBvzB,IAAK,YACL5K,MAAO,SAASyT,EAAU3U,GACxB,IAAId,EAASiO,EAAKkyB,EAAUv+B,UAAUyC,WAAapD,OAAOqN,eAAe6xB,EAAUv+B,WAAY,YAAazB,MAAMO,KAAKP,KAAMW,GAC7H,GAAIA,IAAS,UAAW,CACtBX,KAAKygC,cAAc5gC,E,CAErB,OAAOA,C,GAER,CACD4M,IAAK,eACL5K,MAAO,SAAS6+B,EAAaC,EAASC,GACpCD,EAAQz5B,SAAQ,SAAU25B,GACxB,IAAI/5B,EAAY+5B,EAAO56B,aAAa,UAAY,GAChDa,EAAUZ,MAAM,OAAOgB,SAAQ,SAAUvG,GACvC,IAAKA,EAAK0T,WAAW,OAAQ,OAC7B1T,EAAOA,EAAKyI,MAAM,MAAM5C,QACxB,GAAIo6B,EAAMjgC,IAAS,KAAM,OACzB,GAAIA,IAAS,YAAa,CACxBkgC,EAAOrsB,UAAYosB,EAAMjgC,GAAM,IAAMigC,EAAMjgC,GAAM,M,MAC5C,UAAWigC,EAAMjgC,KAAU,SAAU,CAC1CkgC,EAAOrsB,UAAYosB,EAAMjgC,EACrC,KAAiB,CACL,IAAIkB,EAAQg/B,EAAOh/B,OAAS,GAC5B,GAAIA,GAAS,MAAQ++B,EAAMjgC,GAAMkB,GAAQ,CACvCg/B,EAAOrsB,UAAYosB,EAAMjgC,GAAMkB,E,EAG7C,GACA,G,GAEK,CACD4K,IAAK,eACL5K,MAAO,SAASi/B,EAAaC,EAASH,GACpC,IAAIjwB,EAAS3Q,KAEbA,KAAKugC,QAAUQ,EAAQt6B,KAAI,SAAU6xB,GACnC,GAAIA,EAAO5jB,UAAUqG,SAAS,YAAa,CACzC,GAAIud,EAAOtb,cAAc,WAAa,KAAM,CAC1CgkB,EAAW1I,EAAQqH,E,CAErB,OAAO,IAAIL,EAAap8B,QAAQo1B,EAAQsI,EAAMlE,MACxD,MAAe,GAAIpE,EAAO5jB,UAAUqG,SAAS,kBAAoBud,EAAO5jB,UAAUqG,SAAS,YAAa,CAC9F,IAAI/K,EAASsoB,EAAO5jB,UAAUqG,SAAS,iBAAmB,aAAe,QACzE,GAAIud,EAAOtb,cAAc,WAAa,KAAM,CAC1CgkB,EAAW1I,EAAQsH,EAAQ5vB,IAAW,aAAe,UAAY,U,CAEnE,OAAO,IAAIovB,EAAcl8B,QAAQo1B,EAAQsI,EAAM5wB,GACzD,KAAe,CACL,GAAIsoB,EAAOtb,cAAc,WAAa,KAAM,CAC1C,GAAIsb,EAAO5jB,UAAUqG,SAAS,WAAY,CACxCimB,EAAW1I,EAAQuH,E,MACd,GAAIvH,EAAO5jB,UAAUqG,SAAS,aAAc,CACjDimB,EAAW1I,EAAQwH,E,MACd,GAAIxH,EAAO5jB,UAAUqG,SAAS,WAAY,CAC/CimB,EAAW1I,EAAQyH,E,EAGvB,OAAO,IAAIP,EAASt8B,QAAQo1B,E,CAEtC,IACM,IAAI/hB,EAAS,SAASA,IACpB5F,EAAO4vB,QAAQr5B,SAAQ,SAAUs5B,GAC/BA,EAAOjqB,QACjB,GACA,EACMvW,KAAKggB,MAAMtK,GAAG6H,EAAUra,QAAQyS,OAAOC,cAAeW,E,KAI1D,OAAOypB,CACT,CAlGgB,CAkGdvsB,EAAQvQ,SAEV88B,EAAU5jB,UAAW,EAAI/N,EAASnL,SAAS,KAAM,GAAIuQ,EAAQvQ,QAAQkZ,SAAU,CAC7Enc,QAAS,CACP8c,QAAS,CACPkkB,SAAU,CACR3D,QAAS,SAASA,IAChBt9B,KAAKggB,MAAM5K,MAAMgrB,QAAQc,KAAK,U,EAEhC3a,MAAO,SAASA,IACd,IAAIlP,EAASrX,KAEb,IAAImhC,EAAYnhC,KAAKsU,UAAU0I,cAAc,6BAC7C,GAAImkB,GAAa,KAAM,CACrBA,EAAYnqB,SAASC,cAAc,SACnCkqB,EAAUtsB,aAAa,OAAQ,QAC/BssB,EAAUtsB,aAAa,SAAU,6DACjCssB,EAAUzsB,UAAUC,IAAI,YACxBwsB,EAAUviB,iBAAiB,UAAU,WACnC,GAAIuiB,EAAUC,OAAS,MAAQD,EAAUC,MAAM,IAAM,KAAM,CACzD,IAAIC,EAAS,IAAIC,WACjBD,EAAOE,OAAS,SAAU7f,GACxB,IAAItL,EAAQiB,EAAO2I,MAAMhI,aAAa,MACtCX,EAAO2I,MAAM9D,gBAAe,IAAI1N,EAAatL,SAAUiF,OAAOiO,EAAMhO,OAAOF,OAAOkO,EAAM5P,QAAQqB,OAAO,CAAE0e,MAAO7E,EAAE3Y,OAAOgyB,SAAWxd,EAAUra,QAAQ4U,QAAQmE,MAC9J5E,EAAO2I,MAAM5H,aAAahC,EAAMhO,MAAQ,EAAGmV,EAAUra,QAAQ4U,QAAQO,QACrE8oB,EAAUt/B,MAAQ,EACpC,EACgBw/B,EAAOG,cAAcL,EAAUC,MAAM,G,CAErD,IACYphC,KAAKsU,UAAUgP,YAAY6d,E,CAE7BA,EAAUM,O,EAEZ3D,MAAO,SAASA,IACd99B,KAAKggB,MAAM5K,MAAMgrB,QAAQc,KAAK,Q,OAOxC,IAAIhC,EAAc,SAAUwC,GAC1BpyB,EAAU4vB,EAAawC,GAEvB,SAASxC,EAAYlf,EAAO2hB,GAC1B1yB,EAAgBjP,KAAMk/B,GAEtB,IAAIrnB,EAASzI,EAA2BpP,MAAOk/B,EAAYh7B,WAAapD,OAAOqN,eAAe+wB,IAAc3+B,KAAKP,KAAMggB,EAAO2hB,IAE9H9pB,EAAOwoB,QAAUxoB,EAAOlY,KAAKqd,cAAc,sBAC3CnF,EAAO2a,SACP,OAAO3a,C,CAGTtK,EAAa2xB,EAAa,CAAC,CACzBzyB,IAAK,SACL5K,MAAO,SAAS2wB,IACd,IAAIla,EAAStY,KAEbA,KAAKqgC,QAAQzhB,iBAAiB,WAAW,SAAUU,GACjD,GAAIyY,EAAW70B,QAAQgC,MAAMoa,EAAO,SAAU,CAC5ChH,EAAOspB,OACPtiB,EAAMmU,gBAChB,MAAe,GAAIsE,EAAW70B,QAAQgC,MAAMoa,EAAO,UAAW,CACpDhH,EAAOupB,SACPviB,EAAMmU,gB,CAEhB,G,GAEK,CACDhnB,IAAK,SACL5K,MAAO,SAASggC,IACd7hC,KAAKsgC,M,GAEN,CACD7zB,IAAK,OACL5K,MAAO,SAASq/B,IACd,IAAIY,EAAOv7B,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAK,OAC/E,IAAIw7B,EAAUx7B,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAK,KAElFvG,KAAKL,KAAK+U,UAAUpD,OAAO,aAC3BtR,KAAKL,KAAK+U,UAAUC,IAAI,cACxB,GAAIotB,GAAW,KAAM,CACnB/hC,KAAKqgC,QAAQx+B,MAAQkgC,CAC7B,MAAa,GAAID,IAAS9hC,KAAKL,KAAKsG,aAAa,aAAc,CACvDjG,KAAKqgC,QAAQx+B,MAAQ,E,CAEvB7B,KAAKwoB,SAASxoB,KAAKggB,MAAMpH,UAAU5Y,KAAKggB,MAAM7K,UAAU8R,aACxDjnB,KAAKqgC,QAAQ/H,SACbt4B,KAAKqgC,QAAQxrB,aAAa,cAAe7U,KAAKqgC,QAAQp6B,aAAa,QAAU67B,IAAS,IACtF9hC,KAAKL,KAAKkV,aAAa,YAAaitB,E,GAErC,CACDr1B,IAAK,eACL5K,MAAO,SAASmgC,IACd,IAAIrqB,EAAY3X,KAAKggB,MAAMlL,mBAAmB6C,UAC9C3X,KAAKggB,MAAMtI,QACX1X,KAAKggB,MAAMlL,mBAAmB6C,UAAYA,C,GAE3C,CACDlL,IAAK,OACL5K,MAAO,SAAS+/B,IACd,IAAI//B,EAAQ7B,KAAKqgC,QAAQx+B,MACzB,OAAQ7B,KAAKL,KAAKsG,aAAa,cAC7B,IAAK,OACH,CACE,IAAI0R,EAAY3X,KAAKggB,MAAMrgB,KAAKgY,UAChC,GAAI3X,KAAKiiC,UAAW,CAClBjiC,KAAKggB,MAAM7H,WAAWnY,KAAKiiC,UAAW,OAAQpgC,EAAO0b,EAAUra,QAAQ4U,QAAQmE,aACxEjc,KAAKiiC,SAC1B,KAAmB,CACLjiC,KAAKgiC,eACLhiC,KAAKggB,MAAMhQ,OAAO,OAAQnO,EAAO0b,EAAUra,QAAQ4U,QAAQmE,K,CAE7Djc,KAAKggB,MAAMrgB,KAAKgY,UAAYA,EAC5B,K,CAEJ,IAAK,QACH,CACE9V,EAAQqgC,EAAgBrgC,E,CAE5B,IAAK,UACH,CACE,IAAKA,EAAO,MACZ,IAAIuU,EAAQpW,KAAKggB,MAAMhI,aAAa,MACpC,GAAI5B,GAAS,KAAM,CACjB,IAAIhO,EAAQgO,EAAMhO,MAAQgO,EAAM5P,OAChCxG,KAAKggB,MAAMzF,YAAYnS,EAAOpI,KAAKL,KAAKsG,aAAa,aAAcpE,EAAO0b,EAAUra,QAAQ4U,QAAQmE,MACpG,GAAIjc,KAAKL,KAAKsG,aAAa,eAAiB,UAAW,CACrDjG,KAAKggB,MAAMtF,WAAWtS,EAAQ,EAAG,IAAKmV,EAAUra,QAAQ4U,QAAQmE,K,CAElEjc,KAAKggB,MAAM5H,aAAahQ,EAAQ,EAAGmV,EAAUra,QAAQ4U,QAAQmE,K,CAE/D,K,EAINjc,KAAKqgC,QAAQx+B,MAAQ,GACrB7B,KAAKsgC,M,KAIT,OAAOpB,CACT,CAtGkB,CAsGhBQ,EAAUx8B,SAEZ,SAASg/B,EAAgB5K,GACvB,IAAIpyB,EAAQoyB,EAAIpyB,MAAM,+EAAiFoyB,EAAIpyB,MAAM,kEACjH,GAAIA,EAAO,CACT,OAAQA,EAAM,IAAM,SAAW,4BAA8BA,EAAM,GAAK,a,CAE1E,GAAIA,EAAQoyB,EAAIpyB,MAAM,kDAAmD,CAEvE,OAAQA,EAAM,IAAM,SAAW,6BAA+BA,EAAM,GAAK,G,CAE3E,OAAOoyB,C,CAGT,SAAS0J,EAAW1I,EAAQvoB,GAC1B,IAAIoyB,EAAe57B,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAK,MAEvFwJ,EAAO7I,SAAQ,SAAUrF,GACvB,IAAIi3B,EAAS9hB,SAASC,cAAc,UACpC,GAAIpV,IAAUsgC,EAAc,CAC1BrJ,EAAOjkB,aAAa,WAAY,WACtC,KAAW,CACLikB,EAAOjkB,aAAa,QAAShT,E,CAE/By2B,EAAOhV,YAAYwV,EACvB,G,CAGAh5B,EAAQo/B,YAAcA,EACtBp/B,EAAQoD,QAAU88B,CAEX,EAEP,SAAgBngC,EAAQC,EAASK,GAIjCW,OAAOC,eAAejB,EAAS,aAAc,CAAE+B,MAAO,OACtD,IAAIugC,EAA4B,WAC5B,SAASA,IACLpiC,KAAKqR,KAAOrR,KAAKmR,KAAO,KACxBnR,KAAKwG,OAAS,C,CAElB47B,EAAW3gC,UAAU4gC,OAAS,WAC1B,IAAIC,EAAQ,GACZ,IAAK,IAAIh8B,EAAK,EAAGA,EAAKC,UAAUC,OAAQF,IAAM,CAC1Cg8B,EAAMh8B,GAAMC,UAAUD,E,CAE1BtG,KAAKwQ,aAAa8xB,EAAM,GAAI,MAC5B,GAAIA,EAAM97B,OAAS,EAAG,CAClBxG,KAAKqiC,OAAO1yB,MAAM3P,KAAMsiC,EAAMl5B,MAAM,G,CAEhD,EACIg5B,EAAW3gC,UAAUsZ,SAAW,SAAU3V,GACtC,IAAIm9B,EAAK34B,EAAO5J,KAAKyJ,WACrB,MAAQ84B,EAAM34B,IAAS,CACnB,GAAI24B,IAAQn9B,EACR,OAAO,I,CAEf,OAAO,KACf,EACIg9B,EAAW3gC,UAAU+O,aAAe,SAAUpL,EAAM2R,GAChD,IAAK3R,EACD,OACJA,EAAKwE,KAAOmN,EACZ,GAAIA,GAAW,KAAM,CACjB3R,EAAKme,KAAOxM,EAAQwM,KACpB,GAAIxM,EAAQwM,MAAQ,KAAM,CACtBxM,EAAQwM,KAAK3Z,KAAOxE,C,CAExB2R,EAAQwM,KAAOne,EACf,GAAI2R,IAAY/W,KAAKqR,KAAM,CACvBrR,KAAKqR,KAAOjM,C,OAGf,GAAIpF,KAAKmR,MAAQ,KAAM,CACxBnR,KAAKmR,KAAKvH,KAAOxE,EACjBA,EAAKme,KAAOvjB,KAAKmR,KACjBnR,KAAKmR,KAAO/L,C,KAEX,CACDA,EAAKme,KAAO,KACZvjB,KAAKqR,KAAOrR,KAAKmR,KAAO/L,C,CAE5BpF,KAAKwG,QAAU,CACvB,EACI47B,EAAW3gC,UAAUoK,OAAS,SAAU9C,GACpC,IAAIX,EAAQ,EAAGm6B,EAAMviC,KAAKqR,KAC1B,MAAOkxB,GAAO,KAAM,CAChB,GAAIA,IAAQx5B,EACR,OAAOX,EACXA,GAASm6B,EAAI/7B,SACb+7B,EAAMA,EAAI34B,I,CAEd,OAAO,CACf,EACIw4B,EAAW3gC,UAAU6P,OAAS,SAAUlM,GACpC,IAAKpF,KAAK+a,SAAS3V,GACf,OACJ,GAAIA,EAAKme,MAAQ,KACbne,EAAKme,KAAK3Z,KAAOxE,EAAKwE,KAC1B,GAAIxE,EAAKwE,MAAQ,KACbxE,EAAKwE,KAAK2Z,KAAOne,EAAKme,KAC1B,GAAIne,IAASpF,KAAKqR,KACdrR,KAAKqR,KAAOjM,EAAKwE,KACrB,GAAIxE,IAASpF,KAAKmR,KACdnR,KAAKmR,KAAO/L,EAAKme,KACrBvjB,KAAKwG,QAAU,CACvB,EACI47B,EAAW3gC,UAAUgI,SAAW,SAAU+4B,GACtC,GAAIA,SAAY,EAAQ,CAAEA,EAAUxiC,KAAKqR,IAAK,CAE9C,OAAO,WACH,IAAIuK,EAAM4mB,EACV,GAAIA,GAAW,KACXA,EAAUA,EAAQ54B,KACtB,OAAOgS,CACnB,CACA,EACIwmB,EAAW3gC,UAAUqB,KAAO,SAAUsF,EAAO2jB,GACzC,GAAIA,SAAc,EAAQ,CAAEA,EAAY,KAAM,CAC9C,IAAIwW,EAAK34B,EAAO5J,KAAKyJ,WACrB,MAAQ84B,EAAM34B,IAAS,CACnB,IAAIpD,EAAS+7B,EAAI/7B,SACjB,GAAI4B,EAAQ5B,GACPulB,GAAa3jB,IAAU5B,IAAW+7B,EAAI34B,MAAQ,MAAQ24B,EAAI34B,KAAKpD,WAAa,GAAK,CAClF,MAAO,CAAC+7B,EAAKn6B,E,CAEjBA,GAAS5B,C,CAEb,MAAO,CAAC,KAAM,EACtB,EACI47B,EAAW3gC,UAAUyF,QAAU,SAAUu7B,GACrC,IAAIF,EAAK34B,EAAO5J,KAAKyJ,WACrB,MAAQ84B,EAAM34B,IAAS,CACnB64B,EAASF,E,CAErB,EACIH,EAAW3gC,UAAU4pB,UAAY,SAAUjjB,EAAO5B,EAAQi8B,GACtD,GAAIj8B,GAAU,EACV,OACJ,IAAI+kB,EAAKvrB,KAAK8C,KAAKsF,GAAQuf,EAAY4D,EAAG,GAAI1f,EAAS0f,EAAG,GAC1D,IAAIgX,EAAKG,EAAWt6B,EAAQyD,EAAQjC,EAAO5J,KAAKyJ,SAASke,GACzD,OAAQ4a,EAAM34B,MAAW84B,EAAWt6B,EAAQ5B,EAAQ,CAChD,IAAIm8B,EAAYJ,EAAI/7B,SACpB,GAAI4B,EAAQs6B,EAAU,CAClBD,EAASF,EAAKn6B,EAAQs6B,EAAUn4B,KAAKC,IAAIhE,EAAQk8B,EAAWC,EAAYv6B,G,KAEvE,CACDq6B,EAASF,EAAK,EAAGh4B,KAAKC,IAAIm4B,EAAWv6B,EAAQ5B,EAASk8B,G,CAE1DA,GAAYC,C,CAExB,EACIP,EAAW3gC,UAAUgF,IAAM,SAAUg8B,GACjC,OAAOziC,KAAKgJ,QAAO,SAAU6iB,EAAM0W,GAC/B1W,EAAK5jB,KAAKw6B,EAASF,IACnB,OAAO1W,C,GACR,GACX,EACIuW,EAAW3gC,UAAUuH,OAAS,SAAUy5B,EAAU5W,GAC9C,IAAI0W,EAAK34B,EAAO5J,KAAKyJ,WACrB,MAAQ84B,EAAM34B,IAAS,CACnBiiB,EAAO4W,EAAS5W,EAAM0W,E,CAE1B,OAAO1W,CACf,EACI,OAAOuW,C,CAjIG,GAmIdtiC,EAAQoD,QAAUk/B,CAGX,EAEP,SAAgBviC,EAAQC,EAASK,GAIjC,IAAI4D,EAAa/D,MAAQA,KAAK+D,WAAc,WACxC,IAAIC,EAAgBlD,OAAOmD,gBACtB,CAAEC,UAAW,cAAgBC,OAAS,SAAUzD,EAAG0D,GAAK1D,EAAEwD,UAAYE,CAAE,GACzE,SAAU1D,EAAG0D,GAAK,IAAK,IAAIzC,KAAKyC,EAAG,GAAIA,EAAE1C,eAAeC,GAAIjB,EAAEiB,GAAKyC,EAAEzC,EAAG,EAC5E,OAAO,SAAUjB,EAAG0D,GAChBJ,EAActD,EAAG0D,GACjB,SAASC,IAAOrE,KAAKsE,YAAc5D,CAAE,CACrCA,EAAEe,UAAY2C,IAAM,KAAOtD,OAAO+B,OAAOuB,IAAMC,EAAG5C,UAAY2C,EAAE3C,UAAW,IAAI4C,EACvF,CACC,CAT2C,GAU5CvD,OAAOC,eAAejB,EAAS,aAAc,CAAE+B,MAAO,OACtD,IAAIC,EAAc3B,EAAoB,IACtC,IAAIuC,EAAWvC,EAAoB,GACnC,IAAIyiC,EAAkB,CAClBh+B,WAAY,KACZi+B,cAAe,KACfC,sBAAuB,KACvBC,UAAW,KACXC,QAAS,MAEb,IAAIC,EAA0B,IAC9B,IAAIC,EAA4B,SAAU1+B,GACtCT,EAAUm/B,EAAY1+B,GACtB,SAAS0+B,EAAW99B,GAChB,IAAIV,EAAQF,EAAOjE,KAAKP,KAAMoF,IAASpF,KACvC0E,EAAMsQ,OAAStQ,EACfA,EAAMisB,SAAW,IAAIwS,kBAAiB,SAAUhtB,GAC5CzR,EAAM6R,OAAOJ,EACzB,IACQzR,EAAMisB,SAASyS,QAAQ1+B,EAAMmL,QAAS+yB,GACtCl+B,EAAMkL,SACN,OAAOlL,C,CAEXw+B,EAAWzhC,UAAUgqB,OAAS,WAC1BjnB,EAAO/C,UAAUgqB,OAAOlrB,KAAKP,MAC7BA,KAAK2wB,SAAS0S,YACtB,EACIH,EAAWzhC,UAAUsP,SAAW,SAAU3I,EAAO5B,GAC7CxG,KAAKuW,SACL,GAAInO,IAAU,GAAK5B,IAAWxG,KAAKwG,SAAU,CACzCxG,KAAKkR,SAAShK,SAAQ,SAAU0K,GAC5BA,EAAMN,QACtB,G,KAEa,CACD9M,EAAO/C,UAAUsP,SAASxQ,KAAKP,KAAMoI,EAAO5B,E,CAExD,EACI08B,EAAWzhC,UAAU0O,SAAW,SAAU/H,EAAO5B,EAAQ7F,EAAMkB,GAC3D7B,KAAKuW,SACL/R,EAAO/C,UAAU0O,SAAS5P,KAAKP,KAAMoI,EAAO5B,EAAQ7F,EAAMkB,EAClE,EACIqhC,EAAWzhC,UAAU2O,SAAW,SAAUhI,EAAOvG,EAAOwO,GACpDrQ,KAAKuW,SACL/R,EAAO/C,UAAU2O,SAAS7P,KAAKP,KAAMoI,EAAOvG,EAAOwO,EAC3D,EACI6yB,EAAWzhC,UAAU+P,SAAW,SAAU2E,EAAW1E,GACjD,IAAI/M,EAAQ1E,KACZ,GAAImW,SAAc,EAAQ,CAAEA,EAAY,EAAG,CAC3C,GAAI1E,SAAY,EAAQ,CAAEA,EAAU,EAAG,CACvCjN,EAAO/C,UAAU+P,SAASjR,KAAKP,KAAMyR,GAErC,IAAI6xB,EAAU,GAAGl6B,MAAM7I,KAAKP,KAAK2wB,SAASC,eAG1C,MAAO0S,EAAQ98B,OAAS,EACpB2P,EAAUlO,KAAKq7B,EAAQ76B,OAE3B,IAAI86B,EAAO,SAAU/9B,EAAMg+B,GACvB,GAAIA,SAAe,EAAQ,CAAEA,EAAa,IAAK,CAC/C,GAAIh+B,GAAQ,MAAQA,IAASd,EACzB,OACJ,GAAIc,EAAKqK,QAAQpK,YAAc,KAC3B,OAEJ,GAAID,EAAKqK,QAAQnN,EAASsC,UAAUmR,WAAa,KAAM,CAEnD3Q,EAAKqK,QAAQnN,EAASsC,UAAUmR,UAAY,E,CAEhD,GAAIqtB,EACAD,EAAK/9B,EAAK0I,OAC1B,EACQ,IAAIsD,EAAW,SAAUhM,GAErB,GAEAA,EAAKqK,QAAQnN,EAASsC,WAAa,MAE/BQ,EAAKqK,QAAQnN,EAASsC,UAAUmR,WAAa,KAAM,CACnD,M,CAEJ,GAAI3Q,aAAgB1D,EAAYoB,QAAS,CACrCsC,EAAK0L,SAAShK,QAAQsK,E,CAE1BhM,EAAKgM,SAASC,EAC1B,EACQ,IAAIgyB,EAAYttB,EAChB,IAAK,IAAI9V,EAAI,EAAGojC,EAAUj9B,OAAS,EAAGnG,GAAK,EAAG,CAC1C,GAAIA,GAAK4iC,EAAyB,CAC9B,MAAM,IAAIt+B,MAAM,kD,CAEpB8+B,EAAUv8B,SAAQ,SAAUglB,GACxB,IAAI1mB,EAAO9C,EAASI,KAAKopB,EAASnjB,OAAQ,MAC1C,GAAIvD,GAAQ,KACR,OACJ,GAAIA,EAAKqK,UAAYqc,EAASnjB,OAAQ,CAClC,GAAImjB,EAASrW,OAAS,YAAa,CAC/B0tB,EAAK7gC,EAASI,KAAKopB,EAASwX,gBAAiB,QAC7C,GAAGx8B,QAAQ3G,KAAK2rB,EAASF,YAAY,SAAU5mB,GAC3C,IAAIwM,EAAQlP,EAASI,KAAKsC,EAAM,OAChCm+B,EAAK3xB,EAAO,OACZ,GAAIA,aAAiB9P,EAAYoB,QAAS,CACtC0O,EAAMV,SAAShK,SAAQ,SAAUy8B,GAC7BJ,EAAKI,EAAY,MACrD,G,CAEA,G,MAEyB,GAAIzX,EAASrW,OAAS,aAAc,CACrC0tB,EAAK/9B,EAAK+d,K,EAGlBggB,EAAK/9B,EACrB,IACYxF,KAAKkR,SAAShK,QAAQsK,GACtBiyB,EAAY,GAAGr6B,MAAM7I,KAAKP,KAAK2wB,SAASC,eACxC0S,EAAUG,EAAUr6B,QACpB,MAAOk6B,EAAQ98B,OAAS,EACpB2P,EAAUlO,KAAKq7B,EAAQ76B,M,CAEvC,EACIy6B,EAAWzhC,UAAU8U,OAAS,SAAUJ,EAAW1E,GAC/C,IAAI/M,EAAQ1E,KACZ,GAAIyR,SAAY,EAAQ,CAAEA,EAAU,EAAG,CACvC0E,EAAYA,GAAanW,KAAK2wB,SAASC,cAEvCza,EACK1P,KAAI,SAAUylB,GACf,IAAI1mB,EAAO9C,EAASI,KAAKopB,EAASnjB,OAAQ,MAC1C,GAAIvD,GAAQ,KACR,OAAO,KAEX,GAAIA,EAAKqK,QAAQnN,EAASsC,UAAUmR,WAAa,KAAM,CAEnD3Q,EAAKqK,QAAQnN,EAASsC,UAAUmR,UAAY,CAAC+V,GAC7C,OAAO1mB,C,KAEN,CAEDA,EAAKqK,QAAQnN,EAASsC,UAAUmR,UAAUlO,KAAKikB,GAC/C,OAAO,I,CAEvB,IACahlB,SAAQ,SAAU1B,GACnB,GAAIA,GAAQ,MACRA,IAASd,GAETc,EAAKqK,QAAQnN,EAASsC,WAAa,KACnC,OAEJQ,EAAK+Q,OAAO/Q,EAAKqK,QAAQnN,EAASsC,UAAUmR,WAAa,GAAI1E,EACzE,IAEQ,GAAIzR,KAAK6P,QAAQnN,EAASsC,UAAUmR,WAAa,KAAM,CAEnD3R,EAAO/C,UAAU8U,OAAOhW,KAAKP,KAAMA,KAAK6P,QAAQnN,EAASsC,UAAUmR,UAAW1E,E,CAElFzR,KAAKwR,SAAS2E,EAAW1E,EACjC,EACIyxB,EAAWv8B,SAAW,SACtBu8B,EAAWpxB,aAAe,QAC1BoxB,EAAWx9B,MAAQhD,EAASE,MAAM6N,WAClCyyB,EAAW/8B,QAAU,MACrB,OAAO+8B,CACX,CAzJc,CAyJZphC,EAAYoB,SACdpD,EAAQoD,QAAUggC,CAGX,EAEP,SAAgBrjC,EAAQC,EAASK,GAIjC,IAAI4D,EAAa/D,MAAQA,KAAK+D,WAAc,WACxC,IAAIC,EAAgBlD,OAAOmD,gBACtB,CAAEC,UAAW,cAAgBC,OAAS,SAAUzD,EAAG0D,GAAK1D,EAAEwD,UAAYE,CAAE,GACzE,SAAU1D,EAAG0D,GAAK,IAAK,IAAIzC,KAAKyC,EAAG,GAAIA,EAAE1C,eAAeC,GAAIjB,EAAEiB,GAAKyC,EAAEzC,EAAG,EAC5E,OAAO,SAAUjB,EAAG0D,GAChBJ,EAActD,EAAG0D,GACjB,SAASC,IAAOrE,KAAKsE,YAAc5D,CAAE,CACrCA,EAAEe,UAAY2C,IAAM,KAAOtD,OAAO+B,OAAOuB,IAAMC,EAAG5C,UAAY2C,EAAE3C,UAAW,IAAI4C,EACvF,CACC,CAT2C,GAU5CvD,OAAOC,eAAejB,EAAS,aAAc,CAAE+B,MAAO,OACtD,IAAIE,EAAW5B,EAAoB,IACnC,IAAIuC,EAAWvC,EAAoB,GAEnC,SAASyjC,EAAQC,EAAMC,GACnB,GAAIhjC,OAAOkH,KAAK67B,GAAMr9B,SAAW1F,OAAOkH,KAAK87B,GAAMt9B,OAC/C,OAAO,MAEX,IAAK,IAAIu9B,KAAQF,EAAM,CAEnB,GAAIA,EAAKE,KAAUD,EAAKC,GACpB,OAAO,K,CAEf,OAAO,I,CAEX,IAAIC,EAA4B,SAAUx/B,GACtCT,EAAUigC,EAAYx/B,GACtB,SAASw/B,IACL,OAAOx/B,IAAW,MAAQA,EAAOmL,MAAM3P,KAAMuG,YAAcvG,I,CAE/DgkC,EAAWl0B,QAAU,SAAUD,GAC3B,GAAIA,EAAQ1J,UAAY69B,EAAW79B,QAC/B,OAAOmH,UACX,OAAO9I,EAAOsL,QAAQvP,KAAKP,KAAM6P,EACzC,EACIm0B,EAAWviC,UAAUuO,OAAS,SAAUrP,EAAMkB,GAC1C,IAAI6C,EAAQ1E,KACZ,GAAIW,IAASX,KAAKgS,QAAQrL,WAAa9E,EAAO,CAC1C7B,KAAKkR,SAAShK,SAAQ,SAAU0K,GAC5B,KAAMA,aAAiB7P,EAASmB,SAAU,CACtC0O,EAAQA,EAAMsM,KAAK8lB,EAAWr9B,SAAU,K,CAE5CjC,EAAME,WAAWoI,KAAK4E,EACtC,IACY5R,KAAKwjB,Q,KAEJ,CACDhf,EAAO/C,UAAUuO,OAAOzP,KAAKP,KAAMW,EAAMkB,E,CAErD,EACImiC,EAAWviC,UAAU0O,SAAW,SAAU/H,EAAO5B,EAAQ7F,EAAMkB,GAC3D,GAAI7B,KAAK8P,UAAUnP,IAAS,MAAQ+B,EAASK,MAAMpC,EAAM+B,EAASE,MAAMif,WAAY,CAChF,IAAIrc,EAAOxF,KAAKie,QAAQ7V,EAAO5B,GAC/BhB,EAAKwK,OAAOrP,EAAMkB,E,KAEjB,CACD2C,EAAO/C,UAAU0O,SAAS5P,KAAKP,KAAMoI,EAAO5B,EAAQ7F,EAAMkB,E,CAEtE,EACImiC,EAAWviC,UAAU+P,SAAW,SAAUC,GACtCjN,EAAO/C,UAAU+P,SAASjR,KAAKP,KAAMyR,GACrC,IAAI3B,EAAU9P,KAAK8P,UACnB,GAAIhP,OAAOkH,KAAK8H,GAAStJ,SAAW,EAAG,CACnC,OAAOxG,KAAKwjB,Q,CAEhB,IAAI5Z,EAAO5J,KAAK4J,KAChB,GAAIA,aAAgBo6B,GAAcp6B,EAAK2Z,OAASvjB,MAAQ4jC,EAAQ9zB,EAASlG,EAAKkG,WAAY,CACtFlG,EAAK2H,aAAavR,MAClB4J,EAAK0H,Q,CAEjB,EACI0yB,EAAWr9B,SAAW,SACtBq9B,EAAWt+B,MAAQhD,EAASE,MAAMmqB,YAClCiX,EAAW79B,QAAU,OACrB,OAAO69B,CACX,CAlDc,CAkDZjiC,EAASmB,SACXpD,EAAQoD,QAAU8gC,CAGX,EAEP,SAAgBnkC,EAAQC,EAASK,GAIjC,IAAI4D,EAAa/D,MAAQA,KAAK+D,WAAc,WACxC,IAAIC,EAAgBlD,OAAOmD,gBACtB,CAAEC,UAAW,cAAgBC,OAAS,SAAUzD,EAAG0D,GAAK1D,EAAEwD,UAAYE,CAAE,GACzE,SAAU1D,EAAG0D,GAAK,IAAK,IAAIzC,KAAKyC,EAAG,GAAIA,EAAE1C,eAAeC,GAAIjB,EAAEiB,GAAKyC,EAAEzC,EAAG,EAC5E,OAAO,SAAUjB,EAAG0D,GAChBJ,EAActD,EAAG0D,GACjB,SAASC,IAAOrE,KAAKsE,YAAc5D,CAAE,CACrCA,EAAEe,UAAY2C,IAAM,KAAOtD,OAAO+B,OAAOuB,IAAMC,EAAG5C,UAAY2C,EAAE3C,UAAW,IAAI4C,EACvF,CACC,CAT2C,GAU5CvD,OAAOC,eAAejB,EAAS,aAAc,CAAE+B,MAAO,OACtD,IAAIE,EAAW5B,EAAoB,IACnC,IAAIuC,EAAWvC,EAAoB,GACnC,IAAI8jC,EAA2B,SAAUz/B,GACrCT,EAAUkgC,EAAWz/B,GACrB,SAASy/B,IACL,OAAOz/B,IAAW,MAAQA,EAAOmL,MAAM3P,KAAMuG,YAAcvG,I,CAE/DikC,EAAUn0B,QAAU,SAAUD,GAC1B,IAAI1J,EAAUzD,EAASK,MAAMkhC,EAAUt9B,UAAUR,QACjD,GAAI0J,EAAQ1J,UAAYA,EACpB,OAAOmH,UACX,OAAO9I,EAAOsL,QAAQvP,KAAKP,KAAM6P,EACzC,EACIo0B,EAAUxiC,UAAUuO,OAAS,SAAUrP,EAAMkB,GACzC,GAAIa,EAASK,MAAMpC,EAAM+B,EAASE,MAAMiD,QAAU,KAAM,CACpD,M,MAEC,GAAIlF,IAASX,KAAKgS,QAAQrL,WAAa9E,EAAO,CAC/C7B,KAAK0sB,YAAYuX,EAAUt9B,S,KAE1B,CACDnC,EAAO/C,UAAUuO,OAAOzP,KAAKP,KAAMW,EAAMkB,E,CAErD,EACIoiC,EAAUxiC,UAAU0O,SAAW,SAAU/H,EAAO5B,EAAQ7F,EAAMkB,GAC1D,GAAIa,EAASK,MAAMpC,EAAM+B,EAASE,MAAMiD,QAAU,KAAM,CACpD7F,KAAKgQ,OAAOrP,EAAMkB,E,KAEjB,CACD2C,EAAO/C,UAAU0O,SAAS5P,KAAKP,KAAMoI,EAAO5B,EAAQ7F,EAAMkB,E,CAEtE,EACIoiC,EAAUxiC,UAAU2O,SAAW,SAAUhI,EAAOvG,EAAOwO,GACnD,GAAIA,GAAO,MAAQ3N,EAASK,MAAMlB,EAAOa,EAASE,MAAMkD,SAAW,KAAM,CAErEtB,EAAO/C,UAAU2O,SAAS7P,KAAKP,KAAMoI,EAAOvG,EAAOwO,E,KAElD,CACD,IAAI+X,EAAQpoB,KAAKkG,MAAMkC,GACvB,IAAI5C,EAAO9C,EAASG,OAAOhB,EAAOwO,GAClC+X,EAAMla,OAAOsC,aAAahL,EAAM4iB,E,CAE5C,EACI6b,EAAUxiC,UAAU8U,OAAS,SAAUJ,EAAW1E,GAC9C,GAAIwf,UAAUiB,UAAUhtB,MAAM,WAAY,CACtClF,KAAKmrB,O,KAEJ,CACD3mB,EAAO/C,UAAU8U,OAAOhW,KAAKP,KAAMmW,EAAW1E,E,CAE1D,EACIwyB,EAAUt9B,SAAW,QACrBs9B,EAAUv+B,MAAQhD,EAASE,MAAM6N,WACjCwzB,EAAU99B,QAAU,IACpB,OAAO89B,CACX,CArDa,CAqDXliC,EAASmB,SACXpD,EAAQoD,QAAU+gC,CAGX,EAEP,SAAgBpkC,EAAQC,EAASK,GAIjC,IAAI4D,EAAa/D,MAAQA,KAAK+D,WAAc,WACxC,IAAIC,EAAgBlD,OAAOmD,gBACtB,CAAEC,UAAW,cAAgBC,OAAS,SAAUzD,EAAG0D,GAAK1D,EAAEwD,UAAYE,CAAE,GACzE,SAAU1D,EAAG0D,GAAK,IAAK,IAAIzC,KAAKyC,EAAG,GAAIA,EAAE1C,eAAeC,GAAIjB,EAAEiB,GAAKyC,EAAEzC,EAAG,EAC5E,OAAO,SAAUjB,EAAG0D,GAChBJ,EAActD,EAAG0D,GACjB,SAASC,IAAOrE,KAAKsE,YAAc5D,CAAE,CACrCA,EAAEe,UAAY2C,IAAM,KAAOtD,OAAO+B,OAAOuB,IAAMC,EAAG5C,UAAY2C,EAAE3C,UAAW,IAAI4C,EACvF,CACC,CAT2C,GAU5CvD,OAAOC,eAAejB,EAAS,aAAc,CAAE+B,MAAO,OACtD,IAAIG,EAAS7B,EAAoB,IACjC,IAAI+jC,EAA2B,SAAU1/B,GACrCT,EAAUmgC,EAAW1/B,GACrB,SAAS0/B,IACL,OAAO1/B,IAAW,MAAQA,EAAOmL,MAAM3P,KAAMuG,YAAcvG,I,CAE/DkkC,EAAUp0B,QAAU,SAAUD,GAC1B,OAAOvC,SACf,EACI42B,EAAUziC,UAAUuO,OAAS,SAAUrP,EAAMkB,GAIzC2C,EAAO/C,UAAU0O,SAAS5P,KAAKP,KAAM,EAAGA,KAAKwG,SAAU7F,EAAMkB,EACrE,EACIqiC,EAAUziC,UAAU0O,SAAW,SAAU/H,EAAO5B,EAAQ7F,EAAMkB,GAC1D,GAAIuG,IAAU,GAAK5B,IAAWxG,KAAKwG,SAAU,CACzCxG,KAAKgQ,OAAOrP,EAAMkB,E,KAEjB,CACD2C,EAAO/C,UAAU0O,SAAS5P,KAAKP,KAAMoI,EAAO5B,EAAQ7F,EAAMkB,E,CAEtE,EACIqiC,EAAUziC,UAAUqO,QAAU,WAC1B,OAAO9P,KAAKgS,QAAQlC,QAAQ9P,KAAK6P,QACzC,EACI,OAAOq0B,CACX,CA1Ba,CA0BXliC,EAAOkB,SACTpD,EAAQoD,QAAUghC,CAGX,EAEP,SAAgBrkC,EAAQC,EAASK,GAIjC,IAAI4D,EAAa/D,MAAQA,KAAK+D,WAAc,WACxC,IAAIC,EAAgBlD,OAAOmD,gBACtB,CAAEC,UAAW,cAAgBC,OAAS,SAAUzD,EAAG0D,GAAK1D,EAAEwD,UAAYE,CAAE,GACzE,SAAU1D,EAAG0D,GAAK,IAAK,IAAIzC,KAAKyC,EAAG,GAAIA,EAAE1C,eAAeC,GAAIjB,EAAEiB,GAAKyC,EAAEzC,EAAG,EAC5E,OAAO,SAAUjB,EAAG0D,GAChBJ,EAActD,EAAG0D,GACjB,SAASC,IAAOrE,KAAKsE,YAAc5D,CAAE,CACrCA,EAAEe,UAAY2C,IAAM,KAAOtD,OAAO+B,OAAOuB,IAAMC,EAAG5C,UAAY2C,EAAE3C,UAAW,IAAI4C,EACvF,CACC,CAT2C,GAU5CvD,OAAOC,eAAejB,EAAS,aAAc,CAAE+B,MAAO,OACtD,IAAIG,EAAS7B,EAAoB,IACjC,IAAIuC,EAAWvC,EAAoB,GACnC,IAAIme,EAA0B,SAAU9Z,GACpCT,EAAUua,EAAU9Z,GACpB,SAAS8Z,EAASlZ,GACd,IAAIV,EAAQF,EAAOjE,KAAKP,KAAMoF,IAASpF,KACvC0E,EAAMoD,KAAOpD,EAAMsN,QAAQnQ,MAAM6C,EAAMmL,SACvC,OAAOnL,C,CAEX4Z,EAASzb,OAAS,SAAUhB,GACxB,OAAOmV,SAAS2f,eAAe90B,EACvC,EACIyc,EAASzc,MAAQ,SAAUgO,GACvB,IAAI/H,EAAO+H,EAAQiW,KAEnB,GAAIhe,EAAK,aACLA,EAAOA,EAAK,eAChB,OAAOA,CACf,EACIwW,EAAS7c,UAAUsP,SAAW,SAAU3I,EAAO5B,GAC3CxG,KAAK6P,QAAQiW,KAAO9lB,KAAK8H,KAAO9H,KAAK8H,KAAKsB,MAAM,EAAGhB,GAASpI,KAAK8H,KAAKsB,MAAMhB,EAAQ5B,EAC5F,EACI8X,EAAS7c,UAAU2G,MAAQ,SAAUhD,EAAMyG,GACvC,GAAI7L,KAAK6P,UAAYzK,EAAM,CACvB,OAAOyG,C,CAEX,OAAO,CACf,EACIyS,EAAS7c,UAAU2O,SAAW,SAAUhI,EAAOvG,EAAOwO,GAClD,GAAIA,GAAO,KAAM,CACbrQ,KAAK8H,KAAO9H,KAAK8H,KAAKsB,MAAM,EAAGhB,GAASvG,EAAQ7B,KAAK8H,KAAKsB,MAAMhB,GAChEpI,KAAK6P,QAAQiW,KAAO9lB,KAAK8H,I,KAExB,CACDtD,EAAO/C,UAAU2O,SAAS7P,KAAKP,KAAMoI,EAAOvG,EAAOwO,E,CAE/D,EACIiO,EAAS7c,UAAU+E,OAAS,WACxB,OAAOxG,KAAK8H,KAAKtB,MACzB,EACI8X,EAAS7c,UAAU+P,SAAW,SAAUC,GACpCjN,EAAO/C,UAAU+P,SAASjR,KAAKP,KAAMyR,GACrCzR,KAAK8H,KAAO9H,KAAKgS,QAAQnQ,MAAM7B,KAAK6P,SACpC,GAAI7P,KAAK8H,KAAKtB,SAAW,EAAG,CACxBxG,KAAKsR,Q,MAEJ,GAAItR,KAAK4J,gBAAgB0U,GAAYte,KAAK4J,KAAK2Z,OAASvjB,KAAM,CAC/DA,KAAKoQ,SAASpQ,KAAKwG,SAAUxG,KAAK4J,KAAK/H,SACvC7B,KAAK4J,KAAK0H,Q,CAEtB,EACIgN,EAAS7c,UAAU+mB,SAAW,SAAUpgB,EAAO2jB,GAE3C,MAAO,CAAC/rB,KAAK6P,QAASzH,EAC9B,EACIkW,EAAS7c,UAAUyE,MAAQ,SAAUkC,EAAOyJ,GACxC,GAAIA,SAAU,EAAQ,CAAEA,EAAQ,KAAM,CACtC,IAAKA,EAAO,CACR,GAAIzJ,IAAU,EACV,OAAOpI,KACX,GAAIoI,IAAUpI,KAAKwG,SACf,OAAOxG,KAAK4J,I,CAEpB,IAAIwe,EAAQ1lB,EAASG,OAAO7C,KAAK6P,QAAQs0B,UAAU/7B,IACnDpI,KAAKkO,OAAOsC,aAAa4X,EAAOpoB,KAAK4J,MACrC5J,KAAK8H,KAAO9H,KAAKgS,QAAQnQ,MAAM7B,KAAK6P,SACpC,OAAOuY,CACf,EACI9J,EAAS7c,UAAU8U,OAAS,SAAUJ,EAAW1E,GAC7C,IAAI/M,EAAQ1E,KACZ,GAAImW,EAAUyV,MAAK,SAAUM,GACzB,OAAOA,EAASrW,OAAS,iBAAmBqW,EAASnjB,SAAWrE,EAAMmL,OAClF,IAAY,CACA7P,KAAK8H,KAAO9H,KAAKgS,QAAQnQ,MAAM7B,KAAK6P,Q,CAEhD,EACIyO,EAAS7c,UAAUI,MAAQ,WACvB,OAAO7B,KAAK8H,IACpB,EACIwW,EAAS3X,SAAW,OACpB2X,EAAS5Y,MAAQhD,EAASE,MAAMmqB,YAChC,OAAOzO,CACX,CAhFY,CAgFVtc,EAAOkB,SACTpD,EAAQoD,QAAUob,CAGX,EAEP,SAAgBze,EAAQC,EAASK,GAKjC,IAAIgJ,EAAO6N,SAASC,cAAc,OAClC9N,EAAKuL,UAAUqB,OAAO,aAAc,OACpC,GAAI5M,EAAKuL,UAAUqG,SAAS,cAAe,CACzC,IAAIqpB,EAAUC,aAAa5iC,UAAUsU,OACrCsuB,aAAa5iC,UAAUsU,OAAS,SAAUuuB,EAAOzyB,GAC/C,GAAItL,UAAUC,OAAS,IAAMxG,KAAK+a,SAASupB,MAAYzyB,EAAO,CAC5D,OAAOA,CACb,KAAW,CACL,OAAOuyB,EAAQ7jC,KAAKP,KAAMskC,E,CAEhC,C,CAGA,IAAK78B,OAAOhG,UAAU4S,WAAY,CAChC5M,OAAOhG,UAAU4S,WAAa,SAAUkwB,EAAc/b,GACpDA,EAAWA,GAAY,EACvB,OAAOxoB,KAAKotB,OAAO5E,EAAU+b,EAAa/9B,UAAY+9B,CAC1D,C,CAGA,IAAK98B,OAAOhG,UAAU6O,SAAU,CAC9B7I,OAAOhG,UAAU6O,SAAW,SAAUi0B,EAAc/b,GAClD,IAAIgc,EAAgBxkC,KAAKiM,WACzB,UAAWuc,IAAa,WAAaic,SAASjc,IAAaje,KAAKm6B,MAAMlc,KAAcA,GAAYA,EAAWgc,EAAch+B,OAAQ,CAC/HgiB,EAAWgc,EAAch+B,M,CAE3BgiB,GAAY+b,EAAa/9B,OACzB,IAAIooB,EAAY4V,EAAc/4B,QAAQ84B,EAAc/b,GACpD,OAAOoG,KAAc,GAAMA,IAAcpG,CAC7C,C,CAGA,IAAKrkB,MAAM1C,UAAUqB,KAAM,CACzBhC,OAAOC,eAAeoD,MAAM1C,UAAW,OAAQ,CAC7CI,MAAO,SAASA,EAAM8G,GACpB,GAAI3I,OAAS,KAAM,CACjB,MAAM,IAAImP,UAAU,mD,CAEtB,UAAWxG,IAAc,WAAY,CACnC,MAAM,IAAIwG,UAAU,+B,CAEtB,IAAIqX,EAAO1lB,OAAOd,MAClB,IAAIwG,EAASggB,EAAKhgB,SAAW,EAC7B,IAAIm+B,EAAUp+B,UAAU,GACxB,IAAI1E,EAEJ,IAAK,IAAIxB,EAAI,EAAGA,EAAImG,EAAQnG,IAAK,CAC/BwB,EAAQ2kB,EAAKnmB,GACb,GAAIsI,EAAUpI,KAAKokC,EAAS9iC,EAAOxB,EAAGmmB,GAAO,CAC3C,OAAO3kB,C,EAGX,OAAOyL,S,IAKb0J,SAAS4H,iBAAiB,oBAAoB,WAE5C5H,SAAS4tB,YAAY,uBAAwB,MAAO,OAEpD5tB,SAAS4tB,YAAY,gBAAiB,MAAO,MAC/C,GAEO,EAEP,SAAgB/kC,EAAQC,GAiCxB,IAAI+kC,GAAc,EAClB,IAAIC,EAAc,EAClB,IAAIC,EAAa,EAWjB,SAASC,EAAUC,EAAOC,EAAOC,GAE/B,GAAIF,GAASC,EAAO,CAClB,GAAID,EAAO,CACT,MAAO,CAAC,CAACF,EAAYE,G,CAEvB,MAAO,E,CAIT,GAAIE,EAAa,GAAKF,EAAMz+B,OAAS2+B,EAAY,CAC/CA,EAAa,I,CAIf,IAAIC,EAAeC,EAAkBJ,EAAOC,GAC5C,IAAII,EAAeL,EAAMM,UAAU,EAAGH,GACtCH,EAAQA,EAAMM,UAAUH,GACxBF,EAAQA,EAAMK,UAAUH,GAGxBA,EAAeI,EAAkBP,EAAOC,GACxC,IAAIO,EAAeR,EAAMM,UAAUN,EAAMz+B,OAAS4+B,GAClDH,EAAQA,EAAMM,UAAU,EAAGN,EAAMz+B,OAAS4+B,GAC1CF,EAAQA,EAAMK,UAAU,EAAGL,EAAM1+B,OAAS4+B,GAG1C,IAAIM,EAAQC,EAAcV,EAAOC,GAGjC,GAAII,EAAc,CAChBI,EAAMp9B,QAAQ,CAACy8B,EAAYO,G,CAE7B,GAAIG,EAAc,CAChBC,EAAMz9B,KAAK,CAAC88B,EAAYU,G,CAE1BG,EAAkBF,GAClB,GAAIP,GAAc,KAAM,CACtBO,EAAQG,EAAWH,EAAOP,E,CAE5BO,EAAQI,EAAUJ,GAClB,OAAOA,CACT,CAUA,SAASC,EAAcV,EAAOC,GAC5B,IAAIQ,EAEJ,IAAKT,EAAO,CAEV,MAAO,CAAC,CAACH,EAAaI,G,CAGxB,IAAKA,EAAO,CAEV,MAAO,CAAC,CAACL,EAAaI,G,CAGxB,IAAIc,EAAWd,EAAMz+B,OAAS0+B,EAAM1+B,OAASy+B,EAAQC,EACrD,IAAIc,EAAYf,EAAMz+B,OAAS0+B,EAAM1+B,OAAS0+B,EAAQD,EACtD,IAAI5kC,EAAI0lC,EAASt6B,QAAQu6B,GACzB,GAAI3lC,IAAK,EAAI,CAEXqlC,EAAQ,CAAC,CAACZ,EAAaiB,EAASR,UAAU,EAAGllC,IACpC,CAAC0kC,EAAYiB,GACb,CAAClB,EAAaiB,EAASR,UAAUllC,EAAI2lC,EAAUx/B,UAExD,GAAIy+B,EAAMz+B,OAAS0+B,EAAM1+B,OAAQ,CAC/Bk/B,EAAM,GAAG,GAAKA,EAAM,GAAG,GAAKb,C,CAE9B,OAAOa,C,CAGT,GAAIM,EAAUx/B,QAAU,EAAG,CAGzB,MAAO,CAAC,CAACq+B,EAAaI,GAAQ,CAACH,EAAaI,G,CAI9C,IAAIe,EAAKC,EAAgBjB,EAAOC,GAChC,GAAIe,EAAI,CAEN,IAAIE,EAAUF,EAAG,GACjB,IAAIG,EAAUH,EAAG,GACjB,IAAII,EAAUJ,EAAG,GACjB,IAAIK,EAAUL,EAAG,GACjB,IAAIM,EAAaN,EAAG,GAEpB,IAAIO,EAAUxB,EAAUmB,EAASE,GACjC,IAAII,EAAUzB,EAAUoB,EAASE,GAEjC,OAAOE,EAAQ57B,OAAO,CAAC,CAACm6B,EAAYwB,IAAcE,E,CAGpD,OAAOC,EAAazB,EAAOC,EAC7B,CAYA,SAASwB,EAAazB,EAAOC,GAE3B,IAAIyB,EAAe1B,EAAMz+B,OACzB,IAAIogC,EAAe1B,EAAM1+B,OACzB,IAAIqgC,EAAQt8B,KAAKu8B,MAAMH,EAAeC,GAAgB,GACtD,IAAIG,EAAWF,EACf,IAAIG,EAAW,EAAIH,EACnB,IAAII,EAAK,IAAI9iC,MAAM6iC,GACnB,IAAIE,EAAK,IAAI/iC,MAAM6iC,GAGnB,IAAK,IAAI1lB,EAAI,EAAGA,EAAI0lB,EAAU1lB,IAAK,CACjC2lB,EAAG3lB,IAAK,EACR4lB,EAAG5lB,IAAK,C,CAEV2lB,EAAGF,EAAW,GAAK,EACnBG,EAAGH,EAAW,GAAK,EACnB,IAAIz8B,EAAQq8B,EAAeC,EAG3B,IAAIO,EAAS78B,EAAQ,GAAK,EAG1B,IAAI88B,EAAU,EACd,IAAIC,EAAQ,EACZ,IAAIC,EAAU,EACd,IAAIC,EAAQ,EACZ,IAAK,IAAI7mC,EAAI,EAAGA,EAAImmC,EAAOnmC,IAAK,CAE9B,IAAK,IAAI8mC,GAAM9mC,EAAI0mC,EAASI,GAAM9mC,EAAI2mC,EAAOG,GAAM,EAAG,CACpD,IAAIC,EAAYV,EAAWS,EAC3B,IAAIE,EACJ,GAAIF,IAAO9mC,GAAM8mC,GAAM9mC,GAAKumC,EAAGQ,EAAY,GAAKR,EAAGQ,EAAY,GAAK,CAClEC,EAAKT,EAAGQ,EAAY,EAC5B,KAAa,CACLC,EAAKT,EAAGQ,EAAY,GAAK,C,CAE3B,IAAIE,EAAKD,EAAKF,EACd,MAAOE,EAAKf,GAAgBgB,EAAKf,GAC1B3B,EAAM2C,OAAOF,IAAOxC,EAAM0C,OAAOD,GAAK,CAC3CD,IACAC,G,CAEFV,EAAGQ,GAAaC,EAChB,GAAIA,EAAKf,EAAc,CAErBU,GAAS,CACjB,MAAa,GAAIM,EAAKf,EAAc,CAE5BQ,GAAW,C,MACN,GAAID,EAAO,CAChB,IAAIU,EAAYd,EAAWz8B,EAAQk9B,EACnC,GAAIK,GAAa,GAAKA,EAAYb,GAAYE,EAAGW,KAAc,EAAI,CAEjE,IAAIC,EAAKnB,EAAeO,EAAGW,GAC3B,GAAIH,GAAMI,EAAI,CAEZ,OAAOC,EAAkB9C,EAAOC,EAAOwC,EAAIC,E,IAOnD,IAAK,IAAIK,GAAMtnC,EAAI4mC,EAASU,GAAMtnC,EAAI6mC,EAAOS,GAAM,EAAG,CACpD,IAAIH,EAAYd,EAAWiB,EAC3B,IAAIF,EACJ,GAAIE,IAAOtnC,GAAMsnC,GAAMtnC,GAAKwmC,EAAGW,EAAY,GAAKX,EAAGW,EAAY,GAAK,CAClEC,EAAKZ,EAAGW,EAAY,EAC5B,KAAa,CACLC,EAAKZ,EAAGW,EAAY,GAAK,C,CAE3B,IAAII,EAAKH,EAAKE,EACd,MAAOF,EAAKnB,GAAgBsB,EAAKrB,GAC1B3B,EAAM2C,OAAOjB,EAAemB,EAAK,IACjC5C,EAAM0C,OAAOhB,EAAeqB,EAAK,GAAI,CAC1CH,IACAG,G,CAEFf,EAAGW,GAAaC,EAChB,GAAIA,EAAKnB,EAAc,CAErBY,GAAS,CACjB,MAAa,GAAIU,EAAKrB,EAAc,CAE5BU,GAAW,CACnB,MAAa,IAAKH,EAAO,CACjB,IAAIM,EAAYV,EAAWz8B,EAAQ09B,EACnC,GAAIP,GAAa,GAAKA,EAAYT,GAAYC,EAAGQ,KAAc,EAAI,CACjE,IAAIC,EAAKT,EAAGQ,GACZ,IAAIE,EAAKZ,EAAWW,EAAKD,EAEzBK,EAAKnB,EAAemB,EACpB,GAAIJ,GAAMI,EAAI,CAEZ,OAAOC,EAAkB9C,EAAOC,EAAOwC,EAAIC,E,KAQrD,MAAO,CAAC,CAAC9C,EAAaI,GAAQ,CAACH,EAAaI,GAC9C,CAYA,SAAS6C,EAAkB9C,EAAOC,EAAO5jB,EAAG4mB,GAC1C,IAAIC,EAASlD,EAAMM,UAAU,EAAGjkB,GAChC,IAAI8mB,EAASlD,EAAMK,UAAU,EAAG2C,GAChC,IAAIG,EAASpD,EAAMM,UAAUjkB,GAC7B,IAAIgnB,EAASpD,EAAMK,UAAU2C,GAG7B,IAAIxC,EAAQV,EAAUmD,EAAQC,GAC9B,IAAIG,EAASvD,EAAUqD,EAAQC,GAE/B,OAAO5C,EAAM96B,OAAO29B,EACtB,CAUA,SAASlD,EAAkBJ,EAAOC,GAEhC,IAAKD,IAAUC,GAASD,EAAM2C,OAAO,IAAM1C,EAAM0C,OAAO,GAAI,CAC1D,OAAO,C,CAIT,IAAIY,EAAa,EACjB,IAAIC,EAAal+B,KAAKC,IAAIy6B,EAAMz+B,OAAQ0+B,EAAM1+B,QAC9C,IAAIkiC,EAAaD,EACjB,IAAIE,EAAe,EACnB,MAAOH,EAAaE,EAAY,CAC9B,GAAIzD,EAAMM,UAAUoD,EAAcD,IAC9BxD,EAAMK,UAAUoD,EAAcD,GAAa,CAC7CF,EAAaE,EACbC,EAAeH,CACrB,KAAW,CACLC,EAAaC,C,CAEfA,EAAan+B,KAAKm6B,OAAO+D,EAAaD,GAAc,EAAIA,E,CAE1D,OAAOE,CACT,CASA,SAASlD,EAAkBP,EAAOC,GAEhC,IAAKD,IAAUC,GACXD,EAAM2C,OAAO3C,EAAMz+B,OAAS,IAAM0+B,EAAM0C,OAAO1C,EAAM1+B,OAAS,GAAI,CACpE,OAAO,C,CAIT,IAAIgiC,EAAa,EACjB,IAAIC,EAAal+B,KAAKC,IAAIy6B,EAAMz+B,OAAQ0+B,EAAM1+B,QAC9C,IAAIkiC,EAAaD,EACjB,IAAIG,EAAa,EACjB,MAAOJ,EAAaE,EAAY,CAC9B,GAAIzD,EAAMM,UAAUN,EAAMz+B,OAASkiC,EAAYzD,EAAMz+B,OAASoiC,IAC1D1D,EAAMK,UAAUL,EAAM1+B,OAASkiC,EAAYxD,EAAM1+B,OAASoiC,GAAa,CACzEJ,EAAaE,EACbE,EAAaJ,CACnB,KAAW,CACLC,EAAaC,C,CAEfA,EAAan+B,KAAKm6B,OAAO+D,EAAaD,GAAc,EAAIA,E,CAE1D,OAAOE,CACT,CAaA,SAASxC,EAAgBjB,EAAOC,GAC9B,IAAIa,EAAWd,EAAMz+B,OAAS0+B,EAAM1+B,OAASy+B,EAAQC,EACrD,IAAIc,EAAYf,EAAMz+B,OAAS0+B,EAAM1+B,OAAS0+B,EAAQD,EACtD,GAAIc,EAASv/B,OAAS,GAAKw/B,EAAUx/B,OAAS,EAAIu/B,EAASv/B,OAAQ,CACjE,OAAO,I,CAeT,SAASqiC,EAAiB9C,EAAUC,EAAW3lC,GAE7C,IAAIyoC,EAAO/C,EAASR,UAAUllC,EAAGA,EAAIkK,KAAKm6B,MAAMqB,EAASv/B,OAAS,IAClE,IAAIuiC,GAAI,EACR,IAAIC,EAAc,GAClB,IAAIC,EAAiBC,EAAiBC,EAAkBC,EACxD,OAAQL,EAAI/C,EAAUv6B,QAAQq9B,EAAMC,EAAI,MAAO,EAAI,CACjD,IAAIM,EAAehE,EAAkBU,EAASR,UAAUllC,GACnB2lC,EAAUT,UAAUwD,IACzD,IAAIpjB,EAAe6f,EAAkBO,EAASR,UAAU,EAAGllC,GACtB2lC,EAAUT,UAAU,EAAGwD,IAC5D,GAAIC,EAAYxiC,OAASmf,EAAe0jB,EAAc,CACpDL,EAAchD,EAAUT,UAAUwD,EAAIpjB,EAAcojB,GAChD/C,EAAUT,UAAUwD,EAAGA,EAAIM,GAC/BJ,EAAkBlD,EAASR,UAAU,EAAGllC,EAAIslB,GAC5CujB,EAAkBnD,EAASR,UAAUllC,EAAIgpC,GACzCF,EAAmBnD,EAAUT,UAAU,EAAGwD,EAAIpjB,GAC9CyjB,EAAmBpD,EAAUT,UAAUwD,EAAIM,E,EAG/C,GAAIL,EAAYxiC,OAAS,GAAKu/B,EAASv/B,OAAQ,CAC7C,MAAO,CAACyiC,EAAiBC,EACjBC,EAAkBC,EAAkBJ,EAClD,KAAW,CACL,OAAO,I,EAKX,IAAIM,EAAMT,EAAiB9C,EAAUC,EACVz7B,KAAKu8B,KAAKf,EAASv/B,OAAS,IAEvD,IAAI+iC,EAAMV,EAAiB9C,EAAUC,EACVz7B,KAAKu8B,KAAKf,EAASv/B,OAAS,IACvD,IAAIy/B,EACJ,IAAKqD,IAAQC,EAAK,CAChB,OAAO,IACX,MAAS,IAAKA,EAAK,CACftD,EAAKqD,CACT,MAAS,IAAKA,EAAK,CACfrD,EAAKsD,CACT,KAAS,CAELtD,EAAKqD,EAAI,GAAG9iC,OAAS+iC,EAAI,GAAG/iC,OAAS8iC,EAAMC,C,CAI7C,IAAIpD,EAASC,EAASC,EAASC,EAC/B,GAAIrB,EAAMz+B,OAAS0+B,EAAM1+B,OAAQ,CAC/B2/B,EAAUF,EAAG,GACbG,EAAUH,EAAG,GACbI,EAAUJ,EAAG,GACbK,EAAUL,EAAG,EACjB,KAAS,CACLI,EAAUJ,EAAG,GACbK,EAAUL,EAAG,GACbE,EAAUF,EAAG,GACbG,EAAUH,EAAG,E,CAEf,IAAIM,EAAaN,EAAG,GACpB,MAAO,CAACE,EAASC,EAASC,EAASC,EAASC,EAC9C,CAQA,SAASX,EAAkBF,GACzBA,EAAMz9B,KAAK,CAAC88B,EAAY,KACxB,IAAIyE,EAAU,EACd,IAAIC,EAAe,EACnB,IAAIC,EAAe,EACnB,IAAIC,EAAc,GAClB,IAAIC,EAAc,GAClB,IAAIxE,EACJ,MAAOoE,EAAU9D,EAAMl/B,OAAQ,CAC7B,OAAQk/B,EAAM8D,GAAS,IACrB,KAAK1E,EACH4E,IACAE,GAAelE,EAAM8D,GAAS,GAC9BA,IACA,MACF,KAAK3E,EACH4E,IACAE,GAAejE,EAAM8D,GAAS,GAC9BA,IACA,MACF,KAAKzE,EAEH,GAAI0E,EAAeC,EAAe,EAAG,CACnC,GAAID,IAAiB,GAAKC,IAAiB,EAAG,CAE5CtE,EAAeC,EAAkBuE,EAAaD,GAC9C,GAAIvE,IAAiB,EAAG,CACtB,GAAKoE,EAAUC,EAAeC,EAAgB,GAC1ChE,EAAM8D,EAAUC,EAAeC,EAAe,GAAG,IACjD3E,EAAY,CACdW,EAAM8D,EAAUC,EAAeC,EAAe,GAAG,IAC7CE,EAAYrE,UAAU,EAAGH,EAC7C,KAAqB,CACLM,EAAMn9B,OAAO,EAAG,EAAG,CAACw8B,EACA6E,EAAYrE,UAAU,EAAGH,KAC7CoE,G,CAEFI,EAAcA,EAAYrE,UAAUH,GACpCuE,EAAcA,EAAYpE,UAAUH,E,CAGtCA,EAAeI,EAAkBoE,EAAaD,GAC9C,GAAIvE,IAAiB,EAAG,CACtBM,EAAM8D,GAAS,GAAKI,EAAYrE,UAAUqE,EAAYpjC,OAClD4+B,GAAgBM,EAAM8D,GAAS,GACnCI,EAAcA,EAAYrE,UAAU,EAAGqE,EAAYpjC,OAC/C4+B,GACJuE,EAAcA,EAAYpE,UAAU,EAAGoE,EAAYnjC,OAC/C4+B,E,EAIR,GAAIqE,IAAiB,EAAG,CACtB/D,EAAMn9B,OAAOihC,EAAUE,EACnBD,EAAeC,EAAc,CAAC5E,EAAa8E,GAC3D,MAAiB,GAAIF,IAAiB,EAAG,CAC7BhE,EAAMn9B,OAAOihC,EAAUC,EACnBA,EAAeC,EAAc,CAAC7E,EAAa8E,GAC3D,KAAiB,CACLjE,EAAMn9B,OAAOihC,EAAUC,EAAeC,EAClCD,EAAeC,EAAc,CAAC7E,EAAa8E,GAC3C,CAAC7E,EAAa8E,G,CAEpBJ,EAAUA,EAAUC,EAAeC,GACxBD,EAAe,EAAI,IAAMC,EAAe,EAAI,GAAK,CACtE,MAAe,GAAIF,IAAY,GAAK9D,EAAM8D,EAAU,GAAG,IAAMzE,EAAY,CAE/DW,EAAM8D,EAAU,GAAG,IAAM9D,EAAM8D,GAAS,GACxC9D,EAAMn9B,OAAOihC,EAAS,EAChC,KAAe,CACLA,G,CAEFE,EAAe,EACfD,EAAe,EACfE,EAAc,GACdC,EAAc,GACd,M,CAGN,GAAIlE,EAAMA,EAAMl/B,OAAS,GAAG,KAAO,GAAI,CACrCk/B,EAAMj9B,K,CAMR,IAAIohC,EAAU,MACdL,EAAU,EAEV,MAAOA,EAAU9D,EAAMl/B,OAAS,EAAG,CACjC,GAAIk/B,EAAM8D,EAAU,GAAG,IAAMzE,GACzBW,EAAM8D,EAAU,GAAG,IAAMzE,EAAY,CAEvC,GAAIW,EAAM8D,GAAS,GAAGjE,UAAUG,EAAM8D,GAAS,GAAGhjC,OAC9Ck/B,EAAM8D,EAAU,GAAG,GAAGhjC,SAAWk/B,EAAM8D,EAAU,GAAG,GAAI,CAE1D9D,EAAM8D,GAAS,GAAK9D,EAAM8D,EAAU,GAAG,GACnC9D,EAAM8D,GAAS,GAAGjE,UAAU,EAAGG,EAAM8D,GAAS,GAAGhjC,OACrBk/B,EAAM8D,EAAU,GAAG,GAAGhjC,QACtDk/B,EAAM8D,EAAU,GAAG,GAAK9D,EAAM8D,EAAU,GAAG,GAAK9D,EAAM8D,EAAU,GAAG,GACnE9D,EAAMn9B,OAAOihC,EAAU,EAAG,GAC1BK,EAAU,I,MACL,GAAInE,EAAM8D,GAAS,GAAGjE,UAAU,EAAGG,EAAM8D,EAAU,GAAG,GAAGhjC,SAC5Dk/B,EAAM8D,EAAU,GAAG,GAAI,CAEzB9D,EAAM8D,EAAU,GAAG,IAAM9D,EAAM8D,EAAU,GAAG,GAC5C9D,EAAM8D,GAAS,GACX9D,EAAM8D,GAAS,GAAGjE,UAAUG,EAAM8D,EAAU,GAAG,GAAGhjC,QAClDk/B,EAAM8D,EAAU,GAAG,GACvB9D,EAAMn9B,OAAOihC,EAAU,EAAG,GAC1BK,EAAU,I,EAGdL,G,CAGF,GAAIK,EAAS,CACXjE,EAAkBF,E,CAEtB,CAGA,IAAIt+B,EAAO49B,EACX59B,EAAK+D,OAAS25B,EACd19B,EAAKgE,OAASy5B,EACdz9B,EAAKiE,MAAQ05B,EAEbllC,EAAOC,QAAUsH,EAcjB,SAAS0iC,EAAuBpE,EAAOP,GACrC,GAAIA,IAAe,EAAG,CACpB,MAAO,CAACJ,EAAYW,E,CAEtB,IAAK,IAAIqE,EAAc,EAAG1pC,EAAI,EAAGA,EAAIqlC,EAAMl/B,OAAQnG,IAAK,CACtD,IAAIK,EAAIglC,EAAMrlC,GACd,GAAIK,EAAE,KAAOmkC,GAAenkC,EAAE,KAAOqkC,EAAY,CAC/C,IAAIiF,EAAWD,EAAcrpC,EAAE,GAAG8F,OAClC,GAAI2+B,IAAe6E,EAAU,CAC3B,MAAO,CAAC3pC,EAAI,EAAGqlC,EACvB,MAAa,GAAIP,EAAa6E,EAAU,CAEhCtE,EAAQA,EAAMt8B,QAEd,IAAI6gC,EAAY9E,EAAa4E,EAC7B,IAAIG,EAAS,CAACxpC,EAAE,GAAIA,EAAE,GAAG0I,MAAM,EAAG6gC,IAClC,IAAIE,EAAU,CAACzpC,EAAE,GAAIA,EAAE,GAAG0I,MAAM6gC,IAChCvE,EAAMn9B,OAAOlI,EAAG,EAAG6pC,EAAQC,GAC3B,MAAO,CAAC9pC,EAAI,EAAGqlC,EACvB,KAAa,CACLqE,EAAcC,C,GAIpB,MAAM,IAAIrlC,MAAM,+B,CAqBlB,SAASkhC,EAAYH,EAAOP,GAC1B,IAAIiF,EAAON,EAAsBpE,EAAOP,GACxC,IAAIkF,EAASD,EAAK,GAClB,IAAIE,EAAiBF,EAAK,GAC1B,IAAI1pC,EAAI2pC,EAAOC,GACf,IAAIC,EAASF,EAAOC,EAAiB,GAErC,GAAI5pC,GAAK,KAAM,CAGb,OAAOglC,C,MACF,GAAIhlC,EAAE,KAAOqkC,EAAY,CAG9B,OAAOW,CACX,KAAS,CACL,GAAI6E,GAAU,MAAQ7pC,EAAE,GAAK6pC,EAAO,KAAOA,EAAO,GAAK7pC,EAAE,GAAI,CAG3D2pC,EAAO9hC,OAAO+hC,EAAgB,EAAGC,EAAQ7pC,GACzC,OAAO8pC,EAAaH,EAAQC,EAAgB,E,MACvC,GAAIC,GAAU,MAAQA,EAAO,GAAG9+B,QAAQ/K,EAAE,MAAQ,EAAG,CAK1D2pC,EAAO9hC,OAAO+hC,EAAgB,EAAG,CAACC,EAAO,GAAI7pC,EAAE,IAAK,CAAC,EAAGA,EAAE,KAC1D,IAAIklB,EAAS2kB,EAAO,GAAGnhC,MAAM1I,EAAE,GAAG8F,QAClC,GAAIof,EAAOpf,OAAS,EAAG,CACrB6jC,EAAO9hC,OAAO+hC,EAAiB,EAAG,EAAG,CAACC,EAAO,GAAI3kB,G,CAEnD,OAAO4kB,EAAaH,EAAQC,EAAgB,EAClD,KAAW,CAEL,OAAO5E,C,GAab,SAASI,EAAWJ,GAClB,IAAI+E,EAAU,MACd,IAAIC,EAAuB,SAASC,GAClC,OAAOA,EAAIlU,WAAW,IAAM,OAAUkU,EAAIlU,WAAW,IAAM,K,EAE7D,IAAImU,EAAuB,SAASD,GAClC,OAAOA,EAAIlU,WAAWkU,EAAInkC,OAAO,IAAM,OAAUmkC,EAAIlU,WAAWkU,EAAInkC,OAAO,IAAM,K,EAEnF,IAAK,IAAInG,EAAI,EAAGA,EAAIqlC,EAAMl/B,OAAQnG,GAAK,EAAG,CACxC,GAAIqlC,EAAMrlC,EAAE,GAAG,KAAO0kC,GAAc6F,EAAqBlF,EAAMrlC,EAAE,GAAG,KAChEqlC,EAAMrlC,EAAE,GAAG,KAAOwkC,GAAe6F,EAAqBhF,EAAMrlC,EAAE,GAAG,KACjEqlC,EAAMrlC,GAAG,KAAOykC,GAAe4F,EAAqBhF,EAAMrlC,GAAG,IAAK,CACpEoqC,EAAU,KAEV/E,EAAMrlC,EAAE,GAAG,GAAKqlC,EAAMrlC,EAAE,GAAG,GAAG+I,OAAM,GAAMs8B,EAAMrlC,EAAE,GAAG,GACrDqlC,EAAMrlC,GAAG,GAAKqlC,EAAMrlC,EAAE,GAAG,GAAG+I,OAAM,GAAMs8B,EAAMrlC,GAAG,GAEjDqlC,EAAMrlC,EAAE,GAAG,GAAKqlC,EAAMrlC,EAAE,GAAG,GAAG+I,MAAM,GAAG,E,EAG3C,IAAKqhC,EAAS,CACZ,OAAO/E,C,CAET,IAAImF,EAAc,GAClB,IAAK,IAAIxqC,EAAI,EAAGA,EAAIqlC,EAAMl/B,OAAQnG,GAAK,EAAG,CACxC,GAAIqlC,EAAMrlC,GAAG,GAAGmG,OAAS,EAAG,CAC1BqkC,EAAY5iC,KAAKy9B,EAAMrlC,G,EAG3B,OAAOwqC,C,CAYT,SAASL,EAAc9E,EAAOr8B,EAAO7C,GAEnC,IAAK,IAAInG,EAAIgJ,EAAQ7C,EAAS,EAAGnG,GAAK,GAAKA,GAAKgJ,EAAQ,EAAGhJ,IAAK,CAC9D,GAAIA,EAAI,EAAIqlC,EAAMl/B,OAAQ,CACxB,IAAIskC,EAASpF,EAAMrlC,GACnB,IAAI0qC,EAAUrF,EAAMrlC,EAAE,GACtB,GAAIyqC,EAAO,KAAOC,EAAQ,GAAI,CAC5BrF,EAAMn9B,OAAOlI,EAAG,EAAG,CAACyqC,EAAO,GAAIA,EAAO,GAAKC,EAAQ,I,GAIzD,OAAOrF,C,CAIF,EAEP,SAAgB7lC,EAAQC,GAExBA,EAAUD,EAAOC,eAAiBgB,OAAOkH,OAAS,WAC9ClH,OAAOkH,KAAOgjC,EAElBlrC,EAAQkrC,KAAOA,EACf,SAASA,EAAM1+B,GACb,IAAItE,EAAO,GACX,IAAK,IAAIyE,KAAOH,EAAKtE,EAAKC,KAAKwE,GAC/B,OAAOzE,C,CAIF,EAEP,SAAgBnI,EAAQC,GAExB,IAAImrC,EAAyB,WAC3B,OAAOnqC,OAAOW,UAAUwK,SAAS1L,KAAKgG,UACvC,CAF4B,IAErB,qBAERzG,EAAUD,EAAOC,QAAUmrC,EAAyBC,EAAYC,EAEhErrC,EAAQorC,UAAYA,EACpB,SAASA,EAAU3pC,GACjB,OAAOT,OAAOW,UAAUwK,SAAS1L,KAAKgB,IAAW,oBACnD,CAEAzB,EAAQqrC,YAAcA,EACtB,SAASA,EAAY5pC,GACnB,OAAOA,UACEA,GAAU,iBACVA,EAAOiF,QAAU,UACxB1F,OAAOW,UAAUC,eAAenB,KAAKgB,EAAQ,YAC5CT,OAAOW,UAAU2pC,qBAAqB7qC,KAAKgB,EAAQ,WACpD,KACJ,CAGO,EAEP,SAAgB1B,EAAQC,GAIxB,IAAIurC,EAAMvqC,OAAOW,UAAUC,eACvB4wB,EAAS,IASb,SAASgZ,IAAS,CASlB,GAAIxqC,OAAO+B,OAAQ,CACjByoC,EAAO7pC,UAAYX,OAAO+B,OAAO,MAMjC,KAAK,IAAIyoC,GAASpnC,UAAWouB,EAAS,K,CAYxC,SAASiZ,EAAGC,EAAI/5B,EAASwJ,GACvBjb,KAAKwrC,GAAKA,EACVxrC,KAAKyR,QAAUA,EACfzR,KAAKib,KAAOA,GAAQ,K,CAUtB,SAASwwB,IACPzrC,KAAK0rC,QAAU,IAAIJ,EACnBtrC,KAAK2rC,aAAe,C,CAUtBF,EAAahqC,UAAUmqC,WAAa,SAASA,IAC3C,IAAI5lC,EAAQ,GACR2P,EACAhV,EAEJ,GAAIX,KAAK2rC,eAAiB,EAAG,OAAO3lC,EAEpC,IAAKrF,KAASgV,EAAS3V,KAAK0rC,QAAU,CACpC,GAAIL,EAAI9qC,KAAKoV,EAAQhV,GAAOqF,EAAMiC,KAAKqqB,EAAS3xB,EAAKyI,MAAM,GAAKzI,E,CAGlE,GAAIG,OAAOsuB,sBAAuB,CAChC,OAAOppB,EAAM4E,OAAO9J,OAAOsuB,sBAAsBzZ,G,CAGnD,OAAO3P,CACT,EAUAylC,EAAahqC,UAAU2d,UAAY,SAASA,EAAUE,EAAOusB,GAC3D,IAAIxa,EAAMiB,EAASA,EAAShT,EAAQA,EAChCwsB,EAAY9rC,KAAK0rC,QAAQra,GAE7B,GAAIwa,EAAQ,QAASC,EACrB,IAAKA,EAAW,MAAO,GACvB,GAAIA,EAAUN,GAAI,MAAO,CAACM,EAAUN,IAEpC,IAAK,IAAInrC,EAAI,EAAGC,EAAIwrC,EAAUtlC,OAAQulC,EAAK,IAAI5nC,MAAM7D,GAAID,EAAIC,EAAGD,IAAK,CACnE0rC,EAAG1rC,GAAKyrC,EAAUzrC,GAAGmrC,E,CAGvB,OAAOO,CACT,EASAN,EAAahqC,UAAU6b,KAAO,SAASA,EAAKgC,EAAO0sB,EAAIC,EAAIC,EAAIC,EAAIC,GACjE,IAAI/a,EAAMiB,EAASA,EAAShT,EAAQA,EAEpC,IAAKtf,KAAK0rC,QAAQra,GAAM,OAAO,MAE/B,IAAIjS,EAAYpf,KAAK0rC,QAAQra,GACzBgb,EAAM9lC,UAAUC,OAChB6W,EACAhd,EAEJ,GAAI+e,EAAUosB,GAAI,CAChB,GAAIpsB,EAAUnE,KAAMjb,KAAKssC,eAAehtB,EAAOF,EAAUosB,GAAIl+B,UAAW,MAExE,OAAQ++B,GACN,KAAK,EAAG,OAAOjtB,EAAUosB,GAAGjrC,KAAK6e,EAAU3N,SAAU,KACrD,KAAK,EAAG,OAAO2N,EAAUosB,GAAGjrC,KAAK6e,EAAU3N,QAASu6B,GAAK,KACzD,KAAK,EAAG,OAAO5sB,EAAUosB,GAAGjrC,KAAK6e,EAAU3N,QAASu6B,EAAIC,GAAK,KAC7D,KAAK,EAAG,OAAO7sB,EAAUosB,GAAGjrC,KAAK6e,EAAU3N,QAASu6B,EAAIC,EAAIC,GAAK,KACjE,KAAK,EAAG,OAAO9sB,EAAUosB,GAAGjrC,KAAK6e,EAAU3N,QAASu6B,EAAIC,EAAIC,EAAIC,GAAK,KACrE,KAAK,EAAG,OAAO/sB,EAAUosB,GAAGjrC,KAAK6e,EAAU3N,QAASu6B,EAAIC,EAAIC,EAAIC,EAAIC,GAAK,KAG3E,IAAK/rC,EAAI,EAAGgd,EAAO,IAAIlZ,MAAMkoC,EAAK,GAAIhsC,EAAIgsC,EAAKhsC,IAAK,CAClDgd,EAAKhd,EAAI,GAAKkG,UAAUlG,E,CAG1B+e,EAAUosB,GAAG77B,MAAMyP,EAAU3N,QAAS4L,EAC1C,KAAS,CACL,IAAI7W,EAAS4Y,EAAU5Y,OACnBuiC,EAEJ,IAAK1oC,EAAI,EAAGA,EAAImG,EAAQnG,IAAK,CAC3B,GAAI+e,EAAU/e,GAAG4a,KAAMjb,KAAKssC,eAAehtB,EAAOF,EAAU/e,GAAGmrC,GAAIl+B,UAAW,MAE9E,OAAQ++B,GACN,KAAK,EAAGjtB,EAAU/e,GAAGmrC,GAAGjrC,KAAK6e,EAAU/e,GAAGoR,SAAU,MACpD,KAAK,EAAG2N,EAAU/e,GAAGmrC,GAAGjrC,KAAK6e,EAAU/e,GAAGoR,QAASu6B,GAAK,MACxD,KAAK,EAAG5sB,EAAU/e,GAAGmrC,GAAGjrC,KAAK6e,EAAU/e,GAAGoR,QAASu6B,EAAIC,GAAK,MAC5D,KAAK,EAAG7sB,EAAU/e,GAAGmrC,GAAGjrC,KAAK6e,EAAU/e,GAAGoR,QAASu6B,EAAIC,EAAIC,GAAK,MAChE,QACE,IAAK7uB,EAAM,IAAK0rB,EAAI,EAAG1rB,EAAO,IAAIlZ,MAAMkoC,EAAK,GAAItD,EAAIsD,EAAKtD,IAAK,CAC7D1rB,EAAK0rB,EAAI,GAAKxiC,UAAUwiC,E,CAG1B3pB,EAAU/e,GAAGmrC,GAAG77B,MAAMyP,EAAU/e,GAAGoR,QAAS4L,G,EAKpD,OAAO,IACT,EAWAouB,EAAahqC,UAAUiU,GAAK,SAASA,EAAG4J,EAAOksB,EAAI/5B,GACjD,IAAIyuB,EAAW,IAAIqL,EAAGC,EAAI/5B,GAAWzR,MACjCqxB,EAAMiB,EAASA,EAAShT,EAAQA,EAEpC,IAAKtf,KAAK0rC,QAAQra,GAAMrxB,KAAK0rC,QAAQra,GAAO6O,EAAUlgC,KAAK2rC,oBACtD,IAAK3rC,KAAK0rC,QAAQra,GAAKma,GAAIxrC,KAAK0rC,QAAQra,GAAKppB,KAAKi4B,QAClDlgC,KAAK0rC,QAAQra,GAAO,CAACrxB,KAAK0rC,QAAQra,GAAM6O,GAE7C,OAAOlgC,IACT,EAWAyrC,EAAahqC,UAAUwZ,KAAO,SAASA,EAAKqE,EAAOksB,EAAI/5B,GACrD,IAAIyuB,EAAW,IAAIqL,EAAGC,EAAI/5B,GAAWzR,KAAM,MACvCqxB,EAAMiB,EAASA,EAAShT,EAAQA,EAEpC,IAAKtf,KAAK0rC,QAAQra,GAAMrxB,KAAK0rC,QAAQra,GAAO6O,EAAUlgC,KAAK2rC,oBACtD,IAAK3rC,KAAK0rC,QAAQra,GAAKma,GAAIxrC,KAAK0rC,QAAQra,GAAKppB,KAAKi4B,QAClDlgC,KAAK0rC,QAAQra,GAAO,CAACrxB,KAAK0rC,QAAQra,GAAM6O,GAE7C,OAAOlgC,IACT,EAYAyrC,EAAahqC,UAAU6qC,eAAiB,SAASA,EAAehtB,EAAOksB,EAAI/5B,EAASwJ,GAClF,IAAIoW,EAAMiB,EAASA,EAAShT,EAAQA,EAEpC,IAAKtf,KAAK0rC,QAAQra,GAAM,OAAOrxB,KAC/B,IAAKwrC,EAAI,CACP,KAAMxrC,KAAK2rC,eAAiB,EAAG3rC,KAAK0rC,QAAU,IAAIJ,cACtCtrC,KAAK0rC,QAAQra,GACzB,OAAOrxB,I,CAGT,IAAIof,EAAYpf,KAAK0rC,QAAQra,GAE7B,GAAIjS,EAAUosB,GAAI,CAChB,GACKpsB,EAAUosB,KAAOA,KACfvwB,GAAQmE,EAAUnE,SAClBxJ,GAAW2N,EAAU3N,UAAYA,GACtC,CACA,KAAMzR,KAAK2rC,eAAiB,EAAG3rC,KAAK0rC,QAAU,IAAIJ,cACtCtrC,KAAK0rC,QAAQra,E,CAE/B,KAAS,CACL,IAAK,IAAIhxB,EAAI,EAAGsV,EAAS,GAAInP,EAAS4Y,EAAU5Y,OAAQnG,EAAImG,EAAQnG,IAAK,CACvE,GACK+e,EAAU/e,GAAGmrC,KAAOA,GACnBvwB,IAASmE,EAAU/e,GAAG4a,MACtBxJ,GAAW2N,EAAU/e,GAAGoR,UAAYA,EACxC,CACAkE,EAAO1N,KAAKmX,EAAU/e,G,EAO1B,GAAIsV,EAAOnP,OAAQxG,KAAK0rC,QAAQra,GAAO1b,EAAOnP,SAAW,EAAImP,EAAO,GAAKA,OACpE,KAAM3V,KAAK2rC,eAAiB,EAAG3rC,KAAK0rC,QAAU,IAAIJ,cAC3CtrC,KAAK0rC,QAAQra,E,CAG3B,OAAOrxB,IACT,EASAyrC,EAAahqC,UAAU8qC,mBAAqB,SAASA,EAAmBjtB,GACtE,IAAI+R,EAEJ,GAAI/R,EAAO,CACT+R,EAAMiB,EAASA,EAAShT,EAAQA,EAChC,GAAItf,KAAK0rC,QAAQra,GAAM,CACrB,KAAMrxB,KAAK2rC,eAAiB,EAAG3rC,KAAK0rC,QAAU,IAAIJ,cACtCtrC,KAAK0rC,QAAQra,E,CAE/B,KAAS,CACLrxB,KAAK0rC,QAAU,IAAIJ,EACnBtrC,KAAK2rC,aAAe,C,CAGtB,OAAO3rC,IACT,EAKAyrC,EAAahqC,UAAUuZ,IAAMywB,EAAahqC,UAAU6qC,eACpDb,EAAahqC,UAAU+qC,YAAcf,EAAahqC,UAAUiU,GAK5D+1B,EAAahqC,UAAUgrC,gBAAkB,SAASA,IAChD,OAAOzsC,IACT,EAKAyrC,EAAaiB,SAAWpa,EAKxBmZ,EAAaA,aAAeA,EAK5B,GAAI,qBAAuB5rC,EAAQ,CACjCA,EAAOC,QAAU2rC,C,CAIZ,EAEP,SAAgB5rC,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAET/B,EAAQ6sC,UAAY7sC,EAAQ8sC,aAAe9sC,EAAQ+sC,aAAe/sC,EAAQgtC,UAAYhtC,EAAQitC,gBAAkBjtC,EAAQoD,QAAUoK,UAElI,IAAI6E,SAAiBC,SAAW,mBAAqBA,OAAO3I,WAAa,SAAW,SAAU6C,GAAO,cAAcA,CAAI,EAAK,SAAUA,GAAO,OAAOA,UAAc8F,SAAW,YAAc9F,EAAIhI,cAAgB8N,QAAU9F,IAAQ8F,OAAO3Q,UAAY,gBAAkB6K,CAAI,EAE1Q,IAAI+F,EAAiB,WAAc,SAASC,EAAclG,EAAK/L,GAAK,IAAIkS,EAAO,GAAI,IAAIC,EAAK,KAAM,IAAIC,EAAK,MAAO,IAAIC,EAAKpF,UAAW,IAAM,IAAK,IAAIhH,EAAK8F,EAAIgG,OAAO3I,YAAakJ,IAAMH,GAAMG,EAAKrM,EAAGsD,QAAQgJ,MAAOJ,EAAK,KAAM,CAAED,EAAKtK,KAAK0K,EAAG9Q,OAAQ,GAAIxB,GAAKkS,EAAK/L,SAAWnG,EAAG,KAAM,CAAE,CAAG,MAAOwS,GAAOJ,EAAK,KAAMC,EAAKG,CAAI,CAAE,QAAW,IAAM,IAAKL,GAAMlM,EAAG,UAAWA,EAAG,WAAY,CAAE,QAAW,GAAImM,EAAI,MAAMC,CAAG,CAAE,CAAG,OAAOH,CAAK,CAAG,OAAO,SAAUnG,EAAK/L,GAAK,GAAI8D,MAAM4C,QAAQqF,GAAM,CAAE,OAAOA,CAAI,MAAQ,GAAIgG,OAAO3I,YAAY3I,OAAOsL,GAAM,CAAE,OAAOkG,EAAclG,EAAK/L,EAAG,KAAQ,CAAE,MAAM,IAAI8O,UAAU,uDAAwD,CAAE,CAAG,CAA9nB,GAErB,IAAI5B,EAAe,WAAc,SAASC,EAAiBzE,EAAQ0E,GAAS,IAAK,IAAIpN,EAAI,EAAGA,EAAIoN,EAAMjH,OAAQnG,IAAK,CAAE,IAAIqN,EAAaD,EAAMpN,GAAIqN,EAAWzM,WAAayM,EAAWzM,YAAc,MAAOyM,EAAW1M,aAAe,KAAM,GAAI,UAAW0M,EAAYA,EAAWb,SAAW,KAAM/L,OAAOC,eAAegI,EAAQ2E,EAAWjB,IAAKiB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAe,GAAID,EAAYJ,EAAiBG,EAAYlM,UAAWmM,GAAa,GAAIC,EAAaL,EAAiBG,EAAaE,GAAc,OAAOF,CAAY,CAAG,CAA5hB,GAEnB,IAAIU,EAAWlO,EAAoB,GAEnC,IAAI6sC,EAAW1+B,EAAuBD,GAEtC,IAAIE,EAAcpO,EAAoB,GAEtC,IAAIqO,EAAeF,EAAuBC,GAE1C,IAAIE,EAAatO,EAAoB,GAErC,IAAIuO,EAAcJ,EAAuBG,GAEzC,IAAIqiB,EAAS3wB,EAAoB,GAEjC,IAAI4wB,EAAUziB,EAAuBwiB,GAErC,IAAIxd,EAAUnT,EAAoB,IAElC,IAAIoT,EAAWjF,EAAuBgF,GAEtC,IAAIJ,EAAU/S,EAAoB,GAElC,IAAIgT,EAAW7E,EAAuB4E,GAEtC,IAAI+5B,EAAS9sC,EAAoB,IAEjC,IAAI+sC,EAAc/sC,EAAoB,IAEtC,IAAIyjB,EAAQzjB,EAAoB,IAEhC,IAAI0jB,EAASvV,EAAuBsV,GAEpC,IAAIqY,EAAS97B,EAAoB,IAEjC,IAAIgtC,EAAahtC,EAAoB,IAErC,IAAIitC,EAAQjtC,EAAoB,IAEhC,IAAIktC,EAAQltC,EAAoB,IAEhC,SAASmO,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,SAASoH,EAAgBpH,EAAKG,EAAK5K,GAAS,GAAI4K,KAAOH,EAAK,CAAExL,OAAOC,eAAeuL,EAAKG,EAAK,CAAE5K,MAAOA,EAAOZ,WAAY,KAAMD,aAAc,KAAM6L,SAAU,MAAQ,KAAQ,CAAEP,EAAIG,GAAO5K,CAAM,CAAG,OAAOyK,CAAI,CAE/M,SAAS2C,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,SAASC,EAA2BrP,EAAMQ,GAAQ,IAAKR,EAAM,CAAE,MAAM,IAAIsP,eAAe,4DAA6D,CAAG,OAAO9O,WAAgBA,IAAS,iBAAmBA,IAAS,YAAcA,EAAOR,CAAK,CAE9O,SAASuP,EAAUC,EAAUC,GAAc,UAAWA,IAAe,YAAcA,IAAe,KAAM,CAAE,MAAM,IAAIL,UAAU,kEAAoEK,EAAY,CAAGD,EAAS9N,UAAYX,OAAO+B,OAAO2M,GAAcA,EAAW/N,UAAW,CAAE6C,YAAa,CAAEzC,MAAO0N,EAAUtO,WAAY,MAAO4L,SAAU,KAAM7L,aAAc,QAAW,GAAIwO,EAAY1O,OAAOmD,eAAiBnD,OAAOmD,eAAesL,EAAUC,GAAcD,EAASrL,UAAYsL,CAAW,CAE5e,IAAImE,GAAQ,EAAIJ,EAASrQ,SAAS,mBAElC,IAAIoqC,EAAU,eAEd,IAAIC,EAAmB,CAAC,CAACloC,KAAKC,UAAWqnC,GAAY,CAACtnC,KAAKC,UAAWunC,GAAe,CAAC,KAAMW,GAAa,CAACnoC,KAAKooC,aAAcZ,GAAe,CAACxnC,KAAKooC,aAAcX,GAAY,CAACznC,KAAKooC,aAAcb,GAAe,CAACvnC,KAAKooC,aAAcV,GAAkB,CAAC1nC,KAAKooC,aAAcC,GAAc,CAAC,KAAMC,GAAc,CAAC,IAAKC,EAAWptB,KAAKotB,EAAY,SAAU,CAAC,IAAKA,EAAWptB,KAAKotB,EAAY,WAAY,CAAC,QAASC,IAEhZ,IAAIC,EAAwB,CAACb,EAAOnR,eAAgBqR,EAAW/Q,oBAAoBpzB,QAAO,SAAU6iB,EAAM+O,GACxG/O,EAAK+O,EAAK/zB,SAAW+zB,EACrB,OAAO/O,C,GACN,IAEH,IAAIkiB,EAAoB,CAACd,EAAOrR,WAAYsR,EAAYnR,gBAAiBE,EAAOlF,WAAYoW,EAAWjR,eAAgBkR,EAAM9Q,UAAW+Q,EAAM7Q,WAAWxzB,QAAO,SAAU6iB,EAAM+O,GAC9K/O,EAAK+O,EAAK/zB,SAAW+zB,EACrB,OAAO/O,C,GACN,IAEH,IAAImiB,EAAY,SAAU5c,GACxB9hB,EAAU0+B,EAAW5c,GAErB,SAAS4c,EAAUhuB,EAAOrT,GACxBsC,EAAgBjP,KAAMguC,GAEtB,IAAItpC,EAAQ0K,EAA2BpP,MAAOguC,EAAU9pC,WAAapD,OAAOqN,eAAe6/B,IAAYztC,KAAKP,KAAMggB,EAAOrT,IAEzHjI,EAAMsb,MAAMrgB,KAAKif,iBAAiB,QAASla,EAAMupC,QAAQztB,KAAK9b,IAC9DA,EAAM4P,UAAY5P,EAAMsb,MAAMpL,aAAa,gBAC3ClQ,EAAM4P,UAAUO,aAAa,kBAAmB,MAChDnQ,EAAM4P,UAAUO,aAAa,YAAY,GACzCnQ,EAAMwpC,SAAW,GACjBX,EAAiB3iC,OAAOlG,EAAMiI,QAAQuhC,UAAUhnC,SAAQ,SAAUuY,GAChE,IAAIuT,EAAQ3gB,EAAeoN,EAAM,GAC7B0uB,EAAWnb,EAAM,GACjBob,EAAUpb,EAAM,GAEpB,IAAKrmB,EAAQ0hC,aAAeD,IAAYxB,EAAc,OACtDloC,EAAM4pC,WAAWH,EAAUC,EACjC,IACI,OAAO1pC,C,CAGT6I,EAAaygC,EAAW,CAAC,CACvBvhC,IAAK,aACL5K,MAAO,SAASysC,EAAWH,EAAUC,GACnCpuC,KAAKkuC,SAASjmC,KAAK,CAACkmC,EAAUC,G,GAE/B,CACD3hC,IAAK,UACL5K,MAAO,SAAS4U,EAAQlC,GACtB,UAAWA,IAAS,SAAU,CAC5BvU,KAAKsU,UAAUE,UAAYD,EAAKyN,QAAQ,eAAgB,MACxD,OAAOhiB,KAAKyW,S,CAEd,IAAI3G,EAAU9P,KAAKggB,MAAMtG,UAAU1Z,KAAKggB,MAAM7K,UAAU8R,WAAW7e,OACnE,GAAI0H,EAAQ+T,EAAO3gB,QAAQyD,UAAW,CACpC,IAAImB,EAAO9H,KAAKsU,UAAUi6B,UAC1BvuC,KAAKsU,UAAUE,UAAY,GAC3B,OAAO,IAAIhG,EAAatL,SAAU2E,OAAOC,EAAM4L,EAAgB,GAAImQ,EAAO3gB,QAAQyD,SAAUmJ,EAAQ+T,EAAO3gB,QAAQyD,W,CAGrH,IAAI6nC,EAAmBxuC,KAAKyuC,kBACxBC,EAAoBr8B,EAAem8B,EAAkB,GACrDG,EAAkBD,EAAkB,GACpCE,EAAeF,EAAkB,GAErC,IAAIpkC,EAAQukC,EAAS7uC,KAAKsU,UAAWq6B,EAAiBC,GAEtD,GAAIE,EAAcxkC,EAAO,OAASA,EAAM1C,IAAI0C,EAAM1C,IAAIpB,OAAS,GAAG5B,YAAc,KAAM,CACpF0F,EAAQA,EAAMT,SAAQ,IAAI2E,EAAatL,SAAUiF,OAAOmC,EAAM9D,SAAW,GAAG0B,OAAO,G,CAErFyL,EAAM0L,IAAI,UAAWrf,KAAKsU,UAAUE,UAAWlK,GAC/CtK,KAAKsU,UAAUE,UAAY,GAC3B,OAAOlK,C,GAER,CACDmC,IAAK,uBACL5K,MAAO,SAASsZ,EAAqB/S,EAAOmM,GAC1C,IAAI2B,EAAS3P,UAAUC,OAAS,GAAKD,UAAU,KAAO+G,UAAY/G,UAAU,GAAKwqB,EAAQ7tB,QAAQ4U,QAAQC,IAEzG,UAAW3P,IAAU,SAAU,CAC7BpI,KAAKggB,MAAMtJ,YAAY1W,KAAKyW,QAAQrO,GAAQmM,GAC5CvU,KAAKggB,MAAM5H,aAAa,EAAG2Y,EAAQ7tB,QAAQ4U,QAAQO,OAC3D,KAAa,CACL,IAAI02B,EAAQ/uC,KAAKyW,QAAQlC,GACzBvU,KAAKggB,MAAM9D,gBAAe,IAAI1N,EAAatL,SAAUiF,OAAOC,GAAOwC,OAAOmkC,GAAQ74B,GAClFlW,KAAKggB,MAAM5H,aAAahQ,EAAQ2mC,EAAMvoC,SAAUuqB,EAAQ7tB,QAAQ4U,QAAQO,O,IAG3E,CACD5L,IAAK,UACL5K,MAAO,SAASosC,EAAQvsB,GACtB,IAAI/Q,EAAS3Q,KAEb,GAAI0hB,EAAE+Q,mBAAqBzyB,KAAKggB,MAAMlF,YAAa,OACnD,IAAI1E,EAAQpW,KAAKggB,MAAMhI,eACvB,IAAI1N,GAAQ,IAAIkE,EAAatL,SAAUiF,OAAOiO,EAAMhO,OACpD,IAAIuP,EAAY3X,KAAKggB,MAAMlL,mBAAmB6C,UAC9C3X,KAAKsU,UAAUoD,QACf1X,KAAKggB,MAAM7K,UAAUoB,OAAOwa,EAAQ7tB,QAAQ4U,QAAQO,QACpD+O,YAAW,WACT9c,EAAQA,EAAMM,OAAO+F,EAAO8F,WAAWvO,OAAOkO,EAAM5P,QACpDmK,EAAOqP,MAAM9D,eAAe5R,EAAOymB,EAAQ7tB,QAAQ4U,QAAQmE,MAE3DtL,EAAOqP,MAAM5H,aAAa9N,EAAM9D,SAAW4P,EAAM5P,OAAQuqB,EAAQ7tB,QAAQ4U,QAAQO,QACjF1H,EAAOqP,MAAMlL,mBAAmB6C,UAAYA,EAC5ChH,EAAOqP,MAAMtI,O,GACZ,E,GAEJ,CACDjL,IAAK,kBACL5K,MAAO,SAAS4sC,IACd,IAAIp3B,EAASrX,KAEb,IAAI2uC,EAAkB,GAClBC,EAAe,GACnB5uC,KAAKkuC,SAAShnC,SAAQ,SAAU8nC,GAC9B,IAAIC,EAAQ58B,EAAe28B,EAAM,GAC7Bb,EAAWc,EAAM,GACjBb,EAAUa,EAAM,GAEpB,OAAQd,GACN,KAAK9oC,KAAKC,UACRspC,EAAa3mC,KAAKmmC,GAClB,MACF,KAAK/oC,KAAKooC,aACRkB,EAAgB1mC,KAAKmmC,GACrB,MACF,QACE,GAAGlnC,QAAQ3G,KAAK8W,EAAO/C,UAAUyK,iBAAiBovB,IAAW,SAAU/oC,GAErEA,EAAKkoC,GAAWloC,EAAKkoC,IAAY,GACjCloC,EAAKkoC,GAASrlC,KAAKmmC,EACjC,IACY,MAEZ,IACM,MAAO,CAACO,EAAiBC,E,KAI7B,OAAOZ,CACT,CA5HgB,CA4Hd76B,EAASjQ,SAEX8qC,EAAU5xB,SAAW,CACnB8xB,SAAU,GACVG,YAAa,MAGf,SAASa,EAAY5kC,EAAO0F,EAAQnO,GAClC,WAAYmO,IAAW,YAAc,YAAcmC,EAAQnC,MAAa,SAAU,CAChF,OAAOlP,OAAOkH,KAAKgI,GAAQhH,QAAO,SAAUsB,EAAOmC,GACjD,OAAOyiC,EAAY5kC,EAAOmC,EAAKuD,EAAOvD,G,GACrCnC,EACP,KAAS,CACL,OAAOA,EAAMtB,QAAO,SAAUsB,EAAO/C,GACnC,GAAIA,EAAG3C,YAAc2C,EAAG3C,WAAWoL,GAAS,CAC1C,OAAO1F,EAAMrC,KAAKV,EAC1B,KAAa,CACL,OAAO+C,EAAMzC,OAAON,EAAGM,QAAQ,EAAImlC,EAAS9pC,SAAS,GAAIwQ,EAAgB,GAAI1D,EAAQnO,GAAQ0F,EAAG3C,Y,CAExG,GAAO,IAAI4J,EAAatL,Q,EAIxB,SAASisC,EAAa/pC,GACpB,GAAIA,EAAKgqC,WAAa/pC,KAAKooC,aAAc,MAAO,GAChD,IAAIH,EAAU,sBACd,OAAOloC,EAAKkoC,KAAaloC,EAAKkoC,GAAW+B,OAAOC,iBAAiBlqC,G,CAGnE,SAAS0pC,EAAcxkC,EAAOxC,GAC5B,IAAIynC,EAAU,GACd,IAAK,IAAIlvC,EAAIiK,EAAM1C,IAAIpB,OAAS,EAAGnG,GAAK,GAAKkvC,EAAQ/oC,OAASsB,EAAKtB,SAAUnG,EAAG,CAC9E,IAAIkH,EAAK+C,EAAM1C,IAAIvH,GACnB,UAAWkH,EAAGM,SAAW,SAAU,MACnC0nC,EAAUhoC,EAAGM,OAAS0nC,C,CAExB,OAAOA,EAAQnmC,OAAM,EAAKtB,EAAKtB,UAAYsB,C,CAG7C,SAASqoB,EAAO/qB,GACd,GAAIA,EAAK2kB,WAAWvjB,SAAW,EAAG,OAAO,MACzC,IAAIgyB,EAAQ2W,EAAa/pC,GACzB,MAAO,CAAC,QAAS,aAAaqG,QAAQ+sB,EAAMC,UAAW,C,CAGzD,SAASoW,EAASzpC,EAAMupC,EAAiBC,GAEvC,GAAIxpC,EAAKgqC,WAAahqC,EAAKE,UAAW,CACpC,OAAOspC,EAAa5lC,QAAO,SAAUsB,EAAO8jC,GAC1C,OAAOA,EAAQhpC,EAAMkF,EAC3B,GAAO,IAAIkE,EAAatL,Q,MACf,GAAIkC,EAAKgqC,WAAahqC,EAAKqoC,aAAc,CAC9C,MAAO,GAAGzkC,OAAOzI,KAAK6E,EAAK2kB,YAAc,IAAI,SAAUzf,EAAOkxB,GAC5D,IAAIgU,EAAgBX,EAASrT,EAAWmT,EAAiBC,GACzD,GAAIpT,EAAU4T,WAAahqC,EAAKqoC,aAAc,CAC5C+B,EAAgBb,EAAgB3lC,QAAO,SAAUwmC,EAAepB,GAC9D,OAAOA,EAAQ5S,EAAWgU,E,GACzBA,GACHA,GAAiBhU,EAAU8R,IAAY,IAAItkC,QAAO,SAAUwmC,EAAepB,GACzE,OAAOA,EAAQ5S,EAAWgU,E,GACzBA,E,CAEL,OAAOllC,EAAMM,OAAO4kC,EAC1B,GAAO,IAAIhhC,EAAatL,QACxB,KAAS,CACL,OAAO,IAAIsL,EAAatL,O,EAI5B,SAAS0qC,EAAW59B,EAAQ5K,EAAMkF,GAChC,OAAO4kC,EAAY5kC,EAAO0F,EAAQ,K,CAGpC,SAAS+8B,EAAgB3nC,EAAMkF,GAC7B,IAAI1F,EAAa8J,EAAYxL,QAAQQ,WAAWC,UAAUqE,KAAK5C,GAC/D,IAAIP,EAAU6J,EAAYxL,QAAQQ,WAAWE,MAAMoE,KAAK5C,GACxD,IAAIu1B,EAASjsB,EAAYxL,QAAQQ,WAAWG,MAAMmE,KAAK5C,GACvD,IAAI0K,EAAU,GACdlL,EAAWgG,OAAO/F,GAAS+F,OAAO+vB,GAAQzzB,SAAQ,SAAUvG,GAC1D,IAAIi6B,EAAOlsB,EAAYxL,QAAQH,MAAMpC,EAAM+N,EAAYxL,QAAQN,MAAMif,WACrE,GAAI+Y,GAAQ,KAAM,CAChB9qB,EAAQ8qB,EAAKh0B,UAAYg0B,EAAK/4B,MAAMuD,GACpC,GAAI0K,EAAQ8qB,EAAKh0B,UAAW,M,CAE9Bg0B,EAAOkT,EAAsBntC,GAC7B,GAAIi6B,GAAQ,OAASA,EAAKh0B,WAAajG,GAAQi6B,EAAK/zB,UAAYlG,GAAO,CACrEmP,EAAQ8qB,EAAKh0B,UAAYg0B,EAAK/4B,MAAMuD,IAASkI,S,CAE/CstB,EAAOmT,EAAkBptC,GACzB,GAAIi6B,GAAQ,OAASA,EAAKh0B,WAAajG,GAAQi6B,EAAK/zB,UAAYlG,GAAO,CACrEi6B,EAAOmT,EAAkBptC,GACzBmP,EAAQ8qB,EAAKh0B,UAAYg0B,EAAK/4B,MAAMuD,IAASkI,S,CAEnD,IACE,GAAIxM,OAAOkH,KAAK8H,GAAStJ,OAAS,EAAG,CACnC8D,EAAQ4kC,EAAY5kC,EAAOwF,E,CAE7B,OAAOxF,C,CAGT,SAASwiC,EAAU1nC,EAAMkF,GACvB,IAAIpF,EAAQwJ,EAAYxL,QAAQH,MAAMqC,GACtC,GAAIF,GAAS,KAAM,OAAOoF,EAC1B,GAAIpF,EAAMzD,qBAAqBiN,EAAYxL,QAAQG,MAAO,CACxD,IAAImX,EAAQ,GACZ,IAAI3Y,EAAQqD,EAAMrD,MAAMuD,GACxB,GAAIvD,GAAS,KAAM,CACjB2Y,EAAMtV,EAAMyB,UAAY9E,EACxByI,GAAQ,IAAIkE,EAAatL,SAAU2E,OAAO2S,EAAOtV,EAAM4K,QAAQ1K,G,OAE5D,UAAWF,EAAM4K,UAAY,WAAY,CAC9CxF,EAAQ4kC,EAAY5kC,EAAOpF,EAAMyB,SAAUzB,EAAM4K,QAAQ1K,G,CAE3D,OAAOkF,C,CAGT,SAASkjC,EAAWpoC,EAAMkF,GACxB,IAAKwkC,EAAcxkC,EAAO,MAAO,CAC/BA,EAAMzC,OAAO,K,CAEf,OAAOyC,C,CAGT,SAASujC,IACP,OAAO,IAAIr/B,EAAatL,O,CAG1B,SAASyqC,EAAYvoC,EAAMkF,GACzB,IAAIpF,EAAQwJ,EAAYxL,QAAQH,MAAMqC,GACtC,GAAIF,GAAS,MAAQA,EAAMyB,WAAa,cAAgBmoC,EAAcxkC,EAAO,MAAO,CAClF,OAAOA,C,CAET,IAAI6pB,GAAS,EACTjmB,EAAS9I,EAAKK,WAClB,OAAQyI,EAAOwG,UAAUqG,SAAS,gBAAiB,CACjD,IAAKrM,EAAYxL,QAAQH,MAAMmL,IAAW,IAAIvH,WAAa,OAAQ,CACjEwtB,GAAU,C,CAEZjmB,EAASA,EAAOzI,U,CAElB,GAAI0uB,GAAU,EAAG,OAAO7pB,EACxB,OAAOA,EAAMT,SAAQ,IAAI2E,EAAatL,SAAUiF,OAAOmC,EAAM9D,SAAW,GAAG2B,OAAO,EAAG,CAAEgsB,OAAQA,I,CAGjG,SAAS0Y,EAAaznC,EAAMkF,GAC1B,IAAKwkC,EAAcxkC,EAAO,MAAO,CAC/B,GAAI6lB,EAAO/qB,IAASkF,EAAM9D,SAAW,GAAKpB,EAAKknB,aAAe6D,EAAO/qB,EAAKknB,aAAc,CACtFhiB,EAAMzC,OAAO,K,EAGjB,OAAOyC,C,CAGT,SAASsiC,EAAaxnC,EAAMkF,GAC1B,GAAI6lB,EAAO/qB,IAASA,EAAKqqC,oBAAsB,OAASX,EAAcxkC,EAAO,QAAS,CACpF,IAAIolC,EAAatqC,EAAKuqC,aAAeC,WAAWT,EAAa/pC,GAAMyqC,WAAaD,WAAWT,EAAa/pC,GAAM0qC,cAC9G,GAAI1qC,EAAKqqC,mBAAmBM,UAAY3qC,EAAK2qC,UAAYL,EAAa,IAAK,CACzEplC,EAAMzC,OAAO,K,EAGjB,OAAOyC,C,CAGT,SAASojC,EAAYtoC,EAAMkF,GACzB,IAAIwF,EAAU,GACd,IAAI0oB,EAAQpzB,EAAKozB,OAAS,GAC1B,GAAIA,EAAMwX,WAAab,EAAa/pC,GAAM4qC,YAAc,SAAU,CAChElgC,EAAQmkB,OAAS,I,CAEnB,GAAIuE,EAAMyX,aAAed,EAAa/pC,GAAM6qC,WAAW57B,WAAW,SAAW8iB,SAASgY,EAAa/pC,GAAM6qC,aAAe,KAAM,CAC5HngC,EAAQikB,KAAO,I,CAEjB,GAAIjzB,OAAOkH,KAAK8H,GAAStJ,OAAS,EAAG,CACnC8D,EAAQ4kC,EAAY5kC,EAAOwF,E,CAE7B,GAAI8/B,WAAWpX,EAAM0X,YAAc,GAAK,EAAG,CAEzC5lC,GAAQ,IAAIkE,EAAatL,SAAU2E,OAAO,MAAM+C,OAAON,E,CAEzD,OAAOA,C,CAGT,SAASqiC,EAAUvnC,EAAMkF,GACvB,IAAIxC,EAAO1C,EAAK0gB,KAEhB,GAAI1gB,EAAKK,WAAWU,UAAY,MAAO,CACrC,OAAOmE,EAAMzC,OAAOC,EAAK2M,O,CAE3B,GAAI3M,EAAK2M,OAAOjO,SAAW,GAAKpB,EAAKK,WAAWiP,UAAUqG,SAAS,gBAAiB,CAClF,OAAOzQ,C,CAET,IAAK6kC,EAAa/pC,EAAKK,YAAY0qC,WAAW97B,WAAW,OAAQ,CAE/D,IAAI+7B,EAAW,SAASA,EAASC,EAAUnrC,GACzCA,EAAQA,EAAM8c,QAAQ,aAAc,IACpC,OAAO9c,EAAMsB,OAAS,GAAK6pC,EAAW,IAAMnrC,CAClD,EACI4C,EAAOA,EAAKka,QAAQ,QAAS,KAAKA,QAAQ,MAAO,KACjDla,EAAOA,EAAKka,QAAQ,SAAUouB,EAAS5vB,KAAK4vB,EAAU,OACtD,GAAIhrC,EAAKs+B,iBAAmB,MAAQvT,EAAO/qB,EAAKK,aAAeL,EAAKs+B,iBAAmB,MAAQvT,EAAO/qB,EAAKs+B,iBAAkB,CAC3H57B,EAAOA,EAAKka,QAAQ,OAAQouB,EAAS5vB,KAAK4vB,EAAU,O,CAEtD,GAAIhrC,EAAKknB,aAAe,MAAQ6D,EAAO/qB,EAAKK,aAAeL,EAAKknB,aAAe,MAAQ6D,EAAO/qB,EAAKknB,aAAc,CAC/GxkB,EAAOA,EAAKka,QAAQ,OAAQouB,EAAS5vB,KAAK4vB,EAAU,O,EAGxD,OAAO9lC,EAAMzC,OAAOC,E,CAGtBhI,EAAQoD,QAAU8qC,EAClBluC,EAAQitC,gBAAkBA,EAC1BjtC,EAAQgtC,UAAYA,EACpBhtC,EAAQ+sC,aAAeA,EACvB/sC,EAAQ8sC,aAAeA,EACvB9sC,EAAQ6sC,UAAYA,CAEb,EAEP,SAAgB9sC,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAGT,IAAI0L,EAAe,WAAc,SAASC,EAAiBzE,EAAQ0E,GAAS,IAAK,IAAIpN,EAAI,EAAGA,EAAIoN,EAAMjH,OAAQnG,IAAK,CAAE,IAAIqN,EAAaD,EAAMpN,GAAIqN,EAAWzM,WAAayM,EAAWzM,YAAc,MAAOyM,EAAW1M,aAAe,KAAM,GAAI,UAAW0M,EAAYA,EAAWb,SAAW,KAAM/L,OAAOC,eAAegI,EAAQ2E,EAAWjB,IAAKiB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAe,GAAID,EAAYJ,EAAiBG,EAAYlM,UAAWmM,GAAa,GAAIC,EAAaL,EAAiBG,EAAaE,GAAc,OAAOF,CAAY,CAAG,CAA5hB,GAEnB,IAAIG,EAAO,SAAS5M,EAAIK,EAAQC,EAAUuM,GAAY,GAAIxM,IAAW,KAAMA,EAASyM,SAASvM,UAAW,IAAIwM,EAAOnN,OAAOqL,yBAAyB5K,EAAQC,GAAW,GAAIyM,IAASX,UAAW,CAAE,IAAIY,EAASpN,OAAOqN,eAAe5M,GAAS,GAAI2M,IAAW,KAAM,CAAE,OAAOZ,SAAU,KAAQ,CAAE,OAAOpM,EAAIgN,EAAQ1M,EAAUuM,EAAU,CAAE,MAAQ,GAAI,UAAWE,EAAM,CAAE,OAAOA,EAAKpM,KAAM,KAAQ,CAAE,IAAIjB,EAASqN,EAAK/M,IAAK,GAAIN,IAAW0M,UAAW,CAAE,OAAOA,SAAU,CAAG,OAAO1M,EAAOL,KAAKwN,EAAU,CAAE,EAExe,IAAIc,EAAU1O,EAAoB,GAElC,IAAI2O,EAAWR,EAAuBO,GAEtC,SAASP,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,SAAS2C,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,SAASC,EAA2BrP,EAAMQ,GAAQ,IAAKR,EAAM,CAAE,MAAM,IAAIsP,eAAe,4DAA6D,CAAG,OAAO9O,WAAgBA,IAAS,iBAAmBA,IAAS,YAAcA,EAAOR,CAAK,CAE9O,SAASuP,EAAUC,EAAUC,GAAc,UAAWA,IAAe,YAAcA,IAAe,KAAM,CAAE,MAAM,IAAIL,UAAU,kEAAoEK,EAAY,CAAGD,EAAS9N,UAAYX,OAAO+B,OAAO2M,GAAcA,EAAW/N,UAAW,CAAE6C,YAAa,CAAEzC,MAAO0N,EAAUtO,WAAY,MAAO4L,SAAU,KAAM7L,aAAc,QAAW,GAAIwO,EAAY1O,OAAOmD,eAAiBnD,OAAOmD,eAAesL,EAAUC,GAAcD,EAASrL,UAAYsL,CAAW,CAE5e,IAAI8gC,EAAO,SAAUjuB,GACnB/S,EAAUghC,EAAMjuB,GAEhB,SAASiuB,IACPrhC,EAAgBjP,KAAMswC,GAEtB,OAAOlhC,EAA2BpP,MAAOswC,EAAKpsC,WAAapD,OAAOqN,eAAemiC,IAAO3gC,MAAM3P,KAAMuG,W,CAGtGgH,EAAa+iC,EAAM,CAAC,CAClB7jC,IAAK,WACL5K,MAAO,SAAS2P,EAASC,GACvB3D,EAAKwiC,EAAK7uC,UAAUyC,WAAapD,OAAOqN,eAAemiC,EAAK7uC,WAAY,WAAYzB,MAAMO,KAAKP,KAAMyR,GACrG,GAAIzR,KAAK6P,QAAQ1J,UAAYnG,KAAKgS,QAAQ7L,QAAQ,GAAI,CACpDnG,KAAK0sB,YAAY1sB,KAAKgS,QAAQrL,S,KAGhC,CAAC,CACH8F,IAAK,SACL5K,MAAO,SAASgB,IACd,OAAOiL,EAAKwiC,EAAKpsC,WAAapD,OAAOqN,eAAemiC,GAAO,SAAUtwC,MAAMO,KAAKP,K,GAEjF,CACDyM,IAAK,UACL5K,MAAO,SAASiO,IACd,OAAO,I,KAIX,OAAOwgC,CACT,CA9BW,CA8BTxhC,EAAS5L,SAEXotC,EAAK3pC,SAAW,OAChB2pC,EAAKnqC,QAAU,CAAC,SAAU,KAE1BrG,EAAQoD,QAAUotC,CAEX,EAEP,SAAgBzwC,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAET/B,EAAQywC,YAAczwC,EAAQoD,QAAUoK,UAExC,IAAI+E,EAAiB,WAAc,SAASC,EAAclG,EAAK/L,GAAK,IAAIkS,EAAO,GAAI,IAAIC,EAAK,KAAM,IAAIC,EAAK,MAAO,IAAIC,EAAKpF,UAAW,IAAM,IAAK,IAAIhH,EAAK8F,EAAIgG,OAAO3I,YAAakJ,IAAMH,GAAMG,EAAKrM,EAAGsD,QAAQgJ,MAAOJ,EAAK,KAAM,CAAED,EAAKtK,KAAK0K,EAAG9Q,OAAQ,GAAIxB,GAAKkS,EAAK/L,SAAWnG,EAAG,KAAM,CAAE,CAAG,MAAOwS,GAAOJ,EAAK,KAAMC,EAAKG,CAAI,CAAE,QAAW,IAAM,IAAKL,GAAMlM,EAAG,UAAWA,EAAG,WAAY,CAAE,QAAW,GAAImM,EAAI,MAAMC,CAAG,CAAE,CAAG,OAAOH,CAAK,CAAG,OAAO,SAAUnG,EAAK/L,GAAK,GAAI8D,MAAM4C,QAAQqF,GAAM,CAAE,OAAOA,CAAI,MAAQ,GAAIgG,OAAO3I,YAAY3I,OAAOsL,GAAM,CAAE,OAAOkG,EAAclG,EAAK/L,EAAG,KAAQ,CAAE,MAAM,IAAI8O,UAAU,uDAAwD,CAAE,CAAG,CAA9nB,GAErB,IAAI5B,EAAe,WAAc,SAASC,EAAiBzE,EAAQ0E,GAAS,IAAK,IAAIpN,EAAI,EAAGA,EAAIoN,EAAMjH,OAAQnG,IAAK,CAAE,IAAIqN,EAAaD,EAAMpN,GAAIqN,EAAWzM,WAAayM,EAAWzM,YAAc,MAAOyM,EAAW1M,aAAe,KAAM,GAAI,UAAW0M,EAAYA,EAAWb,SAAW,KAAM/L,OAAOC,eAAegI,EAAQ2E,EAAWjB,IAAKiB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAe,GAAID,EAAYJ,EAAiBG,EAAYlM,UAAWmM,GAAa,GAAIC,EAAaL,EAAiBG,EAAaE,GAAc,OAAOF,CAAY,CAAG,CAA5hB,GAEnB,IAAIY,EAAcpO,EAAoB,GAEtC,IAAIqO,EAAeF,EAAuBC,GAE1C,IAAIE,EAAatO,EAAoB,GAErC,IAAIuO,EAAcJ,EAAuBG,GAEzC,IAAIqiB,EAAS3wB,EAAoB,GAEjC,IAAI4wB,EAAUziB,EAAuBwiB,GAErC,IAAIxd,EAAUnT,EAAoB,IAElC,IAAIoT,EAAWjF,EAAuBgF,GAEtC,IAAIJ,EAAU/S,EAAoB,GAElC,IAAIgT,EAAW7E,EAAuB4E,GAEtC,SAAS5E,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,SAASoH,EAAgBpH,EAAKG,EAAK5K,GAAS,GAAI4K,KAAOH,EAAK,CAAExL,OAAOC,eAAeuL,EAAKG,EAAK,CAAE5K,MAAOA,EAAOZ,WAAY,KAAMD,aAAc,KAAM6L,SAAU,MAAQ,KAAQ,CAAEP,EAAIG,GAAO5K,CAAM,CAAG,OAAOyK,CAAI,CAE/M,SAAS2C,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,SAASC,EAA2BrP,EAAMQ,GAAQ,IAAKR,EAAM,CAAE,MAAM,IAAIsP,eAAe,4DAA6D,CAAG,OAAO9O,WAAgBA,IAAS,iBAAmBA,IAAS,YAAcA,EAAOR,CAAK,CAE9O,SAASuP,EAAUC,EAAUC,GAAc,UAAWA,IAAe,YAAcA,IAAe,KAAM,CAAE,MAAM,IAAIL,UAAU,kEAAoEK,EAAY,CAAGD,EAAS9N,UAAYX,OAAO+B,OAAO2M,GAAcA,EAAW/N,UAAW,CAAE6C,YAAa,CAAEzC,MAAO0N,EAAUtO,WAAY,MAAO4L,SAAU,KAAM7L,aAAc,QAAW,GAAIwO,EAAY1O,OAAOmD,eAAiBnD,OAAOmD,eAAesL,EAAUC,GAAcD,EAASrL,UAAYsL,CAAW,CAE5e,IAAImE,GAAQ,EAAIJ,EAASrQ,SAAS,iBAElC,IAAIstC,EAAU,SAAUpf,GACtB9hB,EAAUkhC,EAASpf,GAEnB,SAASof,EAAQxwB,EAAOrT,GACtBsC,EAAgBjP,KAAMwwC,GAEtB,IAAI9rC,EAAQ0K,EAA2BpP,MAAOwwC,EAAQtsC,WAAapD,OAAOqN,eAAeqiC,IAAUjwC,KAAKP,KAAMggB,EAAOrT,IAErH,GAAIxI,MAAM4C,QAAQrC,EAAMiI,QAAQ2H,WAAY,CAC1C,IAAIA,EAAY0C,SAASC,cAAc,OACvCs5B,EAAYj8B,EAAW5P,EAAMiI,QAAQ2H,WACrC0L,EAAM1L,UAAU7O,WAAW+K,aAAa8D,EAAW0L,EAAM1L,WACzD5P,EAAM4P,UAAYA,C,MACb,UAAW5P,EAAMiI,QAAQ2H,YAAc,SAAU,CACtD5P,EAAM4P,UAAY0C,SAASgG,cAActY,EAAMiI,QAAQ2H,UAC7D,KAAW,CACL5P,EAAM4P,UAAY5P,EAAMiI,QAAQ2H,S,CAElC,KAAM5P,EAAM4P,qBAAqBvO,aAAc,CAC7C,IAAI0qC,EAEJ,OAAOA,EAAO98B,EAAMO,MAAM,iCAAkCxP,EAAMiI,SAAUyC,EAA2B1K,EAAO+rC,E,CAEhH/rC,EAAM4P,UAAUI,UAAUC,IAAI,cAC9BjQ,EAAMgsC,SAAW,GACjBhsC,EAAMu8B,SAAW,GACjBngC,OAAOkH,KAAKtD,EAAMiI,QAAQs0B,UAAU/5B,SAAQ,SAAU8I,GACpDtL,EAAMisC,WAAW3gC,EAAQtL,EAAMiI,QAAQs0B,SAASjxB,GACtD,IACI,GAAG9I,QAAQ3G,KAAKmE,EAAM4P,UAAUyK,iBAAiB,mBAAmB,SAAU9Z,GAC5EP,EAAMkL,OAAO3K,EACnB,IACIP,EAAMsb,MAAMtK,GAAGqb,EAAQ7tB,QAAQyS,OAAOC,eAAe,SAAUC,EAAMO,GACnE,GAAIP,IAASkb,EAAQ7tB,QAAQyS,OAAOmK,iBAAkB,CACpDpb,EAAM6R,OAAOH,E,CAErB,IACI1R,EAAMsb,MAAMtK,GAAGqb,EAAQ7tB,QAAQyS,OAAOkK,iBAAiB,WACrD,IAAI+wB,EAAwBlsC,EAAMsb,MAAM7K,UAAU+E,WAC9C22B,EAAyBx+B,EAAeu+B,EAAuB,GAC/Dx6B,EAAQy6B,EAAuB,GAGnCnsC,EAAM6R,OAAOH,EACnB,IACI,OAAO1R,C,CAGT6I,EAAaijC,EAAS,CAAC,CACrB/jC,IAAK,aACL5K,MAAO,SAAS8uC,EAAW3gC,EAAQ0P,GACjC1f,KAAKihC,SAASjxB,GAAU0P,C,GAEzB,CACDjT,IAAK,SACL5K,MAAO,SAAS+N,EAAO3K,GACrB,IAAI0L,EAAS3Q,KAEb,IAAIgQ,EAAS,GAAGlN,KAAKvC,KAAK0E,EAAMyP,WAAW,SAAU5N,GACnD,OAAOA,EAAU2E,QAAQ,SAAW,CAC5C,IACM,IAAKuE,EAAQ,OACbA,EAASA,EAAO5G,MAAM,MAAM5C,QAC5B,GAAIvB,EAAMkB,UAAY,SAAU,CAC9BlB,EAAM4P,aAAa,OAAQ,S,CAE7B,GAAI7U,KAAKihC,SAASjxB,IAAW,KAAM,CACjC,GAAIhQ,KAAKggB,MAAMhL,OAAOC,WAAa,MAAQjV,KAAKggB,MAAMhL,OAAOC,UAAUjF,IAAW,KAAM,CACtF2D,EAAMS,KAAK,wCAAyCpE,EAAQ/K,GAC5D,M,CAEF,GAAIyJ,EAAYxL,QAAQH,MAAMiN,IAAW,KAAM,CAC7C2D,EAAMS,KAAK,2CAA4CpE,EAAQ/K,GAC/D,M,EAGJ,IAAI0Z,EAAY1Z,EAAMkB,UAAY,SAAW,SAAW,QACxDlB,EAAM2Z,iBAAiBD,GAAW,SAAU+C,GAC1C,IAAI7f,OAAQ,EACZ,GAAIoD,EAAMkB,UAAY,SAAU,CAC9B,GAAIlB,EAAMu0B,cAAgB,EAAG,OAC7B,IAAIH,EAAWp0B,EAAM0H,QAAQ1H,EAAMu0B,eACnC,GAAIH,EAASL,aAAa,YAAa,CACrCn3B,EAAQ,KACpB,KAAiB,CACLA,EAAQw3B,EAASx3B,OAAS,K,CAEtC,KAAe,CACL,GAAIoD,EAAMyP,UAAUqG,SAAS,aAAc,CACzClZ,EAAQ,KACpB,KAAiB,CACLA,EAAQoD,EAAMpD,QAAUoD,EAAM+zB,aAAa,Q,CAE7CtX,EAAE+R,gB,CAEJ9iB,EAAOqP,MAAMtI,QAEb,IAAIo5B,EAAwBngC,EAAOqP,MAAM7K,UAAU+E,WAC/C62B,EAAyB1+B,EAAey+B,EAAuB,GAC/D16B,EAAQ26B,EAAuB,GAEnC,GAAIpgC,EAAOswB,SAASjxB,IAAW,KAAM,CACnCW,EAAOswB,SAASjxB,GAAQzP,KAAKoQ,EAAQ9O,EAC/C,MAAe,GAAI6M,EAAYxL,QAAQH,MAAMiN,GAAQvO,qBAAqBiN,EAAYxL,QAAQG,MAAO,CAC3FxB,EAAQmvC,OAAO,SAAWhhC,GAC1B,IAAKnO,EAAO,OACZ8O,EAAOqP,MAAM9D,gBAAe,IAAI1N,EAAatL,SAAUiF,OAAOiO,EAAMhO,OAAOF,OAAOkO,EAAM5P,QAAQqB,OAAO6L,EAAgB,GAAI1D,EAAQnO,IAASkvB,EAAQ7tB,QAAQ4U,QAAQmE,KAC9K,KAAe,CACLtL,EAAOqP,MAAMhQ,OAAOA,EAAQnO,EAAOkvB,EAAQ7tB,QAAQ4U,QAAQmE,K,CAE7DtL,EAAO4F,OAAOH,EACtB,IAEMpW,KAAK0wC,SAASzoC,KAAK,CAAC+H,EAAQ/K,G,GAE7B,CACDwH,IAAK,SACL5K,MAAO,SAAS0U,EAAOH,GACrB,IAAItG,EAAUsG,GAAS,KAAO,GAAKpW,KAAKggB,MAAMtG,UAAUtD,GACxDpW,KAAK0wC,SAASxpC,SAAQ,SAAU8nC,GAC9B,IAAIC,EAAQ58B,EAAe28B,EAAM,GAC7Bh/B,EAASi/B,EAAM,GACfhqC,EAAQgqC,EAAM,GAElB,GAAIhqC,EAAMkB,UAAY,SAAU,CAC9B,IAAI2yB,OAAS,EACb,GAAI1iB,GAAS,KAAM,CACjB0iB,EAAS,I,MACJ,GAAIhpB,EAAQE,IAAW,KAAM,CAClC8oB,EAAS7zB,EAAM+X,cAAc,mBACzC,MAAiB,IAAK7Y,MAAM4C,QAAQ+I,EAAQE,IAAU,CAC1C,IAAInO,EAAQiO,EAAQE,GACpB,UAAWnO,IAAU,SAAU,CAC7BA,EAAQA,EAAMmgB,QAAQ,MAAO,M,CAE/B8W,EAAS7zB,EAAM+X,cAAc,iBAAmBnb,EAAQ,K,CAE1D,GAAIi3B,GAAU,KAAM,CAClB7zB,EAAMpD,MAAQ,GACdoD,EAAMu0B,eAAgB,CAClC,KAAiB,CACLV,EAAOO,SAAW,I,CAE9B,KAAe,CACL,GAAIjjB,GAAS,KAAM,CACjBnR,EAAMyP,UAAUpD,OAAO,Y,MAClB,GAAIrM,EAAM+zB,aAAa,SAAU,CAGtC,IAAIa,EAAW/pB,EAAQE,KAAY/K,EAAMgB,aAAa,UAAY6J,EAAQE,IAAW,MAAQF,EAAQE,GAAQ/D,aAAehH,EAAMgB,aAAa,UAAY6J,EAAQE,IAAW,OAAS/K,EAAMgB,aAAa,SAC1MhB,EAAMyP,UAAUqB,OAAO,YAAa8jB,EAChD,KAAiB,CACL50B,EAAMyP,UAAUqB,OAAO,YAAajG,EAAQE,IAAW,K,EAGnE,G,KAIE,OAAOwgC,CACT,CAhKc,CAgKZr9B,EAASjQ,SAEXstC,EAAQp0B,SAAW,GAEnB,SAAS60B,EAAU38B,EAAWtE,EAAQnO,GACpC,IAAIoD,EAAQ+R,SAASC,cAAc,UACnChS,EAAM4P,aAAa,OAAQ,UAC3B5P,EAAMyP,UAAUC,IAAI,MAAQ3E,GAC5B,GAAInO,GAAS,KAAM,CACjBoD,EAAMpD,MAAQA,C,CAEhByS,EAAUgP,YAAYre,E,CAGxB,SAASsrC,EAAYj8B,EAAW48B,GAC9B,IAAK/sC,MAAM4C,QAAQmqC,EAAO,IAAK,CAC7BA,EAAS,CAACA,E,CAEZA,EAAOhqC,SAAQ,SAAUwpC,GACvB,IAAIS,EAAQn6B,SAASC,cAAc,QACnCk6B,EAAMz8B,UAAUC,IAAI,cACpB+7B,EAASxpC,SAAQ,SAAUkqC,GACzB,UAAWA,IAAY,SAAU,CAC/BH,EAAUE,EAAOC,EACzB,KAAa,CACL,IAAIphC,EAASlP,OAAOkH,KAAKopC,GAAS,GAClC,IAAIvvC,EAAQuvC,EAAQphC,GACpB,GAAI7L,MAAM4C,QAAQlF,GAAQ,CACxBwvC,EAAUF,EAAOnhC,EAAQnO,EACnC,KAAe,CACLovC,EAAUE,EAAOnhC,EAAQnO,E,EAGnC,IACIyS,EAAUgP,YAAY6tB,EAC1B,G,CAGA,SAASE,EAAU/8B,EAAWtE,EAAQD,GACpC,IAAI9K,EAAQ+R,SAASC,cAAc,UACnChS,EAAMyP,UAAUC,IAAI,MAAQ3E,GAC5BD,EAAO7I,SAAQ,SAAUrF,GACvB,IAAIi3B,EAAS9hB,SAASC,cAAc,UACpC,GAAIpV,IAAU,MAAO,CACnBi3B,EAAOjkB,aAAa,QAAShT,EACnC,KAAW,CACLi3B,EAAOjkB,aAAa,WAAY,W,CAElC5P,EAAMqe,YAAYwV,EACtB,IACExkB,EAAUgP,YAAYre,E,CAGxBurC,EAAQp0B,SAAW,CACjB9H,UAAW,KACX2sB,SAAU,CACRlE,MAAO,SAASA,IACd,IAAI1lB,EAASrX,KAEb,IAAIoW,EAAQpW,KAAKggB,MAAMhI,eACvB,GAAI5B,GAAS,KAAM,OACnB,GAAIA,EAAM5P,QAAU,EAAG,CACrB,IAAIsJ,EAAU9P,KAAKggB,MAAMtG,YACzB5Y,OAAOkH,KAAK8H,GAAS5I,SAAQ,SAAUvG,GAErC,GAAI+N,EAAYxL,QAAQH,MAAMpC,EAAM+N,EAAYxL,QAAQN,MAAMkD,SAAW,KAAM,CAC7EuR,EAAO2I,MAAMhQ,OAAOrP,EAAM,M,CAEtC,GACA,KAAa,CACLX,KAAKggB,MAAM5E,aAAahF,EAAO2a,EAAQ7tB,QAAQ4U,QAAQmE,K,GAG3DihB,UAAW,SAASA,EAAUr7B,GAC5B,IAAI66B,EAAQ18B,KAAKggB,MAAMtG,YAAY,SACnC,GAAI7X,IAAU,OAAS66B,GAAS,KAAM,CACpC18B,KAAKggB,MAAMhQ,OAAO,QAAS,QAAS+gB,EAAQ7tB,QAAQ4U,QAAQmE,K,MACvD,IAAKpa,GAAS66B,IAAU,QAAS,CACtC18B,KAAKggB,MAAMhQ,OAAO,QAAS,MAAO+gB,EAAQ7tB,QAAQ4U,QAAQmE,K,CAE5Djc,KAAKggB,MAAMhQ,OAAO,YAAanO,EAAOkvB,EAAQ7tB,QAAQ4U,QAAQmE,K,EAEhEkY,OAAQ,SAASA,EAAOtyB,GACtB,IAAIuU,EAAQpW,KAAKggB,MAAMhI,eACvB,IAAIlI,EAAU9P,KAAKggB,MAAMtG,UAAUtD,GACnC,IAAI+d,EAASgD,SAASrnB,EAAQqkB,QAAU,GACxC,GAAItyB,IAAU,MAAQA,IAAU,KAAM,CACpC,IAAIob,EAAWpb,IAAU,KAAO,GAAI,EACpC,GAAIiO,EAAQotB,YAAc,MAAOjgB,IAAY,EAC7Cjd,KAAKggB,MAAMhQ,OAAO,SAAUmkB,EAASlX,EAAU8T,EAAQ7tB,QAAQ4U,QAAQmE,K,GAG3EshB,KAAM,SAASA,EAAK17B,GAClB,GAAIA,IAAU,KAAM,CAClBA,EAAQmvC,OAAO,kB,CAEjBhxC,KAAKggB,MAAMhQ,OAAO,OAAQnO,EAAOkvB,EAAQ7tB,QAAQ4U,QAAQmE,K,EAE3DuK,KAAM,SAASA,EAAK3kB,GAClB,IAAIuU,EAAQpW,KAAKggB,MAAMhI,eACvB,IAAIlI,EAAU9P,KAAKggB,MAAMtG,UAAUtD,GACnC,GAAIvU,IAAU,QAAS,CACrB,GAAIiO,EAAQ,UAAY,WAAaA,EAAQ,UAAY,YAAa,CACpE9P,KAAKggB,MAAMhQ,OAAO,OAAQ,MAAO+gB,EAAQ7tB,QAAQ4U,QAAQmE,KACnE,KAAe,CACLjc,KAAKggB,MAAMhQ,OAAO,OAAQ,YAAa+gB,EAAQ7tB,QAAQ4U,QAAQmE,K,CAEzE,KAAa,CACLjc,KAAKggB,MAAMhQ,OAAO,OAAQnO,EAAOkvB,EAAQ7tB,QAAQ4U,QAAQmE,K,KAMjEnc,EAAQoD,QAAUstC,EAClB1wC,EAAQywC,YAAcA,CAEf,EAEP,SAAgB1wC,EAAQC,GAExBD,EAAOC,QAAU,qOAEV,EAEP,SAAgBD,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAGT,IAAI0L,EAAe,WAAc,SAASC,EAAiBzE,EAAQ0E,GAAS,IAAK,IAAIpN,EAAI,EAAGA,EAAIoN,EAAMjH,OAAQnG,IAAK,CAAE,IAAIqN,EAAaD,EAAMpN,GAAIqN,EAAWzM,WAAayM,EAAWzM,YAAc,MAAOyM,EAAW1M,aAAe,KAAM,GAAI,UAAW0M,EAAYA,EAAWb,SAAW,KAAM/L,OAAOC,eAAegI,EAAQ2E,EAAWjB,IAAKiB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAe,GAAID,EAAYJ,EAAiBG,EAAYlM,UAAWmM,GAAa,GAAIC,EAAaL,EAAiBG,EAAaE,GAAc,OAAOF,CAAY,CAAG,CAA5hB,GAEnB,IAAIG,EAAO,SAAS5M,EAAIK,EAAQC,EAAUuM,GAAY,GAAIxM,IAAW,KAAMA,EAASyM,SAASvM,UAAW,IAAIwM,EAAOnN,OAAOqL,yBAAyB5K,EAAQC,GAAW,GAAIyM,IAASX,UAAW,CAAE,IAAIY,EAASpN,OAAOqN,eAAe5M,GAAS,GAAI2M,IAAW,KAAM,CAAE,OAAOZ,SAAU,KAAQ,CAAE,OAAOpM,EAAIgN,EAAQ1M,EAAUuM,EAAU,CAAE,MAAQ,GAAI,UAAWE,EAAM,CAAE,OAAOA,EAAKpM,KAAM,KAAQ,CAAE,IAAIjB,EAASqN,EAAK/M,IAAK,GAAIN,IAAW0M,UAAW,CAAE,OAAOA,SAAU,CAAG,OAAO1M,EAAOL,KAAKwN,EAAU,CAAE,EAExe,IAAIwxB,EAAUp/B,EAAoB,IAElC,IAAIq/B,EAAWlxB,EAAuBixB,GAEtC,SAASjxB,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,SAAS2C,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,SAASC,EAA2BrP,EAAMQ,GAAQ,IAAKR,EAAM,CAAE,MAAM,IAAIsP,eAAe,4DAA6D,CAAG,OAAO9O,WAAgBA,IAAS,iBAAmBA,IAAS,YAAcA,EAAOR,CAAK,CAE9O,SAASuP,EAAUC,EAAUC,GAAc,UAAWA,IAAe,YAAcA,IAAe,KAAM,CAAE,MAAM,IAAIL,UAAU,kEAAoEK,EAAY,CAAGD,EAAS9N,UAAYX,OAAO+B,OAAO2M,GAAcA,EAAW/N,UAAW,CAAE6C,YAAa,CAAEzC,MAAO0N,EAAUtO,WAAY,MAAO4L,SAAU,KAAM7L,aAAc,QAAW,GAAIwO,EAAY1O,OAAOmD,eAAiBnD,OAAOmD,eAAesL,EAAUC,GAAcD,EAASrL,UAAYsL,CAAW,CAE5e,IAAI8hC,EAAc,SAAUC,GAC1BjiC,EAAUgiC,EAAaC,GAEvB,SAASD,EAAYhZ,EAAQI,GAC3BzpB,EAAgBjP,KAAMsxC,GAEtB,IAAI5sC,EAAQ0K,EAA2BpP,MAAOsxC,EAAYptC,WAAapD,OAAOqN,eAAemjC,IAAc/wC,KAAKP,KAAMs4B,IAEtH5zB,EAAMg0B,MAAMlkB,UAAYkkB,EACxBh0B,EAAM4P,UAAUI,UAAUC,IAAI,mBAC9B,GAAGvL,MAAM7I,KAAKmE,EAAM4P,UAAUyK,iBAAiB,mBAAoB,EAAG,GAAG7X,SAAQ,SAAU4a,GACzFA,EAAKpN,UAAUC,IAAI,aACzB,IACI,OAAOjQ,C,CAGT6I,EAAa+jC,EAAa,CAAC,CACzB7kC,IAAK,YACL5K,MAAO,SAASg3B,EAAUC,GACxB,IAAIhX,EAAOhU,EAAKwjC,EAAY7vC,UAAUyC,WAAapD,OAAOqN,eAAemjC,EAAY7vC,WAAY,YAAazB,MAAMO,KAAKP,KAAM84B,GAC/HhX,EAAK0W,MAAMgZ,gBAAkB1Y,EAAO7yB,aAAa,UAAY,GAC7D,OAAO6b,C,GAER,CACDrV,IAAK,aACL5K,MAAO,SAASo3B,EAAWnX,EAAMyX,GAC/BzrB,EAAKwjC,EAAY7vC,UAAUyC,WAAapD,OAAOqN,eAAemjC,EAAY7vC,WAAY,aAAczB,MAAMO,KAAKP,KAAM8hB,EAAMyX,GAC3H,IAAIkY,EAAazxC,KAAK04B,MAAM1b,cAAc,mBAC1C,IAAInb,EAAQigB,EAAOA,EAAK7b,aAAa,eAAiB,GAAK,GAC3D,GAAIwrC,EAAY,CACd,GAAIA,EAAWtrC,UAAY,OAAQ,CACjCsrC,EAAWjZ,MAAMkZ,OAAS7vC,CACpC,KAAe,CACL4vC,EAAWjZ,MAAMmZ,KAAO9vC,C,OAMhC,OAAOyvC,CACT,CAxCkB,CAwChB9R,EAASt8B,SAEXpD,EAAQoD,QAAUouC,CAEX,EAEP,SAAgBzxC,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAGT,IAAI0L,EAAe,WAAc,SAASC,EAAiBzE,EAAQ0E,GAAS,IAAK,IAAIpN,EAAI,EAAGA,EAAIoN,EAAMjH,OAAQnG,IAAK,CAAE,IAAIqN,EAAaD,EAAMpN,GAAIqN,EAAWzM,WAAayM,EAAWzM,YAAc,MAAOyM,EAAW1M,aAAe,KAAM,GAAI,UAAW0M,EAAYA,EAAWb,SAAW,KAAM/L,OAAOC,eAAegI,EAAQ2E,EAAWjB,IAAKiB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAe,GAAID,EAAYJ,EAAiBG,EAAYlM,UAAWmM,GAAa,GAAIC,EAAaL,EAAiBG,EAAaE,GAAc,OAAOF,CAAY,CAAG,CAA5hB,GAEnB,IAAIG,EAAO,SAAS5M,EAAIK,EAAQC,EAAUuM,GAAY,GAAIxM,IAAW,KAAMA,EAASyM,SAASvM,UAAW,IAAIwM,EAAOnN,OAAOqL,yBAAyB5K,EAAQC,GAAW,GAAIyM,IAASX,UAAW,CAAE,IAAIY,EAASpN,OAAOqN,eAAe5M,GAAS,GAAI2M,IAAW,KAAM,CAAE,OAAOZ,SAAU,KAAQ,CAAE,OAAOpM,EAAIgN,EAAQ1M,EAAUuM,EAAU,CAAE,MAAQ,GAAI,UAAWE,EAAM,CAAE,OAAOA,EAAKpM,KAAM,KAAQ,CAAE,IAAIjB,EAASqN,EAAK/M,IAAK,GAAIN,IAAW0M,UAAW,CAAE,OAAOA,SAAU,CAAG,OAAO1M,EAAOL,KAAKwN,EAAU,CAAE,EAExe,IAAIwxB,EAAUp/B,EAAoB,IAElC,IAAIq/B,EAAWlxB,EAAuBixB,GAEtC,SAASjxB,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,SAAS2C,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,SAASC,EAA2BrP,EAAMQ,GAAQ,IAAKR,EAAM,CAAE,MAAM,IAAIsP,eAAe,4DAA6D,CAAG,OAAO9O,WAAgBA,IAAS,iBAAmBA,IAAS,YAAcA,EAAOR,CAAK,CAE9O,SAASuP,EAAUC,EAAUC,GAAc,UAAWA,IAAe,YAAcA,IAAe,KAAM,CAAE,MAAM,IAAIL,UAAU,kEAAoEK,EAAY,CAAGD,EAAS9N,UAAYX,OAAO+B,OAAO2M,GAAcA,EAAW/N,UAAW,CAAE6C,YAAa,CAAEzC,MAAO0N,EAAUtO,WAAY,MAAO4L,SAAU,KAAM7L,aAAc,QAAW,GAAIwO,EAAY1O,OAAOmD,eAAiBnD,OAAOmD,eAAesL,EAAUC,GAAcD,EAASrL,UAAYsL,CAAW,CAE5e,IAAIoiC,EAAa,SAAUL,GACzBjiC,EAAUsiC,EAAYL,GAEtB,SAASK,EAAWtZ,EAAQsI,GAC1B3xB,EAAgBjP,KAAM4xC,GAEtB,IAAIltC,EAAQ0K,EAA2BpP,MAAO4xC,EAAW1tC,WAAapD,OAAOqN,eAAeyjC,IAAarxC,KAAKP,KAAMs4B,IAEpH5zB,EAAM4P,UAAUI,UAAUC,IAAI,kBAC9B,GAAGzN,QAAQ3G,KAAKmE,EAAM4P,UAAUyK,iBAAiB,oBAAoB,SAAU+C,GAC7EA,EAAKtN,UAAYosB,EAAM9e,EAAK7b,aAAa,eAAiB,GAChE,IACIvB,EAAMmtC,YAAcntC,EAAM4P,UAAU0I,cAAc,gBAClDtY,EAAMu0B,WAAWv0B,EAAMmtC,aACvB,OAAOntC,C,CAGT6I,EAAaqkC,EAAY,CAAC,CACxBnlC,IAAK,aACL5K,MAAO,SAASo3B,EAAWnX,EAAMyX,GAC/BzrB,EAAK8jC,EAAWnwC,UAAUyC,WAAapD,OAAOqN,eAAeyjC,EAAWnwC,WAAY,aAAczB,MAAMO,KAAKP,KAAM8hB,EAAMyX,GACzHzX,EAAOA,GAAQ9hB,KAAK6xC,YACpB7xC,KAAK04B,MAAMlkB,UAAYsN,EAAKtN,S,KAIhC,OAAOo9B,CACT,CA3BiB,CA2BfpS,EAASt8B,SAEXpD,EAAQoD,QAAU0uC,CAEX,EAEP,SAAgB/xC,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAGT,IAAI0L,EAAe,WAAc,SAASC,EAAiBzE,EAAQ0E,GAAS,IAAK,IAAIpN,EAAI,EAAGA,EAAIoN,EAAMjH,OAAQnG,IAAK,CAAE,IAAIqN,EAAaD,EAAMpN,GAAIqN,EAAWzM,WAAayM,EAAWzM,YAAc,MAAOyM,EAAW1M,aAAe,KAAM,GAAI,UAAW0M,EAAYA,EAAWb,SAAW,KAAM/L,OAAOC,eAAegI,EAAQ2E,EAAWjB,IAAKiB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAe,GAAID,EAAYJ,EAAiBG,EAAYlM,UAAWmM,GAAa,GAAIC,EAAaL,EAAiBG,EAAaE,GAAc,OAAOF,CAAY,CAAG,CAA5hB,GAEnB,SAASsB,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,IAAI2iC,EAAU,WACZ,SAASA,EAAQ9xB,EAAO2hB,GACtB,IAAIj9B,EAAQ1E,KAEZiP,EAAgBjP,KAAM8xC,GAEtB9xC,KAAKggB,MAAQA,EACbhgB,KAAK2hC,gBAAkBA,GAAmB3qB,SAASgR,KACnDhoB,KAAKL,KAAOqgB,EAAMpL,aAAa,cAC/B5U,KAAKL,KAAK6U,UAAYxU,KAAKsE,YAAYytC,SACvC,GAAI/xC,KAAKggB,MAAMrgB,OAASK,KAAKggB,MAAMlL,mBAAoB,CACrD9U,KAAKggB,MAAMrgB,KAAKif,iBAAiB,UAAU,WACzCla,EAAM/E,KAAK64B,MAAMqX,WAAY,EAAKnrC,EAAMsb,MAAMrgB,KAAKgY,UAAY,IACvE,G,CAEI3X,KAAKsgC,M,CAGP/yB,EAAaukC,EAAS,CAAC,CACrBrlC,IAAK,OACL5K,MAAO,SAASy+B,IACdtgC,KAAKL,KAAK+U,UAAUC,IAAI,Y,GAEzB,CACDlI,IAAK,WACL5K,MAAO,SAAS2mB,EAASwpB,GACvB,IAAI74B,EAAO64B,EAAU74B,KAAO64B,EAAU34B,MAAQ,EAAIrZ,KAAKL,KAAKsyC,YAAc,EAE1E,IAAIh5B,EAAM+4B,EAAUh5B,OAAShZ,KAAKggB,MAAMrgB,KAAKgY,UAC7C3X,KAAKL,KAAK64B,MAAMrf,KAAOA,EAAO,KAC9BnZ,KAAKL,KAAK64B,MAAMvf,IAAMA,EAAM,KAC5BjZ,KAAKL,KAAK+U,UAAUpD,OAAO,WAC3B,IAAIwH,EAAkB9Y,KAAK2hC,gBAAgB5oB,wBAC3C,IAAIm5B,EAAalyC,KAAKL,KAAKoZ,wBAC3B,IAAI9H,EAAQ,EACZ,GAAIihC,EAAW94B,MAAQN,EAAgBM,MAAO,CAC5CnI,EAAQ6H,EAAgBM,MAAQ84B,EAAW94B,MAC3CpZ,KAAKL,KAAK64B,MAAMrf,KAAOA,EAAOlI,EAAQ,I,CAExC,GAAIihC,EAAW/4B,KAAOL,EAAgBK,KAAM,CAC1ClI,EAAQ6H,EAAgBK,KAAO+4B,EAAW/4B,KAC1CnZ,KAAKL,KAAK64B,MAAMrf,KAAOA,EAAOlI,EAAQ,I,CAExC,GAAIihC,EAAWl5B,OAASF,EAAgBE,OAAQ,CAC9C,IAAIE,EAASg5B,EAAWl5B,OAASk5B,EAAWj5B,IAC5C,IAAIk5B,EAAgBH,EAAUh5B,OAASg5B,EAAU/4B,IAAMC,EACvDlZ,KAAKL,KAAK64B,MAAMvf,IAAMA,EAAMk5B,EAAgB,KAC5CnyC,KAAKL,KAAK+U,UAAUC,IAAI,U,CAE1B,OAAO1D,C,GAER,CACDxE,IAAK,OACL5K,MAAO,SAASuwC,IACdpyC,KAAKL,KAAK+U,UAAUpD,OAAO,cAC3BtR,KAAKL,KAAK+U,UAAUpD,OAAO,Y,KAI/B,OAAOwgC,CACT,CA5Dc,GA8DdhyC,EAAQoD,QAAU4uC,CAEX,EAEP,SAAgBjyC,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAGT,IAAIwQ,EAAiB,WAAc,SAASC,EAAclG,EAAK/L,GAAK,IAAIkS,EAAO,GAAI,IAAIC,EAAK,KAAM,IAAIC,EAAK,MAAO,IAAIC,EAAKpF,UAAW,IAAM,IAAK,IAAIhH,EAAK8F,EAAIgG,OAAO3I,YAAakJ,IAAMH,GAAMG,EAAKrM,EAAGsD,QAAQgJ,MAAOJ,EAAK,KAAM,CAAED,EAAKtK,KAAK0K,EAAG9Q,OAAQ,GAAIxB,GAAKkS,EAAK/L,SAAWnG,EAAG,KAAM,CAAE,CAAG,MAAOwS,GAAOJ,EAAK,KAAMC,EAAKG,CAAI,CAAE,QAAW,IAAM,IAAKL,GAAMlM,EAAG,UAAWA,EAAG,WAAY,CAAE,QAAW,GAAImM,EAAI,MAAMC,CAAG,CAAE,CAAG,OAAOH,CAAK,CAAG,OAAO,SAAUnG,EAAK/L,GAAK,GAAI8D,MAAM4C,QAAQqF,GAAM,CAAE,OAAOA,CAAI,MAAQ,GAAIgG,OAAO3I,YAAY3I,OAAOsL,GAAM,CAAE,OAAOkG,EAAclG,EAAK/L,EAAG,KAAQ,CAAE,MAAM,IAAI8O,UAAU,uDAAwD,CAAE,CAAG,CAA9nB,GAErB,IAAIrB,EAAO,SAAS5M,EAAIK,EAAQC,EAAUuM,GAAY,GAAIxM,IAAW,KAAMA,EAASyM,SAASvM,UAAW,IAAIwM,EAAOnN,OAAOqL,yBAAyB5K,EAAQC,GAAW,GAAIyM,IAASX,UAAW,CAAE,IAAIY,EAASpN,OAAOqN,eAAe5M,GAAS,GAAI2M,IAAW,KAAM,CAAE,OAAOZ,SAAU,KAAQ,CAAE,OAAOpM,EAAIgN,EAAQ1M,EAAUuM,EAAU,CAAE,MAAQ,GAAI,UAAWE,EAAM,CAAE,OAAOA,EAAKpM,KAAM,KAAQ,CAAE,IAAIjB,EAASqN,EAAK/M,IAAK,GAAIN,IAAW0M,UAAW,CAAE,OAAOA,SAAU,CAAG,OAAO1M,EAAOL,KAAKwN,EAAU,CAAE,EAExe,IAAIR,EAAe,WAAc,SAASC,EAAiBzE,EAAQ0E,GAAS,IAAK,IAAIpN,EAAI,EAAGA,EAAIoN,EAAMjH,OAAQnG,IAAK,CAAE,IAAIqN,EAAaD,EAAMpN,GAAIqN,EAAWzM,WAAayM,EAAWzM,YAAc,MAAOyM,EAAW1M,aAAe,KAAM,GAAI,UAAW0M,EAAYA,EAAWb,SAAW,KAAM/L,OAAOC,eAAegI,EAAQ2E,EAAWjB,IAAKiB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAe,GAAID,EAAYJ,EAAiBG,EAAYlM,UAAWmM,GAAa,GAAIC,EAAaL,EAAiBG,EAAaE,GAAc,OAAOF,CAAY,CAAG,CAA5hB,GAEnB,IAAIS,EAAUjO,EAAoB,GAElC,IAAIkO,EAAWC,EAAuBF,GAEtC,IAAIgP,EAAWjd,EAAoB,GAEnC,IAAIod,EAAYjP,EAAuB8O,GAEvC,IAAIi1B,EAAQlyC,EAAoB,IAEhC,IAAImyC,EAAShkC,EAAuB+jC,GAEpC,IAAIE,EAAQpyC,EAAoB,IAEhC,IAAIqyC,EAASlkC,EAAuBikC,GAEpC,IAAIn/B,EAAajT,EAAoB,IAErC,IAAIsyC,EAAStyC,EAAoB,IAEjC,IAAIuyC,EAAUpkC,EAAuBmkC,GAErC,SAASnkC,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,SAAS2C,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,SAASC,EAA2BrP,EAAMQ,GAAQ,IAAKR,EAAM,CAAE,MAAM,IAAIsP,eAAe,4DAA6D,CAAG,OAAO9O,WAAgBA,IAAS,iBAAmBA,IAAS,YAAcA,EAAOR,CAAK,CAE9O,SAASuP,EAAUC,EAAUC,GAAc,UAAWA,IAAe,YAAcA,IAAe,KAAM,CAAE,MAAM,IAAIL,UAAU,kEAAoEK,EAAY,CAAGD,EAAS9N,UAAYX,OAAO+B,OAAO2M,GAAcA,EAAW/N,UAAW,CAAE6C,YAAa,CAAEzC,MAAO0N,EAAUtO,WAAY,MAAO4L,SAAU,KAAM7L,aAAc,QAAW,GAAIwO,EAAY1O,OAAOmD,eAAiBnD,OAAOmD,eAAesL,EAAUC,GAAcD,EAASrL,UAAYsL,CAAW,CAE5e,IAAImjC,EAAiB,CAAC,CAAC,CAAE/d,OAAQ,CAAC,IAAK,IAAK,IAAK,SAAW,CAAC,OAAQ,SAAU,YAAa,QAAS,CAAC,CAAEpO,KAAM,WAAa,CAAEA,KAAM,WAAa,CAAC,UAEjJ,IAAIosB,EAAY,SAAUC,GACxBvjC,EAAUsjC,EAAWC,GAErB,SAASD,EAAU5yB,EAAOrT,GACxBsC,EAAgBjP,KAAM4yC,GAEtB,GAAIjmC,EAAQ1M,QAAQ8c,SAAW,MAAQpQ,EAAQ1M,QAAQ8c,QAAQzI,WAAa,KAAM,CAChF3H,EAAQ1M,QAAQ8c,QAAQzI,UAAYq+B,C,CAGtC,IAAIjuC,EAAQ0K,EAA2BpP,MAAO4yC,EAAU1uC,WAAapD,OAAOqN,eAAeykC,IAAYryC,KAAKP,KAAMggB,EAAOrT,IAEzHjI,EAAMsb,MAAM1L,UAAUI,UAAUC,IAAI,WACpC,OAAOjQ,C,CAGT6I,EAAaqlC,EAAW,CAAC,CACvBnmC,IAAK,gBACL5K,MAAO,SAAS4+B,EAAc1jB,GAC5BA,EAAQzI,UAAUI,UAAUC,IAAI,WAChC3U,KAAK0gC,aAAa,GAAGt3B,MAAM7I,KAAKwc,EAAQzI,UAAUyK,iBAAiB,WAAY2zB,EAAQxvC,SACvFlD,KAAK8gC,aAAa,GAAG13B,MAAM7I,KAAKwc,EAAQzI,UAAUyK,iBAAiB,WAAY2zB,EAAQxvC,SACvFlD,KAAKogC,QAAU,IAAI0S,EAAY9yC,KAAKggB,MAAOhgB,KAAK2M,QAAQkM,QACxD,GAAIkE,EAAQzI,UAAU0I,cAAc,YAAa,CAC/Chd,KAAKggB,MAAM3K,SAASsc,WAAW,CAAEllB,IAAK,IAAK+pB,SAAU,OAAQ,SAAUpgB,EAAO3E,GAC5EsL,EAAQkkB,SAAS,QAAQ1gC,KAAKwc,GAAUtL,EAAQzB,OAAOutB,KACjE,G,MAKE,OAAOqV,CACT,CAhCgB,CAgCdN,EAAOpvC,SAET0vC,EAAUx2B,UAAW,EAAI/N,EAASnL,SAAS,KAAM,GAAIovC,EAAOpvC,QAAQkZ,SAAU,CAC5Enc,QAAS,CACP8c,QAAS,CACPkkB,SAAU,CACR1D,KAAM,SAASA,EAAK17B,GAClB,GAAIA,EAAO,CACT,IAAIuU,EAAQpW,KAAKggB,MAAMhI,eACvB,GAAI5B,GAAS,MAAQA,EAAM5P,QAAU,EAAG,OACxC,IAAIu7B,EAAU/hC,KAAKggB,MAAM7F,QAAQ/D,GACjC,GAAI,iBAAiB4a,KAAK+Q,IAAYA,EAAQt2B,QAAQ,aAAe,EAAG,CACtEs2B,EAAU,UAAYA,C,CAExB,IAAI3B,EAAUpgC,KAAKggB,MAAM5K,MAAMgrB,QAC/BA,EAAQc,KAAK,OAAQa,EACjC,KAAiB,CACL/hC,KAAKggB,MAAMhQ,OAAO,OAAQ,M,QAQtC,IAAI8iC,EAAc,SAAUC,GAC1BzjC,EAAUwjC,EAAaC,GAEvB,SAASD,EAAY9yB,EAAOnH,GAC1B5J,EAAgBjP,KAAM8yC,GAEtB,IAAIniC,EAASvB,EAA2BpP,MAAO8yC,EAAY5uC,WAAapD,OAAOqN,eAAe2kC,IAAcvyC,KAAKP,KAAMggB,EAAOnH,IAE9HlI,EAAOoxB,QAAUpxB,EAAOhR,KAAKqd,cAAc,gBAC3C,OAAOrM,C,CAGTpD,EAAaulC,EAAa,CAAC,CACzBrmC,IAAK,SACL5K,MAAO,SAAS2wB,IACd,IAAInb,EAASrX,KAEb8N,EAAKglC,EAAYrxC,UAAUyC,WAAapD,OAAOqN,eAAe2kC,EAAYrxC,WAAY,SAAUzB,MAAMO,KAAKP,MAC3GA,KAAKL,KAAKqd,cAAc,eAAe4B,iBAAiB,SAAS,SAAUU,GACzE,GAAIjI,EAAO1X,KAAK+U,UAAUqG,SAAS,cAAe,CAChD1D,EAAOuqB,MACjB,KAAe,CACLvqB,EAAO6pB,KAAK,OAAQ7pB,EAAO0qB,QAAQvf,Y,CAErClD,EAAMmU,gBACd,IACMzzB,KAAKL,KAAKqd,cAAc,eAAe4B,iBAAiB,SAAS,SAAUU,GACzE,GAAIjI,EAAO4qB,WAAa,KAAM,CAC5B,IAAI7rB,EAAQiB,EAAO4qB,UACnB5qB,EAAO2qB,eACP3qB,EAAO2I,MAAM7H,WAAW/B,EAAO,OAAQ,MAAOmH,EAAUra,QAAQ4U,QAAQmE,aACjE5E,EAAO4qB,S,CAEhB3iB,EAAMmU,iBACNpc,EAAOipB,MACf,IACMtgC,KAAKggB,MAAMtK,GAAG6H,EAAUra,QAAQyS,OAAOmK,kBAAkB,SAAU1J,EAAOuU,EAAUzU,GAClF,GAAIE,GAAS,KAAM,OACnB,GAAIA,EAAM5P,SAAW,GAAK0P,IAAWqH,EAAUra,QAAQ4U,QAAQmE,KAAM,CACnE,IAAIoa,EAAwBhf,EAAO2I,MAAMhL,OAAO2N,WAAW6vB,EAAOtvC,QAASkT,EAAMhO,OAC7EkuB,EAAyBjkB,EAAegkB,EAAuB,GAC/DkH,EAAOjH,EAAuB,GAC9BzqB,EAASyqB,EAAuB,GAEpC,GAAIiH,GAAQ,KAAM,CAChBlmB,EAAO4qB,UAAY,IAAI7uB,EAAW2I,MAAM3F,EAAMhO,MAAQyD,EAAQ0xB,EAAK/2B,UACnE,IAAIu7B,EAAUyQ,EAAOtvC,QAAQ4M,QAAQytB,EAAK1tB,SAC1CwH,EAAO0qB,QAAQvf,YAAcuf,EAC7B1qB,EAAO0qB,QAAQltB,aAAa,OAAQktB,GACpC1qB,EAAO+6B,OACP/6B,EAAOmR,SAASnR,EAAO2I,MAAMpH,UAAUvB,EAAO4qB,YAC9C,M,CAEZ,KAAe,QACE5qB,EAAO4qB,S,CAEhB5qB,EAAOipB,MACf,G,GAEK,CACD7zB,IAAK,OACL5K,MAAO,SAASuwC,IACdtkC,EAAKglC,EAAYrxC,UAAUyC,WAAapD,OAAOqN,eAAe2kC,EAAYrxC,WAAY,OAAQzB,MAAMO,KAAKP,MACzGA,KAAKL,KAAKsiB,gBAAgB,Y,KAI9B,OAAO6wB,CACT,CApEkB,CAoEhBT,EAAMnT,aAER4T,EAAYf,SAAW,CAAC,0FAA2F,mGAAoG,4BAA6B,6BAA6BhnC,KAAK,IAEtRjL,EAAQoD,QAAU0vC,CAEX,EAEP,SAAgB/yC,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAGT,IAAImxC,EAAQ7yC,EAAoB,IAEhC,IAAI8yC,EAAS3kC,GAAuB0kC,GAEpC,IAAI/F,EAAS9sC,EAAoB,IAEjC,IAAIgtC,EAAahtC,EAAoB,IAErC,IAAI+yC,EAAU/yC,EAAoB,IAElC,IAAIgzC,EAAchzC,EAAoB,IAEtC,IAAIizC,EAAe9kC,GAAuB6kC,GAE1C,IAAIE,EAAUlzC,EAAoB,IAElC,IAAImzC,EAAWhlC,GAAuB+kC,GAEtC,IAAIE,EAAQpzC,EAAoB,IAEhC,IAAIqzC,EAASllC,GAAuBilC,GAEpC,IAAIrG,EAAc/sC,EAAoB,IAEtC,IAAI87B,EAAS97B,EAAoB,IAEjC,IAAIitC,EAAQjtC,EAAoB,IAEhC,IAAIktC,EAAQltC,EAAoB,IAEhC,IAAIszC,EAAQtzC,EAAoB,IAEhC,IAAIuzC,EAASplC,GAAuBmlC,GAEpC,IAAIE,EAAUxzC,EAAoB,IAElC,IAAIyzC,EAAWtlC,GAAuBqlC,GAEtC,IAAIpB,EAAQpyC,EAAoB,IAEhC,IAAIqyC,EAASlkC,GAAuBikC,GAEpC,IAAIsB,EAAU1zC,EAAoB,IAElC,IAAI2zC,EAAWxlC,GAAuBulC,GAEtC,IAAIE,EAAU5zC,EAAoB,IAElC,IAAI6zC,EAAW1lC,GAAuBylC,GAEtC,IAAIE,EAAa9zC,EAAoB,IAErC,IAAI+zC,EAAc5lC,GAAuB2lC,GAEzC,IAAIE,EAASh0C,EAAoB,IAEjC,IAAIi0C,EAAU9lC,GAAuB6lC,GAErC,IAAIE,EAASl0C,EAAoB,IAEjC,IAAIm0C,EAAUhmC,GAAuB+lC,GAErC,IAAIzwB,EAAQzjB,EAAoB,IAEhC,IAAI0jB,EAASvV,GAAuBsV,GAEpC,IAAI2wB,EAAWp0C,EAAoB,IAEnC,IAAIq0C,EAAYlmC,GAAuBimC,GAEvC,IAAIE,EAAUt0C,EAAoB,IAElC,IAAIu0C,EAAWpmC,GAAuBmmC,GAEtC,IAAIE,EAAWx0C,EAAoB,IAEnC,IAAIy0C,EAAYtmC,GAAuBqmC,GAEvC,IAAIlC,EAAStyC,EAAoB,IAEjC,IAAIuyC,EAAUpkC,GAAuBmkC,GAErC,IAAIlT,EAAUp/B,EAAoB,IAElC,IAAIq/B,EAAWlxB,GAAuBixB,GAEtC,IAAIJ,EAAeh/B,EAAoB,IAEvC,IAAIi/B,EAAgB9wB,GAAuB6wB,GAE3C,IAAIE,EAAcl/B,EAAoB,IAEtC,IAAIm/B,EAAehxB,GAAuB+wB,GAE1C,IAAII,EAAWt/B,EAAoB,IAEnC,IAAIu/B,EAAYpxB,GAAuBmxB,GAEvC,IAAIoV,EAAU10C,EAAoB,KAElC,IAAI20C,EAAWxmC,GAAuBumC,GAEtC,IAAIE,GAAQ50C,EAAoB,IAEhC,IAAI60C,GAAS1mC,GAAuBymC,IAEpC,SAASzmC,GAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F2mC,EAAO/vC,QAAQF,SAAS,CACtB,kCAAmCmqC,EAAW/Q,mBAE9C,0BAA2B6Q,EAAOpR,WAClC,+BAAgCqR,EAAYlR,gBAC5C,0BAA2BC,EAAOjF,WAClC,8BAA+BmW,EAAWhR,eAC1C,yBAA0BiR,EAAM/Q,UAChC,yBAA0BgR,EAAM5Q,UAEhC,0BAA2BwQ,EAAOrR,WAClC,+BAAgCsR,EAAYnR,gBAC5C,0BAA2BE,EAAOlF,WAClC,8BAA+BoW,EAAWjR,eAC1C,yBAA0BkR,EAAM9Q,UAChC,yBAA0B+Q,EAAM7Q,WAC/B,MAEHyW,EAAO/vC,QAAQF,SAAS,CACtB,gBAAiBiqC,EAAOpR,WACxB,oBAAqBsR,EAAWhR,eAChC,iBAAkB+W,EAAQ+B,YAE1B,qBAAsB/H,EAAYnR,gBAClC,gBAAiBE,EAAOlF,WACxB,eAAgBqW,EAAM/Q,UACtB,eAAgBgR,EAAM5Q,UAEtB,qBAAsB2W,EAAalwC,QACnC,qBAAsB2gB,EAAO3gB,QAC7B,iBAAkBowC,EAASpwC,QAC3B,eAAgBswC,EAAOtwC,QAEvB,eAAgBwwC,EAAOxwC,QACvB,eAAgB0gB,EAAM1B,KACtB,iBAAkB0xB,EAAS1wC,QAC3B,eAAgBsvC,EAAOtvC,QACvB,iBAAkB4wC,EAAS5wC,QAC3B,iBAAkB8wC,EAAS9wC,QAC3B,oBAAqBgxC,EAAYhxC,QAEjC,gBAAiBkxC,EAAQlxC,QACzB,gBAAiBoxC,EAAQpxC,QAEzB,oBAAqBqwC,EAAM2B,SAE3B,kBAAmBV,EAAUtxC,QAC7B,iBAAkBwxC,EAASxxC,QAC3B,kBAAmB0xC,EAAU1xC,QAE7B,gBAAiB4xC,EAAS5xC,QAC1B,cAAe8xC,GAAO9xC,QAEtB,WAAYwvC,EAAQxvC,QACpB,YAAas8B,EAASt8B,QACtB,iBAAkBo8B,EAAap8B,QAC/B,kBAAmBk8B,EAAcl8B,QACjC,aAAcw8B,EAAUx8B,SACvB,MAEHpD,EAAQoD,QAAU+vC,EAAO/vC,OAElB,EAEP,SAAgBrD,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAET/B,EAAQm1C,YAAc3nC,UAEtB,IAAIC,EAAe,WAAc,SAASC,EAAiBzE,EAAQ0E,GAAS,IAAK,IAAIpN,EAAI,EAAGA,EAAIoN,EAAMjH,OAAQnG,IAAK,CAAE,IAAIqN,EAAaD,EAAMpN,GAAIqN,EAAWzM,WAAayM,EAAWzM,YAAc,MAAOyM,EAAW1M,aAAe,KAAM,GAAI,UAAW0M,EAAYA,EAAWb,SAAW,KAAM/L,OAAOC,eAAegI,EAAQ2E,EAAWjB,IAAKiB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAe,GAAID,EAAYJ,EAAiBG,EAAYlM,UAAWmM,GAAa,GAAIC,EAAaL,EAAiBG,EAAaE,GAAc,OAAOF,CAAY,CAAG,CAA5hB,GAEnB,IAAIG,EAAO,SAAS5M,EAAIK,EAAQC,EAAUuM,GAAY,GAAIxM,IAAW,KAAMA,EAASyM,SAASvM,UAAW,IAAIwM,EAAOnN,OAAOqL,yBAAyB5K,EAAQC,GAAW,GAAIyM,IAASX,UAAW,CAAE,IAAIY,EAASpN,OAAOqN,eAAe5M,GAAS,GAAI2M,IAAW,KAAM,CAAE,OAAOZ,SAAU,KAAQ,CAAE,OAAOpM,EAAIgN,EAAQ1M,EAAUuM,EAAU,CAAE,MAAQ,GAAI,UAAWE,EAAM,CAAE,OAAOA,EAAKpM,KAAM,KAAQ,CAAE,IAAIjB,EAASqN,EAAK/M,IAAK,GAAIN,IAAW0M,UAAW,CAAE,OAAOA,SAAU,CAAG,OAAO1M,EAAOL,KAAKwN,EAAU,CAAE,EAExe,IAAIU,EAAatO,EAAoB,GAErC,IAAIuO,EAAcJ,EAAuBG,GAEzC,SAASH,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,SAAS2C,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,SAASC,EAA2BrP,EAAMQ,GAAQ,IAAKR,EAAM,CAAE,MAAM,IAAIsP,eAAe,4DAA6D,CAAG,OAAO9O,WAAgBA,IAAS,iBAAmBA,IAAS,YAAcA,EAAOR,CAAK,CAE9O,SAASuP,EAAUC,EAAUC,GAAc,UAAWA,IAAe,YAAcA,IAAe,KAAM,CAAE,MAAM,IAAIL,UAAU,kEAAoEK,EAAY,CAAGD,EAAS9N,UAAYX,OAAO+B,OAAO2M,GAAcA,EAAW/N,UAAW,CAAE6C,YAAa,CAAEzC,MAAO0N,EAAUtO,WAAY,MAAO4L,SAAU,KAAM7L,aAAc,QAAW,GAAIwO,EAAY1O,OAAOmD,eAAiBnD,OAAOmD,eAAesL,EAAUC,GAAcD,EAASrL,UAAYsL,CAAW,CAE5e,IAAI2lC,EAAkB,SAAUje,GAC9B5nB,EAAU6lC,EAAiBje,GAE3B,SAASie,IACPlmC,EAAgBjP,KAAMm1C,GAEtB,OAAO/lC,EAA2BpP,MAAOm1C,EAAgBjxC,WAAapD,OAAOqN,eAAegnC,IAAkBxlC,MAAM3P,KAAMuG,W,CAG5HgH,EAAa4nC,EAAiB,CAAC,CAC7B1oC,IAAK,MACL5K,MAAO,SAAS8S,EAAIvP,EAAMvD,GACxB,GAAIA,IAAU,MAAQA,IAAU,KAAM,CACpC,IAAIsyB,EAASn0B,KAAK6B,MAAMuD,IAAS,EACjCvD,EAAQA,IAAU,KAAOsyB,EAAS,EAAIA,EAAS,C,CAEjD,GAAItyB,IAAU,EAAG,CACf7B,KAAKsR,OAAOlM,GACZ,OAAO,IACf,KAAa,CACL,OAAO0I,EAAKqnC,EAAgB1zC,UAAUyC,WAAapD,OAAOqN,eAAegnC,EAAgB1zC,WAAY,MAAOzB,MAAMO,KAAKP,KAAMoF,EAAMvD,E,IAGtI,CACD4K,IAAK,SACL5K,MAAO,SAASkgB,EAAO3c,EAAMvD,GAC3B,OAAOiM,EAAKqnC,EAAgB1zC,UAAUyC,WAAapD,OAAOqN,eAAegnC,EAAgB1zC,WAAY,SAAUzB,MAAMO,KAAKP,KAAMoF,EAAMvD,IAAUiM,EAAKqnC,EAAgB1zC,UAAUyC,WAAapD,OAAOqN,eAAegnC,EAAgB1zC,WAAY,SAAUzB,MAAMO,KAAKP,KAAMoF,EAAM+xB,SAASt1B,G,GAEzR,CACD4K,IAAK,QACL5K,MAAO,SAASA,EAAMuD,GACpB,OAAO+xB,SAASrpB,EAAKqnC,EAAgB1zC,UAAUyC,WAAapD,OAAOqN,eAAegnC,EAAgB1zC,WAAY,QAASzB,MAAMO,KAAKP,KAAMoF,KAAUkI,S,KAItJ,OAAO6nC,C,CAnCa,CAoCpBzmC,EAAYxL,QAAQQ,WAAWE,OAEjC,IAAIqxC,EAAc,IAAIE,EAAgB,SAAU,YAAa,CAC3DzvC,MAAOgJ,EAAYxL,QAAQN,MAAMiD,MACjCoP,UAAW,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,KAGnCnV,EAAQm1C,YAAcA,CAEf,EAEP,SAAgBp1C,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAGT,IAAIsgB,EAAShiB,EAAoB,GAEjC,IAAIiiB,EAAU9T,EAAuB6T,GAErC,SAAS7T,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,SAAS2C,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,SAASC,EAA2BrP,EAAMQ,GAAQ,IAAKR,EAAM,CAAE,MAAM,IAAIsP,eAAe,4DAA6D,CAAG,OAAO9O,WAAgBA,IAAS,iBAAmBA,IAAS,YAAcA,EAAOR,CAAK,CAE9O,SAASuP,EAAUC,EAAUC,GAAc,UAAWA,IAAe,YAAcA,IAAe,KAAM,CAAE,MAAM,IAAIL,UAAU,kEAAoEK,EAAY,CAAGD,EAAS9N,UAAYX,OAAO+B,OAAO2M,GAAcA,EAAW/N,UAAW,CAAE6C,YAAa,CAAEzC,MAAO0N,EAAUtO,WAAY,MAAO4L,SAAU,KAAM7L,aAAc,QAAW,GAAIwO,EAAY1O,OAAOmD,eAAiBnD,OAAOmD,eAAesL,EAAUC,GAAcD,EAASrL,UAAYsL,CAAW,CAE5e,IAAI4lC,EAAa,SAAU7yB,GACzBjT,EAAU8lC,EAAY7yB,GAEtB,SAAS6yB,IACPnmC,EAAgBjP,KAAMo1C,GAEtB,OAAOhmC,EAA2BpP,MAAOo1C,EAAWlxC,WAAapD,OAAOqN,eAAeinC,IAAazlC,MAAM3P,KAAMuG,W,CAGlH,OAAO6uC,CACT,CAViB,CAUfhzB,EAAQlf,SAEVkyC,EAAWzuC,SAAW,aACtByuC,EAAWjvC,QAAU,aAErBrG,EAAQoD,QAAUkyC,CAEX,EAEP,SAAgBv1C,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAGT,IAAI0L,EAAe,WAAc,SAASC,EAAiBzE,EAAQ0E,GAAS,IAAK,IAAIpN,EAAI,EAAGA,EAAIoN,EAAMjH,OAAQnG,IAAK,CAAE,IAAIqN,EAAaD,EAAMpN,GAAIqN,EAAWzM,WAAayM,EAAWzM,YAAc,MAAOyM,EAAW1M,aAAe,KAAM,GAAI,UAAW0M,EAAYA,EAAWb,SAAW,KAAM/L,OAAOC,eAAegI,EAAQ2E,EAAWjB,IAAKiB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAe,GAAID,EAAYJ,EAAiBG,EAAYlM,UAAWmM,GAAa,GAAIC,EAAaL,EAAiBG,EAAaE,GAAc,OAAOF,CAAY,CAAG,CAA5hB,GAEnB,IAAIwU,EAAShiB,EAAoB,GAEjC,IAAIiiB,EAAU9T,EAAuB6T,GAErC,SAAS7T,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,SAAS2C,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,SAASC,EAA2BrP,EAAMQ,GAAQ,IAAKR,EAAM,CAAE,MAAM,IAAIsP,eAAe,4DAA6D,CAAG,OAAO9O,WAAgBA,IAAS,iBAAmBA,IAAS,YAAcA,EAAOR,CAAK,CAE9O,SAASuP,EAAUC,EAAUC,GAAc,UAAWA,IAAe,YAAcA,IAAe,KAAM,CAAE,MAAM,IAAIL,UAAU,kEAAoEK,EAAY,CAAGD,EAAS9N,UAAYX,OAAO+B,OAAO2M,GAAcA,EAAW/N,UAAW,CAAE6C,YAAa,CAAEzC,MAAO0N,EAAUtO,WAAY,MAAO4L,SAAU,KAAM7L,aAAc,QAAW,GAAIwO,EAAY1O,OAAOmD,eAAiBnD,OAAOmD,eAAesL,EAAUC,GAAcD,EAASrL,UAAYsL,CAAW,CAE5e,IAAI6lC,EAAS,SAAU9yB,GACrBjT,EAAU+lC,EAAQ9yB,GAElB,SAAS8yB,IACPpmC,EAAgBjP,KAAMq1C,GAEtB,OAAOjmC,EAA2BpP,MAAOq1C,EAAOnxC,WAAapD,OAAOqN,eAAeknC,IAAS1lC,MAAM3P,KAAMuG,W,CAG1GgH,EAAa8nC,EAAQ,KAAM,CAAC,CAC1B5oC,IAAK,UACL5K,MAAO,SAASiO,EAAQD,GACtB,OAAO7P,KAAKmG,QAAQsF,QAAQoE,EAAQ1J,SAAW,C,KAInD,OAAOkvC,CACT,CAjBa,CAiBXjzB,EAAQlf,SAEVmyC,EAAO1uC,SAAW,SAClB0uC,EAAOlvC,QAAU,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,MAEhDrG,EAAQoD,QAAUmyC,CAEX,EAEP,SAAgBx1C,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAET/B,EAAQoD,QAAUpD,EAAQo1C,SAAW5nC,UAErC,IAAIC,EAAe,WAAc,SAASC,EAAiBzE,EAAQ0E,GAAS,IAAK,IAAIpN,EAAI,EAAGA,EAAIoN,EAAMjH,OAAQnG,IAAK,CAAE,IAAIqN,EAAaD,EAAMpN,GAAIqN,EAAWzM,WAAayM,EAAWzM,YAAc,MAAOyM,EAAW1M,aAAe,KAAM,GAAI,UAAW0M,EAAYA,EAAWb,SAAW,KAAM/L,OAAOC,eAAegI,EAAQ2E,EAAWjB,IAAKiB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAe,GAAID,EAAYJ,EAAiBG,EAAYlM,UAAWmM,GAAa,GAAIC,EAAaL,EAAiBG,EAAaE,GAAc,OAAOF,CAAY,CAAG,CAA5hB,GAEnB,IAAIG,EAAO,SAAS5M,EAAIK,EAAQC,EAAUuM,GAAY,GAAIxM,IAAW,KAAMA,EAASyM,SAASvM,UAAW,IAAIwM,EAAOnN,OAAOqL,yBAAyB5K,EAAQC,GAAW,GAAIyM,IAASX,UAAW,CAAE,IAAIY,EAASpN,OAAOqN,eAAe5M,GAAS,GAAI2M,IAAW,KAAM,CAAE,OAAOZ,SAAU,KAAQ,CAAE,OAAOpM,EAAIgN,EAAQ1M,EAAUuM,EAAU,CAAE,MAAQ,GAAI,UAAWE,EAAM,CAAE,OAAOA,EAAKpM,KAAM,KAAQ,CAAE,IAAIjB,EAASqN,EAAK/M,IAAK,GAAIN,IAAW0M,UAAW,CAAE,OAAOA,SAAU,CAAG,OAAO1M,EAAOL,KAAKwN,EAAU,CAAE,EAExe,IAAIU,EAAatO,EAAoB,GAErC,IAAIuO,EAAcJ,EAAuBG,GAEzC,IAAI0T,EAAShiB,EAAoB,GAEjC,IAAIiiB,EAAU9T,EAAuB6T,GAErC,IAAI8N,EAAa9vB,EAAoB,IAErC,IAAI+vB,EAAc5hB,EAAuB2hB,GAEzC,SAAS3hB,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,SAASoH,EAAgBpH,EAAKG,EAAK5K,GAAS,GAAI4K,KAAOH,EAAK,CAAExL,OAAOC,eAAeuL,EAAKG,EAAK,CAAE5K,MAAOA,EAAOZ,WAAY,KAAMD,aAAc,KAAM6L,SAAU,MAAQ,KAAQ,CAAEP,EAAIG,GAAO5K,CAAM,CAAG,OAAOyK,CAAI,CAE/M,SAAS2C,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,SAASC,EAA2BrP,EAAMQ,GAAQ,IAAKR,EAAM,CAAE,MAAM,IAAIsP,eAAe,4DAA6D,CAAG,OAAO9O,WAAgBA,IAAS,iBAAmBA,IAAS,YAAcA,EAAOR,CAAK,CAE9O,SAASuP,EAAUC,EAAUC,GAAc,UAAWA,IAAe,YAAcA,IAAe,KAAM,CAAE,MAAM,IAAIL,UAAU,kEAAoEK,EAAY,CAAGD,EAAS9N,UAAYX,OAAO+B,OAAO2M,GAAcA,EAAW/N,UAAW,CAAE6C,YAAa,CAAEzC,MAAO0N,EAAUtO,WAAY,MAAO4L,SAAU,KAAM7L,aAAc,QAAW,GAAIwO,EAAY1O,OAAOmD,eAAiBnD,OAAOmD,eAAesL,EAAUC,GAAcD,EAASrL,UAAYsL,CAAW,CAE5e,IAAI0lC,EAAW,SAAU3yB,GACvBjT,EAAU4lC,EAAU3yB,GAEpB,SAAS2yB,IACPjmC,EAAgBjP,KAAMk1C,GAEtB,OAAO9lC,EAA2BpP,MAAOk1C,EAAShxC,WAAapD,OAAOqN,eAAe+mC,IAAWvlC,MAAM3P,KAAMuG,W,CAG9GgH,EAAa2nC,EAAU,CAAC,CACtBzoC,IAAK,SACL5K,MAAO,SAASmO,EAAOrP,EAAMkB,GAC3B,GAAIlB,IAAS20C,EAAK3uC,WAAa9E,EAAO,CACpC7B,KAAK0sB,YAAYhe,EAAYxL,QAAQL,OAAO7C,KAAKgS,QAAQtM,OACjE,KAAa,CACLoI,EAAKonC,EAASzzC,UAAUyC,WAAapD,OAAOqN,eAAe+mC,EAASzzC,WAAY,SAAUzB,MAAMO,KAAKP,KAAMW,EAAMkB,E,IAGpH,CACD4K,IAAK,SACL5K,MAAO,SAASyP,IACd,GAAItR,KAAKujB,MAAQ,MAAQvjB,KAAK4J,MAAQ,KAAM,CAC1C5J,KAAKkO,OAAOoD,QACpB,KAAa,CACLxD,EAAKonC,EAASzzC,UAAUyC,WAAapD,OAAOqN,eAAe+mC,EAASzzC,WAAY,SAAUzB,MAAMO,KAAKP,K,IAGxG,CACDyM,IAAK,cACL5K,MAAO,SAAS6qB,EAAY/rB,EAAMkB,GAChC7B,KAAKkO,OAAO+P,QAAQje,KAAK6L,OAAO7L,KAAKkO,QAASlO,KAAKwG,UACnD,GAAI7F,IAASX,KAAKkO,OAAO8D,QAAQrL,SAAU,CACzC3G,KAAKkO,OAAOwe,YAAY/rB,EAAMkB,GAC9B,OAAO7B,IACf,KAAa,CACLA,KAAKkO,OAAOsV,SACZ,OAAO1V,EAAKonC,EAASzzC,UAAUyC,WAAapD,OAAOqN,eAAe+mC,EAASzzC,WAAY,cAAezB,MAAMO,KAAKP,KAAMW,EAAMkB,E,KAG/H,CAAC,CACH4K,IAAK,UACL5K,MAAO,SAASiO,EAAQD,GACtB,OAAOA,EAAQ1J,UAAYnG,KAAKmG,QAAUmH,UAAYQ,EAAKonC,EAAShxC,WAAapD,OAAOqN,eAAe+mC,GAAW,UAAWl1C,MAAMO,KAAKP,KAAM6P,E,KAIlJ,OAAOqlC,CACT,CA/Ce,CA+Cb9yB,EAAQlf,SAEVgyC,EAASvuC,SAAW,YACpBuuC,EAAS/uC,QAAU,KAEnB,IAAImvC,EAAO,SAAUC,GACnBjmC,EAAUgmC,EAAMC,GAEhBhoC,EAAa+nC,EAAM,KAAM,CAAC,CACxB7oC,IAAK,SACL5K,MAAO,SAASgB,EAAOhB,GACrB,IAAIsE,EAAUtE,IAAU,UAAY,KAAO,KAC3C,IAAIuD,EAAO0I,EAAKwnC,EAAKpxC,WAAapD,OAAOqN,eAAemnC,GAAO,SAAUt1C,MAAMO,KAAKP,KAAMmG,GAC1F,GAAItE,IAAU,WAAaA,IAAU,YAAa,CAChDuD,EAAKyP,aAAa,eAAgBhT,IAAU,U,CAE9C,OAAOuD,C,GAER,CACDqH,IAAK,UACL5K,MAAO,SAASiO,EAAQD,GACtB,GAAIA,EAAQ1J,UAAY,KAAM,MAAO,UACrC,GAAI0J,EAAQ1J,UAAY,KAAM,CAC5B,GAAI0J,EAAQmpB,aAAa,gBAAiB,CACxC,OAAOnpB,EAAQ5J,aAAa,kBAAoB,OAAS,UAAY,WAC/E,KAAe,CACL,MAAO,Q,EAGX,OAAOqH,S,KAIX,SAASgoC,EAAKzlC,GACZZ,EAAgBjP,KAAMs1C,GAEtB,IAAI3kC,EAASvB,EAA2BpP,MAAOs1C,EAAKpxC,WAAapD,OAAOqN,eAAemnC,IAAO/0C,KAAKP,KAAM6P,IAEzG,IAAI2lC,EAAmB,SAASA,EAAiB9zB,GAC/C,GAAIA,EAAE3Y,OAAOtD,aAAeoK,EAAS,OACrC,IAAIG,EAASW,EAAOqB,QAAQlC,QAAQD,GACpC,IAAIrK,EAAOkJ,EAAYxL,QAAQJ,KAAK4e,EAAE3Y,QACtC,GAAIiH,IAAW,UAAW,CACxBxK,EAAKwK,OAAO,OAAQ,YAC5B,MAAa,GAAIA,IAAW,YAAa,CACjCxK,EAAKwK,OAAO,OAAQ,U,CAE5B,EAEIH,EAAQ+O,iBAAiB,aAAc42B,GACvC3lC,EAAQ+O,iBAAiB,YAAa42B,GACtC,OAAO7kC,C,CAGTpD,EAAa+nC,EAAM,CAAC,CAClB7oC,IAAK,SACL5K,MAAO,SAASmO,EAAOrP,EAAMkB,GAC3B,GAAI7B,KAAKkR,SAAS1K,OAAS,EAAG,CAC5BxG,KAAKkR,SAASC,KAAKnB,OAAOrP,EAAMkB,E,IAGnC,CACD4K,IAAK,UACL5K,MAAO,SAASiO,IAEd,OAAO4D,EAAgB,GAAI1T,KAAKgS,QAAQrL,SAAU3G,KAAKgS,QAAQlC,QAAQ9P,KAAK6P,S,GAE7E,CACDpD,IAAK,eACL5K,MAAO,SAAS2O,EAAahL,EAAM4L,GACjC,GAAI5L,aAAgB0vC,EAAU,CAC5BpnC,EAAKwnC,EAAK7zC,UAAUyC,WAAapD,OAAOqN,eAAemnC,EAAK7zC,WAAY,eAAgBzB,MAAMO,KAAKP,KAAMwF,EAAM4L,EACvH,KAAa,CACL,IAAIhJ,EAAQgJ,GAAO,KAAOpR,KAAKwG,SAAW4K,EAAIvF,OAAO7L,MACrD,IAAIooB,EAAQpoB,KAAKkG,MAAMkC,GACvBggB,EAAMla,OAAOsC,aAAahL,EAAM4iB,E,IAGnC,CACD3b,IAAK,WACL5K,MAAO,SAAS2P,EAASC,GACvB3D,EAAKwnC,EAAK7zC,UAAUyC,WAAapD,OAAOqN,eAAemnC,EAAK7zC,WAAY,WAAYzB,MAAMO,KAAKP,KAAMyR,GACrG,IAAI7H,EAAO5J,KAAK4J,KAChB,GAAIA,GAAQ,MAAQA,EAAK2Z,OAASvjB,MAAQ4J,EAAKoI,QAAQrL,WAAa3G,KAAKgS,QAAQrL,UAAYiD,EAAKiG,QAAQ1J,UAAYnG,KAAK6P,QAAQ1J,SAAWyD,EAAKiG,QAAQ5J,aAAa,kBAAoBjG,KAAK6P,QAAQ5J,aAAa,gBAAiB,CACrO2D,EAAK2H,aAAavR,MAClB4J,EAAK0H,Q,IAGR,CACD7E,IAAK,UACL5K,MAAO,SAASmgB,EAAQjZ,GACtB,GAAIA,EAAOiJ,QAAQrL,WAAa3G,KAAKgS,QAAQrL,SAAU,CACrD,IAAImb,EAAOpT,EAAYxL,QAAQL,OAAO7C,KAAKgS,QAAQF,cACnD/I,EAAOwI,aAAauQ,GACpB9hB,KAAKsjB,YAAYxB,E,CAEnBhU,EAAKwnC,EAAK7zC,UAAUyC,WAAapD,OAAOqN,eAAemnC,EAAK7zC,WAAY,UAAWzB,MAAMO,KAAKP,KAAM+I,E,KAIxG,OAAOusC,CACT,CAhGW,CAgGTplB,EAAYhtB,SAEdoyC,EAAK3uC,SAAW,OAChB2uC,EAAK5vC,MAAQgJ,EAAYxL,QAAQN,MAAM6N,WACvC6kC,EAAKnvC,QAAU,CAAC,KAAM,MACtBmvC,EAAKxjC,aAAe,YACpBwjC,EAAKvjC,gBAAkB,CAACmjC,GAExBp1C,EAAQo1C,SAAWA,EACnBp1C,EAAQoD,QAAUoyC,CAEX,EAEP,SAAgBz1C,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAGT,IAAI4xC,EAAQtzC,EAAoB,IAEhC,IAAIuzC,EAASplC,EAAuBmlC,GAEpC,SAASnlC,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,SAAS2C,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,SAASC,EAA2BrP,EAAMQ,GAAQ,IAAKR,EAAM,CAAE,MAAM,IAAIsP,eAAe,4DAA6D,CAAG,OAAO9O,WAAgBA,IAAS,iBAAmBA,IAAS,YAAcA,EAAOR,CAAK,CAE9O,SAASuP,EAAUC,EAAUC,GAAc,UAAWA,IAAe,YAAcA,IAAe,KAAM,CAAE,MAAM,IAAIL,UAAU,kEAAoEK,EAAY,CAAGD,EAAS9N,UAAYX,OAAO+B,OAAO2M,GAAcA,EAAW/N,UAAW,CAAE6C,YAAa,CAAEzC,MAAO0N,EAAUtO,WAAY,MAAO4L,SAAU,KAAM7L,aAAc,QAAW,GAAIwO,EAAY1O,OAAOmD,eAAiBnD,OAAOmD,eAAesL,EAAUC,GAAcD,EAASrL,UAAYsL,CAAW,CAE5e,IAAIimC,EAAS,SAAUC,GACrBpmC,EAAUmmC,EAAQC,GAElB,SAASD,IACPxmC,EAAgBjP,KAAMy1C,GAEtB,OAAOrmC,EAA2BpP,MAAOy1C,EAAOvxC,WAAapD,OAAOqN,eAAesnC,IAAS9lC,MAAM3P,KAAMuG,W,CAG1G,OAAOkvC,CACT,CAVa,CAUX/B,EAAOxwC,SAETuyC,EAAO9uC,SAAW,SAClB8uC,EAAOtvC,QAAU,CAAC,KAAM,KAExBrG,EAAQoD,QAAUuyC,CAEX,EAEP,SAAgB51C,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAGT,IAAI0L,EAAe,WAAc,SAASC,EAAiBzE,EAAQ0E,GAAS,IAAK,IAAIpN,EAAI,EAAGA,EAAIoN,EAAMjH,OAAQnG,IAAK,CAAE,IAAIqN,EAAaD,EAAMpN,GAAIqN,EAAWzM,WAAayM,EAAWzM,YAAc,MAAOyM,EAAW1M,aAAe,KAAM,GAAI,UAAW0M,EAAYA,EAAWb,SAAW,KAAM/L,OAAOC,eAAegI,EAAQ2E,EAAWjB,IAAKiB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAe,GAAID,EAAYJ,EAAiBG,EAAYlM,UAAWmM,GAAa,GAAIC,EAAaL,EAAiBG,EAAaE,GAAc,OAAOF,CAAY,CAAG,CAA5hB,GAEnB,IAAIG,EAAO,SAAS5M,EAAIK,EAAQC,EAAUuM,GAAY,GAAIxM,IAAW,KAAMA,EAASyM,SAASvM,UAAW,IAAIwM,EAAOnN,OAAOqL,yBAAyB5K,EAAQC,GAAW,GAAIyM,IAASX,UAAW,CAAE,IAAIY,EAASpN,OAAOqN,eAAe5M,GAAS,GAAI2M,IAAW,KAAM,CAAE,OAAOZ,SAAU,KAAQ,CAAE,OAAOpM,EAAIgN,EAAQ1M,EAAUuM,EAAU,CAAE,MAAQ,GAAI,UAAWE,EAAM,CAAE,OAAOA,EAAKpM,KAAM,KAAQ,CAAE,IAAIjB,EAASqN,EAAK/M,IAAK,GAAIN,IAAW0M,UAAW,CAAE,OAAOA,SAAU,CAAG,OAAO1M,EAAOL,KAAKwN,EAAU,CAAE,EAExe,IAAIc,EAAU1O,EAAoB,GAElC,IAAI2O,EAAWR,EAAuBO,GAEtC,SAASP,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,SAAS2C,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,SAASC,EAA2BrP,EAAMQ,GAAQ,IAAKR,EAAM,CAAE,MAAM,IAAIsP,eAAe,4DAA6D,CAAG,OAAO9O,WAAgBA,IAAS,iBAAmBA,IAAS,YAAcA,EAAOR,CAAK,CAE9O,SAASuP,EAAUC,EAAUC,GAAc,UAAWA,IAAe,YAAcA,IAAe,KAAM,CAAE,MAAM,IAAIL,UAAU,kEAAoEK,EAAY,CAAGD,EAAS9N,UAAYX,OAAO+B,OAAO2M,GAAcA,EAAW/N,UAAW,CAAE6C,YAAa,CAAEzC,MAAO0N,EAAUtO,WAAY,MAAO4L,SAAU,KAAM7L,aAAc,QAAW,GAAIwO,EAAY1O,OAAOmD,eAAiBnD,OAAOmD,eAAesL,EAAUC,GAAcD,EAASrL,UAAYsL,CAAW,CAE5e,IAAImmC,EAAS,SAAUtzB,GACrB/S,EAAUqmC,EAAQtzB,GAElB,SAASszB,IACP1mC,EAAgBjP,KAAM21C,GAEtB,OAAOvmC,EAA2BpP,MAAO21C,EAAOzxC,WAAapD,OAAOqN,eAAewnC,IAAShmC,MAAM3P,KAAMuG,W,CAG1GgH,EAAaooC,EAAQ,KAAM,CAAC,CAC1BlpC,IAAK,SACL5K,MAAO,SAASgB,EAAOhB,GACrB,GAAIA,IAAU,QAAS,CACrB,OAAOmV,SAASC,cAAc,MACtC,MAAa,GAAIpV,IAAU,MAAO,CAC1B,OAAOmV,SAASC,cAAc,MACtC,KAAa,CACL,OAAOnJ,EAAK6nC,EAAOzxC,WAAapD,OAAOqN,eAAewnC,GAAS,SAAU31C,MAAMO,KAAKP,KAAM6B,E,IAG7F,CACD4K,IAAK,UACL5K,MAAO,SAASiO,EAAQD,GACtB,GAAIA,EAAQ1J,UAAY,MAAO,MAAO,MACtC,GAAI0J,EAAQ1J,UAAY,MAAO,MAAO,QACtC,OAAOmH,S,KAIX,OAAOqoC,CACT,CA9Ba,CA8BX7mC,EAAS5L,SAEXyyC,EAAOhvC,SAAW,SAClBgvC,EAAOxvC,QAAU,CAAC,MAAO,OAEzBrG,EAAQoD,QAAUyyC,CAEX,EAEP,SAAgB91C,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAGT,IAAIgN,EAAU1O,EAAoB,GAElC,IAAI2O,EAAWR,EAAuBO,GAEtC,SAASP,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,SAAS2C,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,SAASC,EAA2BrP,EAAMQ,GAAQ,IAAKR,EAAM,CAAE,MAAM,IAAIsP,eAAe,4DAA6D,CAAG,OAAO9O,WAAgBA,IAAS,iBAAmBA,IAAS,YAAcA,EAAOR,CAAK,CAE9O,SAASuP,EAAUC,EAAUC,GAAc,UAAWA,IAAe,YAAcA,IAAe,KAAM,CAAE,MAAM,IAAIL,UAAU,kEAAoEK,EAAY,CAAGD,EAAS9N,UAAYX,OAAO+B,OAAO2M,GAAcA,EAAW/N,UAAW,CAAE6C,YAAa,CAAEzC,MAAO0N,EAAUtO,WAAY,MAAO4L,SAAU,KAAM7L,aAAc,QAAW,GAAIwO,EAAY1O,OAAOmD,eAAiBnD,OAAOmD,eAAesL,EAAUC,GAAcD,EAASrL,UAAYsL,CAAW,CAE5e,IAAIomC,EAAS,SAAUvzB,GACrB/S,EAAUsmC,EAAQvzB,GAElB,SAASuzB,IACP3mC,EAAgBjP,KAAM41C,GAEtB,OAAOxmC,EAA2BpP,MAAO41C,EAAO1xC,WAAapD,OAAOqN,eAAeynC,IAASjmC,MAAM3P,KAAMuG,W,CAG1G,OAAOqvC,CACT,CAVa,CAUX9mC,EAAS5L,SAEX0yC,EAAOjvC,SAAW,SAClBivC,EAAOzvC,QAAU,IAEjBrG,EAAQoD,QAAU0yC,CAEX,EAEP,SAAgB/1C,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAGT,IAAIgN,EAAU1O,EAAoB,GAElC,IAAI2O,EAAWR,EAAuBO,GAEtC,SAASP,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,SAAS2C,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,SAASC,EAA2BrP,EAAMQ,GAAQ,IAAKR,EAAM,CAAE,MAAM,IAAIsP,eAAe,4DAA6D,CAAG,OAAO9O,WAAgBA,IAAS,iBAAmBA,IAAS,YAAcA,EAAOR,CAAK,CAE9O,SAASuP,EAAUC,EAAUC,GAAc,UAAWA,IAAe,YAAcA,IAAe,KAAM,CAAE,MAAM,IAAIL,UAAU,kEAAoEK,EAAY,CAAGD,EAAS9N,UAAYX,OAAO+B,OAAO2M,GAAcA,EAAW/N,UAAW,CAAE6C,YAAa,CAAEzC,MAAO0N,EAAUtO,WAAY,MAAO4L,SAAU,KAAM7L,aAAc,QAAW,GAAIwO,EAAY1O,OAAOmD,eAAiBnD,OAAOmD,eAAesL,EAAUC,GAAcD,EAASrL,UAAYsL,CAAW,CAE5e,IAAIqmC,EAAY,SAAUxzB,GACxB/S,EAAUumC,EAAWxzB,GAErB,SAASwzB,IACP5mC,EAAgBjP,KAAM61C,GAEtB,OAAOzmC,EAA2BpP,MAAO61C,EAAU3xC,WAAapD,OAAOqN,eAAe0nC,IAAYlmC,MAAM3P,KAAMuG,W,CAGhH,OAAOsvC,CACT,CAVgB,CAUd/mC,EAAS5L,SAEX2yC,EAAUlvC,SAAW,YACrBkvC,EAAU1vC,QAAU,IAEpBrG,EAAQoD,QAAU2yC,CAEX,EAEP,SAAgBh2C,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAGT,IAAI0L,EAAe,WAAc,SAASC,EAAiBzE,EAAQ0E,GAAS,IAAK,IAAIpN,EAAI,EAAGA,EAAIoN,EAAMjH,OAAQnG,IAAK,CAAE,IAAIqN,EAAaD,EAAMpN,GAAIqN,EAAWzM,WAAayM,EAAWzM,YAAc,MAAOyM,EAAW1M,aAAe,KAAM,GAAI,UAAW0M,EAAYA,EAAWb,SAAW,KAAM/L,OAAOC,eAAegI,EAAQ2E,EAAWjB,IAAKiB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAe,GAAID,EAAYJ,EAAiBG,EAAYlM,UAAWmM,GAAa,GAAIC,EAAaL,EAAiBG,EAAaE,GAAc,OAAOF,CAAY,CAAG,CAA5hB,GAEnB,IAAIG,EAAO,SAAS5M,EAAIK,EAAQC,EAAUuM,GAAY,GAAIxM,IAAW,KAAMA,EAASyM,SAASvM,UAAW,IAAIwM,EAAOnN,OAAOqL,yBAAyB5K,EAAQC,GAAW,GAAIyM,IAASX,UAAW,CAAE,IAAIY,EAASpN,OAAOqN,eAAe5M,GAAS,GAAI2M,IAAW,KAAM,CAAE,OAAOZ,SAAU,KAAQ,CAAE,OAAOpM,EAAIgN,EAAQ1M,EAAUuM,EAAU,CAAE,MAAQ,GAAI,UAAWE,EAAM,CAAE,OAAOA,EAAKpM,KAAM,KAAQ,CAAE,IAAIjB,EAASqN,EAAK/M,IAAK,GAAIN,IAAW0M,UAAW,CAAE,OAAOA,SAAU,CAAG,OAAO1M,EAAOL,KAAKwN,EAAU,CAAE,EAExe,IAAIU,EAAatO,EAAoB,GAErC,IAAIuO,EAAcJ,EAAuBG,GAEzC,IAAI8jC,EAAQpyC,EAAoB,IAEhC,SAASmO,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,SAAS2C,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,SAASC,EAA2BrP,EAAMQ,GAAQ,IAAKR,EAAM,CAAE,MAAM,IAAIsP,eAAe,4DAA6D,CAAG,OAAO9O,WAAgBA,IAAS,iBAAmBA,IAAS,YAAcA,EAAOR,CAAK,CAE9O,SAASuP,EAAUC,EAAUC,GAAc,UAAWA,IAAe,YAAcA,IAAe,KAAM,CAAE,MAAM,IAAIL,UAAU,kEAAoEK,EAAY,CAAGD,EAAS9N,UAAYX,OAAO+B,OAAO2M,GAAcA,EAAW/N,UAAW,CAAE6C,YAAa,CAAEzC,MAAO0N,EAAUtO,WAAY,MAAO4L,SAAU,KAAM7L,aAAc,QAAW,GAAIwO,EAAY1O,OAAOmD,eAAiBnD,OAAOmD,eAAesL,EAAUC,GAAcD,EAASrL,UAAYsL,CAAW,CAE5e,IAAIsmC,EAAa,CAAC,MAAO,SAAU,SAEnC,IAAIC,EAAQ,SAAUrmC,GACpBJ,EAAUymC,EAAOrmC,GAEjB,SAASqmC,IACP9mC,EAAgBjP,KAAM+1C,GAEtB,OAAO3mC,EAA2BpP,MAAO+1C,EAAM7xC,WAAapD,OAAOqN,eAAe4nC,IAAQpmC,MAAM3P,KAAMuG,W,CAGxGgH,EAAawoC,EAAO,CAAC,CACnBtpC,IAAK,SACL5K,MAAO,SAASmO,EAAOrP,EAAMkB,GAC3B,GAAIi0C,EAAWrqC,QAAQ9K,IAAQ,EAAI,CACjC,GAAIkB,EAAO,CACT7B,KAAK6P,QAAQgF,aAAalU,EAAMkB,EAC1C,KAAe,CACL7B,KAAK6P,QAAQoS,gBAAgBthB,E,CAEvC,KAAa,CACLmN,EAAKioC,EAAMt0C,UAAUyC,WAAapD,OAAOqN,eAAe4nC,EAAMt0C,WAAY,SAAUzB,MAAMO,KAAKP,KAAMW,EAAMkB,E,KAG7G,CAAC,CACH4K,IAAK,SACL5K,MAAO,SAASgB,EAAOhB,GACrB,IAAIuD,EAAO0I,EAAKioC,EAAM7xC,WAAapD,OAAOqN,eAAe4nC,GAAQ,SAAU/1C,MAAMO,KAAKP,KAAM6B,GAC5F,UAAWA,IAAU,SAAU,CAC7BuD,EAAKyP,aAAa,MAAO7U,KAAKo3B,SAASv1B,G,CAEzC,OAAOuD,C,GAER,CACDqH,IAAK,UACL5K,MAAO,SAASiO,EAAQD,GACtB,OAAOimC,EAAW9sC,QAAO,SAAU8G,EAASG,GAC1C,GAAIJ,EAAQmpB,aAAa/oB,GAAY,CACnCH,EAAQG,GAAaJ,EAAQ5J,aAAagK,E,CAE5C,OAAOH,C,GACN,G,GAEJ,CACDrD,IAAK,QACL5K,MAAO,SAASqD,EAAMoyB,GACpB,MAAQ,qBAAqBtG,KAAKsG,IAAQ,yBAAyBtG,KAAKsG,E,GAGzE,CACD7qB,IAAK,WACL5K,MAAO,SAASu1B,EAASE,GACvB,OAAO,EAAIib,EAAMnb,UAAUE,EAAK,CAAC,OAAQ,QAAS,SAAWA,EAAM,M,GAEpE,CACD7qB,IAAK,QACL5K,MAAO,SAASA,EAAMgO,GACpB,OAAOA,EAAQ5J,aAAa,M,KAIhC,OAAO8vC,CACT,CA5DY,CA4DVrnC,EAAYxL,QAAQG,OAEtB0yC,EAAMpvC,SAAW,QACjBovC,EAAM5vC,QAAU,MAEhBrG,EAAQoD,QAAU6yC,CAEX,EAEP,SAAgBl2C,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAGT,IAAI0L,EAAe,WAAc,SAASC,EAAiBzE,EAAQ0E,GAAS,IAAK,IAAIpN,EAAI,EAAGA,EAAIoN,EAAMjH,OAAQnG,IAAK,CAAE,IAAIqN,EAAaD,EAAMpN,GAAIqN,EAAWzM,WAAayM,EAAWzM,YAAc,MAAOyM,EAAW1M,aAAe,KAAM,GAAI,UAAW0M,EAAYA,EAAWb,SAAW,KAAM/L,OAAOC,eAAegI,EAAQ2E,EAAWjB,IAAKiB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAe,GAAID,EAAYJ,EAAiBG,EAAYlM,UAAWmM,GAAa,GAAIC,EAAaL,EAAiBG,EAAaE,GAAc,OAAOF,CAAY,CAAG,CAA5hB,GAEnB,IAAIG,EAAO,SAAS5M,EAAIK,EAAQC,EAAUuM,GAAY,GAAIxM,IAAW,KAAMA,EAASyM,SAASvM,UAAW,IAAIwM,EAAOnN,OAAOqL,yBAAyB5K,EAAQC,GAAW,GAAIyM,IAASX,UAAW,CAAE,IAAIY,EAASpN,OAAOqN,eAAe5M,GAAS,GAAI2M,IAAW,KAAM,CAAE,OAAOZ,SAAU,KAAQ,CAAE,OAAOpM,EAAIgN,EAAQ1M,EAAUuM,EAAU,CAAE,MAAQ,GAAI,UAAWE,EAAM,CAAE,OAAOA,EAAKpM,KAAM,KAAQ,CAAE,IAAIjB,EAASqN,EAAK/M,IAAK,GAAIN,IAAW0M,UAAW,CAAE,OAAOA,SAAU,CAAG,OAAO1M,EAAOL,KAAKwN,EAAU,CAAE,EAExe,IAAIoU,EAAShiB,EAAoB,GAEjC,IAAIoyC,EAAQpyC,EAAoB,IAEhC,IAAIqyC,EAASlkC,EAAuBikC,GAEpC,SAASjkC,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,SAAS2C,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,SAASC,EAA2BrP,EAAMQ,GAAQ,IAAKR,EAAM,CAAE,MAAM,IAAIsP,eAAe,4DAA6D,CAAG,OAAO9O,WAAgBA,IAAS,iBAAmBA,IAAS,YAAcA,EAAOR,CAAK,CAE9O,SAASuP,EAAUC,EAAUC,GAAc,UAAWA,IAAe,YAAcA,IAAe,KAAM,CAAE,MAAM,IAAIL,UAAU,kEAAoEK,EAAY,CAAGD,EAAS9N,UAAYX,OAAO+B,OAAO2M,GAAcA,EAAW/N,UAAW,CAAE6C,YAAa,CAAEzC,MAAO0N,EAAUtO,WAAY,MAAO4L,SAAU,KAAM7L,aAAc,QAAW,GAAIwO,EAAY1O,OAAOmD,eAAiBnD,OAAOmD,eAAesL,EAAUC,GAAcD,EAASrL,UAAYsL,CAAW,CAE5e,IAAIsmC,EAAa,CAAC,SAAU,SAE5B,IAAIE,EAAQ,SAAUC,GACpB3mC,EAAU0mC,EAAOC,GAEjB,SAASD,IACP/mC,EAAgBjP,KAAMg2C,GAEtB,OAAO5mC,EAA2BpP,MAAOg2C,EAAM9xC,WAAapD,OAAOqN,eAAe6nC,IAAQrmC,MAAM3P,KAAMuG,W,CAGxGgH,EAAayoC,EAAO,CAAC,CACnBvpC,IAAK,SACL5K,MAAO,SAASmO,EAAOrP,EAAMkB,GAC3B,GAAIi0C,EAAWrqC,QAAQ9K,IAAQ,EAAI,CACjC,GAAIkB,EAAO,CACT7B,KAAK6P,QAAQgF,aAAalU,EAAMkB,EAC1C,KAAe,CACL7B,KAAK6P,QAAQoS,gBAAgBthB,E,CAEvC,KAAa,CACLmN,EAAKkoC,EAAMv0C,UAAUyC,WAAapD,OAAOqN,eAAe6nC,EAAMv0C,WAAY,SAAUzB,MAAMO,KAAKP,KAAMW,EAAMkB,E,KAG7G,CAAC,CACH4K,IAAK,SACL5K,MAAO,SAASgB,EAAOhB,GACrB,IAAIuD,EAAO0I,EAAKkoC,EAAM9xC,WAAapD,OAAOqN,eAAe6nC,GAAQ,SAAUh2C,MAAMO,KAAKP,KAAM6B,GAC5FuD,EAAKyP,aAAa,cAAe,KACjCzP,EAAKyP,aAAa,kBAAmB,MACrCzP,EAAKyP,aAAa,MAAO7U,KAAKo3B,SAASv1B,IACvC,OAAOuD,C,GAER,CACDqH,IAAK,UACL5K,MAAO,SAASiO,EAAQD,GACtB,OAAOimC,EAAW9sC,QAAO,SAAU8G,EAASG,GAC1C,GAAIJ,EAAQmpB,aAAa/oB,GAAY,CACnCH,EAAQG,GAAaJ,EAAQ5J,aAAagK,E,CAE5C,OAAOH,C,GACN,G,GAEJ,CACDrD,IAAK,WACL5K,MAAO,SAASu1B,EAASE,GACvB,OAAOkb,EAAOtvC,QAAQk0B,SAASE,E,GAEhC,CACD7qB,IAAK,QACL5K,MAAO,SAASA,EAAMgO,GACpB,OAAOA,EAAQ5J,aAAa,M,KAIhC,OAAO+vC,CACT,CAtDY,CAsDV7zB,EAAO/U,YAET4oC,EAAMrvC,SAAW,QACjBqvC,EAAMlvC,UAAY,WAClBkvC,EAAM7vC,QAAU,SAEhBrG,EAAQoD,QAAU8yC,CAEX,EAEP,SAAgBn2C,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAET/B,EAAQoD,QAAUpD,EAAQo2C,YAAc5oC,UAExC,IAAIC,EAAe,WAAc,SAASC,EAAiBzE,EAAQ0E,GAAS,IAAK,IAAIpN,EAAI,EAAGA,EAAIoN,EAAMjH,OAAQnG,IAAK,CAAE,IAAIqN,EAAaD,EAAMpN,GAAIqN,EAAWzM,WAAayM,EAAWzM,YAAc,MAAOyM,EAAW1M,aAAe,KAAM,GAAI,UAAW0M,EAAYA,EAAWb,SAAW,KAAM/L,OAAOC,eAAegI,EAAQ2E,EAAWjB,IAAKiB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAe,GAAID,EAAYJ,EAAiBG,EAAYlM,UAAWmM,GAAa,GAAIC,EAAaL,EAAiBG,EAAaE,GAAc,OAAOF,CAAY,CAAG,CAA5hB,GAEnB,IAAIG,EAAO,SAAS5M,EAAIK,EAAQC,EAAUuM,GAAY,GAAIxM,IAAW,KAAMA,EAASyM,SAASvM,UAAW,IAAIwM,EAAOnN,OAAOqL,yBAAyB5K,EAAQC,GAAW,GAAIyM,IAASX,UAAW,CAAE,IAAIY,EAASpN,OAAOqN,eAAe5M,GAAS,GAAI2M,IAAW,KAAM,CAAE,OAAOZ,SAAU,KAAQ,CAAE,OAAOpM,EAAIgN,EAAQ1M,EAAUuM,EAAU,CAAE,MAAQ,GAAI,UAAWE,EAAM,CAAE,OAAOA,EAAKpM,KAAM,KAAQ,CAAE,IAAIjB,EAASqN,EAAK/M,IAAK,GAAIN,IAAW0M,UAAW,CAAE,OAAOA,SAAU,CAAG,OAAO1M,EAAOL,KAAKwN,EAAU,CAAE,EAExe,IAAI+rB,EAAS35B,EAAoB,IAEjC,IAAI45B,EAAUzrB,EAAuBwrB,GAErC,IAAIhJ,EAAS3wB,EAAoB,GAEjC,IAAI4wB,EAAUziB,EAAuBwiB,GAErC,IAAI5d,EAAU/S,EAAoB,GAElC,IAAIgT,EAAW7E,EAAuB4E,GAEtC,SAAS5E,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,SAAS2C,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,SAASC,EAA2BrP,EAAMQ,GAAQ,IAAKR,EAAM,CAAE,MAAM,IAAIsP,eAAe,4DAA6D,CAAG,OAAO9O,WAAgBA,IAAS,iBAAmBA,IAAS,YAAcA,EAAOR,CAAK,CAE9O,SAASuP,EAAUC,EAAUC,GAAc,UAAWA,IAAe,YAAcA,IAAe,KAAM,CAAE,MAAM,IAAIL,UAAU,kEAAoEK,EAAY,CAAGD,EAAS9N,UAAYX,OAAO+B,OAAO2M,GAAcA,EAAW/N,UAAW,CAAE6C,YAAa,CAAEzC,MAAO0N,EAAUtO,WAAY,MAAO4L,SAAU,KAAM7L,aAAc,QAAW,GAAIwO,EAAY1O,OAAOmD,eAAiBnD,OAAOmD,eAAesL,EAAUC,GAAcD,EAASrL,UAAYsL,CAAW,CAE5e,IAAI0mC,EAAc,SAAUC,GAC1B7mC,EAAU4mC,EAAaC,GAEvB,SAASD,IACPjnC,EAAgBjP,KAAMk2C,GAEtB,OAAO9mC,EAA2BpP,MAAOk2C,EAAYhyC,WAAapD,OAAOqN,eAAe+nC,IAAcvmC,MAAM3P,KAAMuG,W,CAGpHgH,EAAa2oC,EAAa,KAAM,CAAC,CAC/BzpC,IAAK,SACL5K,MAAO,SAASgB,EAAOhB,GACrB,IAAIuD,EAAO0I,EAAKooC,EAAYhyC,WAAapD,OAAOqN,eAAe+nC,GAAc,SAAUl2C,MAAMO,KAAKP,KAAM6B,GACxG,UAAWA,IAAU,SAAU,CAC7BwtC,OAAO+G,MAAMC,OAAOx0C,EAAOuD,EAAM,CAC/BkxC,aAAc,MACdC,WAAY,SAEdnxC,EAAKyP,aAAa,aAAchT,E,CAElC,OAAOuD,C,GAER,CACDqH,IAAK,QACL5K,MAAO,SAASA,EAAMgO,GACpB,OAAOA,EAAQ5J,aAAa,a,KAIhC,OAAOiwC,CACT,CA9BkB,CA8BhBnc,EAAQ72B,SAEVgzC,EAAYvvC,SAAW,UACvBuvC,EAAYpvC,UAAY,aACxBovC,EAAY/vC,QAAU,OAEtB,IAAIqwC,EAAU,SAAUplB,GACtB9hB,EAAUknC,EAASplB,GAEnB7jB,EAAaipC,EAAS,KAAM,CAAC,CAC3B/pC,IAAK,WACL5K,MAAO,SAASmB,IACd+tB,EAAQ7tB,QAAQF,SAASkzC,EAAa,K,KAI1C,SAASM,IACPvnC,EAAgBjP,KAAMw2C,GAEtB,IAAI7lC,EAASvB,EAA2BpP,MAAOw2C,EAAQtyC,WAAapD,OAAOqN,eAAeqoC,IAAUj2C,KAAKP,OAEzG,GAAIqvC,OAAO+G,OAAS,KAAM,CACxB,MAAM,IAAIzxC,MAAM,iC,CAElB,OAAOgM,C,CAGT,OAAO6lC,CACT,CAtBc,CAsBZrjC,EAASjQ,SAEXpD,EAAQo2C,YAAcA,EACtBp2C,EAAQoD,QAAUszC,CAEX,EAEP,SAAgB32C,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAET/B,EAAQoD,QAAUpD,EAAQ22C,UAAY32C,EAAQwiB,UAAYhV,UAE1D,IAAIC,EAAe,WAAc,SAASC,EAAiBzE,EAAQ0E,GAAS,IAAK,IAAIpN,EAAI,EAAGA,EAAIoN,EAAMjH,OAAQnG,IAAK,CAAE,IAAIqN,EAAaD,EAAMpN,GAAIqN,EAAWzM,WAAayM,EAAWzM,YAAc,MAAOyM,EAAW1M,aAAe,KAAM,GAAI,UAAW0M,EAAYA,EAAWb,SAAW,KAAM/L,OAAOC,eAAegI,EAAQ2E,EAAWjB,IAAKiB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAe,GAAID,EAAYJ,EAAiBG,EAAYlM,UAAWmM,GAAa,GAAIC,EAAaL,EAAiBG,EAAaE,GAAc,OAAOF,CAAY,CAAG,CAA5hB,GAEnB,IAAIG,EAAO,SAAS5M,EAAIK,EAAQC,EAAUuM,GAAY,GAAIxM,IAAW,KAAMA,EAASyM,SAASvM,UAAW,IAAIwM,EAAOnN,OAAOqL,yBAAyB5K,EAAQC,GAAW,GAAIyM,IAASX,UAAW,CAAE,IAAIY,EAASpN,OAAOqN,eAAe5M,GAAS,GAAI2M,IAAW,KAAM,CAAE,OAAOZ,SAAU,KAAQ,CAAE,OAAOpM,EAAIgN,EAAQ1M,EAAUuM,EAAU,CAAE,MAAQ,GAAI,UAAWE,EAAM,CAAE,OAAOA,EAAKpM,KAAM,KAAQ,CAAE,IAAIjB,EAASqN,EAAK/M,IAAK,GAAIN,IAAW0M,UAAW,CAAE,OAAOA,SAAU,CAAG,OAAO1M,EAAOL,KAAKwN,EAAU,CAAE,EAExe,IAAIU,EAAatO,EAAoB,GAErC,IAAIuO,EAAcJ,EAAuBG,GAEzC,IAAIqiB,EAAS3wB,EAAoB,GAEjC,IAAI4wB,EAAUziB,EAAuBwiB,GAErC,IAAI5d,EAAU/S,EAAoB,GAElC,IAAIgT,EAAW7E,EAAuB4E,GAEtC,IAAI0Q,EAAQzjB,EAAoB,IAEhC,IAAI0jB,EAASvV,EAAuBsV,GAEpC,SAAStV,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,SAAS2C,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,SAASC,EAA2BrP,EAAMQ,GAAQ,IAAKR,EAAM,CAAE,MAAM,IAAIsP,eAAe,4DAA6D,CAAG,OAAO9O,WAAgBA,IAAS,iBAAmBA,IAAS,YAAcA,EAAOR,CAAK,CAE9O,SAASuP,EAAUC,EAAUC,GAAc,UAAWA,IAAe,YAAcA,IAAe,KAAM,CAAE,MAAM,IAAIL,UAAU,kEAAoEK,EAAY,CAAGD,EAAS9N,UAAYX,OAAO+B,OAAO2M,GAAcA,EAAW/N,UAAW,CAAE6C,YAAa,CAAEzC,MAAO0N,EAAUtO,WAAY,MAAO4L,SAAU,KAAM7L,aAAc,QAAW,GAAIwO,EAAY1O,OAAOmD,eAAiBnD,OAAOmD,eAAesL,EAAUC,GAAcD,EAASrL,UAAYsL,CAAW,CAE5e,IAAIknC,EAAkB,SAAUC,GAC9BrnC,EAAUonC,EAAiBC,GAE3B,SAASD,IACPznC,EAAgBjP,KAAM02C,GAEtB,OAAOtnC,EAA2BpP,MAAO02C,EAAgBxyC,WAAapD,OAAOqN,eAAeuoC,IAAkB/mC,MAAM3P,KAAMuG,W,CAG5HgH,EAAampC,EAAiB,CAAC,CAC7BjqC,IAAK,cACL5K,MAAO,SAAS6qB,EAAYnc,GAC1BvQ,KAAK6P,QAAQ2S,YAAcxiB,KAAK6P,QAAQ2S,YACxCxiB,KAAK4P,SACL9B,EAAK4oC,EAAgBj1C,UAAUyC,WAAapD,OAAOqN,eAAeuoC,EAAgBj1C,WAAY,cAAezB,MAAMO,KAAKP,KAAMuQ,E,GAE/H,CACD9D,IAAK,YACL5K,MAAO,SAAS+0C,EAAUC,GACxB,IAAI/uC,EAAO9H,KAAK6P,QAAQ2S,YACxB,GAAIxiB,KAAK82C,aAAehvC,EAAM,CAC5B,GAAIA,EAAK2M,OAAOjO,OAAS,GAAKxG,KAAK82C,YAAc,KAAM,CACrD92C,KAAK6P,QAAQ2E,UAAYqiC,EAAW/uC,GACpC9H,KAAK6P,QAAQ0hB,YACbvxB,KAAK4P,Q,CAEP5P,KAAK82C,WAAahvC,C,MAKxB,OAAO4uC,CACT,CAhCsB,CAgCpB7yB,EAAO3gB,SAETwzC,EAAgB5vC,UAAY,YAE5B,IAAI2vC,EAAY,IAAI/nC,EAAYxL,QAAQQ,WAAWE,MAAM,QAAS,OAAQ,CACxE8B,MAAOgJ,EAAYxL,QAAQN,MAAMkD,SAGnC,IAAIixC,EAAS,SAAU3lB,GACrB9hB,EAAUynC,EAAQ3lB,GAElB7jB,EAAawpC,EAAQ,KAAM,CAAC,CAC1BtqC,IAAK,WACL5K,MAAO,SAASmB,IACd+tB,EAAQ7tB,QAAQF,SAASyzC,EAAW,MACpC1lB,EAAQ7tB,QAAQF,SAAS0zC,EAAiB,K,KAI9C,SAASK,EAAO/2B,EAAOrT,GACrBsC,EAAgBjP,KAAM+2C,GAEtB,IAAIpmC,EAASvB,EAA2BpP,MAAO+2C,EAAO7yC,WAAapD,OAAOqN,eAAe4oC,IAASx2C,KAAKP,KAAMggB,EAAOrT,IAEpH,UAAWgE,EAAOhE,QAAQiqC,YAAc,WAAY,CAClD,MAAM,IAAIjyC,MAAM,4F,CAElB,IAAIqyC,EAAQ,KACZrmC,EAAOqP,MAAMtK,GAAGqb,EAAQ7tB,QAAQyS,OAAOkK,iBAAiB,WACtDo3B,aAAaD,GACbA,EAAQ5vB,YAAW,WACjBzW,EAAOimC,YACPI,EAAQ,IAChB,GAASrmC,EAAOhE,QAAQuqC,SACxB,IACIvmC,EAAOimC,YACP,OAAOjmC,C,CAGTpD,EAAawpC,EAAQ,CAAC,CACpBtqC,IAAK,YACL5K,MAAO,SAAS+0C,IACd,IAAIv/B,EAASrX,KAEb,GAAIA,KAAKggB,MAAM7K,UAAU2R,UAAW,OACpC9mB,KAAKggB,MAAMzJ,OAAOwa,EAAQ7tB,QAAQ4U,QAAQmE,MAC1C,IAAI7F,EAAQpW,KAAKggB,MAAMhI,eACvBhY,KAAKggB,MAAMhL,OAAOnE,YAAY6lC,GAAiBxvC,SAAQ,SAAU81B,GAC/DA,EAAK4Z,UAAUv/B,EAAO1K,QAAQiqC,UACtC,IACM52C,KAAKggB,MAAMzJ,OAAOwa,EAAQ7tB,QAAQ4U,QAAQO,QAC1C,GAAIjC,GAAS,KAAM,CACjBpW,KAAKggB,MAAM5H,aAAahC,EAAO2a,EAAQ7tB,QAAQ4U,QAAQO,O,MAK7D,OAAO0+B,CACT,CAlDa,CAkDX5jC,EAASjQ,SAEX6zC,EAAO36B,SAAW,CAChBw6B,UAAW,WACT,GAAIvH,OAAO8H,MAAQ,KAAM,OAAO,KAChC,OAAO,SAAUrvC,GACf,IAAIizB,EAASsU,OAAO8H,KAAKC,cAActvC,GACvC,OAAOizB,EAAOl5B,KACpB,CACA,CANa,GAOXq1C,SAAU,KAGZp3C,EAAQwiB,UAAYo0B,EACpB52C,EAAQ22C,UAAYA,EACpB32C,EAAQoD,QAAU6zC,CAEX,EAEP,SAAgBl3C,EAAQC,GAExBD,EAAOC,QAAU,4LAEV,EAEP,SAAgBD,EAAQC,GAExBD,EAAOC,QAAU,6LAEV,EAEP,SAAgBD,EAAQC,GAExBD,EAAOC,QAAU,6LAEV,EAEP,SAAgBD,EAAQC,GAExBD,EAAOC,QAAU,6LAEV,EAEP,SAAgBD,EAAQC,GAExBD,EAAOC,QAAU,86EAEV,EAEP,SAAgBD,EAAQC,GAExBD,EAAOC,QAAU,oTAEV,EAEP,SAAgBD,EAAQC,GAExBD,EAAOC,QAAU,+QAEV,EAEP,SAAgBD,EAAQC,GAExBD,EAAOC,QAAU,oUAEV,EAEP,SAAgBD,EAAQC,GAExBD,EAAOC,QAAU,kPAEV,EAEP,SAAgBD,EAAQC,GAExBD,EAAOC,QAAU,iVAEV,EAEP,SAAgBD,EAAQC,GAExBD,EAAOC,QAAU,gVAEV,EAEP,SAAgBD,EAAQC,GAExBD,EAAOC,QAAU,mOAEV,EAEP,SAAgBD,EAAQC,GAExBD,EAAOC,QAAU,iOAEV,EAEP,SAAgBD,EAAQC,GAExBD,EAAOC,QAAU,wWAEV,EAEP,SAAgBD,EAAQC,GAExBD,EAAOC,QAAU,2YAEV,EAEP,SAAgBD,EAAQC,GAExBD,EAAOC,QAAU,w3CAEV,EAEP,SAAgBD,EAAQC,GAExBD,EAAOC,QAAU,8jBAEV,EAEP,SAAgBD,EAAQC,GAExBD,EAAOC,QAAU,8nBAEV,EAEP,SAAgBD,EAAQC,GAExBD,EAAOC,QAAU,8LAEV,EAEP,SAAgBD,EAAQC,GAExBD,EAAOC,QAAU,wOAEV,EAEP,SAAgBD,EAAQC,GAExBD,EAAOC,QAAU,uQAEV,EAEP,SAAgBD,EAAQC,GAExBD,EAAOC,QAAU,6PAEV,EAEP,SAAgBD,EAAQC,GAExBD,EAAOC,QAAU,6ZAEV,EAEP,SAAgBD,EAAQC,GAExBD,EAAOC,QAAU,ksBAEV,EAEP,SAAgBD,EAAQC,GAExBD,EAAOC,QAAU,qVAEV,EAEP,SAAgBD,EAAQC,GAExBD,EAAOC,QAAU,2XAEV,EAEP,SAAgBD,EAAQC,GAExBD,EAAOC,QAAU,sqBAEV,EAEP,SAAgBD,EAAQC,GAExBD,EAAOC,QAAU,+iBAEV,EAEP,SAAgBD,EAAQC,GAExBD,EAAOC,QAAU,2gBAEV,EAEP,SAAgBD,EAAQC,GAExBD,EAAOC,QAAU,8LAEV,EAEP,SAAgBD,EAAQC,GAExBD,EAAOC,QAAU,6qBAEV,EAEP,SAAgBD,EAAQC,GAExBD,EAAOC,QAAU,kKAEV,EAEP,SAAgBD,EAAQC,EAASK,GAKjCW,OAAOC,eAAejB,EAAS,aAAc,CAC3C+B,MAAO,OAET/B,EAAQoD,QAAUpD,EAAQu3C,cAAgB/pC,UAE1C,IAAIQ,EAAO,SAAS5M,EAAIK,EAAQC,EAAUuM,GAAY,GAAIxM,IAAW,KAAMA,EAASyM,SAASvM,UAAW,IAAIwM,EAAOnN,OAAOqL,yBAAyB5K,EAAQC,GAAW,GAAIyM,IAASX,UAAW,CAAE,IAAIY,EAASpN,OAAOqN,eAAe5M,GAAS,GAAI2M,IAAW,KAAM,CAAE,OAAOZ,SAAU,KAAQ,CAAE,OAAOpM,EAAIgN,EAAQ1M,EAAUuM,EAAU,CAAE,MAAQ,GAAI,UAAWE,EAAM,CAAE,OAAOA,EAAKpM,KAAM,KAAQ,CAAE,IAAIjB,EAASqN,EAAK/M,IAAK,GAAIN,IAAW0M,UAAW,CAAE,OAAOA,SAAU,CAAG,OAAO1M,EAAOL,KAAKwN,EAAU,CAAE,EAExe,IAAIR,EAAe,WAAc,SAASC,EAAiBzE,EAAQ0E,GAAS,IAAK,IAAIpN,EAAI,EAAGA,EAAIoN,EAAMjH,OAAQnG,IAAK,CAAE,IAAIqN,EAAaD,EAAMpN,GAAIqN,EAAWzM,WAAayM,EAAWzM,YAAc,MAAOyM,EAAW1M,aAAe,KAAM,GAAI,UAAW0M,EAAYA,EAAWb,SAAW,KAAM/L,OAAOC,eAAegI,EAAQ2E,EAAWjB,IAAKiB,EAAY,CAAE,CAAG,OAAO,SAAUC,EAAaC,EAAYC,GAAe,GAAID,EAAYJ,EAAiBG,EAAYlM,UAAWmM,GAAa,GAAIC,EAAaL,EAAiBG,EAAaE,GAAc,OAAOF,CAAY,CAAG,CAA5hB,GAEnB,IAAIS,EAAUjO,EAAoB,GAElC,IAAIkO,EAAWC,EAAuBF,GAEtC,IAAIgP,EAAWjd,EAAoB,GAEnC,IAAIod,EAAYjP,EAAuB8O,GAEvC,IAAIi1B,EAAQlyC,EAAoB,IAEhC,IAAImyC,EAAShkC,EAAuB+jC,GAEpC,IAAIj/B,EAAajT,EAAoB,IAErC,IAAIsyC,EAAStyC,EAAoB,IAEjC,IAAIuyC,EAAUpkC,EAAuBmkC,GAErC,SAASnkC,EAAuBhC,GAAO,OAAOA,GAAOA,EAAIlL,WAAakL,EAAM,CAAEpJ,QAASoJ,EAAM,CAE7F,SAAS2C,EAAgBC,EAAUvB,GAAe,KAAMuB,aAAoBvB,GAAc,CAAE,MAAM,IAAIwB,UAAU,oCAAqC,CAAE,CAEvJ,SAASC,EAA2BrP,EAAMQ,GAAQ,IAAKR,EAAM,CAAE,MAAM,IAAIsP,eAAe,4DAA6D,CAAG,OAAO9O,WAAgBA,IAAS,iBAAmBA,IAAS,YAAcA,EAAOR,CAAK,CAE9O,SAASuP,EAAUC,EAAUC,GAAc,UAAWA,IAAe,YAAcA,IAAe,KAAM,CAAE,MAAM,IAAIL,UAAU,kEAAoEK,EAAY,CAAGD,EAAS9N,UAAYX,OAAO+B,OAAO2M,GAAcA,EAAW/N,UAAW,CAAE6C,YAAa,CAAEzC,MAAO0N,EAAUtO,WAAY,MAAO4L,SAAU,KAAM7L,aAAc,QAAW,GAAIwO,EAAY1O,OAAOmD,eAAiBnD,OAAOmD,eAAesL,EAAUC,GAAcD,EAASrL,UAAYsL,CAAW,CAE5e,IAAImjC,EAAiB,CAAC,CAAC,OAAQ,SAAU,QAAS,CAAC,CAAE/d,OAAQ,GAAK,CAAEA,OAAQ,GAAK,eAEjF,IAAI0iB,EAAc,SAAUzE,GAC1BvjC,EAAUgoC,EAAazE,GAEvB,SAASyE,EAAYt3B,EAAOrT,GAC1BsC,EAAgBjP,KAAMs3C,GAEtB,GAAI3qC,EAAQ1M,QAAQ8c,SAAW,MAAQpQ,EAAQ1M,QAAQ8c,QAAQzI,WAAa,KAAM,CAChF3H,EAAQ1M,QAAQ8c,QAAQzI,UAAYq+B,C,CAGtC,IAAIjuC,EAAQ0K,EAA2BpP,MAAOs3C,EAAYpzC,WAAapD,OAAOqN,eAAempC,IAAc/2C,KAAKP,KAAMggB,EAAOrT,IAE7HjI,EAAMsb,MAAM1L,UAAUI,UAAUC,IAAI,aACpC,OAAOjQ,C,CAGT6I,EAAa+pC,EAAa,CAAC,CACzB7qC,IAAK,gBACL5K,MAAO,SAAS4+B,EAAc1jB,GAC5B/c,KAAKogC,QAAU,IAAIiX,EAAcr3C,KAAKggB,MAAOhgB,KAAK2M,QAAQkM,QAC1D7Y,KAAKogC,QAAQzgC,KAAK2jB,YAAYvG,EAAQzI,WACtCtU,KAAK0gC,aAAa,GAAGt3B,MAAM7I,KAAKwc,EAAQzI,UAAUyK,iBAAiB,WAAY2zB,EAAQxvC,SACvFlD,KAAK8gC,aAAa,GAAG13B,MAAM7I,KAAKwc,EAAQzI,UAAUyK,iBAAiB,WAAY2zB,EAAQxvC,Q,KAI3F,OAAOo0C,CACT,CA3BkB,CA2BhBhF,EAAOpvC,SAETo0C,EAAYl7B,UAAW,EAAI/N,EAASnL,SAAS,KAAM,GAAIovC,EAAOpvC,QAAQkZ,SAAU,CAC9Enc,QAAS,CACP8c,QAAS,CACPkkB,SAAU,CACR1D,KAAM,SAASA,EAAK17B,GAClB,IAAKA,EAAO,CACV7B,KAAKggB,MAAMhQ,OAAO,OAAQ,MACtC,KAAiB,CACLhQ,KAAKggB,MAAM5K,MAAMgrB,QAAQc,M,QAQrC,IAAImW,EAAgB,SAAUtE,GAC5BzjC,EAAU+nC,EAAetE,GAEzB,SAASsE,EAAcr3B,EAAOnH,GAC5B5J,EAAgBjP,KAAMq3C,GAEtB,IAAI1mC,EAASvB,EAA2BpP,MAAOq3C,EAAcnzC,WAAapD,OAAOqN,eAAekpC,IAAgB92C,KAAKP,KAAMggB,EAAOnH,IAElIlI,EAAOqP,MAAMtK,GAAG6H,EAAUra,QAAQyS,OAAOC,eAAe,SAAUC,EAAMO,EAAOuU,EAAUzU,GACvF,GAAIL,IAAS0H,EAAUra,QAAQyS,OAAOmK,iBAAkB,OACxD,GAAI1J,GAAS,MAAQA,EAAM5P,OAAS,GAAK0P,IAAWqH,EAAUra,QAAQ4U,QAAQmE,KAAM,CAClFtL,EAAOyhC,OAEPzhC,EAAOhR,KAAK64B,MAAMrf,KAAO,MACzBxI,EAAOhR,KAAK64B,MAAMnf,MAAQ,GAC1B1I,EAAOhR,KAAK64B,MAAMnf,MAAQ1I,EAAOhR,KAAKsyC,YAAc,KACpD,IAAIjhC,EAAQL,EAAOqP,MAAMlG,SAAS1D,EAAMhO,MAAOgO,EAAM5P,QACrD,GAAIwK,EAAMxK,SAAW,EAAG,CACtBmK,EAAO6X,SAAS7X,EAAOqP,MAAMpH,UAAUxC,GACjD,KAAe,CACL,IAAImhC,EAAWvmC,EAAMA,EAAMxK,OAAS,GACpC,IAAI4B,EAAQuI,EAAOqP,MAAMrG,SAAS49B,GAClC,IAAI/wC,EAAS+D,KAAKC,IAAI+sC,EAAS/wC,SAAW,EAAG4P,EAAMhO,MAAQgO,EAAM5P,OAAS4B,GAC1E,IAAIovC,EAAU7mC,EAAOqP,MAAMpH,UAAU,IAAIxF,EAAW2I,MAAM3T,EAAO5B,IACjEmK,EAAO6X,SAASgvB,E,CAE1B,MAAa,GAAIxgC,SAASyS,gBAAkB9Y,EAAO0vB,SAAW1vB,EAAOqP,MAAM1F,WAAY,CAC/E3J,EAAO2vB,M,CAEf,IACI,OAAO3vB,C,CAGTpD,EAAa8pC,EAAe,CAAC,CAC3B5qC,IAAK,SACL5K,MAAO,SAAS2wB,IACd,IAAInb,EAASrX,KAEb8N,EAAKupC,EAAc51C,UAAUyC,WAAapD,OAAOqN,eAAekpC,EAAc51C,WAAY,SAAUzB,MAAMO,KAAKP,MAC/GA,KAAKL,KAAKqd,cAAc,aAAa4B,iBAAiB,SAAS,WAC7DvH,EAAO1X,KAAK+U,UAAUpD,OAAO,aACrC,IACMtR,KAAKggB,MAAMtK,GAAG6H,EAAUra,QAAQyS,OAAOkK,iBAAiB,WAEtDuH,YAAW,WACT,GAAI/P,EAAO1X,KAAK+U,UAAUqG,SAAS,aAAc,OACjD,IAAI3E,EAAQiB,EAAO2I,MAAMhI,eACzB,GAAI5B,GAAS,KAAM,CACjBiB,EAAOmR,SAASnR,EAAO2I,MAAMpH,UAAUxC,G,IAExC,EACX,G,GAEK,CACD3J,IAAK,SACL5K,MAAO,SAASggC,IACd7hC,KAAKoyC,M,GAEN,CACD3lC,IAAK,WACL5K,MAAO,SAAS2mB,EAASwpB,GACvB,IAAI/gC,EAAQnD,EAAKupC,EAAc51C,UAAUyC,WAAapD,OAAOqN,eAAekpC,EAAc51C,WAAY,WAAYzB,MAAMO,KAAKP,KAAMgyC,GACnI,IAAIyF,EAAQz3C,KAAKL,KAAKqd,cAAc,qBACpCy6B,EAAMjf,MAAMkf,WAAa,GACzB,GAAIzmC,IAAU,EAAG,OAAOA,EACxBwmC,EAAMjf,MAAMkf,YAAa,EAAKzmC,EAAQwmC,EAAMxF,YAAc,EAAI,I,KAIlE,OAAOoF,CACT,CAtEoB,CAsElBhF,EAAMnT,aAERmY,EAActF,SAAW,CAAC,yCAA0C,kCAAmC,mGAAoG,2BAA4B,UAAUhnC,KAAK,IAEtPjL,EAAQu3C,cAAgBA,EACxBv3C,EAAQoD,QAAUo0C,CAEX,EAEP,SAAgBz3C,EAAQC,EAASK,GAEjCN,EAAOC,QAAUK,EAAoB,GAG9B,IACK,UACZ,G,4CCzyWA,MAAMw3C,EAAqB,IAAM,++D,MCQpBC,EAAe,M,gFAED/1C,MACjB62B,MACCzgB,OACT4/B,SACA73B,MACA83B,SACAC,YAEA,gBAAAC,GACEh4C,KAAKggB,MAAQ,IAAIpM,EAAM5T,KAAK63C,SAAU,CACpCziC,MAAO,OACPnV,QAAS,CACP8c,QAAS,CACP,CAAC,CAAE6X,OAAQ,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,KAC3B,CAAC,SAAU,YAAa,UACxB,CAAC,CAAEqI,MAAO,IAAM,CAAEJ,WAAY,KAC9B,CAAC,CAAErW,KAAM,WAAa,CAAEA,KAAM,WAC9B,CAAC,CAAEkW,MAAO,SAIhB18B,KAAKggB,MAAMhQ,OAAO,SAAU,GAC5BhQ,KAAK83C,SAAW93C,KAAKi4C,KAAKj7B,cAAc,iBAAiBA,cAAc,cAEvE,GAAIhd,KAAK6B,MAAO7B,KAAK83C,SAAStjC,UAAYxU,KAAK6B,MAE/C,GAAI7B,KAAK04B,MAAO14B,KAAKk4C,YAAYl4C,KAAK83C,UAEtC93C,KAAKggB,MAAMtK,GAAG,eAAe,CAACyiC,EAAeC,EAAqBC,KAChEr4C,KAAK6B,MAAQ7B,KAAK83C,SAAStjC,UAC3BxU,KAAKiY,OAAOqF,KAAKtd,KAAK83C,SAAStjC,UAAU,G,CAI7C,WAAA8jC,GACE,GAAIt4C,KAAK04B,MAAO,CACd,OACE6f,EAAK,OAAAC,MAAM,iCAAiCpnC,IAAKqnC,GAAOz4C,KAAK+3C,YAAcU,GACzEF,EAAA,aAAQv4C,KAAK04B,O,EAMrB,WAAAwf,CAAYO,GACVA,EAAG75B,iBAAiB,WAAW,IAAM5e,KAAK+3C,YAAYrjC,UAAUC,IAAI,gBACpE8jC,EAAG75B,iBAAiB,YAAY,IAAM5e,KAAK+3C,YAAYrjC,UAAUpD,OAAO,e,CAG1E,MAAA+kC,GACE,OACEkC,EAACG,EAAI,CAAAjsC,IAAA,4CACFzM,KAAKs4C,cACNC,EAAA,OAAA9rC,IAAA,2CAAK2E,IAAKqnC,GAAOz4C,KAAK63C,SAAWY,I","ignoreList":[]}