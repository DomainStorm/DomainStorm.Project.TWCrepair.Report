import{r as e,c as t,a,h as s,H as i}from"./p-DTU8m96f.js";import{S as o}from"./p-CAnyxfG4.js";import{p as r}from"./p-CoYRMer0.js";import"./p-9Du3dL5x.js";import"./p-E-ZsRS8r.js";const l=class{constructor(a){e(this,a),this.change=t(this,"change"),this.rowView=t(this,"rowView"),this.rowUpdate=t(this,"rowUpdate"),this.rowDelete=t(this,"rowDelete")}get host(){return a(this)}dataSet;columns;classes="table-hover table-striped table-dark table-sm table-borderless";clickRowTo;pagination=!1;searchable=!1;viewable=!0;editable=!0;deletable=!0;orderable=!1;escape=!0;change;rowView;rowUpdate;rowDelete;tableRef;tableResponsiveRef;viewAnchors;deleteAnchors;value;async componentWillLoad(){await o.applyShadowRootStylesAsync(this.host,"material")}componentWillRender(){this.columns&&this.addActionColumnRender()}addActionColumnRender(){const e=this.columns.filter((e=>"action"==e.type));if(0==e.length)return;for(var t of e)t.buttons=[];this.orderable&&e[0].buttons.push({label:"上移",icon:"arrow_upward",action:(e,t,a)=>{(async()=>{let t=e.__index,s=e.__index-1;await a.moveRow(t,s)})()},visible:e=>e.__index>0},{label:"下移",icon:"arrow_downward",action:(e,t,a)=>{(async()=>{let t=e.__index,s=e.__index+1;await a.moveRow(t,s)})()},visible:e=>e.__index<this.dataSet?.length-1});let a=2==e.length?1:0;this.viewable&&e[a].buttons.push({label:"觀看",icon:"visibility",action:e=>{(async()=>{this.rowView.emit(e)})()}}),this.editable&&e[a].buttons.push({label:"修改",icon:"drive_file_rename_outline",action:e=>{(async()=>{this.rowUpdate.emit(e)})()}}),this.deletable&&e[a].buttons.push({label:"刪除",icon:"delete",action:e=>{(async()=>{this.rowDelete.emit(e)})()}})}render(){return s(i,{key:"04634bcea7182f8b73e8841b122fb43adebac40a"},s("storm-table",{key:"b40fba72a275510eb290e97d3f50b5afe284174a",searchable:this.searchable,pagination:this.pagination,classes:r(this.classes),columns:this.columns,dataSet:this.dataSet,clickRowTo:this.clickRowTo,escape:this.escape,ref:e=>this.tableRef=e}))}};l.style="";export{l as storm_edit_table}