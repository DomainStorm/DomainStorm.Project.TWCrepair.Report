{"file":"storm-list-group.entry.esm.js","mappings":"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","names":[],"sources":["src/components/storm-list-group/storm-list-group.scss?tag=storm-list-group","src/components/storm-list-group/storm-list-group.tsx"],"sourcesContent":[":host {\r\n  display: block;\r\n}","import { Component, Element, Event, EventEmitter, h, Host, Listen, Method, Prop, Watch } from '@stencil/core';\r\nimport { FnIcon, FnSearchInput } from '../../utils/functional/functional';\r\nimport type { ListItemInterface } from '../../utils/interface';\r\nimport { appendHighlight, arrayEqual, calculateObjectValue, generateUid, getSelectedItemIds, mergeClasses } from '../../utils/utils';\r\n\r\n@Component({\r\n  tag: 'storm-list-group',\r\n  styleUrl: 'storm-list-group.scss',\r\n  shadow: false,\r\n})\r\nexport class StormListGroup {\r\n  private _itemRefs: Record<string, HTMLElement>;\r\n  private _searchRef: HTMLStormInputGroupElement;\r\n\r\n  @Element() host: HTMLElement;\r\n\r\n  @Prop({ mutable: true }) dataSet: ListItemInterface[];\r\n  @Prop() headline?: string;\r\n  @Prop({ mutable: true }) searchText?: string;\r\n  @Prop() searchable: boolean = false;\r\n  @Prop() selection: 'single' | 'multiple' | 'none' = 'single';\r\n  @Prop() nullable: boolean = false;\r\n  @Prop({ mutable: true }) value?: string | string[];\r\n  @Prop() class: Record<string, boolean> | string;\r\n  @Prop() itemClass: Record<string, boolean> | string;\r\n\r\n  @Event() valueChanged: EventEmitter<string | string[]>;\r\n  @Event() itemClick: EventEmitter<ListItemInterface>;\r\n  @Event() selectChange: EventEmitter<ListItemInterface>;\r\n  @Event() searchChanged: EventEmitter<string>;\r\n\r\n  @Watch('value')\r\n  valueWatcher(newValue: string | string[], oldValue: string | string[]) {\r\n    if (arrayEqual(newValue, oldValue)) return;\r\n\r\n    this.setSelectedItems();\r\n\r\n    this.valueChanged.emit(newValue);\r\n  }\r\n\r\n  @Watch('dataSet')\r\n  dataSetWatcher() {\r\n    this.initDataSet();\r\n    this.setSelectedItems();\r\n  }\r\n\r\n  @Listen('itemClick')\r\n  itemClickHandler(event: CustomEvent<ListItemInterface>) {\r\n    if (this.selection === 'none') return;\r\n    const item = event.detail;\r\n    item.selected ? this.unselect(item) : this.select(item);\r\n  }\r\n\r\n  @Listen('searchChanged')\r\n  searchChangedHandler(ev: CustomEvent<string>) {\r\n    this.searchText = ev.detail;\r\n  }\r\n\r\n  @Method()\r\n  async setSearchFocus() {\r\n    if (this.searchable && this._searchRef) {\r\n      requestAnimationFrame(async () => {\r\n        await this._searchRef.setFocus();\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSearchChanged(ev: CustomEvent<string>) {\r\n    ev.stopPropagation();\r\n    const value = ev.detail?.trim();\r\n    if (this.searchText === value) return;\r\n    this.searchChanged.emit(value);\r\n  }\r\n\r\n  select(item: ListItemInterface) {\r\n    if (item.selected) return;\r\n\r\n    switch (this.selection) {\r\n      case 'single':\r\n        this.value = item.id;\r\n        break;\r\n      case 'multiple': {\r\n        const currentValue = this.getCurrentValueAsArray();\r\n        if (!currentValue.includes(item.id)) {\r\n          this.value = [...currentValue, item.id];\r\n        }\r\n        break;\r\n      }\r\n      default:\r\n        console.warn(`Unknown selection mode: ${this.selection}`);\r\n    }\r\n    this.selectChange.emit(item);\r\n  }\r\n\r\n  unselect(item: ListItemInterface) {\r\n    if (!item.selected) return;\r\n\r\n    switch (this.selection) {\r\n      case 'single':\r\n        if (!this.nullable) return;\r\n        this.value = null;\r\n        break;\r\n      case 'multiple': {\r\n        const currentValue = this.getCurrentValueAsArray();\r\n        if (currentValue.length <= 1) return;\r\n        if (currentValue.includes(item.id)) {\r\n          this.value = currentValue.filter(id => id !== item.id);\r\n        }\r\n        break;\r\n      }\r\n      default:\r\n        console.warn(`Unknown selection mode: ${this.selection}`);\r\n    }\r\n    this.selectChange.emit(item);\r\n  }\r\n\r\n  private getCurrentValueAsArray(): string[] {\r\n    return Array.isArray(this.value) ? this.value : this.value ? [this.value] : [];\r\n  }\r\n\r\n  initDataSet() {\r\n    if (!Array.isArray(this.dataSet)) return;\r\n    this.dataSet.forEach(item => {\r\n      item.id = item.id || generateUid('ilist-item');\r\n    });\r\n  }\r\n\r\n  setSelectedItems() {\r\n    if (!Array.isArray(this.dataSet)) return;\r\n\r\n    const valueSet = new Set<string>(this.getCurrentValueAsArray());\r\n    this.dataSet.forEach(item => {\r\n      item.selected = valueSet.has(item.id);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const listGroup = this.renderListGroup();\r\n\r\n    if (!this.headline) {\r\n      return <Host>{listGroup}</Host>;\r\n    }\r\n\r\n    return (\r\n      <Host>\r\n        <storm-card scrollable={true} class=\"mt-4\" bodyClass=\"p-0\">\r\n          <div slot=\"card-header\">\r\n            <div class=\"border-radius-xl mt-n4 mx-4 mb-2 bg-gradient-dark shadow-dark p-1\">\r\n              <h6 class=\"text-white font-weight-bolder text-center m-1\">{this.headline}</h6>\r\n            </div>\r\n          </div>\r\n          <div slot=\"body\">{listGroup}</div>\r\n        </storm-card>\r\n      </Host>\r\n    );\r\n  }\r\n\r\n  renderItems() {\r\n    this._itemRefs = {};\r\n    if (!Array.isArray(this.dataSet) || this.dataSet.length === 0) {\r\n      return <div class=\"disabled list-group-item align-middle text-center p-4 h6\">沒有找到符合的結果</div>;\r\n    }\r\n\r\n    const filteredItems = this.getFilteredItems();\r\n    return filteredItems.map(item => this.renderItem(item));\r\n  }\r\n\r\n  private getFilteredItems(): ListItemInterface[] {\r\n    let items = this.dataSet.filter(item => calculateObjectValue(this, item.visible) ?? true);\r\n\r\n    if (this.searchable && this.searchText?.trim()) {\r\n      const searchTerm = this.searchText.toLowerCase();\r\n      items = items.filter(item => item.title?.toLowerCase().includes(searchTerm));\r\n    }\r\n\r\n    return items;\r\n  }\r\n\r\n  renderItem(item: ListItemInterface) {\r\n    const disabled = (calculateObjectValue(this, item.disabled) ?? false) as boolean;\r\n    return (\r\n      <a\r\n        href=\"javascript:void(0);\"\r\n        class={mergeClasses(\r\n          {\r\n            'list-group-item': true,\r\n            'list-group-item-action': true,\r\n            disabled: disabled,\r\n            active: item.selected,\r\n            'px-2': true,\r\n            'py-1': true,\r\n          },\r\n          this.itemClass,\r\n        )}\r\n        onClick={ev => {\r\n          ev.stopPropagation();\r\n          this.itemClick.emit(item);\r\n        }}\r\n        ref={elm => (this._itemRefs[item.id] = elm)}\r\n      >\r\n        <FnIcon>{item.icon}</FnIcon>\r\n        <FnIcon class={{ 'float-end': true }}>{item.selected && this.selection === 'multiple' ? 'check_circle' : ''}</FnIcon>\r\n        {this.renderItemLabel(item.title)}\r\n      </a>\r\n    );\r\n  }\r\n\r\n  renderListGroup() {\r\n    return (\r\n      <div class={mergeClasses({ 'list-group': true, 'list-group-flush': !!this.headline }, this.class)}>\r\n        {this.renderSearch()}\r\n        {this.renderItems()}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderItemLabel(value: string) {\r\n    const shouldHighlight = this.searchText?.trim() && value;\r\n    const displayValue = shouldHighlight ? appendHighlight(value, this.searchText) : value;\r\n    return <span class={{ 'nav-link-text': true }} innerHTML={displayValue}></span>;\r\n  }\r\n\r\n  renderSearch() {\r\n    if (!this.searchable) return;\r\n    return (\r\n      <div class=\"search\">\r\n        <FnSearchInput ref={elm => (this._searchRef = elm)} value={this.searchText} onValueChanged={ev => this.handleSearchChanged(ev)} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  componentWillLoad() {\r\n    this.initDataSet();\r\n\r\n    const hasValue = this.value && ((typeof this.value === 'string' && this.value.trim()) || (Array.isArray(this.value) && this.value.length > 0));\r\n\r\n    if (!hasValue) {\r\n      this.value = getSelectedItemIds(this.dataSet, this.nullable, this.selection);\r\n    }\r\n\r\n    this.setSelectedItems();\r\n  }\r\n\r\n  componentDidLoad() {\r\n    const hasValidValue = (typeof this.value === 'string' && this.value.trim() !== '') || (Array.isArray(this.value) && this.value.length > 0);\r\n\r\n    if (hasValidValue) {\r\n      this.valueChanged.emit(this.value);\r\n    }\r\n  }\r\n}\r\n"],"version":3}