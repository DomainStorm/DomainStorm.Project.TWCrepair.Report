{"version":3,"file":"storm-checkbox-group.entry.esm.js","sources":["src/components/storm-checkbox-group/storm-checkbox-group.css?tag=storm-checkbox-group","src/components/storm-checkbox-group/storm-checkbox-group.tsx"],"sourcesContent":[":host {\r\n    display: block;\r\n}","import { Component, Event, EventEmitter, h, Host, Prop, Watch } from '@stencil/core';\r\n\r\n@Component({\r\n  tag: 'storm-checkbox-group',\r\n  styleUrl: 'storm-checkbox-group.css',\r\n  shadow: false,\r\n})\r\nexport class StormCheckboxGroup {\r\n  private _dataSet: ICheckboxItem[];\r\n\r\n  @Prop() type: 'checkbox' | 'radio' = 'checkbox';\r\n  @Prop() labelClasses: Record<string, boolean> | string = 'custom-control-label';\r\n  @Prop() isSwitch: boolean = false;\r\n  @Prop() isInline: boolean = false;\r\n  @Prop() dataSet: ICheckboxItem[] | string;\r\n  @Prop({ mutable: true }) value: string | string[];\r\n  @Prop({ mutable: true }) disabled?: boolean;\r\n\r\n  @Event() valueChanged: EventEmitter<string | string[] | null>;\r\n\r\n  @Watch('dataSet')\r\n  dataSetWatcher(newValue: ICheckboxItem[] | string) {\r\n    try {\r\n      this._dataSet = typeof newValue === 'string' ? JSON.parse(newValue) : newValue;\r\n    } catch (error) {\r\n      console.error('Invalid JSON format:', error);\r\n      return;\r\n    }\r\n    if (this.value) {\r\n      this.valueWatcher(this.value);\r\n    } else this.value = this.type === 'checkbox' ? this._dataSet.find(x => x.checked)?.id : this._dataSet.filter(x => x.checked).map(x => x.id);\r\n    if (this.type === 'radio') {\r\n      const checkedItems = this._dataSet.filter(x => x.checked);\r\n      if (checkedItems.length === 0) {\r\n        this._dataSet[0].checked = true;\r\n      } else if (checkedItems.length > 1) {\r\n        checkedItems\r\n          .reverse()\r\n          .slice(1)\r\n          .forEach(item => (item.checked = false));\r\n      }\r\n    }\r\n  }\r\n\r\n  @Watch('value')\r\n  valueWatcher(newValue: string | string[]) {\r\n    if (Array.isArray(newValue)) this._dataSet.forEach(x => (x.checked = newValue.includes(x.id)));\r\n    else this._dataSet.forEach(x => (x.checked = x.id == newValue));\r\n  }\r\n\r\n  check(item: ICheckboxItem) {\r\n    if (this.type === 'radio') {\r\n      this.uncheckAll();\r\n    }\r\n    item.checked = true;\r\n    if (this.type === 'radio') {\r\n      this.value = item.id;\r\n    } else if (Array.isArray(this.value)) {\r\n      if (!this.value.includes(item.id)) this.value = [...this.value, item.id];\r\n    } else {\r\n      this.value = [item.id];\r\n    }\r\n  }\r\n\r\n  uncheck(item: ICheckboxItem) {\r\n    item.checked = false;\r\n    if (this.type === 'radio') {\r\n      if (this.value === item.id) {\r\n        this.value = null;\r\n      }\r\n    } else if (Array.isArray(this.value)) {\r\n      this.value = this.value.filter(id => id !== item.id);\r\n    }\r\n  }\r\n\r\n  uncheckAll() {\r\n    if (this._dataSet) {\r\n      this._dataSet.filter(x => x.checked).forEach(x => (x.checked = false));\r\n    }\r\n  }\r\n\r\n  componentWillLoad() {\r\n    if (this.dataSet) {\r\n      this.dataSetWatcher(this.dataSet);\r\n    }\r\n  }\r\n\r\n  dataSetRender() {\r\n    return this._dataSet.map(item => {\r\n      if (!item.id) item.id = item.label;\r\n      return (\r\n        <storm-checkbox\r\n          type={this.type}\r\n          label={item.label}\r\n          labelClasses={item.labelClasses ?? this.labelClasses}\r\n          disabled={this.disabled || item.disabled}\r\n          checked={item.checked}\r\n          isSwitch={this.isSwitch}\r\n          isInline={this.isInline}\r\n          onValueChanged={ev => {\r\n            if (ev.detail) {\r\n              this.check(item);\r\n            } else {\r\n              this.uncheck(item);\r\n            }\r\n          }}\r\n        ></storm-checkbox>\r\n      );\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return <Host>{this.dataSetRender()}</Host>;\r\n  }\r\n}\r\n\r\nexport interface ICheckboxItem {\r\n  id?: string;\r\n  label: string;\r\n  labelClasses?: string;\r\n  checked?: boolean;\r\n  disabled?: boolean;\r\n}\r\n"],"names":[],"mappings":"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"}