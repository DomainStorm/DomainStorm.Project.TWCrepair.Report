import{r as t,c as i,h as e,H as r}from"./p-CSg1USUf.js";import{c as n,g as s,a}from"./p-E-ZsRS8r.js";var o;var u;function f(){if(u)return o;u=1;var t;if(typeof window!=="undefined"){t=window}else if(typeof n!=="undefined"){t=n}else if(typeof self!=="undefined"){t=self}else{t={}}o=t;return o}var h=f();var c=s(h);var l={};var v=Object.freeze({__proto__:null,default:l});var d=a(v);var p;var m;function g(){if(m)return p;m=1;var t=typeof n!=="undefined"?n:typeof window!=="undefined"?window:{};var i=d;var e;if(typeof document!=="undefined"){e=document}else{e=t["__GLOBAL_DOCUMENT_CACHE@4"];if(!e){e=t["__GLOBAL_DOCUMENT_CACHE@4"]=i}}p=e;return p}var b=g();var y=s(b);function j(){return j=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},j.apply(null,arguments)}var w=Object.freeze({__proto__:null,get default(){return j}});var T={exports:{}};var k;function A(){if(k)return T.exports;k=1;(function(t,i){function e(t){if(t&&"object"===typeof t){var i=t.which||t.keyCode||t.charCode;if(i)t=i}if("number"===typeof t)return a[t];var e=String(t);var s=r[e.toLowerCase()];if(s)return s;var s=n[e.toLowerCase()];if(s)return s;if(e.length===1)return e.charCodeAt(0);return undefined}e.isEventKey=function t(i,e){if(i&&"object"===typeof i){var s=i.which||i.keyCode||i.charCode;if(s===null||s===undefined){return false}if(typeof e==="string"){var a=r[e.toLowerCase()];if(a){return a===s}var a=n[e.toLowerCase()];if(a){return a===s}}else if(typeof e==="number"){return e===s}return false}};i=t.exports=e;var r=i.code=i.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};var n=i.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};
/*!
		 * Programatically add the following
		 */for(s=97;s<123;s++)r[String.fromCharCode(s)]=s-32;for(var s=48;s<58;s++)r[s-48]=s;for(s=1;s<13;s++)r["f"+s]=s+111;for(s=0;s<10;s++)r["numpad "+s]=s+96;var a=i.names=i.title={};for(s in r)a[r[s]]=s;for(var o in n){r[o]=n[o]}})(T,T.exports);return T.exports}var E=A();var x=s(E);function S(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I(t,i){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},I(t,i)}function D(t,i){t.prototype=Object.create(i.prototype),t.prototype.constructor=t,I(t,i)}var N;var O;function R(){if(O)return N;O=1;N=t;function t(t,i){var e;var r=null;try{e=JSON.parse(t,i)}catch(t){r=t}return[r,e]}return N}var L=R();var C=s(L);var M={exports:{}};var U=a(w);var B;var P;function q(){if(P)return B;P=1;B=i;var t=Object.prototype.toString;function i(i){if(!i){return false}var e=t.call(i);return e==="[object Function]"||typeof i==="function"&&e!=="[object RegExp]"||typeof window!=="undefined"&&(i===window.setTimeout||i===window.alert||i===window.confirm||i===window.prompt)}return B}var F;var _;function V(){if(_)return F;_=1;var t=f();var i=function i(r,n){if(n===void 0){n=false}return function(i,s,a){if(i){r(i);return}if(s.statusCode>=400&&s.statusCode<=599){var o=a;if(n){if(t.TextDecoder){var u=e(s.headers&&s.headers["content-type"]);try{o=new TextDecoder(u).decode(a)}catch(t){}}else{o=String.fromCharCode.apply(null,new Uint8Array(a))}}r({cause:o});return}r(null,a)}};function e(t){if(t===void 0){t=""}return t.toLowerCase().split(";").reduce((function(t,i){var e=i.split("="),r=e[0],n=e[1];if(r.trim()==="charset"){return n.trim()}return t}),"utf-8")}F=i;return F}var H;function z(){if(H)return M.exports;H=1;var t=f();var i=U;var e=q();o.httpHandler=V();
/**
	 * @license
	 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
	 * Copyright (c) 2014 David Björklund
	 * Available under the MIT license
	 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
	 */var r=function t(i){var e={};if(!i){return e}i.trim().split("\n").forEach((function(t){var i=t.indexOf(":");var r=t.slice(0,i).trim().toLowerCase();var n=t.slice(i+1).trim();if(typeof e[r]==="undefined"){e[r]=n}else if(Array.isArray(e[r])){e[r].push(n)}else{e[r]=[e[r],n]}}));return e};M.exports=o;M.exports.default=o;o.XMLHttpRequest=t.XMLHttpRequest||c;o.XDomainRequest="withCredentials"in new o.XMLHttpRequest?o.XMLHttpRequest:t.XDomainRequest;n(["get","put","post","patch","head","delete"],(function(t){o[t==="delete"?"del":t]=function(i,e,r){e=a(i,e,r);e.method=t.toUpperCase();return u(e)}}));function n(t,i){for(var e=0;e<t.length;e++){i(t[e])}}function s(t){for(var i in t){if(t.hasOwnProperty(i))return false}return true}function a(t,r,n){var s=t;if(e(r)){n=r;if(typeof t==="string"){s={uri:t}}}else{s=i({},r,{uri:t})}s.callback=n;return s}function o(t,i,e){i=a(t,i,e);return u(i)}function u(t){if(typeof t.callback==="undefined"){throw new Error("callback argument missing")}var i=false;var e=function e(r,n,s){if(!i){i=true;t.callback(r,n,s)}};function n(){if(c.readyState===4){setTimeout(f,0)}}function a(){var t=undefined;if(c.response){t=c.response}else{t=c.responseText||h(c)}if(y){try{t=JSON.parse(t)}catch(t){}}return t}function u(t){clearTimeout(j);if(!(t instanceof Error)){t=new Error(""+(t||"Unknown XMLHttpRequest Error"))}t.statusCode=0;return e(t,w)}function f(){if(v)return;var i;clearTimeout(j);if(t.useXDR&&c.status===undefined){i=200}else{i=c.status===1223?204:c.status}var n=w;var s=null;if(i!==0){n={body:a(),statusCode:i,method:p,headers:{},url:d,rawRequest:c};if(c.getAllResponseHeaders){n.headers=r(c.getAllResponseHeaders())}}else{s=new Error("Internal XMLHttpRequest Error")}return e(s,n,n.body)}var c=t.xhr||null;if(!c){if(t.cors||t.useXDR){c=new o.XDomainRequest}else{c=new o.XMLHttpRequest}}var l;var v;var d=c.url=t.uri||t.url;var p=c.method=t.method||"GET";var m=t.body||t.data;var g=c.headers=t.headers||{};var b=!!t.sync;var y=false;var j;var w={body:undefined,headers:{},statusCode:0,method:p,url:d,rawRequest:c};if("json"in t&&t.json!==false){y=true;g["accept"]||g["Accept"]||(g["Accept"]="application/json");if(p!=="GET"&&p!=="HEAD"){g["content-type"]||g["Content-Type"]||(g["Content-Type"]="application/json");m=JSON.stringify(t.json===true?m:t.json)}}c.onreadystatechange=n;c.onload=f;c.onerror=u;c.onprogress=function(){};c.onabort=function(){v=true};c.ontimeout=u;c.open(p,d,!b,t.username,t.password);if(!b){c.withCredentials=!!t.withCredentials}if(!b&&t.timeout>0){j=setTimeout((function(){if(v)return;v=true;c.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT";u(t)}),t.timeout)}if(c.setRequestHeader){for(l in g){if(g.hasOwnProperty(l)){c.setRequestHeader(l,g[l])}}}else if(t.headers&&!s(t.headers)){throw new Error("Headers cannot be set on an XDomainRequest object")}if("responseType"in t){c.responseType=t.responseType}if("beforeSend"in t&&typeof t.beforeSend==="function"){t.beforeSend(c)}c.send(m||null);return c}function h(t){try{if(t.responseType==="document"){return t.responseXML}var i=t.responseXML&&t.responseXML.documentElement.nodeName==="parsererror";if(t.responseType===""&&!i){return t.responseXML}}catch(t){}return null}function c(){}return M.exports}var G=z();var X=s(G);var Y={exports:{}};var W;var J;function Q(){if(J)return W;J=1;var t=g();var i=Object.create||function(){function t(){}return function(i){if(arguments.length!==1){throw new Error("Object.create shim only accepts one parameter.")}t.prototype=i;return new t}}();function e(t,i){this.name="ParsingError";this.code=t.code;this.message=i||t.message}e.prototype=i(Error.prototype);e.prototype.constructor=e;e.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function r(t){function i(t,i,e,r){return(t|0)*3600+(i|0)*60+(e|0)+(r|0)/1e3}var e=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);if(!e){return null}if(e[3]){return i(e[1],e[2],e[3].replace(":",""),e[4])}else if(e[1]>59){return i(e[1],e[2],0,e[4])}else{return i(0,e[1],e[2],e[4])}}function n(){this.values=i(null)}n.prototype={set:function(t,i){if(!this.get(t)&&i!==""){this.values[t]=i}},get:function(t,i,e){if(e){return this.has(t)?this.values[t]:i[e]}return this.has(t)?this.values[t]:i},has:function(t){return t in this.values},alt:function(t,i,e){for(var r=0;r<e.length;++r){if(i===e[r]){this.set(t,i);break}}},integer:function(t,i){if(/^-?\d+$/.test(i)){this.set(t,parseInt(i,10))}},percent:function(t,i){if(i.match(/^([\d]{1,3})(\.[\d]*)?%$/)){i=parseFloat(i);if(i>=0&&i<=100){this.set(t,i);return true}}return false}};function s(t,i,e,r){var n=r?t.split(r):[t];for(var s in n){if(typeof n[s]!=="string"){continue}var a=n[s].split(e);if(a.length!==2){continue}var o=a[0].trim();var u=a[1].trim();i(o,u)}}function a(t,i,a){var o=t;function u(){var i=r(t);if(i===null){throw new e(e.Errors.BadTimeStamp,"Malformed timestamp: "+o)}t=t.replace(/^[^\sa-zA-Z-]+/,"");return i}function f(t,i){var e=new n;s(t,(function(t,i){switch(t){case"region":for(var r=a.length-1;r>=0;r--){if(a[r].id===i){e.set(t,a[r].region);break}}break;case"vertical":e.alt(t,i,["rl","lr"]);break;case"line":var n=i.split(","),s=n[0];e.integer(t,s);e.percent(t,s)?e.set("snapToLines",false):null;e.alt(t,s,["auto"]);if(n.length===2){e.alt("lineAlign",n[1],["start","center","end"])}break;case"position":n=i.split(",");e.percent(t,n[0]);if(n.length===2){e.alt("positionAlign",n[1],["start","center","end"])}break;case"size":e.percent(t,i);break;case"align":e.alt(t,i,["start","center","end","left","right"]);break}}),/:/,/\s/);i.region=e.get("region",null);i.vertical=e.get("vertical","");try{i.line=e.get("line","auto")}catch(t){}i.lineAlign=e.get("lineAlign","start");i.snapToLines=e.get("snapToLines",true);i.size=e.get("size",100);try{i.align=e.get("align","center")}catch(t){i.align=e.get("align","middle")}try{i.position=e.get("position","auto")}catch(t){i.position=e.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},i.align)}i.positionAlign=e.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},i.align)}function h(){t=t.replace(/^\s+/,"")}h();i.startTime=u();h();if(t.substr(0,3)!=="--\x3e"){throw new e(e.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+o)}t=t.substr(3);h();i.endTime=u();h();f(t,i)}var o=t.createElement&&t.createElement("textarea");var u={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"};var f={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"};var h={v:"title",lang:"lang"};var c={rt:"ruby"};function l(t,i){function e(){if(!i){return null}function t(t){i=i.substr(t.length);return t}var e=i.match(/^([^<]*)(<[^>]*>?)?/);return t(e[1]?e[1]:e[2])}function n(t){o.innerHTML=t;t=o.textContent;o.textContent="";return t}function s(t,i){return!c[i.localName]||c[i.localName]===t.localName}function a(i,e){var r=u[i];if(!r){return null}var n=t.document.createElement(r);var s=h[i];if(s&&e){n[s]=e.trim()}return n}var l=t.document.createElement("div"),v=l,d,p=[];while((d=e())!==null){if(d[0]==="<"){if(d[1]==="/"){if(p.length&&p[p.length-1]===d.substr(2).replace(">","")){p.pop();v=v.parentNode}continue}var m=r(d.substr(1,d.length-2));var g;if(m){g=t.document.createProcessingInstruction("timestamp",m);v.appendChild(g);continue}var b=d.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!b){continue}g=a(b[1],b[3]);if(!g){continue}if(!s(v,g)){continue}if(b[2]){var y=b[2].split(".");y.forEach((function(t){var i=/^bg_/.test(t);var e=i?t.slice(3):t;if(f.hasOwnProperty(e)){var r=i?"background-color":"color";var n=f[e];g.style[r]=n}}));g.className=y.join(" ")}p.push(b[1]);v.appendChild(g);v=g;continue}v.appendChild(t.document.createTextNode(n(d)))}return l}var v=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function d(t){for(var i=0;i<v.length;i++){var e=v[i];if(t>=e[0]&&t<=e[1]){return true}}return false}function p(t){var i=[],e="",r;if(!t||!t.childNodes){return"ltr"}function n(t,i){for(var e=i.childNodes.length-1;e>=0;e--){t.push(i.childNodes[e])}}function s(t){if(!t||!t.length){return null}var i=t.pop(),e=i.textContent||i.innerText;if(e){var r=e.match(/^.*(\n|\r)/);if(r){t.length=0;return r[0]}return e}if(i.tagName==="ruby"){return s(t)}if(i.childNodes){n(t,i);return s(t)}}n(i,t);while(e=s(i)){for(var a=0;a<e.length;a++){r=e.charCodeAt(a);if(d(r)){return"rtl"}}}return"ltr"}function m(t){if(typeof t.line==="number"&&(t.snapToLines||t.line>=0&&t.line<=100)){return t.line}if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement){return-1}var i=t.track,e=i.textTrackList,r=0;for(var n=0;n<e.length&&e[n]!==i;n++){if(e[n].mode==="showing"){r++}}return++r*-1}function b(){}b.prototype.applyStyles=function(t,i){i=i||this.div;for(var e in t){if(t.hasOwnProperty(e)){i.style[e]=t[e]}}};b.prototype.formatStyle=function(t,i){return t===0?0:t+i};function y(t,i,e){b.call(this);this.cue=i;this.cueDiv=l(t,i.text);var r={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:i.vertical===""?"horizontal-tb":i.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(r,this.cueDiv);this.div=t.document.createElement("div");r={direction:p(this.cueDiv),writingMode:i.vertical===""?"horizontal-tb":i.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:i.align==="middle"?"center":i.align,font:e.font,whiteSpace:"pre-line",position:"absolute"};this.applyStyles(r);this.div.appendChild(this.cueDiv);var n=0;switch(i.positionAlign){case"start":case"line-left":n=i.position;break;case"center":n=i.position-i.size/2;break;case"end":case"line-right":n=i.position-i.size;break}if(i.vertical===""){this.applyStyles({left:this.formatStyle(n,"%"),width:this.formatStyle(i.size,"%")})}else{this.applyStyles({top:this.formatStyle(n,"%"),height:this.formatStyle(i.size,"%")})}this.move=function(t){this.applyStyles({top:this.formatStyle(t.top,"px"),bottom:this.formatStyle(t.bottom,"px"),left:this.formatStyle(t.left,"px"),right:this.formatStyle(t.right,"px"),height:this.formatStyle(t.height,"px"),width:this.formatStyle(t.width,"px")})}}y.prototype=i(b.prototype);y.prototype.constructor=y;function j(t){var i,e,r,n;if(t.div){e=t.div.offsetHeight;r=t.div.offsetWidth;n=t.div.offsetTop;var s=(s=t.div.childNodes)&&(s=s[0])&&s.getClientRects&&s.getClientRects();t=t.div.getBoundingClientRect();i=s?Math.max(s[0]&&s[0].height||0,t.height/s.length):0}this.left=t.left;this.right=t.right;this.top=t.top||n;this.height=t.height||e;this.bottom=t.bottom||n+(t.height||e);this.width=t.width||r;this.lineHeight=i!==undefined?i:t.lineHeight}j.prototype.move=function(t,i){i=i!==undefined?i:this.lineHeight;switch(t){case"+x":this.left+=i;this.right+=i;break;case"-x":this.left-=i;this.right-=i;break;case"+y":this.top+=i;this.bottom+=i;break;case"-y":this.top-=i;this.bottom-=i;break}};j.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top};j.prototype.overlapsAny=function(t){for(var i=0;i<t.length;i++){if(this.overlaps(t[i])){return true}}return false};j.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right};j.prototype.overlapsOppositeAxis=function(t,i){switch(i){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}};j.prototype.intersectPercentage=function(t){var i=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),e=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),r=i*e;return r/(this.height*this.width)};j.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}};j.getSimpleBoxPosition=function(t){var i=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0;var e=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0;var r=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var n={left:t.left,right:t.right,top:t.top||r,height:t.height||i,bottom:t.bottom||r+(t.height||i),width:t.width||e};return n};function w(t,i,e,r){function n(t,i){var n,s=new j(t),a=1;for(var o=0;o<i.length;o++){while(t.overlapsOppositeAxis(e,i[o])||t.within(e)&&t.overlapsAny(r)){t.move(i[o])}if(t.within(e)){return t}var u=t.intersectPercentage(e);if(a>u){n=new j(t);a=u}t=new j(s)}return n||s}var s=new j(i),a=i.cue,o=m(a),u=[];if(a.snapToLines){var f;switch(a.vertical){case"":u=["+y","-y"];f="height";break;case"rl":u=["+x","-x"];f="width";break;case"lr":u=["-x","+x"];f="width";break}var h=s.lineHeight,c=h*Math.round(o),l=e[f]+h,v=u[0];if(Math.abs(c)>l){c=c<0?-1:1;c*=Math.ceil(l/h)*h}if(o<0){c+=a.vertical===""?e.height:e.width;u=u.reverse()}s.move(v,c)}else{var d=s.lineHeight/e.height*100;switch(a.lineAlign){case"center":o-=d/2;break;case"end":o-=d;break}switch(a.vertical){case"":i.applyStyles({top:i.formatStyle(o,"%")});break;case"rl":i.applyStyles({left:i.formatStyle(o,"%")});break;case"lr":i.applyStyles({right:i.formatStyle(o,"%")});break}u=["+y","-x","+x","-y"];s=new j(i)}var p=n(s,u);i.move(p.toCSSCompatValues(e))}function T(){}T.StringDecoder=function(){return{decode:function(t){if(!t){return""}if(typeof t!=="string"){throw new Error("Error - expected string data.")}return decodeURIComponent(encodeURIComponent(t))}}};T.convertCueToDOMTree=function(t,i){if(!t||!i){return null}return l(t,i)};var k=.05;var A="sans-serif";var E="1.5%";T.processCues=function(t,i,e){if(!t||!i||!e){return null}while(e.firstChild){e.removeChild(e.firstChild)}var r=t.document.createElement("div");r.style.position="absolute";r.style.left="0";r.style.right="0";r.style.top="0";r.style.bottom="0";r.style.margin=E;e.appendChild(r);function n(t){for(var i=0;i<t.length;i++){if(t[i].hasBeenReset||!t[i].displayState){return true}}return false}if(!n(i)){for(var s=0;s<i.length;s++){r.appendChild(i[s].displayState)}return}var a=[],o=j.getSimpleBoxPosition(r),u=Math.round(o.height*k*100)/100;var f={font:u+"px "+A};(function(){var e,n;for(var s=0;s<i.length;s++){n=i[s];e=new y(t,n,f);r.appendChild(e.div);w(t,e,o,a);n.displayState=e.div;a.push(j.getSimpleBoxPosition(e))}})()};T.Parser=function(t,i,e){if(!e){e=i;i={}}if(!i){i={}}this.window=t;this.vttjs=i;this.state="INITIAL";this.buffer="";this.decoder=e||new TextDecoder("utf8");this.regionList=[]};T.Parser.prototype={reportOrThrowError:function(t){if(t instanceof e){this.onparsingerror&&this.onparsingerror(t)}else{throw t}},parse:function(t){var i=this;if(t){i.buffer+=i.decoder.decode(t,{stream:true})}function o(){var t=i.buffer;var e=0;while(e<t.length&&t[e]!=="\r"&&t[e]!=="\n"){++e}var r=t.substr(0,e);if(t[e]==="\r"){++e}if(t[e]==="\n"){++e}i.buffer=t.substr(e);return r}function u(t){var e=new n;s(t,(function(t,i){switch(t){case"id":e.set(t,i);break;case"width":e.percent(t,i);break;case"lines":e.integer(t,i);break;case"regionanchor":case"viewportanchor":var r=i.split(",");if(r.length!==2){break}var s=new n;s.percent("x",r[0]);s.percent("y",r[1]);if(!s.has("x")||!s.has("y")){break}e.set(t+"X",s.get("x"));e.set(t+"Y",s.get("y"));break;case"scroll":e.alt(t,i,["up"]);break}}),/=/,/\s/);if(e.has("id")){var r=new(i.vttjs.VTTRegion||i.window.VTTRegion);r.width=e.get("width",100);r.lines=e.get("lines",3);r.regionAnchorX=e.get("regionanchorX",0);r.regionAnchorY=e.get("regionanchorY",100);r.viewportAnchorX=e.get("viewportanchorX",0);r.viewportAnchorY=e.get("viewportanchorY",100);r.scroll=e.get("scroll","");i.onregion&&i.onregion(r);i.regionList.push({id:e.get("id"),region:r})}}function f(t){var e=new n;s(t,(function(t,i){switch(t){case"MPEGT":e.integer(t+"S",i);break;case"LOCA":e.set(t+"L",r(i));break}}),/[^\d]:/,/,/);i.ontimestampmap&&i.ontimestampmap({MPEGTS:e.get("MPEGTS"),LOCAL:e.get("LOCAL")})}function h(t){if(t.match(/X-TIMESTAMP-MAP/)){s(t,(function(t,i){switch(t){case"X-TIMESTAMP-MAP":f(i);break}}),/=/)}else{s(t,(function(t,i){switch(t){case"Region":u(i);break}}),/:/)}}try{var c;if(i.state==="INITIAL"){if(!/\r\n|\n/.test(i.buffer)){return this}c=o();var l=c.match(/^WEBVTT([ \t].*)?$/);if(!l||!l[0]){throw new e(e.Errors.BadSignature)}i.state="HEADER"}var v=false;while(i.buffer){if(!/\r\n|\n/.test(i.buffer)){return this}if(!v){c=o()}else{v=false}switch(i.state){case"HEADER":if(/:/.test(c)){h(c)}else if(!c){i.state="ID"}continue;case"NOTE":if(!c){i.state="ID"}continue;case"ID":if(/^NOTE($|[ \t])/.test(c)){i.state="NOTE";break}if(!c){continue}i.cue=new(i.vttjs.VTTCue||i.window.VTTCue)(0,0,"");try{i.cue.align="center"}catch(t){i.cue.align="middle"}i.state="CUE";if(c.indexOf("--\x3e")===-1){i.cue.id=c;continue}case"CUE":try{a(c,i.cue,i.regionList)}catch(t){i.reportOrThrowError(t);i.cue=null;i.state="BADCUE";continue}i.state="CUETEXT";continue;case"CUETEXT":var d=c.indexOf("--\x3e")!==-1;if(!c||d&&(v=true)){i.oncue&&i.oncue(i.cue);i.cue=null;i.state="ID";continue}if(i.cue.text){i.cue.text+="\n"}i.cue.text+=c.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":if(!c){i.state="ID"}continue}}}catch(t){i.reportOrThrowError(t);if(i.state==="CUETEXT"&&i.cue&&i.oncue){i.oncue(i.cue)}i.cue=null;i.state=i.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{t.buffer+=t.decoder.decode();if(t.cue||t.state==="HEADER"){t.buffer+="\n\n";t.parse()}if(t.state==="INITIAL"){throw new e(e.Errors.BadSignature)}}catch(i){t.reportOrThrowError(i)}t.onflush&&t.onflush();return this}};W=T;return W}var K;var Z;function $(){if(Z)return K;Z=1;var t="auto";var i={"":1,lr:1,rl:1};var e={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function r(t){if(typeof t!=="string"){return false}var e=i[t.toLowerCase()];return e?t.toLowerCase():false}function n(t){if(typeof t!=="string"){return false}var i=e[t.toLowerCase()];return i?t.toLowerCase():false}function s(i,e,s){this.hasBeenReset=false;var a="";var o=false;var u=i;var f=e;var h=s;var c=null;var l="";var v=true;var d="auto";var p="start";var m="auto";var g="auto";var b=100;var y="center";Object.defineProperties(this,{id:{enumerable:true,get:function(){return a},set:function(t){a=""+t}},pauseOnExit:{enumerable:true,get:function(){return o},set:function(t){o=!!t}},startTime:{enumerable:true,get:function(){return u},set:function(t){if(typeof t!=="number"){throw new TypeError("Start time must be set to a number.")}u=t;this.hasBeenReset=true}},endTime:{enumerable:true,get:function(){return f},set:function(t){if(typeof t!=="number"){throw new TypeError("End time must be set to a number.")}f=t;this.hasBeenReset=true}},text:{enumerable:true,get:function(){return h},set:function(t){h=""+t;this.hasBeenReset=true}},region:{enumerable:true,get:function(){return c},set:function(t){c=t;this.hasBeenReset=true}},vertical:{enumerable:true,get:function(){return l},set:function(t){var i=r(t);if(i===false){throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.")}l=i;this.hasBeenReset=true}},snapToLines:{enumerable:true,get:function(){return v},set:function(t){v=!!t;this.hasBeenReset=true}},line:{enumerable:true,get:function(){return d},set:function(i){if(typeof i!=="number"&&i!==t){throw new SyntaxError("Line: an invalid number or illegal string was specified.")}d=i;this.hasBeenReset=true}},lineAlign:{enumerable:true,get:function(){return p},set:function(t){var i=n(t);if(!i){console.warn("lineAlign: an invalid or illegal string was specified.")}else{p=i;this.hasBeenReset=true}}},position:{enumerable:true,get:function(){return m},set:function(t){if(t<0||t>100){throw new Error("Position must be between 0 and 100.")}m=t;this.hasBeenReset=true}},positionAlign:{enumerable:true,get:function(){return g},set:function(t){var i=n(t);if(!i){console.warn("positionAlign: an invalid or illegal string was specified.")}else{g=i;this.hasBeenReset=true}}},size:{enumerable:true,get:function(){return b},set:function(t){if(t<0||t>100){throw new Error("Size must be between 0 and 100.")}b=t;this.hasBeenReset=true}},align:{enumerable:true,get:function(){return y},set:function(t){var i=n(t);if(!i){throw new SyntaxError("align: an invalid or illegal alignment string was specified.")}y=i;this.hasBeenReset=true}}});this.displayState=undefined}s.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};K=s;return K}var tt;var it;function et(){if(it)return tt;it=1;var t={"":true,up:true};function i(i){if(typeof i!=="string"){return false}var e=t[i.toLowerCase()];return e?i.toLowerCase():false}function e(t){return typeof t==="number"&&(t>=0&&t<=100)}function r(){var t=100;var r=3;var n=0;var s=100;var a=0;var o=100;var u="";Object.defineProperties(this,{width:{enumerable:true,get:function(){return t},set:function(i){if(!e(i)){throw new Error("Width must be between 0 and 100.")}t=i}},lines:{enumerable:true,get:function(){return r},set:function(t){if(typeof t!=="number"){throw new TypeError("Lines must be set to a number.")}r=t}},regionAnchorY:{enumerable:true,get:function(){return s},set:function(t){if(!e(t)){throw new Error("RegionAnchorX must be between 0 and 100.")}s=t}},regionAnchorX:{enumerable:true,get:function(){return n},set:function(t){if(!e(t)){throw new Error("RegionAnchorY must be between 0 and 100.")}n=t}},viewportAnchorY:{enumerable:true,get:function(){return o},set:function(t){if(!e(t)){throw new Error("ViewportAnchorY must be between 0 and 100.")}o=t}},viewportAnchorX:{enumerable:true,get:function(){return a},set:function(t){if(!e(t)){throw new Error("ViewportAnchorX must be between 0 and 100.")}a=t}},scroll:{enumerable:true,get:function(){return u},set:function(t){var e=i(t);if(e===false){console.warn("Scroll: an invalid or illegal string was specified.")}else{u=e}}}})}tt=r;return tt}var rt;function nt(){if(rt)return Y.exports;rt=1;var t=f();var i=Y.exports={WebVTT:Q(),VTTCue:$(),VTTRegion:et()};t.vttjs=i;t.WebVTT=i.WebVTT;var e=i.VTTCue;var r=i.VTTRegion;var n=t.VTTCue;var s=t.VTTRegion;i.shim=function(){t.VTTCue=e;t.VTTRegion=r};i.restore=function(){t.VTTCue=n;t.VTTRegion=s};if(!t.VTTCue){i.shim()}return Y.exports}var st=nt();var at=s(st);function ot(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ot=function i(){return!!t})()}function ut(t,i,e){if(ot())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,i);var n=new(t.bind.apply(t,r));return e&&I(n,e.prototype),n}function ft(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:true,configurable:true}}),Object.defineProperty(t,"prototype",{writable:false}),i&&I(t,i)}var ht={exports:{}};var ct;function lt(){if(ct)return ht.exports;ct=1;(function(t,i){(function(i){var e=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/;var r=/^(?=([^\/?#]*))\1([^]*)$/;var n=/(?:\/|^)\.(?=\/)/g;var s=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g;var a={buildAbsoluteURL:function(t,i,e){e=e||{};t=t.trim();i=i.trim();if(!i){if(!e.alwaysNormalize){return t}var n=a.parseURL(t);if(!n){throw new Error("Error trying to parse base URL.")}n.path=a.normalizePath(n.path);return a.buildURLFromParts(n)}var s=a.parseURL(i);if(!s){throw new Error("Error trying to parse relative URL.")}if(s.scheme){if(!e.alwaysNormalize){return i}s.path=a.normalizePath(s.path);return a.buildURLFromParts(s)}var o=a.parseURL(t);if(!o){throw new Error("Error trying to parse base URL.")}if(!o.netLoc&&o.path&&o.path[0]!=="/"){var u=r.exec(o.path);o.netLoc=u[1];o.path=u[2]}if(o.netLoc&&!o.path){o.path="/"}var f={scheme:o.scheme,netLoc:s.netLoc,path:null,params:s.params,query:s.query,fragment:s.fragment};if(!s.netLoc){f.netLoc=o.netLoc;if(s.path[0]!=="/"){if(!s.path){f.path=o.path;if(!s.params){f.params=o.params;if(!s.query){f.query=o.query}}}else{var h=o.path;var c=h.substring(0,h.lastIndexOf("/")+1)+s.path;f.path=a.normalizePath(c)}}}if(f.path===null){f.path=e.alwaysNormalize?a.normalizePath(s.path):s.path}return a.buildURLFromParts(f)},parseURL:function(t){var i=e.exec(t);if(!i){return null}return{scheme:i[1]||"",netLoc:i[2]||"",path:i[3]||"",params:i[4]||"",query:i[5]||"",fragment:i[6]||""}},normalizePath:function(t){t=t.split("").reverse().join("").replace(n,"");while(t.length!==(t=t.replace(s,"")).length){}return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}};t.exports=a})()})(ht);return ht.exports}var vt=lt();var dt=s(vt);var pt="http://example.com";var mt=function t(i,e){if(/^[a-z]+:/i.test(e)){return e}if(/^data:/.test(i)){i=c.location&&c.location.href||""}var r=typeof c.URL==="function";var n=/^\/\//.test(i);var s=!c.location&&!/\/\//i.test(i);if(r){i=new c.URL(i,c.location||pt)}else if(!/\/\//i.test(i)){i=dt.buildAbsoluteURL(c.location&&c.location.href||"",i)}if(r){var a=new URL(e,i);if(s){return a.href.slice(pt.length)}else if(n){return a.href.slice(a.protocol.length)}return a.href}return dt.buildAbsoluteURL(i,e)};var gt=function(){function t(){this.listeners={}}var i=t.prototype;i.on=function t(i,e){if(!this.listeners[i]){this.listeners[i]=[]}this.listeners[i].push(e)};i.off=function t(i,e){if(!this.listeners[i]){return false}var r=this.listeners[i].indexOf(e);this.listeners[i]=this.listeners[i].slice(0);this.listeners[i].splice(r,1);return r>-1};i.trigger=function t(i){var e=this.listeners[i];if(!e){return}if(arguments.length===2){var r=e.length;for(var n=0;n<r;++n){e[n].call(this,arguments[1])}}else{var s=Array.prototype.slice.call(arguments,1);var a=e.length;for(var o=0;o<a;++o){e[o].apply(this,s)}}};i.dispose=function t(){this.listeners={}};i.pipe=function t(i){this.on("data",(function(t){i.push(t)}))};return t}();var bt=function t(i){return c.atob?c.atob(i):Buffer.from(i,"base64").toString("binary")};function yt(t){var i=bt(t);var e=new Uint8Array(i.length);for(var r=0;r<i.length;r++){e[r]=i.charCodeAt(r)}return e}
/*! @name m3u8-parser @version 4.8.0 @license Apache-2.0 */var jt=function(t){D(i,t);function i(){var i;i=t.call(this)||this;i.buffer="";return i}var e=i.prototype;e.push=function t(i){var e;this.buffer+=i;e=this.buffer.indexOf("\n");for(;e>-1;e=this.buffer.indexOf("\n")){this.trigger("data",this.buffer.substring(0,e));this.buffer=this.buffer.substring(e+1)}};return i}(gt);var wt=String.fromCharCode(9);var Tt=function t(i){var e=/([0-9.]*)?@?([0-9.]*)?/.exec(i||"");var r={};if(e[1]){r.length=parseInt(e[1],10)}if(e[2]){r.offset=parseInt(e[2],10)}return r};var kt=function t(){var i="[^=]*";var e='"[^"]*"|[^,]*';var r="(?:"+i+")=(?:"+e+")";return new RegExp("(?:^|,)("+r+")")};var At=function t(i){var e=i.split(kt());var r={};var n=e.length;var s;while(n--){if(e[n]===""){continue}s=/([^=]*)=(.*)/.exec(e[n]).slice(1);s[0]=s[0].replace(/^\s+|\s+$/g,"");s[1]=s[1].replace(/^\s+|\s+$/g,"");s[1]=s[1].replace(/^['"](.*)['"]$/g,"$1");r[s[0]]=s[1]}return r};var Et=function(t){D(i,t);function i(){var i;i=t.call(this)||this;i.customParsers=[];i.tagMappers=[];return i}var e=i.prototype;e.push=function t(i){var e=this;var r;var n;i=i.trim();if(i.length===0){return}if(i[0]!=="#"){this.trigger("data",{type:"uri",uri:i});return}var s=this.tagMappers.reduce((function(t,e){var r=e(i);if(r===i){return t}return t.concat([r])}),[i]);s.forEach((function(t){for(var i=0;i<e.customParsers.length;i++){if(e.customParsers[i].call(e,t)){return}}if(t.indexOf("#EXT")!==0){e.trigger("data",{type:"comment",text:t.slice(1)});return}t=t.replace("\r","");r=/^#EXTM3U/.exec(t);if(r){e.trigger("data",{type:"tag",tagType:"m3u"});return}r=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(t);if(r){n={type:"tag",tagType:"inf"};if(r[1]){n.duration=parseFloat(r[1])}if(r[2]){n.title=r[2]}e.trigger("data",n);return}r=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(t);if(r){n={type:"tag",tagType:"targetduration"};if(r[1]){n.duration=parseInt(r[1],10)}e.trigger("data",n);return}r=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(t);if(r){n={type:"tag",tagType:"version"};if(r[1]){n.version=parseInt(r[1],10)}e.trigger("data",n);return}r=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(t);if(r){n={type:"tag",tagType:"media-sequence"};if(r[1]){n.number=parseInt(r[1],10)}e.trigger("data",n);return}r=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(t);if(r){n={type:"tag",tagType:"discontinuity-sequence"};if(r[1]){n.number=parseInt(r[1],10)}e.trigger("data",n);return}r=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(t);if(r){n={type:"tag",tagType:"playlist-type"};if(r[1]){n.playlistType=r[1]}e.trigger("data",n);return}r=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(t);if(r){n=j(Tt(r[1]),{type:"tag",tagType:"byterange"});e.trigger("data",n);return}r=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(t);if(r){n={type:"tag",tagType:"allow-cache"};if(r[1]){n.allowed=!/NO/.test(r[1])}e.trigger("data",n);return}r=/^#EXT-X-MAP:?(.*)$/.exec(t);if(r){n={type:"tag",tagType:"map"};if(r[1]){var s=At(r[1]);if(s.URI){n.uri=s.URI}if(s.BYTERANGE){n.byterange=Tt(s.BYTERANGE)}}e.trigger("data",n);return}r=/^#EXT-X-STREAM-INF:?(.*)$/.exec(t);if(r){n={type:"tag",tagType:"stream-inf"};if(r[1]){n.attributes=At(r[1]);if(n.attributes.RESOLUTION){var a=n.attributes.RESOLUTION.split("x");var o={};if(a[0]){o.width=parseInt(a[0],10)}if(a[1]){o.height=parseInt(a[1],10)}n.attributes.RESOLUTION=o}if(n.attributes.BANDWIDTH){n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)}if(n.attributes["FRAME-RATE"]){n.attributes["FRAME-RATE"]=parseFloat(n.attributes["FRAME-RATE"])}if(n.attributes["PROGRAM-ID"]){n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10)}}e.trigger("data",n);return}r=/^#EXT-X-MEDIA:?(.*)$/.exec(t);if(r){n={type:"tag",tagType:"media"};if(r[1]){n.attributes=At(r[1])}e.trigger("data",n);return}r=/^#EXT-X-ENDLIST/.exec(t);if(r){e.trigger("data",{type:"tag",tagType:"endlist"});return}r=/^#EXT-X-DISCONTINUITY/.exec(t);if(r){e.trigger("data",{type:"tag",tagType:"discontinuity"});return}r=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(t);if(r){n={type:"tag",tagType:"program-date-time"};if(r[1]){n.dateTimeString=r[1];n.dateTimeObject=new Date(r[1])}e.trigger("data",n);return}r=/^#EXT-X-KEY:?(.*)$/.exec(t);if(r){n={type:"tag",tagType:"key"};if(r[1]){n.attributes=At(r[1]);if(n.attributes.IV){if(n.attributes.IV.substring(0,2).toLowerCase()==="0x"){n.attributes.IV=n.attributes.IV.substring(2)}n.attributes.IV=n.attributes.IV.match(/.{8}/g);n.attributes.IV[0]=parseInt(n.attributes.IV[0],16);n.attributes.IV[1]=parseInt(n.attributes.IV[1],16);n.attributes.IV[2]=parseInt(n.attributes.IV[2],16);n.attributes.IV[3]=parseInt(n.attributes.IV[3],16);n.attributes.IV=new Uint32Array(n.attributes.IV)}}e.trigger("data",n);return}r=/^#EXT-X-START:?(.*)$/.exec(t);if(r){n={type:"tag",tagType:"start"};if(r[1]){n.attributes=At(r[1]);n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]);n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)}e.trigger("data",n);return}r=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(t);if(r){n={type:"tag",tagType:"cue-out-cont"};if(r[1]){n.data=r[1]}else{n.data=""}e.trigger("data",n);return}r=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(t);if(r){n={type:"tag",tagType:"cue-out"};if(r[1]){n.data=r[1]}else{n.data=""}e.trigger("data",n);return}r=/^#EXT-X-CUE-IN:?(.*)?$/.exec(t);if(r){n={type:"tag",tagType:"cue-in"};if(r[1]){n.data=r[1]}else{n.data=""}e.trigger("data",n);return}r=/^#EXT-X-SKIP:(.*)$/.exec(t);if(r&&r[1]){n={type:"tag",tagType:"skip"};n.attributes=At(r[1]);if(n.attributes.hasOwnProperty("SKIPPED-SEGMENTS")){n.attributes["SKIPPED-SEGMENTS"]=parseInt(n.attributes["SKIPPED-SEGMENTS"],10)}if(n.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")){n.attributes["RECENTLY-REMOVED-DATERANGES"]=n.attributes["RECENTLY-REMOVED-DATERANGES"].split(wt)}e.trigger("data",n);return}r=/^#EXT-X-PART:(.*)$/.exec(t);if(r&&r[1]){n={type:"tag",tagType:"part"};n.attributes=At(r[1]);["DURATION"].forEach((function(t){if(n.attributes.hasOwnProperty(t)){n.attributes[t]=parseFloat(n.attributes[t])}}));["INDEPENDENT","GAP"].forEach((function(t){if(n.attributes.hasOwnProperty(t)){n.attributes[t]=/YES/.test(n.attributes[t])}}));if(n.attributes.hasOwnProperty("BYTERANGE")){n.attributes.byterange=Tt(n.attributes.BYTERANGE)}e.trigger("data",n);return}r=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(t);if(r&&r[1]){n={type:"tag",tagType:"server-control"};n.attributes=At(r[1]);["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach((function(t){if(n.attributes.hasOwnProperty(t)){n.attributes[t]=parseFloat(n.attributes[t])}}));["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach((function(t){if(n.attributes.hasOwnProperty(t)){n.attributes[t]=/YES/.test(n.attributes[t])}}));e.trigger("data",n);return}r=/^#EXT-X-PART-INF:(.*)$/.exec(t);if(r&&r[1]){n={type:"tag",tagType:"part-inf"};n.attributes=At(r[1]);["PART-TARGET"].forEach((function(t){if(n.attributes.hasOwnProperty(t)){n.attributes[t]=parseFloat(n.attributes[t])}}));e.trigger("data",n);return}r=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(t);if(r&&r[1]){n={type:"tag",tagType:"preload-hint"};n.attributes=At(r[1]);["BYTERANGE-START","BYTERANGE-LENGTH"].forEach((function(t){if(n.attributes.hasOwnProperty(t)){n.attributes[t]=parseInt(n.attributes[t],10);var i=t==="BYTERANGE-LENGTH"?"length":"offset";n.attributes.byterange=n.attributes.byterange||{};n.attributes.byterange[i]=n.attributes[t];delete n.attributes[t]}}));e.trigger("data",n);return}r=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(t);if(r&&r[1]){n={type:"tag",tagType:"rendition-report"};n.attributes=At(r[1]);["LAST-MSN","LAST-PART"].forEach((function(t){if(n.attributes.hasOwnProperty(t)){n.attributes[t]=parseInt(n.attributes[t],10)}}));e.trigger("data",n);return}e.trigger("data",{type:"tag",data:t.slice(4)})}))};e.addParser=function t(i){var e=this;var r=i.expression,n=i.customType,s=i.dataParser,a=i.segment;if(typeof s!=="function"){s=function t(i){return i}}this.customParsers.push((function(t){var i=r.exec(t);if(i){e.trigger("data",{type:"custom",data:s(t),customType:n,segment:a});return true}}))};e.addTagMapper=function t(i){var e=i.expression,r=i.map;var n=function t(i){if(e.test(i)){return r(i)}return i};this.tagMappers.push(n)};return i}(gt);var xt=function t(i){return i.toLowerCase().replace(/-(\w)/g,(function(t){return t[1].toUpperCase()}))};var St=function t(i){var e={};Object.keys(i).forEach((function(t){e[xt(t)]=i[t]}));return e};var It=function t(i){var e=i.serverControl,r=i.targetDuration,n=i.partTargetDuration;if(!e){return}var s="#EXT-X-SERVER-CONTROL";var a="holdBack";var o="partHoldBack";var u=r&&r*3;var f=n&&n*2;if(r&&!e.hasOwnProperty(a)){e[a]=u;this.trigger("info",{message:s+" defaulting HOLD-BACK to targetDuration * 3 ("+u+")."})}if(u&&e[a]<u){this.trigger("warn",{message:s+" clamping HOLD-BACK ("+e[a]+") to targetDuration * 3 ("+u+")"});e[a]=u}if(n&&!e.hasOwnProperty(o)){e[o]=n*3;this.trigger("info",{message:s+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+e[o]+")."})}if(n&&e[o]<f){this.trigger("warn",{message:s+" clamping PART-HOLD-BACK ("+e[o]+") to partTargetDuration * 2 ("+f+")."});e[o]=f}};var Dt=function(t){D(i,t);function i(){var i;i=t.call(this)||this;i.lineStream=new jt;i.parseStream=new Et;i.lineStream.pipe(i.parseStream);var e=S(i);var r=[];var n={};var s;var a;var o=false;var u=function t(){};var f={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}};var h="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";var c=0;i.manifest={allowCache:true,discontinuityStarts:[],segments:[]};var l=0;var v=0;i.on("end",(function(){if(n.uri||!n.parts&&!n.preloadHints){return}if(!n.map&&s){n.map=s}if(!n.key&&a){n.key=a}if(!n.timeline&&typeof c==="number"){n.timeline=c}i.manifest.preloadSegment=n}));i.parseStream.on("data",(function(t){var i;var d;({tag:function p(){({version:function i(){if(t.version){this.manifest.version=t.version}},"allow-cache":function i(){this.manifest.allowCache=t.allowed;if(!("allowed"in t)){this.trigger("info",{message:"defaulting allowCache to YES"});this.manifest.allowCache=true}},byterange:function i(){var i={};if("length"in t){n.byterange=i;i.length=t.length;if(!("offset"in t)){t.offset=l}}if("offset"in t){n.byterange=i;i.offset=t.offset}l=i.offset+i.length},endlist:function t(){this.manifest.endList=true},inf:function i(){if(!("mediaSequence"in this.manifest)){this.manifest.mediaSequence=0;this.trigger("info",{message:"defaulting media sequence to zero"})}if(!("discontinuitySequence"in this.manifest)){this.manifest.discontinuitySequence=0;this.trigger("info",{message:"defaulting discontinuity sequence to zero"})}if(t.duration>0){n.duration=t.duration}if(t.duration===0){n.duration=.01;this.trigger("info",{message:"updating zero segment duration to a small value"})}this.manifest.segments=r},key:function i(){if(!t.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(t.attributes.METHOD==="NONE"){a=null;return}if(!t.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(t.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{};this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:t.attributes};return}if(t.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{};this.manifest.contentProtection["com.microsoft.playready"]={uri:t.attributes.URI};return}if(t.attributes.KEYFORMAT===h){var e=["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"];if(e.indexOf(t.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(t.attributes.METHOD==="SAMPLE-AES-CENC"){this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"})}if(t.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(t.attributes.KEYID&&t.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{};this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:t.attributes.KEYFORMAT,keyId:t.attributes.KEYID.substring(2)},pssh:yt(t.attributes.URI.split(",")[1])};return}if(!t.attributes.METHOD){this.trigger("warn",{message:"defaulting key method to AES-128"})}a={method:t.attributes.METHOD||"AES-128",uri:t.attributes.URI};if(typeof t.attributes.IV!=="undefined"){a.iv=t.attributes.IV}},"media-sequence":function i(){if(!isFinite(t.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+t.number});return}this.manifest.mediaSequence=t.number},"discontinuity-sequence":function i(){if(!isFinite(t.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+t.number});return}this.manifest.discontinuitySequence=t.number;c=t.number},"playlist-type":function i(){if(!/VOD|EVENT/.test(t.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+t.playlist});return}this.manifest.playlistType=t.playlistType},map:function i(){s={};if(t.uri){s.uri=t.uri}if(t.byterange){s.byterange=t.byterange}if(a){s.key=a}},"stream-inf":function i(){this.manifest.playlists=r;this.manifest.mediaGroups=this.manifest.mediaGroups||f;if(!t.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}if(!n.attributes){n.attributes={}}j(n.attributes,t.attributes)},media:function e(){this.manifest.mediaGroups=this.manifest.mediaGroups||f;if(!(t.attributes&&t.attributes.TYPE&&t.attributes["GROUP-ID"]&&t.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}var r=this.manifest.mediaGroups[t.attributes.TYPE];r[t.attributes["GROUP-ID"]]=r[t.attributes["GROUP-ID"]]||{};i=r[t.attributes["GROUP-ID"]];d={default:/yes/i.test(t.attributes.DEFAULT)};if(d.default){d.autoselect=true}else{d.autoselect=/yes/i.test(t.attributes.AUTOSELECT)}if(t.attributes.LANGUAGE){d.language=t.attributes.LANGUAGE}if(t.attributes.URI){d.uri=t.attributes.URI}if(t.attributes["INSTREAM-ID"]){d.instreamId=t.attributes["INSTREAM-ID"]}if(t.attributes.CHARACTERISTICS){d.characteristics=t.attributes.CHARACTERISTICS}if(t.attributes.FORCED){d.forced=/yes/i.test(t.attributes.FORCED)}i[t.attributes.NAME]=d},discontinuity:function t(){c+=1;n.discontinuity=true;this.manifest.discontinuityStarts.push(r.length)},"program-date-time":function i(){if(typeof this.manifest.dateTimeString==="undefined"){this.manifest.dateTimeString=t.dateTimeString;this.manifest.dateTimeObject=t.dateTimeObject}n.dateTimeString=t.dateTimeString;n.dateTimeObject=t.dateTimeObject},targetduration:function i(){if(!isFinite(t.duration)||t.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+t.duration});return}this.manifest.targetDuration=t.duration;It.call(this,this.manifest)},start:function i(){if(!t.attributes||isNaN(t.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:t.attributes["TIME-OFFSET"],precise:t.attributes.PRECISE}},"cue-out":function i(){n.cueOut=t.data},"cue-out-cont":function i(){n.cueOutCont=t.data},"cue-in":function i(){n.cueIn=t.data},skip:function i(){this.manifest.skip=St(t.attributes);this.warnOnMissingAttributes_("#EXT-X-SKIP",t.attributes,["SKIPPED-SEGMENTS"])},part:function i(){var e=this;o=true;var r=this.manifest.segments.length;var i=St(t.attributes);n.parts=n.parts||[];n.parts.push(i);if(i.byterange){if(!i.byterange.hasOwnProperty("offset")){i.byterange.offset=v}v=i.byterange.offset+i.byterange.length}var s=n.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #"+s+" for segment #"+r,t.attributes,["URI","DURATION"]);if(this.manifest.renditionReports){this.manifest.renditionReports.forEach((function(t,i){if(!t.hasOwnProperty("lastPart")){e.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+i+" lacks required attribute(s): LAST-PART"})}}))}},"server-control":function i(){var e=this.manifest.serverControl=St(t.attributes);if(!e.hasOwnProperty("canBlockReload")){e.canBlockReload=false;this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})}It.call(this,this.manifest);if(e.canSkipDateranges&&!e.hasOwnProperty("canSkipUntil")){this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})}},"preload-hint":function i(){var e=this.manifest.segments.length;var r=St(t.attributes);var s=r.type&&r.type==="PART";n.preloadHints=n.preloadHints||[];n.preloadHints.push(r);if(r.byterange){if(!r.byterange.hasOwnProperty("offset")){r.byterange.offset=s?v:0;if(s){v=r.byterange.offset+r.byterange.length}}}var a=n.preloadHints.length-1;this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+a+" for segment #"+e,t.attributes,["TYPE","URI"]);if(!r.type){return}for(var o=0;o<n.preloadHints.length-1;o++){var u=n.preloadHints[o];if(!u.type){continue}if(u.type===r.type){this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+a+" for segment #"+e+" has the same TYPE "+r.type+" as preload hint #"+o})}}},"rendition-report":function i(){var e=St(t.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[];this.manifest.renditionReports.push(e);var r=this.manifest.renditionReports.length-1;var n=["LAST-MSN","URI"];if(o){n.push("LAST-PART")}this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+r,t.attributes,n)},"part-inf":function i(){this.manifest.partInf=St(t.attributes);this.warnOnMissingAttributes_("#EXT-X-PART-INF",t.attributes,["PART-TARGET"]);if(this.manifest.partInf.partTarget){this.manifest.partTargetDuration=this.manifest.partInf.partTarget}It.call(this,this.manifest)}}[t.tagType]||u).call(e)},uri:function i(){n.uri=t.uri;r.push(n);if(this.manifest.targetDuration&&!("duration"in n)){this.trigger("warn",{message:"defaulting segment duration to the target duration"});n.duration=this.manifest.targetDuration}if(a){n.key=a}n.timeline=c;if(s){n.map=s}v=0;n={}},comment:function t(){},custom:function i(){if(t.segment){n.custom=n.custom||{};n.custom[t.customType]=t.data}else{this.manifest.custom=this.manifest.custom||{};this.manifest.custom[t.customType]=t.data}}})[t.type].call(e)}));return i}var e=i.prototype;e.warnOnMissingAttributes_=function t(i,e,r){var n=[];r.forEach((function(t){if(!e.hasOwnProperty(t)){n.push(t)}}));if(n.length){this.trigger("warn",{message:i+" lacks required attribute(s): "+n.join(", ")})}};e.push=function t(i){this.lineStream.push(i)};e.end=function t(){this.lineStream.push("\n");this.trigger("end")};e.addParser=function t(i){this.parseStream.addParser(i)};e.addTagMapper=function t(i){this.parseStream.addTagMapper(i)};return i}(gt);var Nt={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/};var Ot=["video","audio","text"];var Rt=["Video","Audio","Text"];var Lt=function t(i){if(!i){return i}return i.replace(/avc1\.(\d+)\.(\d+)/i,(function(t,i,e){var r=("00"+Number(i).toString(16)).slice(-2);var n=("00"+Number(e).toString(16)).slice(-2);return"avc1."+r+"00"+n}))};var Ct=function t(i){if(i===void 0){i=""}var e=i.split(",");var r=[];e.forEach((function(t){t=t.trim();var i;Ot.forEach((function(e){var n=Nt[e].exec(t.toLowerCase());if(!n||n.length<=1){return}i=e;var s=t.substring(0,n[1].length);var a=t.replace(s,"");r.push({type:s,details:a,mediaType:e})}));if(!i){r.push({type:t,details:"",mediaType:"unknown"})}}));return r};var Mt=function t(i,e){if(!i.mediaGroups.AUDIO||!e){return null}var r=i.mediaGroups.AUDIO[e];if(!r){return null}for(var n in r){var s=r[n];if(s.default&&s.playlists){return Ct(s.playlists[0].attributes.CODECS)}}return null};var Ut=function t(i){if(i===void 0){i=""}return Nt.audio.test(i.trim().toLowerCase())};var Bt=function t(i){if(i===void 0){i=""}return Nt.text.test(i.trim().toLowerCase())};var Pt=function t(i){if(!i||typeof i!=="string"){return}var e=i.toLowerCase().split(",").map((function(t){return Lt(t.trim())}));var r="video";if(e.length===1&&Ut(e[0])){r="audio"}else if(e.length===1&&Bt(e[0])){r="application"}var n="mp4";if(e.every((function(t){return Nt.mp4.test(t)}))){n="mp4"}else if(e.every((function(t){return Nt.webm.test(t)}))){n="webm"}else if(e.every((function(t){return Nt.ogg.test(t)}))){n="ogg"}return r+"/"+n+';codecs="'+i+'"'};var qt=function t(i){if(i===void 0){i=""}return c.MediaSource&&c.MediaSource.isTypeSupported&&c.MediaSource.isTypeSupported(Pt(i))||false};var Ft=function t(i){if(i===void 0){i=""}return i.toLowerCase().split(",").every((function(t){t=t.trim();for(var i=0;i<Rt.length;i++){var e=Rt[i];if(Nt["muxer"+e].test(t)){return true}}return false}))};var _t="mp4a.40.2";var Vt="avc1.4d400d";var Ht=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i;var zt=/^application\/dash\+xml/i;var Gt=function t(i){if(Ht.test(i)){return"hls"}if(zt.test(i)){return"dash"}if(i==="application/vnd.videojs.vhs+json"){return"vhs-json"}return null};var Xt=function t(i){return i.toString(2).length};var Yt=function t(i){return Math.ceil(Xt(i)/8)};var Wt=function t(i){if(ArrayBuffer.isView==="function"){return ArrayBuffer.isView(i)}return i&&i.buffer instanceof ArrayBuffer};var Jt=function t(i){return Wt(i)};var Qt=function t(i){if(i instanceof Uint8Array){return i}if(!Array.isArray(i)&&!Jt(i)&&!(i instanceof ArrayBuffer)){if(typeof i!=="number"||typeof i==="number"&&i!==i){i=0}else{i=[i]}}return new Uint8Array(i&&i.buffer||i,i&&i.byteOffset||0,i&&i.byteLength||0)};var Kt=c.BigInt||Number;var Zt=[Kt("0x1"),Kt("0x100"),Kt("0x10000"),Kt("0x1000000"),Kt("0x100000000"),Kt("0x10000000000"),Kt("0x1000000000000"),Kt("0x100000000000000"),Kt("0x10000000000000000")];var $t=function t(i,e){var r=e===void 0?{}:e,n=r.signed,s=n===void 0?false:n,a=r.le,o=a===void 0?false:a;i=Qt(i);var u=o?"reduce":"reduceRight";var f=i[u]?i[u]:Array.prototype[u];var h=f.call(i,(function(t,e,r){var n=o?r:Math.abs(r+1-i.length);return t+Kt(e)*Zt[n]}),Kt(0));if(s){var c=Zt[i.length]/Kt(2)-Kt(1);h=Kt(h);if(h>c){h-=c;h-=c;h-=Kt(2)}}return Number(h)};var ti=function t(i,e){var r={},n=r.le,s=n===void 0?false:n;if(typeof i!=="bigint"&&typeof i!=="number"||typeof i==="number"&&i!==i){i=0}i=Kt(i);var a=Yt(i);var o=new Uint8Array(new ArrayBuffer(a));for(var u=0;u<a;u++){var f=s?u:Math.abs(u+1-o.length);o[f]=Number(i/Zt[u]&Kt(255));if(i<0){o[f]=Math.abs(~o[f]);o[f]-=u===0?1:2}}return o};var ii=function t(i,e){if(typeof i!=="string"&&i&&typeof i.toString==="function"){i=i.toString()}if(typeof i!=="string"){return new Uint8Array}if(!e){i=unescape(encodeURIComponent(i))}var r=new Uint8Array(i.length);for(var n=0;n<i.length;n++){r[n]=i.charCodeAt(n)}return r};var ei=function t(){for(var i=arguments.length,e=new Array(i),r=0;r<i;r++){e[r]=arguments[r]}e=e.filter((function(t){return t&&(t.byteLength||t.length)&&typeof t!=="string"}));if(e.length<=1){return Qt(e[0])}var n=e.reduce((function(t,i,e){return t+(i.byteLength||i.length)}),0);var s=new Uint8Array(n);var a=0;e.forEach((function(t){t=Qt(t);s.set(t,a);a+=t.byteLength}));return s};var ri=function t(i,e,r){var n=r===void 0?{}:r,s=n.offset,a=s===void 0?0:s,o=n.mask,u=o===void 0?[]:o;i=Qt(i);e=Qt(e);var f=e.every?e.every:Array.prototype.every;return e.length&&i.length-a>=e.length&&f.call(e,(function(t,e){var r=u[e]?u[e]&i[a+e]:i[a+e];return t===r}))};var ni=function t(i,e,r){e.forEach((function(t){for(var e in i.mediaGroups[t]){for(var n in i.mediaGroups[t][e]){var s=i.mediaGroups[t][e][n];r(s,t,e,n)}}}))};var si={};var ai={};var oi={};var ui;function fi(){if(ui)return oi;ui=1;function t(t,i,e){if(e===undefined){e=Array.prototype}if(t&&typeof e.find==="function"){return e.find.call(t,i)}for(var r=0;r<t.length;r++){if(Object.prototype.hasOwnProperty.call(t,r)){var n=t[r];if(i.call(undefined,n,r,t)){return n}}}}function i(t,i){if(i===undefined){i=Object}return i&&typeof i.freeze==="function"?i.freeze(t):t}function e(t,i){if(t===null||typeof t!=="object"){throw new TypeError("target is not an object")}for(var e in i){if(Object.prototype.hasOwnProperty.call(i,e)){t[e]=i[e]}}return t}var r=i({HTML:"text/html",isHTML:function(t){return t===r.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"});var n=i({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===n.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});oi.assign=e;oi.find=t;oi.freeze=i;oi.MIME_TYPE=r;oi.NAMESPACE=n;return oi}var hi;function ci(){if(hi)return ai;hi=1;var t=fi();var i=t.find;var e=t.NAMESPACE;function r(t){return t!==""}function n(t){return t?t.split(/[\t\n\f\r ]+/).filter(r):[]}function s(t,i){if(!t.hasOwnProperty(i)){t[i]=true}return t}function a(t){if(!t)return[];var i=n(t);return Object.keys(i.reduce(s,{}))}function o(t){return function(i){return t&&t.indexOf(i)!==-1}}function u(t,i){for(var e in t){if(Object.prototype.hasOwnProperty.call(t,e)){i[e]=t[e]}}}function f(t,i){var e=t.prototype;if(!(e instanceof i)){function r(){}r.prototype=i.prototype;r=new r;u(e,r);t.prototype=e=r}if(e.constructor!=t){if(typeof t!="function"){console.error("unknown Class:"+t)}e.constructor=t}}var h={};var c=h.ELEMENT_NODE=1;var l=h.ATTRIBUTE_NODE=2;var v=h.TEXT_NODE=3;var d=h.CDATA_SECTION_NODE=4;var p=h.ENTITY_REFERENCE_NODE=5;var m=h.ENTITY_NODE=6;var g=h.PROCESSING_INSTRUCTION_NODE=7;var b=h.COMMENT_NODE=8;var y=h.DOCUMENT_NODE=9;var j=h.DOCUMENT_TYPE_NODE=10;var w=h.DOCUMENT_FRAGMENT_NODE=11;var T=h.NOTATION_NODE=12;var k={};var A={};k.INDEX_SIZE_ERR=(A[1]="Index size error",1);k.DOMSTRING_SIZE_ERR=(A[2]="DOMString size error",2);var E=k.HIERARCHY_REQUEST_ERR=(A[3]="Hierarchy request error",3);k.WRONG_DOCUMENT_ERR=(A[4]="Wrong document",4);k.INVALID_CHARACTER_ERR=(A[5]="Invalid character",5);k.NO_DATA_ALLOWED_ERR=(A[6]="No data allowed",6);k.NO_MODIFICATION_ALLOWED_ERR=(A[7]="No modification allowed",7);var x=k.NOT_FOUND_ERR=(A[8]="Not found",8);k.NOT_SUPPORTED_ERR=(A[9]="Not supported",9);var S=k.INUSE_ATTRIBUTE_ERR=(A[10]="Attribute in use",10);k.INVALID_STATE_ERR=(A[11]="Invalid state",11);k.SYNTAX_ERR=(A[12]="Syntax error",12);k.INVALID_MODIFICATION_ERR=(A[13]="Invalid modification",13);k.NAMESPACE_ERR=(A[14]="Invalid namespace",14);k.INVALID_ACCESS_ERR=(A[15]="Invalid access",15);function I(t,i){if(i instanceof Error){var e=i}else{e=this;Error.call(this,A[t]);this.message=A[t];if(Error.captureStackTrace)Error.captureStackTrace(this,I)}e.code=t;if(i)this.message=this.message+": "+i;return e}I.prototype=Error.prototype;u(k,I);function D(){}D.prototype={length:0,item:function(t){return t>=0&&t<this.length?this[t]:null},toString:function(t,i){for(var e=[],r=0;r<this.length;r++){jt(this[r],e,t,i)}return e.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}};function N(t,i){this._node=t;this._refresh=i;O(this)}function O(t){var i=t._node._inc||t._node.ownerDocument._inc;if(t._inc!==i){var e=t._refresh(t._node);kt(t,"length",e.length);if(!t.$$length||e.length<t.$$length){for(var r=e.length;r in t;r++){if(Object.prototype.hasOwnProperty.call(t,r)){delete t[r]}}}u(e,t);t._inc=i}}N.prototype.item=function(t){O(this);return this[t]||null};f(N,D);function R(){}function L(t,i){var e=t.length;while(e--){if(t[e]===i){return e}}}function C(t,i,e,r){if(r){i[L(i,r)]=e}else{i[i.length++]=e}if(t){e.ownerElement=t;var n=t.ownerDocument;if(n){r&&V(n,t,r);_(n,t,e)}}}function M(t,i,e){var r=L(i,e);if(r>=0){var n=i.length-1;while(r<n){i[r]=i[++r]}i.length=n;if(t){var s=t.ownerDocument;if(s){V(s,t,e);e.ownerElement=null}}}else{throw new I(x,new Error(t.tagName+"@"+e))}}R.prototype={length:0,item:D.prototype.item,getNamedItem:function(t){var i=this.length;while(i--){var e=this[i];if(e.nodeName==t){return e}}},setNamedItem:function(t){var i=t.ownerElement;if(i&&i!=this._ownerElement){throw new I(S)}var e=this.getNamedItem(t.nodeName);C(this._ownerElement,this,t,e);return e},setNamedItemNS:function(t){var i=t.ownerElement,e;if(i&&i!=this._ownerElement){throw new I(S)}e=this.getNamedItemNS(t.namespaceURI,t.localName);C(this._ownerElement,this,t,e);return e},removeNamedItem:function(t){var i=this.getNamedItem(t);M(this._ownerElement,this,i);return i},removeNamedItemNS:function(t,i){var e=this.getNamedItemNS(t,i);M(this._ownerElement,this,e);return e},getNamedItemNS:function(t,i){var e=this.length;while(e--){var r=this[e];if(r.localName==i&&r.namespaceURI==t){return r}}return null}};function U(){}U.prototype={hasFeature:function(t,i){return true},createDocument:function(t,i,e){var r=new F;r.implementation=this;r.childNodes=new D;r.doctype=e||null;if(e){r.appendChild(e)}if(i){var n=r.createElementNS(t,i);r.appendChild(n)}return r},createDocumentType:function(t,i,e){var r=new ht;r.name=t;r.nodeName=t;r.publicId=i||"";r.systemId=e||"";return r}};function B(){}B.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,i){return it(this,t,i)},replaceChild:function(t,i){it(this,t,i,tt);if(i){this.removeChild(i)}},removeChild:function(t){return z(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return Tt(this.ownerDocument||this,this,t)},normalize:function(){var t=this.firstChild;while(t){var i=t.nextSibling;if(i&&i.nodeType==v&&t.nodeType==v){this.removeChild(i);t.appendData(i.data)}else{t.normalize();t=i}}},isSupported:function(t,i){return this.ownerDocument.implementation.hasFeature(t,i)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){var i=this;while(i){var e=i._nsMap;if(e){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)&&e[r]===t){return r}}}i=i.nodeType==l?i.ownerDocument:i.parentNode}return null},lookupNamespaceURI:function(t){var i=this;while(i){var e=i._nsMap;if(e){if(Object.prototype.hasOwnProperty.call(e,t)){return e[t]}}i=i.nodeType==l?i.ownerDocument:i.parentNode}return null},isDefaultNamespace:function(t){var i=this.lookupPrefix(t);return i==null}};function P(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}u(h,B);u(h,B.prototype);function q(t,i){if(i(t)){return true}if(t=t.firstChild){do{if(q(t,i)){return true}}while(t=t.nextSibling)}}function F(){this.ownerDocument=this}function _(t,i,r){t&&t._inc++;var n=r.namespaceURI;if(n===e.XMLNS){i._nsMap[r.prefix?r.localName:""]=r.value}}function V(t,i,r,n){t&&t._inc++;var s=r.namespaceURI;if(s===e.XMLNS){delete i._nsMap[r.prefix?r.localName:""]}}function H(t,i,e){if(t&&t._inc){t._inc++;var r=i.childNodes;if(e){r[r.length++]=e}else{var n=i.firstChild;var s=0;while(n){r[s++]=n;n=n.nextSibling}r.length=s;delete r[r.length]}}}function z(t,i){var e=i.previousSibling;var r=i.nextSibling;if(e){e.nextSibling=r}else{t.firstChild=r}if(r){r.previousSibling=e}else{t.lastChild=e}i.parentNode=null;i.previousSibling=null;i.nextSibling=null;H(t.ownerDocument,t);return i}function G(t){return t&&(t.nodeType===B.DOCUMENT_NODE||t.nodeType===B.DOCUMENT_FRAGMENT_NODE||t.nodeType===B.ELEMENT_NODE)}function X(t){return t&&(W(t)||J(t)||Y(t)||t.nodeType===B.DOCUMENT_FRAGMENT_NODE||t.nodeType===B.COMMENT_NODE||t.nodeType===B.PROCESSING_INSTRUCTION_NODE)}function Y(t){return t&&t.nodeType===B.DOCUMENT_TYPE_NODE}function W(t){return t&&t.nodeType===B.ELEMENT_NODE}function J(t){return t&&t.nodeType===B.TEXT_NODE}function Q(t,e){var r=t.childNodes||[];if(i(r,W)||Y(e)){return false}var n=i(r,Y);return!(e&&n&&r.indexOf(n)>r.indexOf(e))}function K(t,e){var r=t.childNodes||[];function n(t){return W(t)&&t!==e}if(i(r,n)){return false}var s=i(r,Y);return!(e&&s&&r.indexOf(s)>r.indexOf(e))}function Z(t,i,e){if(!G(t)){throw new I(E,"Unexpected parent node type "+t.nodeType)}if(e&&e.parentNode!==t){throw new I(x,"child not in parent")}if(!X(i)||Y(i)&&t.nodeType!==B.DOCUMENT_NODE){throw new I(E,"Unexpected node type "+i.nodeType+" for parent node type "+t.nodeType)}}function $(t,e,r){var n=t.childNodes||[];var s=e.childNodes||[];if(e.nodeType===B.DOCUMENT_FRAGMENT_NODE){var a=s.filter(W);if(a.length>1||i(s,J)){throw new I(E,"More than one element or text in fragment")}if(a.length===1&&!Q(t,r)){throw new I(E,"Element in fragment can not be inserted before doctype")}}if(W(e)){if(!Q(t,r)){throw new I(E,"Only one element can be added and only after doctype")}}if(Y(e)){if(i(n,Y)){throw new I(E,"Only one doctype is allowed")}var o=i(n,W);if(r&&n.indexOf(o)<n.indexOf(r)){throw new I(E,"Doctype can only be inserted before an element")}if(!r&&o){throw new I(E,"Doctype can not be appended since element is present")}}}function tt(t,e,r){var n=t.childNodes||[];var s=e.childNodes||[];if(e.nodeType===B.DOCUMENT_FRAGMENT_NODE){var a=s.filter(W);if(a.length>1||i(s,J)){throw new I(E,"More than one element or text in fragment")}if(a.length===1&&!K(t,r)){throw new I(E,"Element in fragment can not be inserted before doctype")}}if(W(e)){if(!K(t,r)){throw new I(E,"Only one element can be added and only after doctype")}}if(Y(e)){function u(t){return Y(t)&&t!==r}if(i(n,u)){throw new I(E,"Only one doctype is allowed")}var o=i(n,W);if(r&&n.indexOf(o)<n.indexOf(r)){throw new I(E,"Doctype can only be inserted before an element")}}}function it(t,i,e,r){Z(t,i,e);if(t.nodeType===B.DOCUMENT_NODE){(r||$)(t,i,e)}var n=i.parentNode;if(n){n.removeChild(i)}if(i.nodeType===w){var s=i.firstChild;if(s==null){return i}var a=i.lastChild}else{s=a=i}var o=e?e.previousSibling:t.lastChild;s.previousSibling=o;a.nextSibling=e;if(o){o.nextSibling=s}else{t.firstChild=s}if(e==null){t.lastChild=a}else{e.previousSibling=a}do{s.parentNode=t;var u=t.ownerDocument||t;et(s,u)}while(s!==a&&(s=s.nextSibling));H(t.ownerDocument||t,t);if(i.nodeType==w){i.firstChild=i.lastChild=null}return i}function et(t,i){if(t.ownerDocument===i){return}t.ownerDocument=i;if(t.nodeType===c&&t.attributes){for(var e=0;e<t.attributes.length;e++){var r=t.attributes.item(e);if(r){r.ownerDocument=i}}}var n=t.firstChild;while(n){et(n,i);n=n.nextSibling}}function rt(t,i){if(i.parentNode){i.parentNode.removeChild(i)}i.parentNode=t;i.previousSibling=t.lastChild;i.nextSibling=null;if(i.previousSibling){i.previousSibling.nextSibling=i}else{t.firstChild=i}t.lastChild=i;H(t.ownerDocument,t,i);var e=t.ownerDocument||t;et(i,e);return i}F.prototype={nodeName:"#document",nodeType:y,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,i){if(t.nodeType==w){var e=t.firstChild;while(e){var r=e.nextSibling;this.insertBefore(e,i);e=r}return t}it(this,t,i);et(t,this);if(this.documentElement===null&&t.nodeType===c){this.documentElement=t}return t},removeChild:function(t){if(this.documentElement==t){this.documentElement=null}return z(this,t)},replaceChild:function(t,i){it(this,t,i,tt);et(t,this);if(i){this.removeChild(i)}if(W(t)){this.documentElement=t}},importNode:function(t,i){return wt(this,t,i)},getElementById:function(t){var i=null;q(this.documentElement,(function(e){if(e.nodeType==c){if(e.getAttribute("id")==t){i=e;return true}}}));return i},getElementsByClassName:function(t){var i=a(t);return new N(this,(function(e){var r=[];if(i.length>0){q(e.documentElement,(function(n){if(n!==e&&n.nodeType===c){var s=n.getAttribute("class");if(s){var u=t===s;if(!u){var f=a(s);u=i.every(o(f))}if(u){r.push(n)}}}}))}return r}))},createElement:function(t){var i=new nt;i.ownerDocument=this;i.nodeName=t;i.tagName=t;i.localName=t;i.childNodes=new D;var e=i.attributes=new R;e._ownerElement=i;return i},createDocumentFragment:function(){var t=new dt;t.ownerDocument=this;t.childNodes=new D;return t},createTextNode:function(t){var i=new ot;i.ownerDocument=this;i.appendData(t);return i},createComment:function(t){var i=new ut;i.ownerDocument=this;i.appendData(t);return i},createCDATASection:function(t){var i=new ft;i.ownerDocument=this;i.appendData(t);return i},createProcessingInstruction:function(t,i){var e=new pt;e.ownerDocument=this;e.tagName=e.nodeName=e.target=t;e.nodeValue=e.data=i;return e},createAttribute:function(t){var i=new st;i.ownerDocument=this;i.name=t;i.nodeName=t;i.localName=t;i.specified=true;return i},createEntityReference:function(t){var i=new vt;i.ownerDocument=this;i.nodeName=t;return i},createElementNS:function(t,i){var e=new nt;var r=i.split(":");var n=e.attributes=new R;e.childNodes=new D;e.ownerDocument=this;e.nodeName=i;e.tagName=i;e.namespaceURI=t;if(r.length==2){e.prefix=r[0];e.localName=r[1]}else{e.localName=i}n._ownerElement=e;return e},createAttributeNS:function(t,i){var e=new st;var r=i.split(":");e.ownerDocument=this;e.nodeName=i;e.name=i;e.namespaceURI=t;e.specified=true;if(r.length==2){e.prefix=r[0];e.localName=r[1]}else{e.localName=i}return e}};f(F,B);function nt(){this._nsMap={}}nt.prototype={nodeType:c,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var i=this.getAttributeNode(t);return i&&i.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,i){var e=this.ownerDocument.createAttribute(t);e.value=e.nodeValue=""+i;this.setAttributeNode(e)},removeAttribute:function(t){var i=this.getAttributeNode(t);i&&this.removeAttributeNode(i)},appendChild:function(t){if(t.nodeType===w){return this.insertBefore(t,null)}else{return rt(this,t)}},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,i){var e=this.getAttributeNodeNS(t,i);e&&this.removeAttributeNode(e)},hasAttributeNS:function(t,i){return this.getAttributeNodeNS(t,i)!=null},getAttributeNS:function(t,i){var e=this.getAttributeNodeNS(t,i);return e&&e.value||""},setAttributeNS:function(t,i,e){var r=this.ownerDocument.createAttributeNS(t,i);r.value=r.nodeValue=""+e;this.setAttributeNode(r)},getAttributeNodeNS:function(t,i){return this.attributes.getNamedItemNS(t,i)},getElementsByTagName:function(t){return new N(this,(function(i){var e=[];q(i,(function(r){if(r!==i&&r.nodeType==c&&(t==="*"||r.tagName==t)){e.push(r)}}));return e}))},getElementsByTagNameNS:function(t,i){return new N(this,(function(e){var r=[];q(e,(function(n){if(n!==e&&n.nodeType===c&&(t==="*"||n.namespaceURI===t)&&(i==="*"||n.localName==i)){r.push(n)}}));return r}))}};F.prototype.getElementsByTagName=nt.prototype.getElementsByTagName;F.prototype.getElementsByTagNameNS=nt.prototype.getElementsByTagNameNS;f(nt,B);function st(){}st.prototype.nodeType=l;f(st,B);function at(){}at.prototype={data:"",substringData:function(t,i){return this.data.substring(t,t+i)},appendData:function(t){t=this.data+t;this.nodeValue=this.data=t;this.length=t.length},insertData:function(t,i){this.replaceData(t,0,i)},appendChild:function(t){throw new Error(A[E])},deleteData:function(t,i){this.replaceData(t,i,"")},replaceData:function(t,i,e){var r=this.data.substring(0,t);var n=this.data.substring(t+i);e=r+e+n;this.nodeValue=this.data=e;this.length=e.length}};f(at,B);function ot(){}ot.prototype={nodeName:"#text",nodeType:v,splitText:function(t){var i=this.data;var e=i.substring(t);i=i.substring(0,t);this.data=this.nodeValue=i;this.length=i.length;var r=this.ownerDocument.createTextNode(e);if(this.parentNode){this.parentNode.insertBefore(r,this.nextSibling)}return r}};f(ot,at);function ut(){}ut.prototype={nodeName:"#comment",nodeType:b};f(ut,at);function ft(){}ft.prototype={nodeName:"#cdata-section",nodeType:d};f(ft,at);function ht(){}ht.prototype.nodeType=j;f(ht,B);function ct(){}ct.prototype.nodeType=T;f(ct,B);function lt(){}lt.prototype.nodeType=m;f(lt,B);function vt(){}vt.prototype.nodeType=p;f(vt,B);function dt(){}dt.prototype.nodeName="#document-fragment";dt.prototype.nodeType=w;f(dt,B);function pt(){}pt.prototype.nodeType=g;f(pt,B);function mt(){}mt.prototype.serializeToString=function(t,i,e){return gt.call(t,i,e)};B.prototype.toString=gt;function gt(t,i){var e=[];var r=this.nodeType==9&&this.documentElement||this;var n=r.prefix;var s=r.namespaceURI;if(s&&n==null){var n=r.lookupPrefix(s);if(n==null){var a=[{namespace:s,prefix:null}]}}jt(this,e,t,i,a);return e.join("")}function bt(t,i,r){var n=t.prefix||"";var s=t.namespaceURI;if(!s){return false}if(n==="xml"&&s===e.XML||s===e.XMLNS){return false}var a=r.length;while(a--){var o=r[a];if(o.prefix===n){return o.namespace!==s}}return true}function yt(t,i,e){t.push(" ",i,'="',e.replace(/[<>&"\t\n\r]/g,P),'"')}function jt(t,i,r,n,s){if(!s){s=[]}if(n){t=n(t);if(t){if(typeof t=="string"){i.push(t);return}}else{return}}switch(t.nodeType){case c:var a=t.attributes;var o=a.length;var u=t.firstChild;var f=t.tagName;r=e.isHTML(t.namespaceURI)||r;var h=f;if(!r&&!t.prefix&&t.namespaceURI){var m;for(var T=0;T<a.length;T++){if(a.item(T).name==="xmlns"){m=a.item(T).value;break}}if(!m){for(var k=s.length-1;k>=0;k--){var A=s[k];if(A.prefix===""&&A.namespace===t.namespaceURI){m=A.namespace;break}}}if(m!==t.namespaceURI){for(var k=s.length-1;k>=0;k--){var A=s[k];if(A.namespace===t.namespaceURI){if(A.prefix){h=A.prefix+":"+f}break}}}}i.push("<",h);for(var E=0;E<o;E++){var x=a.item(E);if(x.prefix=="xmlns"){s.push({prefix:x.localName,namespace:x.value})}else if(x.nodeName=="xmlns"){s.push({prefix:"",namespace:x.value})}}for(var E=0;E<o;E++){var x=a.item(E);if(bt(x,r,s)){var S=x.prefix||"";var I=x.namespaceURI;yt(i,S?"xmlns:"+S:"xmlns",I);s.push({prefix:S,namespace:I})}jt(x,i,r,n,s)}if(f===h&&bt(t,r,s)){var S=t.prefix||"";var I=t.namespaceURI;yt(i,S?"xmlns:"+S:"xmlns",I);s.push({prefix:S,namespace:I})}if(u||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(f)){i.push(">");if(r&&/^script$/i.test(f)){while(u){if(u.data){i.push(u.data)}else{jt(u,i,r,n,s.slice())}u=u.nextSibling}}else{while(u){jt(u,i,r,n,s.slice());u=u.nextSibling}}i.push("</",h,">")}else{i.push("/>")}return;case y:case w:var u=t.firstChild;while(u){jt(u,i,r,n,s.slice());u=u.nextSibling}return;case l:return yt(i,t.name,t.value);case v:return i.push(t.data.replace(/[<&>]/g,P));case d:return i.push("<![CDATA[",t.data,"]]>");case b:return i.push("\x3c!--",t.data,"--\x3e");case j:var D=t.publicId;var N=t.systemId;i.push("<!DOCTYPE ",t.name);if(D){i.push(" PUBLIC ",D);if(N&&N!="."){i.push(" ",N)}i.push(">")}else if(N&&N!="."){i.push(" SYSTEM ",N,">")}else{var O=t.internalSubset;if(O){i.push(" [",O,"]")}i.push(">")}return;case g:return i.push("<?",t.target," ",t.data,"?>");case p:return i.push("&",t.nodeName,";");default:i.push("??",t.nodeName)}}function wt(t,i,e){var r;switch(i.nodeType){case c:r=i.cloneNode(false);r.ownerDocument=t;case w:break;case l:e=true;break}if(!r){r=i.cloneNode(false)}r.ownerDocument=t;r.parentNode=null;if(e){var n=i.firstChild;while(n){r.appendChild(wt(t,n,e));n=n.nextSibling}}return r}function Tt(t,i,e){var r=new i.constructor;for(var n in i){if(Object.prototype.hasOwnProperty.call(i,n)){var s=i[n];if(typeof s!="object"){if(s!=r[n]){r[n]=s}}}}if(i.childNodes){r.childNodes=new D}r.ownerDocument=t;switch(r.nodeType){case c:var a=i.attributes;var o=r.attributes=new R;var u=a.length;o._ownerElement=r;for(var f=0;f<u;f++){r.setAttributeNode(Tt(t,a.item(f),true))}break;case l:e=true}if(e){var h=i.firstChild;while(h){r.appendChild(Tt(t,h,e));h=h.nextSibling}}return r}function kt(t,i,e){t[i]=e}try{if(Object.defineProperty){Object.defineProperty(N.prototype,"length",{get:function(){O(this);return this.$$length}});Object.defineProperty(B.prototype,"textContent",{get:function(){return At(this)},set:function(t){switch(this.nodeType){case c:case w:while(this.firstChild){this.removeChild(this.firstChild)}if(t||String(t)){this.appendChild(this.ownerDocument.createTextNode(t))}break;default:this.data=t;this.value=t;this.nodeValue=t}}});function At(t){switch(t.nodeType){case c:case w:var i=[];t=t.firstChild;while(t){if(t.nodeType!==7&&t.nodeType!==8){i.push(At(t))}t=t.nextSibling}return i.join("");default:return t.nodeValue}}kt=function(t,i,e){t["$$"+i]=e}}}catch(Et){}ai.DocumentType=ht;ai.DOMException=I;ai.DOMImplementation=U;ai.Element=nt;ai.Node=B;ai.NodeList=D;ai.XMLSerializer=mt;return ai}var li={};var vi={};var di;function pi(){if(di)return vi;di=1;(function(t){var i=fi().freeze;t.XML_ENTITIES=i({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'});t.HTML_ENTITIES=i({Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",AMP:"&",amp:"&",And:"⩓",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",ap:"≈",apacir:"⩯",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",Barwed:"⌆",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",Because:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxDL:"╗",boxDl:"╖",boxdL:"╕",boxdl:"┐",boxDR:"╔",boxDr:"╓",boxdR:"╒",boxdr:"┌",boxH:"═",boxh:"─",boxHD:"╦",boxHd:"╤",boxhD:"╥",boxhd:"┬",boxHU:"╩",boxHu:"╧",boxhU:"╨",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxUL:"╝",boxUl:"╜",boxuL:"╛",boxul:"┘",boxUR:"╚",boxUr:"╙",boxuR:"╘",boxur:"└",boxV:"║",boxv:"│",boxVH:"╬",boxVh:"╫",boxvH:"╪",boxvh:"┼",boxVL:"╣",boxVl:"╢",boxvL:"╡",boxvl:"┤",boxVR:"╠",boxVr:"╟",boxvR:"╞",boxvr:"├",bprime:"‵",Breve:"˘",breve:"˘",brvbar:"¦",Bscr:"ℬ",bscr:"𝒷",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",Cap:"⋒",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",CenterDot:"·",centerdot:"·",Cfr:"ℭ",cfr:"𝔠",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",cir:"○",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",Colon:"∷",colon:":",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",Conint:"∯",conint:"∮",ContourIntegral:"∮",Copf:"ℂ",copf:"𝕔",coprod:"∐",Coproduct:"∐",COPY:"©",copy:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",Cross:"⨯",cross:"✗",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",Cup:"⋓",cup:"∪",cupbrcap:"⩈",CupCap:"≍",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",Dagger:"‡",dagger:"†",daleth:"ℸ",Darr:"↡",dArr:"⇓",darr:"↓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",DD:"ⅅ",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",Diamond:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",Downarrow:"⇓",downarrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",ecir:"≖",Ecirc:"Ê",ecirc:"ê",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",eDot:"≑",edot:"ė",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp:" ",emsp13:" ",emsp14:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",Escr:"ℰ",escr:"ℯ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",ExponentialE:"ⅇ",exponentiale:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",ForAll:"∀",forall:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",Fscr:"ℱ",fscr:"𝒻",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",gE:"≧",ge:"≥",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",Gg:"⋙",gg:"≫",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gl:"≷",gla:"⪥",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gnE:"≩",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",Gt:"≫",GT:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",hArr:"⇔",harr:"↔",harrcir:"⥈",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",Hfr:"ℌ",hfr:"𝔥",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",Hopf:"ℍ",hopf:"𝕙",horbar:"―",HorizontalLine:"─",Hscr:"ℋ",hscr:"𝒽",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",Ifr:"ℑ",ifr:"𝔦",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Im:"ℑ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",Implies:"⇒",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",Int:"∬",int:"∫",intcal:"⊺",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",Iscr:"ℐ",iscr:"𝒾",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",Lang:"⟪",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",Larr:"↞",lArr:"⇐",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",lAtail:"⤛",latail:"⤙",late:"⪭",lates:"⪭︀",lBarr:"⤎",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",lE:"≦",le:"≤",LeftAngleBracket:"⟨",LeftArrow:"←",Leftarrow:"⇐",leftarrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",Ll:"⋘",ll:"≪",llarr:"⇇",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnap:"⪉",lnapprox:"⪉",lnE:"≨",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftarrow:"⟵",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longleftrightarrow:"⟷",longmapsto:"⟼",LongRightArrow:"⟶",Longrightarrow:"⟹",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",Lscr:"ℒ",lscr:"𝓁",Lsh:"↰",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",Lt:"≪",LT:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",mid:"∣",midast:"*",midcir:"⫰",middot:"·",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",Mscr:"ℳ",mscr:"𝓂",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",ne:"≠",nearhk:"⤤",neArr:"⇗",nearr:"↗",nearrow:"↗",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlArr:"⇍",nlarr:"↚",nldr:"‥",nlE:"≦̸",nle:"≰",nLeftarrow:"⇍",nleftarrow:"↚",nLeftrightarrow:"⇎",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",Nopf:"ℕ",nopf:"𝕟",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nRightarrow:"⇏",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nVDash:"⊯",nVdash:"⊮",nvDash:"⊭",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwArr:"⇖",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",ocir:"⊚",Ocirc:"Ô",ocirc:"ô",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",Or:"⩔",or:"∨",orarr:"↻",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",Otimes:"⨷",otimes:"⊗",otimesas:"⨶",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",par:"∥",para:"¶",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",Popf:"ℙ",popf:"𝕡",pound:"£",Pr:"⪻",pr:"≺",prap:"⪷",prcue:"≼",prE:"⪳",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",Prime:"″",prime:"′",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportion:"∷",Proportional:"∝",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",Qopf:"ℚ",qopf:"𝕢",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",QUOT:'"',quot:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",Rang:"⟫",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",Rarr:"↠",rArr:"⇒",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",rAtail:"⤜",ratail:"⤚",ratio:"∶",rationals:"ℚ",RBarr:"⤐",rBarr:"⤏",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",Re:"ℜ",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",REG:"®",reg:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",Rfr:"ℜ",rfr:"𝔯",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrow:"→",Rightarrow:"⇒",rightarrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",Ropf:"ℝ",ropf:"𝕣",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",Rscr:"ℛ",rscr:"𝓇",Rsh:"↱",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",Sc:"⪼",sc:"≻",scap:"⪸",Scaron:"Š",scaron:"š",sccue:"≽",scE:"⪴",sce:"⪰",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",searhk:"⤥",seArr:"⇘",searr:"↘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",Square:"□",square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",Sub:"⋐",sub:"⊂",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",Subset:"⋐",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",Sum:"∑",sum:"∑",sung:"♪",Sup:"⋑",sup:"⊃",sup1:"¹",sup2:"²",sup3:"³",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",Supset:"⋑",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swArr:"⇙",swarr:"↙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",Therefore:"∴",therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",thinsp:" ",ThinSpace:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",Tilde:"∼",tilde:"˜",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",times:"×",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",TRADE:"™",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",Uarr:"↟",uArr:"⇑",uarr:"↑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrow:"↑",Uparrow:"⇑",uparrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",Updownarrow:"⇕",updownarrow:"↕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",upsi:"υ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTee:"⊥",UpTeeArrow:"↥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",vArr:"⇕",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",Vbar:"⫫",vBar:"⫨",vBarv:"⫩",Vcy:"В",vcy:"в",VDash:"⊫",Vdash:"⊩",vDash:"⊨",vdash:"⊢",Vdashl:"⫦",Vee:"⋁",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",Verbar:"‖",verbar:"|",Vert:"‖",vert:"|",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",Wedge:"⋀",wedge:"∧",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xhArr:"⟺",xharr:"⟷",Xi:"Ξ",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",Yuml:"Ÿ",yuml:"ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",Zfr:"ℨ",zfr:"𝔷",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",Zopf:"ℤ",zopf:"𝕫",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"});t.entityMap=t.HTML_ENTITIES})(vi);return vi}var mi={};var gi;function bi(){if(gi)return mi;gi=1;var t=fi().NAMESPACE;var i=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;var e=new RegExp("[\\-\\.0-9"+i.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]");var r=new RegExp("^"+i.source+e.source+"*(?::"+i.source+e.source+"*)?$");var n=0;var s=1;var a=2;var o=3;var u=4;var f=5;var h=6;var c=7;function l(t,i){this.message=t;this.locator=i;if(Error.captureStackTrace)Error.captureStackTrace(this,l)}l.prototype=new Error;l.prototype.name=l.name;function v(){}v.prototype={parse:function(t,i,e){var r=this.domBuilder;r.startDocument();j(i,i={});d(t,i,e,r,this.errorHandler);r.endDocument()}};function d(i,e,r,n,s){function a(t){if(t>65535){t-=65536;var i=55296+(t>>10),e=56320+(t&1023);return String.fromCharCode(i,e)}else{return String.fromCharCode(t)}}function o(t){var i=t.slice(1,-1);if(Object.hasOwnProperty.call(r,i)){return r[i]}else if(i.charAt(0)==="#"){return a(parseInt(i.substr(1).replace("x","0x")))}else{s.error("entity not found:"+t);return t}}function u(t){if(t>E){var e=i.substring(E,t).replace(/&#?\w+;/g,o);d&&f(E);n.characters(e,0,t-E);E=t}}function f(t,e){while(t>=c&&(e=v.exec(i))){h=e.index;c=h+e[0].length;d.lineNumber++}d.columnNumber=t-h+1}var h=0;var c=0;var v=/.*(?:\r\n?|\n)|.*$/g;var d=n.locator;var j=[{currentNSMap:e}];var A={};var E=0;while(true){try{var x=i.indexOf("<",E);if(x<0){if(!i.substr(E).match(/^\s*$/)){var S=n.doc;var I=S.createTextNode(i.substr(E));S.appendChild(I);n.currentElement=I}return}if(x>E){u(x)}switch(i.charAt(x+1)){case"/":var D=i.indexOf(">",x+3);var N=i.substring(x+2,D).replace(/[ \t\n\r]+$/g,"");var O=j.pop();if(D<0){N=i.substring(x+2).replace(/[\s<].*/,"");s.error("end tag name: "+N+" is not complete:"+O.tagName);D=x+1+N.length}else if(N.match(/\s</)){N=N.replace(/[\s<].*/,"");s.error("end tag name: "+N+" maybe not complete");D=x+1+N.length}var R=O.localNSMap;var L=O.tagName==N;var C=L||O.tagName&&O.tagName.toLowerCase()==N.toLowerCase();if(C){n.endElement(O.uri,O.localName,N);if(R){for(var M in R){if(Object.prototype.hasOwnProperty.call(R,M)){n.endPrefixMapping(M)}}}if(!L){s.fatalError("end tag name: "+N+" is not match the current start tagName:"+O.tagName)}}else{j.push(O)}D++;break;case"?":d&&f(x);D=T(i,x,n);break;case"!":d&&f(x);D=w(i,x,n,s);break;default:d&&f(x);var U=new k;var B=j[j.length-1].currentNSMap;var D=m(i,x,U,B,o,s);var P=U.length;if(!U.closed&&y(i,D,U.tagName,A)){U.closed=true;if(!r.nbsp){s.warning("unclosed xml attribute")}}if(d&&P){var q=p(d,{});for(var F=0;F<P;F++){var _=U[F];f(_.offset);_.locator=p(d,{})}n.locator=q;if(g(U,n,B)){j.push(U)}n.locator=d}else{if(g(U,n,B)){j.push(U)}}if(t.isHTML(U.uri)&&!U.closed){D=b(i,D,U.tagName,o,n)}else{D++}}}catch(t){if(t instanceof l){throw t}s.error("element parse error: "+t);D=-1}if(D>E){E=D}else{u(Math.max(x,E)+1)}}}function p(t,i){i.lineNumber=t.lineNumber;i.columnNumber=t.columnNumber;return i}function m(i,e,r,l,v,d){function p(t,i,e){if(r.attributeNames.hasOwnProperty(t)){d.fatalError("Attribute "+t+" redefined")}r.addValue(t,i.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,v),e)}var m;var g;var b=++e;var y=n;while(true){var j=i.charAt(b);switch(j){case"=":if(y===s){m=i.slice(e,b);y=o}else if(y===a){y=o}else{throw new Error("attribute equal must after attrName")}break;case"'":case'"':if(y===o||y===s){if(y===s){d.warning('attribute value must after "="');m=i.slice(e,b)}e=b+1;b=i.indexOf(j,e);if(b>0){g=i.slice(e,b);p(m,g,e-1);y=f}else{throw new Error("attribute value no end '"+j+"' match")}}else if(y==u){g=i.slice(e,b);p(m,g,e);d.warning('attribute "'+m+'" missed start quot('+j+")!!");e=b+1;y=f}else{throw new Error('attribute value must after "="')}break;case"/":switch(y){case n:r.setTagName(i.slice(e,b));case f:case h:case c:y=c;r.closed=true;case u:case s:break;case a:r.closed=true;break;default:throw new Error("attribute invalid close char('/')")}break;case"":d.error("unexpected end of input");if(y==n){r.setTagName(i.slice(e,b))}return b;case">":switch(y){case n:r.setTagName(i.slice(e,b));case f:case h:case c:break;case u:case s:g=i.slice(e,b);if(g.slice(-1)==="/"){r.closed=true;g=g.slice(0,-1)}case a:if(y===a){g=m}if(y==u){d.warning('attribute "'+g+'" missed quot(")!');p(m,g,e)}else{if(!t.isHTML(l[""])||!g.match(/^(?:disabled|checked|selected)$/i)){d.warning('attribute "'+g+'" missed value!! "'+g+'" instead!!')}p(g,g,e)}break;case o:throw new Error("attribute value missed!!")}return b;case"":j=" ";default:if(j<=" "){switch(y){case n:r.setTagName(i.slice(e,b));y=h;break;case s:m=i.slice(e,b);y=a;break;case u:var g=i.slice(e,b);d.warning('attribute "'+g+'" missed quot(")!!');p(m,g,e);case f:y=h;break}}else{switch(y){case a:if(!t.isHTML(l[""])||!m.match(/^(?:disabled|checked|selected)$/i)){d.warning('attribute "'+m+'" missed value!! "'+m+'" instead2!!')}p(m,m,e);e=b;y=s;break;case f:d.warning('attribute space is required"'+m+'"!!');case h:y=s;e=b;break;case o:y=u;e=b;break;case c:throw new Error("elements closed character '/' and '>' must be connected to")}}}b++}}function g(i,e,r){var n=i.tagName;var s=null;var a=i.length;while(a--){var o=i[a];var u=o.qName;var f=o.value;var h=u.indexOf(":");if(h>0){var c=o.prefix=u.slice(0,h);var l=u.slice(h+1);var v=c==="xmlns"&&l}else{l=u;c=null;v=u==="xmlns"&&""}o.localName=l;if(v!==false){if(s==null){s={};j(r,r={})}r[v]=s[v]=f;o.uri=t.XMLNS;e.startPrefixMapping(v,f)}}var a=i.length;while(a--){o=i[a];var c=o.prefix;if(c){if(c==="xml"){o.uri=t.XML}if(c!=="xmlns"){o.uri=r[c||""]}}}var h=n.indexOf(":");if(h>0){c=i.prefix=n.slice(0,h);l=i.localName=n.slice(h+1)}else{c=null;l=i.localName=n}var d=i.uri=r[c||""];e.startElement(d,l,n,i);if(i.closed){e.endElement(d,l,n);if(s){for(c in s){if(Object.prototype.hasOwnProperty.call(s,c)){e.endPrefixMapping(c)}}}}else{i.currentNSMap=r;i.localNSMap=s;return true}}function b(t,i,e,r,n){if(/^(?:script|textarea)$/i.test(e)){var s=t.indexOf("</"+e+">",i);var a=t.substring(i+1,s);if(/[&<]/.test(a)){if(/^script$/i.test(e)){n.characters(a,0,a.length);return s}a=a.replace(/&#?\w+;/g,r);n.characters(a,0,a.length);return s}}return i+1}function y(t,i,e,r){var n=r[e];if(n==null){n=t.lastIndexOf("</"+e+">");if(n<i){n=t.lastIndexOf("</"+e)}r[e]=n}return n<i}function j(t,i){for(var e in t){if(Object.prototype.hasOwnProperty.call(t,e)){i[e]=t[e]}}}function w(t,i,e,r){var n=t.charAt(i+2);switch(n){case"-":if(t.charAt(i+3)==="-"){var s=t.indexOf("--\x3e",i+4);if(s>i){e.comment(t,i+4,s-i-4);return s+3}else{r.error("Unclosed comment");return-1}}else{return-1}default:if(t.substr(i+3,6)=="CDATA["){var s=t.indexOf("]]>",i+9);e.startCDATA();e.characters(t,i+9,s-i-9);e.endCDATA();return s+3}var a=A(t,i);var o=a.length;if(o>1&&/!doctype/i.test(a[0][0])){var u=a[1][0];var f=false;var h=false;if(o>3){if(/^public$/i.test(a[2][0])){f=a[3][0];h=o>4&&a[4][0]}else if(/^system$/i.test(a[2][0])){h=a[3][0]}}var c=a[o-1];e.startDTD(u,f,h);e.endDTD();return c.index+c[0].length}}return-1}function T(t,i,e){var r=t.indexOf("?>",i);if(r){var n=t.substring(i,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(n){e.processingInstruction(n[1],n[2]);return r+2}else{return-1}}return-1}function k(){this.attributeNames={}}k.prototype={setTagName:function(t){if(!r.test(t)){throw new Error("invalid tagName:"+t)}this.tagName=t},addValue:function(t,i,e){if(!r.test(t)){throw new Error("invalid attribute:"+t)}this.attributeNames[t]=this.length;this[this.length++]={qName:t,value:i,offset:e}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function A(t,i){var e;var r=[];var n=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;n.lastIndex=i;n.exec(t);while(e=n.exec(t)){r.push(e);if(e[1])return r}}mi.XMLReader=v;mi.ParseError=l;return mi}var yi;function ji(){if(yi)return li;yi=1;var t=fi();var i=ci();var e=pi();var r=bi();var n=i.DOMImplementation;var s=t.NAMESPACE;var a=r.ParseError;var o=r.XMLReader;function u(t){return t.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function f(t){this.options=t||{locator:{}}}f.prototype.parseFromString=function(t,i){var r=this.options;var n=new o;var a=r.domBuilder||new c;var f=r.errorHandler;var l=r.locator;var v=r.xmlns||{};var d=/\/x?html?$/.test(i);var p=d?e.HTML_ENTITIES:e.XML_ENTITIES;if(l){a.setDocumentLocator(l)}n.errorHandler=h(f,a,l);n.domBuilder=r.domBuilder||a;if(d){v[""]=s.HTML}v.xml=v.xml||s.XML;var m=r.normalizeLineEndings||u;if(t&&typeof t==="string"){n.parse(m(t),v,p)}else{n.errorHandler.error("invalid doc source")}return a.doc};function h(t,i,e){if(!t){if(i instanceof c){return i}t=i}var r={};var n=t instanceof Function;e=e||{};function s(i){var s=t[i];if(!s&&n){s=t.length==2?function(e){t(i,e)}:t}r[i]=s&&function(t){s("[xmldom "+i+"]\t"+t+v(e))}||function(){}}s("warning");s("error");s("fatalError");return r}function c(){this.cdata=false}function l(t,i){i.lineNumber=t.lineNumber;i.columnNumber=t.columnNumber}c.prototype={startDocument:function(){this.doc=(new n).createDocument(null,null,null);if(this.locator){this.doc.documentURI=this.locator.systemId}},startElement:function(t,i,e,r){var n=this.doc;var s=n.createElementNS(t,e||i);var a=r.length;p(this,s);this.currentElement=s;this.locator&&l(this.locator,s);for(var o=0;o<a;o++){var t=r.getURI(o);var u=r.getValue(o);var e=r.getQName(o);var f=n.createAttributeNS(t,e);this.locator&&l(r.getLocator(o),f);f.value=f.nodeValue=u;s.setAttributeNode(f)}},endElement:function(t,i,e){var r=this.currentElement;this.currentElement=r.parentNode},startPrefixMapping:function(t,i){},endPrefixMapping:function(t){},processingInstruction:function(t,i){var e=this.doc.createProcessingInstruction(t,i);this.locator&&l(this.locator,e);p(this,e)},ignorableWhitespace:function(t,i,e){},characters:function(t,i,e){t=d.apply(this,arguments);if(t){if(this.cdata){var r=this.doc.createCDATASection(t)}else{var r=this.doc.createTextNode(t)}if(this.currentElement){this.currentElement.appendChild(r)}else if(/^\s*$/.test(t)){this.doc.appendChild(r)}this.locator&&l(this.locator,r)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){if(this.locator=t){t.lineNumber=0}},comment:function(t,i,e){t=d.apply(this,arguments);var r=this.doc.createComment(t);this.locator&&l(this.locator,r);p(this,r)},startCDATA:function(){this.cdata=true},endCDATA:function(){this.cdata=false},startDTD:function(t,i,e){var r=this.doc.implementation;if(r&&r.createDocumentType){var n=r.createDocumentType(t,i,e);this.locator&&l(this.locator,n);p(this,n);this.doc.doctype=n}},warning:function(t){console.warn("[xmldom warning]\t"+t,v(this.locator))},error:function(t){console.error("[xmldom error]\t"+t,v(this.locator))},fatalError:function(t){throw new a(t,this.locator)}};function v(t){if(t){return"\n@"+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}}function d(t,i,e){if(typeof t=="string"){return t.substr(i,e)}else{if(t.length>=i+e||i){return new java.lang.String(t,i,e)+""}return t}}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(t){c.prototype[t]=function(){return null}}));function p(t,i){if(!t.currentElement){t.doc.appendChild(i)}else{t.currentElement.appendChild(i)}}li.__DOMHandler=c;li.normalizeLineEndings=u;li.DOMParser=f;return li}var wi;function Ti(){if(wi)return si;wi=1;var t=ci();si.DOMImplementation=t.DOMImplementation;si.XMLSerializer=t.XMLSerializer;si.DOMParser=ji().DOMParser;return si}var ki=Ti();
/*! @name mpd-parser @version 0.22.1 @license Apache-2.0 */var Ai=function t(i){return!!i&&typeof i==="object"};var Ei=function t(){for(var i=arguments.length,e=new Array(i),r=0;r<i;r++){e[r]=arguments[r]}return e.reduce((function(i,e){if(typeof e!=="object"){return i}Object.keys(e).forEach((function(r){if(Array.isArray(i[r])&&Array.isArray(e[r])){i[r]=i[r].concat(e[r])}else if(Ai(i[r])&&Ai(e[r])){i[r]=t(i[r],e[r])}else{i[r]=e[r]}}));return i}),{})};var xi=function t(i){return Object.keys(i).map((function(t){return i[t]}))};var Si=function t(i,e){var r=[];for(var n=i;n<e;n++){r.push(n)}return r};var Ii=function t(i){return i.reduce((function(t,i){return t.concat(i)}),[])};var Di=function t(i){if(!i.length){return[]}var e=[];for(var r=0;r<i.length;r++){e.push(i[r])}return e};var Ni=function t(i,e){return i.reduce((function(t,i,r){if(i[e]){t.push(r)}return t}),[])};var Oi=function t(i,e){for(var r=0;r<i.length;r++){if(e(i[r])){return r}}return-1};var Ri=function t(i,e){return xi(i.reduce((function(t,i){i.forEach((function(i){t[e(i)]=i}));return t}),{}))};var Li={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};var Ci=function t(i){var e=i.baseUrl,r=e===void 0?"":e,n=i.source,s=n===void 0?"":n,a=i.range,o=a===void 0?"":a,u=i.indexRange,f=u===void 0?"":u;var h={uri:s,resolvedUri:mt(r||"",s)};if(o||f){var l=o?o:f;var v=l.split("-");var d=c.BigInt?c.BigInt(v[0]):parseInt(v[0],10);var p=c.BigInt?c.BigInt(v[1]):parseInt(v[1],10);if(d<Number.MAX_SAFE_INTEGER&&typeof d==="bigint"){d=Number(d)}if(p<Number.MAX_SAFE_INTEGER&&typeof p==="bigint"){p=Number(p)}var m;if(typeof p==="bigint"||typeof d==="bigint"){m=c.BigInt(p)-c.BigInt(d)+c.BigInt(1)}else{m=p-d+1}if(typeof m==="bigint"&&m<Number.MAX_SAFE_INTEGER){m=Number(m)}h.byterange={length:m,offset:d}}return h};var Mi=function t(i){var e;if(typeof i.offset==="bigint"||typeof i.length==="bigint"){e=c.BigInt(i.offset)+c.BigInt(i.length)-c.BigInt(1)}else{e=i.offset+i.length-1}return i.offset+"-"+e};var Ui=function t(i){if(i&&typeof i!=="number"){i=parseInt(i,10)}if(isNaN(i)){return null}return i};var Bi={static:function t(i){var e=i.duration,r=i.timescale,n=r===void 0?1:r,s=i.sourceDuration,a=i.periodDuration;var o=Ui(i.endNumber);var u=e/n;if(typeof o==="number"){return{start:0,end:o}}if(typeof a==="number"){return{start:0,end:a/u}}return{start:0,end:s/u}},dynamic:function t(i){var e=i.NOW,r=i.clientOffset,n=i.availabilityStartTime,s=i.timescale,a=s===void 0?1:s,o=i.duration,u=i.periodStart,f=u===void 0?0:u,h=i.minimumUpdatePeriod,c=h===void 0?0:h,l=i.timeShiftBufferDepth,v=l===void 0?Infinity:l;var d=Ui(i.endNumber);var p=(e+r)/1e3;var m=n+f;var g=p+c;var b=g-m;var y=Math.ceil(b*a/o);var j=Math.floor((p-m-v)*a/o);var w=Math.floor((p-m)*a/o);return{start:Math.max(0,j),end:typeof d==="number"?d:Math.min(y,w)}}};var Pi=function t(i){return function(t){var e=i.duration,r=i.timescale,n=r===void 0?1:r,s=i.periodStart,a=i.startNumber,o=a===void 0?1:a;return{number:o+t,duration:e/n,timeline:s,time:t*e}}};var qi=function t(i){var e=i.type,r=i.duration,n=i.timescale,s=n===void 0?1:n,a=i.periodDuration,o=i.sourceDuration;var u=Bi[e](i),f=u.start,h=u.end;var c=Si(f,h).map(Pi(i));if(e==="static"){var l=c.length-1;var v=typeof a==="number"?a:o;c[l].duration=v-r/s*l}return c};var Fi=function t(i){var e=i.baseUrl,r=i.initialization,n=r===void 0?{}:r,s=i.sourceDuration,a=i.indexRange,o=a===void 0?"":a,u=i.periodStart,f=i.presentationTime,h=i.number,c=h===void 0?0:h,l=i.duration;if(!e){throw new Error(Li.NO_BASE_URL)}var v=Ci({baseUrl:e,source:n.sourceURL,range:n.range});var d=Ci({baseUrl:e,source:e,indexRange:o});d.map=v;if(l){var p=qi(i);if(p.length){d.duration=p[0].duration;d.timeline=p[0].timeline}}else if(s){d.duration=s;d.timeline=u}d.presentationTime=f||u;d.number=c;return[d]};var _i=function t(i,e,r){var n=i.sidx.map?i.sidx.map:null;var s=i.sidx.duration;var a=i.timeline||0;var o=i.sidx.byterange;var u=o.offset+o.length;var f=e.timescale;var h=e.references.filter((function(t){return t.referenceType!==1}));var l=[];var v=i.endList?"static":"dynamic";var d=i.sidx.timeline;var p=d;var m=i.mediaSequence||0;var g;if(typeof e.firstOffset==="bigint"){g=c.BigInt(u)+e.firstOffset}else{g=u+e.firstOffset}for(var b=0;b<h.length;b++){var y=e.references[b];var j=y.referencedSize;var w=y.subsegmentDuration;var T=void 0;if(typeof g==="bigint"){T=g+c.BigInt(j)-c.BigInt(1)}else{T=g+j-1}var k=g+"-"+T;var A={baseUrl:r,timescale:f,timeline:a,periodStart:d,presentationTime:p,number:m,duration:w,sourceDuration:s,indexRange:k,type:v};var E=Fi(A)[0];if(n){E.map=n}l.push(E);if(typeof g==="bigint"){g+=c.BigInt(j)}else{g+=j}p+=w/f;m++}i.segments=l;return i};var Vi=["AUDIO","SUBTITLES"];var Hi=1/60;var zi=function t(i){return Ri(i,(function(t){var i=t.timeline;return i})).sort((function(t,i){return t.timeline>i.timeline?1:-1}))};var Gi=function t(i,e){for(var r=0;r<i.length;r++){if(i[r].attributes.NAME===e){return i[r]}}return null};var Xi=function t(i){var e=[];ni(i,Vi,(function(t,i,r,n){e=e.concat(t.playlists||[])}));return e};var Yi=function t(i){var e=i.playlist,r=i.mediaSequence;e.mediaSequence=r;e.segments.forEach((function(t,i){t.number=e.mediaSequence+i}))};var Wi=function t(i){var e=i.oldPlaylists,r=i.newPlaylists,n=i.timelineStarts;r.forEach((function(t){t.discontinuitySequence=Oi(n,(function(i){var e=i.timeline;return e===t.timeline}));var i=Gi(e,t.attributes.NAME);if(!i){return}if(t.sidx){return}var r=t.segments[0];var s=Oi(i.segments,(function(t){return Math.abs(t.presentationTime-r.presentationTime)<Hi}));if(s===-1){Yi({playlist:t,mediaSequence:i.mediaSequence+i.segments.length});t.segments[0].discontinuity=true;t.discontinuityStarts.unshift(0);if(!i.segments.length&&t.timeline>i.timeline||i.segments.length&&t.timeline>i.segments[i.segments.length-1].timeline){t.discontinuitySequence--}return}var a=i.segments[s];if(a.discontinuity&&!r.discontinuity){r.discontinuity=true;t.discontinuityStarts.unshift(0);t.discontinuitySequence--}Yi({playlist:t,mediaSequence:i.segments[s].number})}))};var Ji=function t(i){var e=i.oldManifest,r=i.newManifest;var n=e.playlists.concat(Xi(e));var s=r.playlists.concat(Xi(r));r.timelineStarts=zi([e.timelineStarts,r.timelineStarts]);Wi({oldPlaylists:n,newPlaylists:s,timelineStarts:r.timelineStarts});return r};var Qi=function t(i){return i&&i.uri+"-"+Mi(i.byterange)};var Ki=function t(i){var e=xi(i.reduce((function(t,i){var e=i.attributes.id+(i.attributes.lang||"");if(!t[e]){t[e]=i;t[e].attributes.timelineStarts=[]}else{if(i.segments){var r;if(i.segments[0]){i.segments[0].discontinuity=true}(r=t[e].segments).push.apply(r,i.segments)}if(i.attributes.contentProtection){t[e].attributes.contentProtection=i.attributes.contentProtection}}t[e].attributes.timelineStarts.push({start:i.attributes.periodStart,timeline:i.attributes.periodStart});return t}),{}));return e.map((function(t){t.discontinuityStarts=Ni(t.segments||[],"discontinuity");return t}))};var Zi=function t(i,e){var r=Qi(i.sidx);var n=r&&e[r]&&e[r].sidx;if(n){_i(i,n,i.sidx.resolvedUri)}return i};var $i=function t(i,e){if(e===void 0){e={}}if(!Object.keys(e).length){return i}for(var r in i){i[r]=Zi(i[r],e)}return i};var te=function t(i,e){var r;var n=i.attributes,s=i.segments,a=i.sidx,o=i.mediaSequence,u=i.discontinuitySequence,f=i.discontinuityStarts;var h={attributes:(r={NAME:n.id,BANDWIDTH:n.bandwidth,CODECS:n.codecs},r["PROGRAM-ID"]=1,r),uri:"",endList:n.type==="static",timeline:n.periodStart,resolvedUri:"",targetDuration:n.duration,discontinuitySequence:u,discontinuityStarts:f,timelineStarts:n.timelineStarts,mediaSequence:o,segments:s};if(n.contentProtection){h.contentProtection=n.contentProtection}if(a){h.sidx=a}if(e){h.attributes.AUDIO="audio";h.attributes.SUBTITLES="subs"}return h};var ie=function t(i){var e;var r=i.attributes,n=i.segments,s=i.mediaSequence,a=i.discontinuityStarts,o=i.discontinuitySequence;if(typeof n==="undefined"){n=[{uri:r.baseUrl,timeline:r.periodStart,resolvedUri:r.baseUrl||"",duration:r.sourceDuration,number:0}];r.duration=r.sourceDuration}var u=(e={NAME:r.id,BANDWIDTH:r.bandwidth},e["PROGRAM-ID"]=1,e);if(r.codecs){u.CODECS=r.codecs}return{attributes:u,uri:"",endList:r.type==="static",timeline:r.periodStart,resolvedUri:r.baseUrl||"",targetDuration:r.duration,timelineStarts:r.timelineStarts,discontinuityStarts:a,discontinuitySequence:o,mediaSequence:s,segments:n}};var ee=function t(i,e,r){if(e===void 0){e={}}if(r===void 0){r=false}var n;var s=i.reduce((function(t,i){var s=i.attributes.role&&i.attributes.role.value||"";var a=i.attributes.lang||"";var o=i.attributes.label||"main";if(a&&!i.attributes.label){var u=s?" ("+s+")":"";o=""+i.attributes.lang+u}if(!t[o]){t[o]={language:a,autoselect:true,default:s==="main",playlists:[],uri:""}}var f=Zi(te(i,r),e);t[o].playlists.push(f);if(typeof n==="undefined"&&s==="main"){n=i;n.default=true}return t}),{});if(!n){var a=Object.keys(s)[0];s[a].default=true}return s};var re=function t(i,e){if(e===void 0){e={}}return i.reduce((function(t,i){var r=i.attributes.lang||"text";if(!t[r]){t[r]={language:r,default:false,autoselect:false,playlists:[],uri:""}}t[r].playlists.push(Zi(ie(i),e));return t}),{})};var ne=function t(i){return i.reduce((function(t,i){if(!i){return t}i.forEach((function(i){var e=i.channel,r=i.language;t[r]={autoselect:false,default:false,instreamId:e,language:r};if(i.hasOwnProperty("aspectRatio")){t[r].aspectRatio=i.aspectRatio}if(i.hasOwnProperty("easyReader")){t[r].easyReader=i.easyReader}if(i.hasOwnProperty("3D")){t[r]["3D"]=i["3D"]}}));return t}),{})};var se=function t(i){var e;var r=i.attributes,n=i.segments,s=i.sidx,a=i.discontinuityStarts;var o={attributes:(e={NAME:r.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:r.width,height:r.height},CODECS:r.codecs,BANDWIDTH:r.bandwidth},e["PROGRAM-ID"]=1,e),uri:"",endList:r.type==="static",timeline:r.periodStart,resolvedUri:"",targetDuration:r.duration,discontinuityStarts:a,timelineStarts:r.timelineStarts,segments:n};if(r.frameRate){o.attributes["FRAME-RATE"]=r.frameRate}if(r.contentProtection){o.contentProtection=r.contentProtection}if(s){o.sidx=s}return o};var ae=function t(i){var e=i.attributes;return e.mimeType==="video/mp4"||e.mimeType==="video/webm"||e.contentType==="video"};var oe=function t(i){var e=i.attributes;return e.mimeType==="audio/mp4"||e.mimeType==="audio/webm"||e.contentType==="audio"};var ue=function t(i){var e=i.attributes;return e.mimeType==="text/vtt"||e.contentType==="text"};var fe=function t(i,e){i.forEach((function(t){t.mediaSequence=0;t.discontinuitySequence=Oi(e,(function(i){var e=i.timeline;return e===t.timeline}));if(!t.segments){return}t.segments.forEach((function(t,i){t.number=i}))}))};var he=function t(i){if(!i){return[]}return Object.keys(i).reduce((function(t,e){var r=i[e];return t.concat(r.playlists)}),[])};var ce=function t(i){var e;var r=i.dashPlaylists,n=i.locations,s=i.sidxMapping,a=s===void 0?{}:s,o=i.previousManifest;if(!r.length){return{}}var u=r[0].attributes,f=u.sourceDuration,h=u.type,c=u.suggestedPresentationDelay,l=u.minimumUpdatePeriod;var v=Ki(r.filter(ae)).map(se);var d=Ki(r.filter(oe));var p=Ki(r.filter(ue));var m=r.map((function(t){return t.attributes.captionServices})).filter(Boolean);var g={allowCache:true,discontinuityStarts:[],segments:[],endList:true,mediaGroups:(e={AUDIO:{},VIDEO:{}},e["CLOSED-CAPTIONS"]={},e.SUBTITLES={},e),uri:"",duration:f,playlists:$i(v,a)};if(l>=0){g.minimumUpdatePeriod=l*1e3}if(n){g.locations=n}if(h==="dynamic"){g.suggestedPresentationDelay=c}var b=g.playlists.length===0;var y=d.length?ee(d,a,b):null;var j=p.length?re(p,a):null;var w=v.concat(he(y),he(j));var T=w.map((function(t){var i=t.timelineStarts;return i}));g.timelineStarts=zi(T);fe(w,g.timelineStarts);if(y){g.mediaGroups.AUDIO.audio=y}if(j){g.mediaGroups.SUBTITLES.subs=j}if(m.length){g.mediaGroups["CLOSED-CAPTIONS"].cc=ne(m)}if(o){return Ji({oldManifest:o,newManifest:g})}return g};var le=function t(i,e,r){var n=i.NOW,s=i.clientOffset,a=i.availabilityStartTime,o=i.timescale,u=o===void 0?1:o,f=i.periodStart,h=f===void 0?0:f,c=i.minimumUpdatePeriod,l=c===void 0?0:c;var v=(n+s)/1e3;var d=a+h;var p=v+l;var m=p-d;return Math.ceil((m*u-e)/r)};var ve=function t(i,e){var r=i.type,n=i.minimumUpdatePeriod,s=n===void 0?0:n,a=i.media,o=a===void 0?"":a,u=i.sourceDuration,f=i.timescale,h=f===void 0?1:f,c=i.startNumber,l=c===void 0?1:c,v=i.periodStart;var d=[];var p=-1;for(var m=0;m<e.length;m++){var g=e[m];var b=g.d;var y=g.r||0;var j=g.t||0;if(p<0){p=j}if(j&&j>p){p=j}var w=void 0;if(y<0){var T=m+1;if(T===e.length){if(r==="dynamic"&&s>0&&o.indexOf("$Number$")>0){w=le(i,p,b)}else{w=(u*h-p)/b}}else{w=(e[T].t-p)/b}}else{w=y+1}var k=l+d.length+w;var A=l+d.length;while(A<k){d.push({number:A,duration:b/h,time:p,timeline:v});p+=b;A++}}return d};var de=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g;var pe=function t(i){return function(t,e,r,n){if(t==="$$"){return"$"}if(typeof i[e]==="undefined"){return t}var s=""+i[e];if(e==="RepresentationID"){return s}if(!r){n=1}else{n=parseInt(n,10)}if(s.length>=n){return s}return""+new Array(n-s.length+1).join("0")+s}};var me=function t(i,e){return i.replace(de,pe(e))};var ge=function t(i,e){if(!i.duration&&!e){return[{number:i.startNumber||1,duration:i.sourceDuration,time:0,timeline:i.periodStart}]}if(i.duration){return qi(i)}return ve(i,e)};var be=function t(i,e){var r={RepresentationID:i.id,Bandwidth:i.bandwidth||0};var n=i.initialization,s=n===void 0?{sourceURL:"",range:""}:n;var a=Ci({baseUrl:i.baseUrl,source:me(s.sourceURL,r),range:s.range});var o=ge(i,e);return o.map((function(t){r.Number=t.number;r.Time=t.time;var e=me(i.media||"",r);var n=i.timescale||1;var s=i.presentationTimeOffset||0;var o=i.periodStart+(t.time-s)/n;var u={uri:e,timeline:t.timeline,duration:t.duration,resolvedUri:mt(i.baseUrl||"",e),map:a,number:t.number,presentationTime:o};return u}))};var ye=function t(i,e){var r=i.baseUrl,n=i.initialization,s=n===void 0?{}:n;var a=Ci({baseUrl:r,source:s.sourceURL,range:s.range});var o=Ci({baseUrl:r,source:e.media,range:e.mediaRange});o.map=a;return o};var je=function t(i,e){var r=i.duration,n=i.segmentUrls,s=n===void 0?[]:n,a=i.periodStart;if(!r&&!e||r&&e){throw new Error(Li.SEGMENT_TIME_UNSPECIFIED)}var o=s.map((function(t){return ye(i,t)}));var u;if(r){u=qi(i)}if(e){u=ve(i,e)}var f=u.map((function(t,e){if(o[e]){var r=o[e];var n=i.timescale||1;var s=i.presentationTimeOffset||0;r.timeline=t.timeline;r.duration=t.duration;r.number=t.number;r.presentationTime=a+(t.time-s)/n;return r}})).filter((function(t){return t}));return f};var we=function t(i){var e=i.attributes,r=i.segmentInfo;var n;var s;if(r.template){s=be;n=Ei(e,r.template)}else if(r.base){s=Fi;n=Ei(e,r.base)}else if(r.list){s=je;n=Ei(e,r.list)}var a={attributes:e};if(!s){return a}var o=s(n,r.segmentTimeline);if(n.duration){var u=n,f=u.duration,h=u.timescale,c=h===void 0?1:h;n.duration=f/c}else if(o.length){n.duration=o.reduce((function(t,i){return Math.max(t,Math.ceil(i.duration))}),0)}else{n.duration=0}a.attributes=n;a.segments=o;if(r.base&&n.indexRange){a.sidx=o[0];a.segments=[]}return a};var Te=function t(i){return i.map(we)};var ke=function t(i,e){return Di(i.childNodes).filter((function(t){var i=t.tagName;return i===e}))};var Ae=function t(i){return i.textContent.trim()};var Ee=function t(i){return parseFloat(i.split("/").reduce((function(t,i){return t/i})))};var xe=function t(i){var e=365*24*60*60;var r=30*24*60*60;var n=24*60*60;var s=60*60;var a=60;var o=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/;var u=o.exec(i);if(!u){return 0}var f=u.slice(1),h=f[0],c=f[1],l=f[2],v=f[3],d=f[4],p=f[5];return parseFloat(h||0)*e+parseFloat(c||0)*r+parseFloat(l||0)*n+parseFloat(v||0)*s+parseFloat(d||0)*a+parseFloat(p||0)};var Se=function t(i){var e=/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/;if(e.test(i)){i+="Z"}return Date.parse(i)};var Ie={mediaPresentationDuration:function t(i){return xe(i)},availabilityStartTime:function t(i){return Se(i)/1e3},minimumUpdatePeriod:function t(i){return xe(i)},suggestedPresentationDelay:function t(i){return xe(i)},type:function t(i){return i},timeShiftBufferDepth:function t(i){return xe(i)},start:function t(i){return xe(i)},width:function t(i){return parseInt(i,10)},height:function t(i){return parseInt(i,10)},bandwidth:function t(i){return parseInt(i,10)},frameRate:function t(i){return Ee(i)},startNumber:function t(i){return parseInt(i,10)},timescale:function t(i){return parseInt(i,10)},presentationTimeOffset:function t(i){return parseInt(i,10)},duration:function t(i){var e=parseInt(i,10);if(isNaN(e)){return xe(i)}return e},d:function t(i){return parseInt(i,10)},t:function t(i){return parseInt(i,10)},r:function t(i){return parseInt(i,10)},DEFAULT:function t(i){return i}};var De=function t(i){if(!(i&&i.attributes)){return{}}return Di(i.attributes).reduce((function(t,i){var e=Ie[i.name]||Ie.DEFAULT;t[i.name]=e(i.value);return t}),{})};var Ne={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"};var Oe=function t(i,e){if(!e.length){return i}return Ii(i.map((function(t){return e.map((function(i){return mt(t,Ae(i))}))})))};var Re=function t(i){var e=ke(i,"SegmentTemplate")[0];var r=ke(i,"SegmentList")[0];var n=r&&ke(r,"SegmentURL").map((function(t){return Ei({tag:"SegmentURL"},De(t))}));var s=ke(i,"SegmentBase")[0];var a=r||e;var o=a&&ke(a,"SegmentTimeline")[0];var u=r||s||e;var f=u&&ke(u,"Initialization")[0];var h=e&&De(e);if(h&&f){h.initialization=f&&De(f)}else if(h&&h.initialization){h.initialization={sourceURL:h.initialization}}var c={template:h,segmentTimeline:o&&ke(o,"S").map((function(t){return De(t)})),list:r&&Ei(De(r),{segmentUrls:n,initialization:De(f)}),base:s&&Ei(De(s),{initialization:De(f)})};Object.keys(c).forEach((function(t){if(!c[t]){delete c[t]}}));return c};var Le=function t(i,e,r){return function(t){var n=ke(t,"BaseURL");var s=Oe(e,n);var a=Ei(i,De(t));var o=Re(t);return s.map((function(t){return{segmentInfo:Ei(r,o),attributes:Ei(a,{baseUrl:t})}}))}};var Ce=function t(i){return i.reduce((function(t,i){var e=De(i);if(e.schemeIdUri){e.schemeIdUri=e.schemeIdUri.toLowerCase()}var r=Ne[e.schemeIdUri];if(r){t[r]={attributes:e};var n=ke(i,"cenc:pssh")[0];if(n){var s=Ae(n);t[r].pssh=s&&yt(s)}}return t}),{})};var Me=function t(i){if(i.schemeIdUri==="urn:scte:dash:cc:cea-608:2015"){var e=typeof i.value!=="string"?[]:i.value.split(";");return e.map((function(t){var i;var e;e=t;if(/^CC\d=/.test(t)){var r=t.split("=");i=r[0];e=r[1]}else if(/^CC\d$/.test(t)){i=t}return{channel:i,language:e}}))}else if(i.schemeIdUri==="urn:scte:dash:cc:cea-708:2015"){var r=typeof i.value!=="string"?[]:i.value.split(";");return r.map((function(t){var i={channel:undefined,language:undefined,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(t)){var e=t.split("="),r=e[0],n=e[1],s=n===void 0?"":n;i.channel=r;i.language=t;s.split(",").forEach((function(t){var e=t.split(":"),r=e[0],n=e[1];if(r==="lang"){i.language=n}else if(r==="er"){i.easyReader=Number(n)}else if(r==="war"){i.aspectRatio=Number(n)}else if(r==="3D"){i["3D"]=Number(n)}}))}else{i.language=t}if(i.channel){i.channel="SERVICE"+i.channel}return i}))}};var Ue=function t(i,e,r){return function(t){var n=De(t);var s=Oe(e,ke(t,"BaseURL"));var a=ke(t,"Role")[0];var o={role:De(a)};var u=Ei(i,n,o);var f=ke(t,"Accessibility")[0];var h=Me(De(f));if(h){u=Ei(u,{captionServices:h})}var c=ke(t,"Label")[0];if(c&&c.childNodes.length){var l=c.childNodes[0].nodeValue.trim();u=Ei(u,{label:l})}var v=Ce(ke(t,"ContentProtection"));if(Object.keys(v).length){u=Ei(u,{contentProtection:v})}var d=Re(t);var p=ke(t,"Representation");var m=Ei(r,d);return Ii(p.map(Le(u,s,m)))}};var Be=function t(i,e){return function(t,r){var n=Oe(e,ke(t.node,"BaseURL"));var s=Ei(i,{periodStart:t.attributes.start});if(typeof t.attributes.duration==="number"){s.periodDuration=t.attributes.duration}var a=ke(t.node,"AdaptationSet");var o=Re(t.node);return Ii(a.map(Ue(s,n,o)))}};var Pe=function t(i){var e=i.attributes,r=i.priorPeriodAttributes,n=i.mpdType;if(typeof e.start==="number"){return e.start}if(r&&typeof r.start==="number"&&typeof r.duration==="number"){return r.start+r.duration}if(!r&&n==="static"){return 0}return null};var qe=function t(i,e){if(e===void 0){e={}}var r=e,n=r.manifestUri,s=n===void 0?"":n,a=r.NOW,o=a===void 0?Date.now():a,u=r.clientOffset,f=u===void 0?0:u;var h=ke(i,"Period");if(!h.length){throw new Error(Li.INVALID_NUMBER_OF_PERIOD)}var c=ke(i,"Location");var l=De(i);var v=Oe([s],ke(i,"BaseURL"));l.type=l.type||"static";l.sourceDuration=l.mediaPresentationDuration||0;l.NOW=o;l.clientOffset=f;if(c.length){l.locations=c.map(Ae)}var d=[];h.forEach((function(t,i){var e=De(t);var r=d[i-1];e.start=Pe({attributes:e,priorPeriodAttributes:r?r.attributes:null,mpdType:l.type});d.push({node:t,attributes:e})}));return{locations:l.locations,representationInfo:Ii(d.map(Be(l,v)))}};var Fe=function t(i){if(i===""){throw new Error(Li.DASH_EMPTY_MANIFEST)}var e=new ki.DOMParser;var r;var n;try{r=e.parseFromString(i,"application/xml");n=r&&r.documentElement.tagName==="MPD"?r.documentElement:null}catch(t){}if(!n||n&&n.getElementsByTagName("parsererror").length>0){throw new Error(Li.DASH_INVALID_XML)}return n};var _e=function t(i){var e=ke(i,"UTCTiming")[0];if(!e){return null}var r=De(e);switch(r.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":r.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":r.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":r.method="DIRECT";r.value=Date.parse(r.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(Li.UNSUPPORTED_UTC_TIMING_SCHEME)}return r};var Ve=function t(i,e){if(e===void 0){e={}}var r=qe(Fe(i),e);var n=Te(r.representationInfo);return ce({dashPlaylists:n,locations:r.locations,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest})};var He=function t(i){return _e(Fe(i))};var ze;var Ge;function Xe(){if(Ge)return ze;Ge=1;var t=Math.pow(2,32);var i=function(i){var e=new DataView(i.buffer,i.byteOffset,i.byteLength);var r;if(e.getBigUint64){r=e.getBigUint64(0);if(r<Number.MAX_SAFE_INTEGER){return Number(r)}return r}return e.getUint32(0)*t+e.getUint32(4)};ze={getUint64:i,MAX_UINT32:t};return ze}var Ye;var We;function Je(){if(We)return Ye;We=1;var t=Xe().getUint64;var i=function(i){var e=new DataView(i.buffer,i.byteOffset,i.byteLength),r={version:i[0],flags:new Uint8Array(i.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},n=12;if(r.version===0){r.earliestPresentationTime=e.getUint32(n);r.firstOffset=e.getUint32(n+4);n+=8}else{r.earliestPresentationTime=t(i.subarray(n));r.firstOffset=t(i.subarray(n+8));n+=16}n+=2;var s=e.getUint16(n);n+=2;for(;s>0;n+=12,s--){r.references.push({referenceType:(i[n]&128)>>>7,referencedSize:e.getUint32(n)&2147483647,subsegmentDuration:e.getUint32(n+4),startsWithSap:!!(i[n+8]&128),sapType:(i[n+8]&112)>>>4,sapDeltaTime:e.getUint32(n+8)&268435455})}return r};Ye=i;return Ye}var Qe=Je();var Ke=s(Qe);var Ze=Qt([73,68,51]);var $e=function t(i,e){if(e===void 0){e=0}i=Qt(i);var r=i[e+5];var n=i[e+6]<<21|i[e+7]<<14|i[e+8]<<7|i[e+9];var s=(r&16)>>4;if(s){return n+20}return n+10};var tr=function t(i,e){if(e===void 0){e=0}i=Qt(i);if(i.length-e<10||!ri(i,Ze,{offset:e})){return e}e+=$e(i,e);return t(i,e)};var ir=function t(i){if(typeof i==="string"){return ii(i)}if(typeof i==="number"){return i}return i};var er=function t(i){if(!Array.isArray(i)){return[ir(i)]}return i.map((function(t){return ir(t)}))};var rr=function t(i,e,r){if(r===void 0){r=false}e=er(e);i=Qt(i);var n=[];if(!e.length){return n}var s=0;while(s<i.length){var a=(i[s]<<24|i[s+1]<<16|i[s+2]<<8|i[s+3])>>>0;var o=i.subarray(s+4,s+8);if(a===0){break}var u=s+a;if(u>i.length){if(r){break}u=i.length}var f=i.subarray(s+8,u);if(ri(o,e[0])){if(e.length===1){n.push(f)}else{n.push.apply(n,t(f,e.slice(1),r))}}s=u}return n};var nr={EBML:Qt([26,69,223,163]),DocType:Qt([66,130]),Segment:Qt([24,83,128,103]),SegmentInfo:Qt([21,73,169,102]),Tracks:Qt([22,84,174,107]),Track:Qt([174]),TrackNumber:Qt([215]),DefaultDuration:Qt([35,227,131]),TrackEntry:Qt([174]),TrackType:Qt([131]),FlagDefault:Qt([136]),CodecID:Qt([134]),CodecPrivate:Qt([99,162]),VideoTrack:Qt([224]),AudioTrack:Qt([225]),Cluster:Qt([31,67,182,117]),Timestamp:Qt([231]),TimestampScale:Qt([42,215,177]),BlockGroup:Qt([160]),BlockDuration:Qt([155]),Block:Qt([161]),SimpleBlock:Qt([163])};var sr=[128,64,32,16,8,4,2,1];var ar=function t(i){var e=1;for(var r=0;r<sr.length;r++){if(i&sr[r]){break}e++}return e};var or=function t(i,e,r,n){if(r===void 0){r=true}if(n===void 0){n=false}var s=ar(i[e]);var a=i.subarray(e,e+s);if(r){a=Array.prototype.slice.call(i,e,e+s);a[0]^=sr[s-1]}return{length:s,value:$t(a,{signed:n}),bytes:a}};var ur=function t(i){if(typeof i==="string"){return i.match(/.{1,2}/g).map((function(i){return t(i)}))}if(typeof i==="number"){return ti(i)}return i};var fr=function t(i){if(!Array.isArray(i)){return[ur(i)]}return i.map((function(t){return ur(t)}))};var hr=function t(i,e,r){if(r>=e.length){return e.length}var n=or(e,r,false);if(ri(i.bytes,n.bytes)){return r}var s=or(e,r+n.length);return t(i,e,r+s.length+s.value+n.length)};var cr=function t(i,e){e=fr(e);i=Qt(i);var r=[];if(!e.length){return r}var n=0;while(n<i.length){var s=or(i,n,false);var a=or(i,n+s.length);var o=n+s.length+a.length;if(a.value===127){a.value=hr(s,i,o);if(a.value!==i.length){a.value-=o}}var u=o+a.value>i.length?i.length:o+a.value;var f=i.subarray(o,u);if(ri(e[0],s.bytes)){if(e.length===1){r.push(f)}else{r=r.concat(t(f,e.slice(1)))}}var h=s.length+a.length+f.length;n+=h}return r};var lr=Qt([0,0,0,1]);var vr=Qt([0,0,1]);var dr=Qt([0,0,3]);var pr=function t(i){var e=[];var r=1;while(r<i.length-2){if(ri(i.subarray(r,r+3),dr)){e.push(r+2);r++}r++}if(e.length===0){return i}var n=i.length-e.length;var s=new Uint8Array(n);var a=0;for(r=0;r<n;a++,r++){if(a===e[0]){a++;e.shift()}s[r]=i[a]}return s};var mr=function t(i,e,r,n){i=Qt(i);r=[].concat(r);var s=0;var a;var o=0;while(s<i.length&&(o<n||a)){var u=void 0;if(ri(i.subarray(s),lr)){u=4}else if(ri(i.subarray(s),vr)){u=3}if(!u){s++;continue}o++;if(a){return pr(i.subarray(a,s))}var f=void 0;if(e==="h264"){f=i[s+u]&31}else if(e==="h265"){f=i[s+u]>>1&63}if(r.indexOf(f)!==-1){a=s+u}s+=u+(e==="h264"?1:2)}return i.subarray(0,0)};var gr=function t(i,e,r){return mr(i,"h264",e,r)};var br=function t(i,e,r){return mr(i,"h265",e,r)};var yr={webm:Qt([119,101,98,109]),matroska:Qt([109,97,116,114,111,115,107,97]),flac:Qt([102,76,97,67]),ogg:Qt([79,103,103,83]),ac3:Qt([11,119]),riff:Qt([82,73,70,70]),avi:Qt([65,86,73]),wav:Qt([87,65,86,69]),"3gp":Qt([102,116,121,112,51,103]),mp4:Qt([102,116,121,112]),fmp4:Qt([115,116,121,112]),mov:Qt([102,116,121,112,113,116]),moov:Qt([109,111,111,118]),moof:Qt([109,111,111,102])};var jr={aac:function t(i){var e=tr(i);return ri(i,[255,16],{offset:e,mask:[255,22]})},mp3:function t(i){var e=tr(i);return ri(i,[255,2],{offset:e,mask:[255,6]})},webm:function t(i){var e=cr(i,[nr.EBML,nr.DocType])[0];return ri(e,yr.webm)},mkv:function t(i){var e=cr(i,[nr.EBML,nr.DocType])[0];return ri(e,yr.matroska)},mp4:function t(i){if(jr["3gp"](i)||jr.mov(i)){return false}if(ri(i,yr.mp4,{offset:4})||ri(i,yr.fmp4,{offset:4})){return true}if(ri(i,yr.moof,{offset:4})||ri(i,yr.moov,{offset:4})){return true}},mov:function t(i){return ri(i,yr.mov,{offset:4})},"3gp":function t(i){return ri(i,yr["3gp"],{offset:4})},ac3:function t(i){var e=tr(i);return ri(i,yr.ac3,{offset:e})},ts:function t(i){if(i.length<189&&i.length>=1){return i[0]===71}var e=0;while(e+188<i.length&&e<188){if(i[e]===71&&i[e+188]===71){return true}e+=1}return false},flac:function t(i){var e=tr(i);return ri(i,yr.flac,{offset:e})},ogg:function t(i){return ri(i,yr.ogg)},avi:function t(i){return ri(i,yr.riff)&&ri(i,yr.avi,{offset:8})},wav:function t(i){return ri(i,yr.riff)&&ri(i,yr.wav,{offset:8})},h264:function t(i){return gr(i,7,3).length},h265:function t(i){return br(i,[32,33],3).length}};var wr=Object.keys(jr).filter((function(t){return t!=="ts"&&t!=="h264"&&t!=="h265"})).concat(["ts","h264","h265"]);wr.forEach((function(t){var i=jr[t];jr[t]=function(t){return i(Qt(t))}}));var Tr=jr;var kr=function t(i){i=Qt(i);for(var e=0;e<wr.length;e++){var r=wr[e];if(Tr[r](i)){return r}}return""};var Ar=function t(i){return rr(i,["moof"]).length>0};var Er;var xr;function Sr(){if(xr)return Er;xr=1;var t=9e4,i,e,r,n,s,a,o;i=function(i){return i*t};e=function(t,i){return t*i};r=function(i){return i/t};n=function(t,i){return t/i};s=function(t,e){return i(n(t,e))};a=function(t,i){return e(r(t),i)};o=function(t,i,e){return r(e?t:t-i)};Er={ONE_SECOND_IN_TS:t,secondsToVideoTs:i,secondsToAudioTs:e,videoTsToSeconds:r,audioTsToSeconds:n,audioTsToVideoTs:s,videoTsToAudioTs:a,metadataTsToSeconds:o};return Er}var Ir=Sr();function Dr(t){return Dr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Dr(t)}function Nr(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(i){return"function"==typeof t}}function Or(t){var i="function"==typeof Map?new Map:void 0;return Or=function t(e){if(null===e||!Nr(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==i){if(i.has(e))return i.get(e);i.set(e,r)}function r(){return ut(e,arguments,Dr(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:false,writable:true,configurable:true}}),I(r,e)},Or(t)
/**
 * @license
 * Video.js 7.21.7 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */}var Rr="7.21.7";var Lr={};var Cr=function t(i,e){Lr[i]=Lr[i]||[];if(e){Lr[i]=Lr[i].concat(e)}return Lr[i]};var Mr=function t(i,e){Cr(i,e)};var Ur=function t(i,e){var r=Cr(i).indexOf(e);if(r<=-1){return false}Lr[i]=Lr[i].slice();Lr[i].splice(r,1);return true};var Br=function t(i,e){Cr(i,[].concat(e).map((function(t){var e=function e(){Ur(i,e);return t.apply(void 0,arguments)};return e})))};var Pr={prefixed:true};var qr=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]];var Fr=qr[0];var _r;for(var Vr=0;Vr<qr.length;Vr++){if(qr[Vr][1]in y){_r=qr[Vr];break}}if(_r){for(var Hr=0;Hr<_r.length;Hr++){Pr[Fr[Hr]]=_r[Hr]}Pr.prefixed=_r[0]!==Fr[0]}var zr=[];var Gr=function t(i,e){return function(t,r,n){var s=e.levels[r];var a=new RegExp("^("+s+")$");if(t!=="log"){n.unshift(t.toUpperCase()+":")}n.unshift(i+":");if(zr){zr.push([].concat(n));var o=zr.length-1e3;zr.splice(0,o>0?o:0)}if(!c.console){return}var u=c.console[t];if(!u&&t==="debug"){u=c.console.info||c.console.log}if(!u||!s||!a.test(t)){return}u[Array.isArray(n)?"apply":"call"](c.console,n)}};function Xr(t){var i="info";var e;var r=function t(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++){n[s]=arguments[s]}e("log",i,n)};e=Gr(t,r);r.createLogger=function(i){return Xr(t+": "+i)};r.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:i};r.level=function(t){if(typeof t==="string"){if(!r.levels.hasOwnProperty(t)){throw new Error('"'+t+'" in not a valid log level')}i=t}return i};r.history=function(){return zr?[].concat(zr):[]};r.history.filter=function(t){return(zr||[]).filter((function(i){return new RegExp(".*"+t+".*").test(i[0])}))};r.history.clear=function(){if(zr){zr.length=0}};r.history.disable=function(){if(zr!==null){zr.length=0;zr=null}};r.history.enable=function(){if(zr===null){zr=[]}};r.error=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}return e("error",i,r)};r.warn=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}return e("warn",i,r)};r.debug=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}return e("debug",i,r)};return r}var Yr=Xr("VIDEOJS");var Wr=Yr.createLogger;var Jr=Object.prototype.toString;var Qr=function t(i){return tn(i)?Object.keys(i):[]};function Kr(t,i){Qr(t).forEach((function(e){return i(t[e],e)}))}function Zr(t,i,e){if(e===void 0){e=0}return Qr(t).reduce((function(e,r){return i(e,t[r],r)}),e)}function $r(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++){e[r-1]=arguments[r]}if(Object.assign){return j.apply(void 0,[t].concat(e))}e.forEach((function(i){if(!i){return}Kr(i,(function(i,e){t[e]=i}))}));return t}function tn(t){return!!t&&typeof t==="object"}function en(t){return tn(t)&&Jr.call(t)==="[object Object]"&&t.constructor===Object}function rn(t,i){if(!t||!i){return""}if(typeof c.getComputedStyle==="function"){var e;try{e=c.getComputedStyle(t)}catch(t){return""}return e?e.getPropertyValue(i)||e[i]:""}return""}var nn=c.navigator&&c.navigator.userAgent||"";var sn=/AppleWebKit\/([\d.]+)/i.exec(nn);var an=sn?parseFloat(sn.pop()):null;var on=/iPod/i.test(nn);var un=function(){var t=nn.match(/OS (\d+)_/i);if(t&&t[1]){return t[1]}return null}();var fn=/Android/i.test(nn);var hn=function(){var t=nn.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t){return null}var i=t[1]&&parseFloat(t[1]);var e=t[2]&&parseFloat(t[2]);if(i&&e){return parseFloat(t[1]+"."+t[2])}else if(i){return i}return null}();var cn=fn&&hn<5&&an<537;var ln=/Firefox/i.test(nn);var vn=/Edg/i.test(nn);var dn=!vn&&(/Chrome/i.test(nn)||/CriOS/i.test(nn));var pn=function(){var t=nn.match(/(Chrome|CriOS)\/(\d+)/);if(t&&t[2]){return parseFloat(t[2])}return null}();var mn=function(){var t=/MSIE\s(\d+)\.\d/.exec(nn);var i=t&&parseFloat(t[1]);if(!i&&/Trident\/7.0/i.test(nn)&&/rv:11.0/.test(nn)){i=11}return i}();var gn=/Safari/i.test(nn)&&!dn&&!fn&&!vn;var bn=/Windows/i.test(nn);var yn=Boolean(In()&&("ontouchstart"in c||c.navigator.maxTouchPoints||c.DocumentTouch&&c.document instanceof c.DocumentTouch));var jn=/iPad/i.test(nn)||gn&&yn&&!/iPhone/i.test(nn);var wn=/iPhone/i.test(nn)&&!jn;var Tn=wn||jn||on;var kn=(gn||Tn)&&!dn;var An=Object.freeze({__proto__:null,IS_IPOD:on,IOS_VERSION:un,IS_ANDROID:fn,ANDROID_VERSION:hn,IS_NATIVE_ANDROID:cn,IS_FIREFOX:ln,IS_EDGE:vn,IS_CHROME:dn,CHROME_VERSION:pn,IE_VERSION:mn,IS_SAFARI:gn,IS_WINDOWS:bn,TOUCH_ENABLED:yn,IS_IPAD:jn,IS_IPHONE:wn,IS_IOS:Tn,IS_ANY_SAFARI:kn});function En(t){return typeof t==="string"&&Boolean(t.trim())}function xn(t){if(t.indexOf(" ")>=0){throw new Error("class has illegal whitespace characters")}}function Sn(t){return new RegExp("(^|\\s)"+t+"($|\\s)")}function In(){return y===c.document}function Dn(t){return tn(t)&&t.nodeType===1}function Nn(){try{return c.parent!==c.self}catch(t){return true}}function On(t){return function(i,e){if(!En(i)){return y[t](null)}if(En(e)){e=y.querySelector(e)}var r=Dn(e)?e:y;return r[t]&&r[t](i)}}function Rn(t,i,e,r){if(t===void 0){t="div"}if(i===void 0){i={}}if(e===void 0){e={}}var n=y.createElement(t);Object.getOwnPropertyNames(i).forEach((function(t){var e=i[t];if(t.indexOf("aria-")!==-1||t==="role"||t==="type"){Yr.warn("Setting attributes in the second argument of createEl()\n"+"has been deprecated. Use the third argument instead.\n"+("createEl(type, properties, attributes). Attempting to set "+t+" to "+e+"."));n.setAttribute(t,e)}else if(t==="textContent"){Ln(n,e)}else if(n[t]!==e||t==="tabIndex"){n[t]=e}}));Object.getOwnPropertyNames(e).forEach((function(t){n.setAttribute(t,e[t])}));if(r){Zn(n,r)}return n}function Ln(t,i){if(typeof t.textContent==="undefined"){t.innerText=i}else{t.textContent=i}return t}function Cn(t,i){if(i.firstChild){i.insertBefore(t,i.firstChild)}else{i.appendChild(t)}}function Mn(t,i){xn(i);if(t.classList){return t.classList.contains(i)}return Sn(i).test(t.className)}function Un(t,i){if(t.classList){t.classList.add(i)}else if(!Mn(t,i)){t.className=(t.className+" "+i).trim()}return t}function Bn(t,i){if(!t){Yr.warn("removeClass was called with an element that doesn't exist");return null}if(t.classList){t.classList.remove(i)}else{xn(i);t.className=t.className.split(/\s+/).filter((function(t){return t!==i})).join(" ")}return t}function Pn(t,i,e){var r=Mn(t,i);if(typeof e==="function"){e=e(t,i)}if(typeof e!=="boolean"){e=!r}if(e===r){return}if(e){Un(t,i)}else{Bn(t,i)}return t}function qn(t,i){Object.getOwnPropertyNames(i).forEach((function(e){var r=i[e];if(r===null||typeof r==="undefined"||r===false){t.removeAttribute(e)}else{t.setAttribute(e,r===true?"":r)}}))}function Fn(t){var i={};var e=","+"autoplay,controls,playsinline,loop,muted,default,defaultMuted"+",";if(t&&t.attributes&&t.attributes.length>0){var r=t.attributes;for(var n=r.length-1;n>=0;n--){var s=r[n].name;var a=r[n].value;if(typeof t[s]==="boolean"||e.indexOf(","+s+",")!==-1){a=a!==null?true:false}i[s]=a}}return i}function _n(t,i){return t.getAttribute(i)}function Vn(t,i,e){t.setAttribute(i,e)}function Hn(t,i){t.removeAttribute(i)}function zn(){y.body.focus();y.onselectstart=function(){return false}}function Gn(){y.onselectstart=function(){return true}}function Xn(t){if(t&&t.getBoundingClientRect&&t.parentNode){var i=t.getBoundingClientRect();var e={};["bottom","height","left","right","top","width"].forEach((function(t){if(i[t]!==undefined){e[t]=i[t]}}));if(!e.height){e.height=parseFloat(rn(t,"height"))}if(!e.width){e.width=parseFloat(rn(t,"width"))}return e}}function Yn(t){if(!t||t&&!t.offsetParent){return{left:0,top:0,width:0,height:0}}var i=t.offsetWidth;var e=t.offsetHeight;var r=0;var n=0;while(t.offsetParent&&t!==y[Pr.fullscreenElement]){r+=t.offsetLeft;n+=t.offsetTop;t=t.offsetParent}return{left:r,top:n,width:i,height:e}}function Wn(t,i){var e={x:0,y:0};if(Tn){var r=t;while(r&&r.nodeName.toLowerCase()!=="html"){var n=rn(r,"transform");if(/^matrix/.test(n)){var s=n.slice(7,-1).split(/,\s/).map(Number);e.x+=s[4];e.y+=s[5]}else if(/^matrix3d/.test(n)){var a=n.slice(9,-1).split(/,\s/).map(Number);e.x+=a[12];e.y+=a[13]}r=r.parentNode}}var o={};var u=Yn(i.target);var f=Yn(t);var h=f.width;var c=f.height;var l=i.offsetY-(f.top-u.top);var v=i.offsetX-(f.left-u.left);if(i.changedTouches){v=i.changedTouches[0].pageX-f.left;l=i.changedTouches[0].pageY+f.top;if(Tn){v-=e.x;l-=e.y}}o.y=1-Math.max(0,Math.min(1,l/c));o.x=Math.max(0,Math.min(1,v/h));return o}function Jn(t){return tn(t)&&t.nodeType===3}function Qn(t){while(t.firstChild){t.removeChild(t.firstChild)}return t}function Kn(t){if(typeof t==="function"){t=t()}return(Array.isArray(t)?t:[t]).map((function(t){if(typeof t==="function"){t=t()}if(Dn(t)||Jn(t)){return t}if(typeof t==="string"&&/\S/.test(t)){return y.createTextNode(t)}})).filter((function(t){return t}))}function Zn(t,i){Kn(i).forEach((function(i){return t.appendChild(i)}));return t}function $n(t,i){return Zn(Qn(t),i)}function ts(t){if(t.button===undefined&&t.buttons===undefined){return true}if(t.button===0&&t.buttons===undefined){return true}if(t.type==="mouseup"&&t.button===0&&t.buttons===0){return true}if(t.button!==0||t.buttons!==1){return false}return true}var is=On("querySelector");var es=On("querySelectorAll");var rs=Object.freeze({__proto__:null,isReal:In,isEl:Dn,isInFrame:Nn,createEl:Rn,textContent:Ln,prependTo:Cn,hasClass:Mn,addClass:Un,removeClass:Bn,toggleClass:Pn,setAttributes:qn,getAttributes:Fn,getAttribute:_n,setAttribute:Vn,removeAttribute:Hn,blockTextSelection:zn,unblockTextSelection:Gn,getBoundingClientRect:Xn,findPosition:Yn,getPointerPosition:Wn,isTextNode:Jn,emptyEl:Qn,normalizeContent:Kn,appendContent:Zn,insertContent:$n,isSingleLeftClick:ts,$:is,$$:es});var ns=false;var ss;var as=function t(){if(ss.options.autoSetup===false){return}var i=Array.prototype.slice.call(y.getElementsByTagName("video"));var e=Array.prototype.slice.call(y.getElementsByTagName("audio"));var r=Array.prototype.slice.call(y.getElementsByTagName("video-js"));var n=i.concat(e,r);if(n&&n.length>0){for(var s=0,a=n.length;s<a;s++){var o=n[s];if(o&&o.getAttribute){if(o.player===undefined){var u=o.getAttribute("data-setup");if(u!==null){ss(o)}}}else{os(1);break}}}else if(!ns){os(1)}};function os(t,i){if(!In()){return}if(i){ss=i}c.setTimeout(as,t)}function us(){ns=true;c.removeEventListener("load",us)}if(In()){if(y.readyState==="complete"){us()}else{c.addEventListener("load",us)}}var fs=function t(i){var e=y.createElement("style");e.className=i;return e};var hs=function t(i,e){if(i.styleSheet){i.styleSheet.cssText=e}else{i.textContent=e}};var cs=3;var ls=cs;function vs(){return ls++}var ds;if(!c.WeakMap){ds=function(){function t(){this.vdata="vdata"+Math.floor(c.performance&&c.performance.now()||Date.now());this.data={}}var i=t.prototype;i.set=function t(i,e){var r=i[this.vdata]||vs();if(!i[this.vdata]){i[this.vdata]=r}this.data[r]=e;return this};i.get=function t(i){var e=i[this.vdata];if(e){return this.data[e]}Yr("We have no data for this element",i);return undefined};i.has=function t(i){var e=i[this.vdata];return e in this.data};i["delete"]=function t(i){var e=i[this.vdata];if(e){delete this.data[e];delete i[this.vdata]}};return t}()}var ps=c.WeakMap?new WeakMap:new ds;function ms(t,i){if(!ps.has(t)){return}var e=ps.get(t);if(e.handlers[i].length===0){delete e.handlers[i];if(t.removeEventListener){t.removeEventListener(i,e.dispatcher,false)}else if(t.detachEvent){t.detachEvent("on"+i,e.dispatcher)}}if(Object.getOwnPropertyNames(e.handlers).length<=0){delete e.handlers;delete e.dispatcher;delete e.disabled}if(Object.getOwnPropertyNames(e).length===0){ps["delete"](t)}}function gs(t,i,e,r){e.forEach((function(e){t(i,e,r)}))}function bs(t){if(t.fixed_){return t}function i(){return true}function e(){return false}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){var r=t||c.event;t={};for(var n in r){if(n!=="layerX"&&n!=="layerY"&&n!=="keyLocation"&&n!=="webkitMovementX"&&n!=="webkitMovementY"&&n!=="path"){if(!(n==="returnValue"&&r.preventDefault)){t[n]=r[n]}}}if(!t.target){t.target=t.srcElement||y}if(!t.relatedTarget){t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement}t.preventDefault=function(){if(r.preventDefault){r.preventDefault()}t.returnValue=false;r.returnValue=false;t.defaultPrevented=true};t.defaultPrevented=false;t.stopPropagation=function(){if(r.stopPropagation){r.stopPropagation()}t.cancelBubble=true;r.cancelBubble=true;t.isPropagationStopped=i};t.isPropagationStopped=e;t.stopImmediatePropagation=function(){if(r.stopImmediatePropagation){r.stopImmediatePropagation()}t.isImmediatePropagationStopped=i;t.stopPropagation()};t.isImmediatePropagationStopped=e;if(t.clientX!==null&&t.clientX!==undefined){var s=y.documentElement;var a=y.body;t.pageX=t.clientX+(s&&s.scrollLeft||a&&a.scrollLeft||0)-(s&&s.clientLeft||a&&a.clientLeft||0);t.pageY=t.clientY+(s&&s.scrollTop||a&&a.scrollTop||0)-(s&&s.clientTop||a&&a.clientTop||0)}t.which=t.charCode||t.keyCode;if(t.button!==null&&t.button!==undefined){t.button=t.button&1?0:t.button&4?1:t.button&2?2:0}}t.fixed_=true;return t}var ys;var js=function t(){if(typeof ys!=="boolean"){ys=false;try{var i=Object.defineProperty({},"passive",{get:function t(){ys=true}});c.addEventListener("test",null,i);c.removeEventListener("test",null,i)}catch(t){}}return ys};var ws=["touchstart","touchmove"];function Ts(t,i,e){if(Array.isArray(i)){return gs(Ts,t,i,e)}if(!ps.has(t)){ps.set(t,{})}var r=ps.get(t);if(!r.handlers){r.handlers={}}if(!r.handlers[i]){r.handlers[i]=[]}if(!e.guid){e.guid=vs()}r.handlers[i].push(e);if(!r.dispatcher){r.disabled=false;r.dispatcher=function(i,e){if(r.disabled){return}i=bs(i);var n=r.handlers[i.type];if(n){var s=n.slice(0);for(var a=0,o=s.length;a<o;a++){if(i.isImmediatePropagationStopped()){break}else{try{s[a].call(t,i,e)}catch(t){Yr.error(t)}}}}}}if(r.handlers[i].length===1){if(t.addEventListener){var n=false;if(js()&&ws.indexOf(i)>-1){n={passive:true}}t.addEventListener(i,r.dispatcher,n)}else if(t.attachEvent){t.attachEvent("on"+i,r.dispatcher)}}}function ks(t,i,e){if(!ps.has(t)){return}var r=ps.get(t);if(!r.handlers){return}if(Array.isArray(i)){return gs(ks,t,i,e)}var n=function t(i,e){r.handlers[e]=[];ms(i,e)};if(i===undefined){for(var s in r.handlers){if(Object.prototype.hasOwnProperty.call(r.handlers||{},s)){n(t,s)}}return}var a=r.handlers[i];if(!a){return}if(!e){n(t,i);return}if(e.guid){for(var o=0;o<a.length;o++){if(a[o].guid===e.guid){a.splice(o--,1)}}}ms(t,i)}function As(t,i,e){var r=ps.has(t)?ps.get(t):{};var n=t.parentNode||t.ownerDocument;if(typeof i==="string"){i={type:i,target:t}}else if(!i.target){i.target=t}i=bs(i);if(r.dispatcher){r.dispatcher.call(t,i,e)}if(n&&!i.isPropagationStopped()&&i.bubbles===true){As.call(null,n,i,e)}else if(!n&&!i.defaultPrevented&&i.target&&i.target[i.type]){if(!ps.has(i.target)){ps.set(i.target,{})}var s=ps.get(i.target);if(i.target[i.type]){s.disabled=true;if(typeof i.target[i.type]==="function"){i.target[i.type]()}s.disabled=false}}return!i.defaultPrevented}function Es(t,i,e){if(Array.isArray(i)){return gs(Es,t,i,e)}var r=function r(){ks(t,i,r);e.apply(this,arguments)};r.guid=e.guid=e.guid||vs();Ts(t,i,r)}function xs(t,i,e){var r=function r(){ks(t,i,r);e.apply(this,arguments)};r.guid=e.guid=e.guid||vs();Ts(t,i,r)}var Ss=Object.freeze({__proto__:null,fixEvent:bs,on:Ts,off:ks,trigger:As,one:Es,any:xs});var Is=30;var Ds=function t(i,e,r){if(!e.guid){e.guid=vs()}var n=e.bind(i);n.guid=r?r+"_"+e.guid:e.guid;return n};var Ns=function t(i,e){var r=c.performance.now();var n=function t(){var n=c.performance.now();if(n-r>=e){i.apply(void 0,arguments);r=n}};return n};var Os=function t(i,e,r,n){if(n===void 0){n=c}var s;var a=function t(){n.clearTimeout(s);s=null};var o=function t(){var r=this;var a=arguments;var o=function t(){s=null;o=null;{i.apply(r,a)}};n.clearTimeout(s);s=n.setTimeout(o,e)};o.cancel=a;return o};var Rs=function t(){};Rs.prototype.allowedEvents_={};Rs.prototype.on=function(t,i){var e=this.addEventListener;this.addEventListener=function(){};Ts(this,t,i);this.addEventListener=e};Rs.prototype.addEventListener=Rs.prototype.on;Rs.prototype.off=function(t,i){ks(this,t,i)};Rs.prototype.removeEventListener=Rs.prototype.off;Rs.prototype.one=function(t,i){var e=this.addEventListener;this.addEventListener=function(){};Es(this,t,i);this.addEventListener=e};Rs.prototype.any=function(t,i){var e=this.addEventListener;this.addEventListener=function(){};xs(this,t,i);this.addEventListener=e};Rs.prototype.trigger=function(t){var i=t.type||t;if(typeof t==="string"){t={type:i}}t=bs(t);if(this.allowedEvents_[i]&&this["on"+i]){this["on"+i](t)}As(this,t)};Rs.prototype.dispatchEvent=Rs.prototype.trigger;var Ls;Rs.prototype.queueTrigger=function(t){var i=this;if(!Ls){Ls=new Map}var e=t.type||t;var r=Ls.get(this);if(!r){r=new Map;Ls.set(this,r)}var n=r.get(e);r["delete"](e);c.clearTimeout(n);var s=c.setTimeout((function(){r["delete"](e);if(r.size===0){r=null;Ls["delete"](i)}i.trigger(t)}),0);r.set(e,s)};var Cs=function t(i){if(typeof i.name==="function"){return i.name()}if(typeof i.name==="string"){return i.name}if(i.name_){return i.name_}if(i.constructor&&i.constructor.name){return i.constructor.name}return typeof i};var Ms=function t(i){return i instanceof Rs||!!i.eventBusEl_&&["on","one","off","trigger"].every((function(t){return typeof i[t]==="function"}))};var Us=function t(i,e){if(Ms(i)){e()}else{if(!i.eventedCallbacks){i.eventedCallbacks=[]}i.eventedCallbacks.push(e)}};var Bs=function t(i){return typeof i==="string"&&/\S/.test(i)||Array.isArray(i)&&!!i.length};var Ps=function t(i,e,r){if(!i||!i.nodeName&&!Ms(i)){throw new Error("Invalid target for "+Cs(e)+"#"+r+"; must be a DOM node or evented object.")}};var qs=function t(i,e,r){if(!Bs(i)){throw new Error("Invalid event type for "+Cs(e)+"#"+r+"; must be a non-empty string or array.")}};var Fs=function t(i,e,r){if(typeof i!=="function"){throw new Error("Invalid listener for "+Cs(e)+"#"+r+"; must be a function.")}};var _s=function t(i,e,r){var n=e.length<3||e[0]===i||e[0]===i.eventBusEl_;var s;var a;var o;if(n){s=i.eventBusEl_;if(e.length>=3){e.shift()}a=e[0];o=e[1]}else{s=e[0];a=e[1];o=e[2]}Ps(s,i,r);qs(a,i,r);Fs(o,i,r);o=Ds(i,o);return{isTargetingSelf:n,target:s,type:a,listener:o}};var Vs=function t(i,e,r,n){Ps(i,i,e);if(i.nodeName){Ss[e](i,r,n)}else{i[e](r,n)}};var Hs={on:function t(){var i=this;for(var e=arguments.length,r=new Array(e),n=0;n<e;n++){r[n]=arguments[n]}var s=_s(this,r,"on"),a=s.isTargetingSelf,o=s.target,u=s.type,f=s.listener;Vs(o,"on",u,f);if(!a){var h=function t(){return i.off(o,u,f)};h.guid=f.guid;var c=function t(){return i.off("dispose",h)};c.guid=f.guid;Vs(this,"on","dispose",h);Vs(o,"on","dispose",c)}},one:function t(){var i=this;for(var e=arguments.length,r=new Array(e),n=0;n<e;n++){r[n]=arguments[n]}var s=_s(this,r,"one"),a=s.isTargetingSelf,o=s.target,u=s.type,f=s.listener;if(a){Vs(o,"one",u,f)}else{var h=function t(){i.off(o,u,t);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++){r[n]=arguments[n]}f.apply(null,r)};h.guid=f.guid;Vs(o,"one",u,h)}},any:function t(){var i=this;for(var e=arguments.length,r=new Array(e),n=0;n<e;n++){r[n]=arguments[n]}var s=_s(this,r,"any"),a=s.isTargetingSelf,o=s.target,u=s.type,f=s.listener;if(a){Vs(o,"any",u,f)}else{var h=function t(){i.off(o,u,t);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++){r[n]=arguments[n]}f.apply(null,r)};h.guid=f.guid;Vs(o,"any",u,h)}},off:function t(i,e,r){if(!i||Bs(i)){ks(this.eventBusEl_,i,e)}else{var n=i;var s=e;Ps(n,this,"off");qs(s,this,"off");Fs(r,this,"off");r=Ds(this,r);this.off("dispose",r);if(n.nodeName){ks(n,s,r);ks(n,"dispose",r)}else if(Ms(n)){n.off(s,r);n.off("dispose",r)}}},trigger:function t(i,e){Ps(this.eventBusEl_,this,"trigger");var r=i&&typeof i!=="string"?i.type:i;if(!Bs(r)){var n="Invalid event type for "+Cs(this)+"#trigger; "+"must be a non-empty string or object with a type key that has a non-empty value.";if(i){(this.log||Yr).error(n)}else{throw new Error(n)}}return As(this.eventBusEl_,i,e)}};function zs(t,i){if(i===void 0){i={}}var e=i,r=e.eventBusKey;if(r){if(!t[r].nodeName){throw new Error('The eventBusKey "'+r+'" does not refer to an element.')}t.eventBusEl_=t[r]}else{t.eventBusEl_=Rn("span",{className:"vjs-event-bus"})}$r(t,Hs);if(t.eventedCallbacks){t.eventedCallbacks.forEach((function(t){t()}))}t.on("dispose",(function(){t.off();[t,t.el_,t.eventBusEl_].forEach((function(t){if(t&&ps.has(t)){ps["delete"](t)}}));c.setTimeout((function(){t.eventBusEl_=null}),0)}));return t}var Gs={state:{},setState:function t(i){var e=this;if(typeof i==="function"){i=i()}var r;Kr(i,(function(t,i){if(e.state[i]!==t){r=r||{};r[i]={from:e.state[i],to:t}}e.state[i]=t}));if(r&&Ms(this)){this.trigger({changes:r,type:"statechanged"})}return r}};function Xs(t,i){$r(t,Gs);t.state=$r({},t.state,i);if(typeof t.handleStateChanged==="function"&&Ms(t)){t.on("statechanged",t.handleStateChanged)}return t}var Ys=function t(i){if(typeof i!=="string"){return i}return i.replace(/./,(function(t){return t.toLowerCase()}))};var Ws=function t(i){if(typeof i!=="string"){return i}return i.replace(/./,(function(t){return t.toUpperCase()}))};var Js=function t(i,e){return Ws(i)===Ws(e)};function Qs(){var t={};for(var i=arguments.length,e=new Array(i),r=0;r<i;r++){e[r]=arguments[r]}e.forEach((function(i){if(!i){return}Kr(i,(function(i,e){if(!en(i)){t[e]=i;return}if(!en(t[e])){t[e]={}}t[e]=Qs(t[e],i)}))}));return t}var Ks=function(){function t(){this.map_={}}var i=t.prototype;i.has=function t(i){return i in this.map_};i["delete"]=function t(i){var e=this.has(i);delete this.map_[i];return e};i.set=function t(i,e){this.map_[i]=e;return this};i.forEach=function t(i,e){for(var r in this.map_){i.call(e,this.map_[r],r,this)}};return t}();var Zs=c.Map?c.Map:Ks;var $s=function(){function t(){this.set_={}}var i=t.prototype;i.has=function t(i){return i in this.set_};i["delete"]=function t(i){var e=this.has(i);delete this.set_[i];return e};i.add=function t(i){this.set_[i]=1;return this};i.forEach=function t(i,e){for(var r in this.set_){i.call(e,r,r,this)}};return t}();var ta=c.Set?c.Set:$s;var ia=function(){function t(t,i,e){var r=this;if(!t&&this.play){this.player_=t=this}else{this.player_=t}this.isDisposed_=false;this.parentComponent_=null;this.options_=Qs({},this.options_);i=this.options_=Qs(this.options_,i);this.id_=i.id||i.el&&i.el.id;if(!this.id_){var n=t&&t.id&&t.id()||"no_player";this.id_=n+"_component_"+vs()}this.name_=i.name||null;if(i.el){this.el_=i.el}else if(i.createEl!==false){this.el_=this.createEl()}if(i.className&&this.el_){i.className.split(" ").forEach((function(t){return r.addClass(t)}))}if(i.evented!==false){zs(this,{eventBusKey:this.el_?"el_":null});this.handleLanguagechange=this.handleLanguagechange.bind(this);this.on(this.player_,"languagechange",this.handleLanguagechange)}Xs(this,this.constructor.defaultState);this.children_=[];this.childIndex_={};this.childNameIndex_={};this.setTimeoutIds_=new ta;this.setIntervalIds_=new ta;this.rafIds_=new ta;this.namedRafs_=new Zs;this.clearingTimersOnDispose_=false;if(i.initChildren!==false){this.initChildren()}this.ready(e);if(i.reportTouchActivity!==false){this.enableTouchActivity()}}var i=t.prototype;i.dispose=function t(i){if(i===void 0){i={}}if(this.isDisposed_){return}if(this.readyQueue_){this.readyQueue_.length=0}this.trigger({type:"dispose",bubbles:false});this.isDisposed_=true;if(this.children_){for(var e=this.children_.length-1;e>=0;e--){if(this.children_[e].dispose){this.children_[e].dispose()}}}this.children_=null;this.childIndex_=null;this.childNameIndex_=null;this.parentComponent_=null;if(this.el_){if(this.el_.parentNode){if(i.restoreEl){this.el_.parentNode.replaceChild(i.restoreEl,this.el_)}else{this.el_.parentNode.removeChild(this.el_)}}this.el_=null}this.player_=null};i.isDisposed=function t(){return Boolean(this.isDisposed_)};i.player=function t(){return this.player_};i.options=function t(i){if(!i){return this.options_}this.options_=Qs(this.options_,i);return this.options_};i.el=function t(){return this.el_};i.createEl=function t(i,e,r){return Rn(i,e,r)};i.localize=function t(i,e,r){if(r===void 0){r=i}var n=this.player_.language&&this.player_.language();var s=this.player_.languages&&this.player_.languages();var a=s&&s[n];var o=n&&n.split("-")[0];var u=s&&s[o];var f=r;if(a&&a[i]){f=a[i]}else if(u&&u[i]){f=u[i]}if(e){f=f.replace(/\{(\d+)\}/g,(function(t,i){var r=e[i-1];var n=r;if(typeof r==="undefined"){n=t}return n}))}return f};i.handleLanguagechange=function t(){};i.contentEl=function t(){return this.contentEl_||this.el_};i.id=function t(){return this.id_};i.name=function t(){return this.name_};i.children=function t(){return this.children_};i.getChildById=function t(i){return this.childIndex_[i]};i.getChild=function t(i){if(!i){return}return this.childNameIndex_[i]};i.getDescendant=function t(){for(var i=arguments.length,e=new Array(i),r=0;r<i;r++){e[r]=arguments[r]}e=e.reduce((function(t,i){return t.concat(i)}),[]);var n=this;for(var s=0;s<e.length;s++){n=n.getChild(e[s]);if(!n||!n.getChild){return}}return n};i.addChild=function i(e,r,n){if(r===void 0){r={}}if(n===void 0){n=this.children_.length}var s;var a;if(typeof e==="string"){a=Ws(e);var o=r.componentClass||a;r.name=a;var u=t.getComponent(o);if(!u){throw new Error("Component "+o+" does not exist")}if(typeof u!=="function"){return null}s=new u(this.player_||this,r)}else{s=e}if(s.parentComponent_){s.parentComponent_.removeChild(s)}this.children_.splice(n,0,s);s.parentComponent_=this;if(typeof s.id==="function"){this.childIndex_[s.id()]=s}a=a||s.name&&Ws(s.name());if(a){this.childNameIndex_[a]=s;this.childNameIndex_[Ys(a)]=s}if(typeof s.el==="function"&&s.el()){var f=null;if(this.children_[n+1]){if(this.children_[n+1].el_){f=this.children_[n+1].el_}else if(Dn(this.children_[n+1])){f=this.children_[n+1]}}this.contentEl().insertBefore(s.el(),f)}return s};i.removeChild=function t(i){if(typeof i==="string"){i=this.getChild(i)}if(!i||!this.children_){return}var e=false;for(var r=this.children_.length-1;r>=0;r--){if(this.children_[r]===i){e=true;this.children_.splice(r,1);break}}if(!e){return}i.parentComponent_=null;this.childIndex_[i.id()]=null;this.childNameIndex_[Ws(i.name())]=null;this.childNameIndex_[Ys(i.name())]=null;var n=i.el();if(n&&n.parentNode===this.contentEl()){this.contentEl().removeChild(i.el())}};i.initChildren=function i(){var e=this;var r=this.options_.children;if(r){var n=this.options_;var s=function t(i){var r=i.name;var s=i.opts;if(n[r]!==undefined){s=n[r]}if(s===false){return}if(s===true){s={}}s.playerOptions=e.options_.playerOptions;var a=e.addChild(r,s);if(a){e[r]=a}};var a;var o=t.getComponent("Tech");if(Array.isArray(r)){a=r}else{a=Object.keys(r)}a.concat(Object.keys(this.options_).filter((function(t){return!a.some((function(i){if(typeof i==="string"){return t===i}return t===i.name}))}))).map((function(t){var i;var n;if(typeof t==="string"){i=t;n=r[i]||e.options_[i]||{}}else{i=t.name;n=t}return{name:i,opts:n}})).filter((function(i){var e=t.getComponent(i.opts.componentClass||Ws(i.name));return e&&!o.isTech(e)})).forEach(s)}};i.buildCSSClass=function t(){return""};i.ready=function t(i,e){if(e===void 0){e=false}if(!i){return}if(!this.isReady_){this.readyQueue_=this.readyQueue_||[];this.readyQueue_.push(i);return}if(e){i.call(this)}else{this.setTimeout(i,1)}};i.triggerReady=function t(){this.isReady_=true;this.setTimeout((function(){var t=this.readyQueue_;this.readyQueue_=[];if(t&&t.length>0){t.forEach((function(t){t.call(this)}),this)}this.trigger("ready")}),1)};i.$=function t(i,e){return is(i,e||this.contentEl())};i.$$=function t(i,e){return es(i,e||this.contentEl())};i.hasClass=function t(i){return Mn(this.el_,i)};i.addClass=function t(i){Un(this.el_,i)};i.removeClass=function t(i){Bn(this.el_,i)};i.toggleClass=function t(i,e){Pn(this.el_,i,e)};i.show=function t(){this.removeClass("vjs-hidden")};i.hide=function t(){this.addClass("vjs-hidden")};i.lockShowing=function t(){this.addClass("vjs-lock-showing")};i.unlockShowing=function t(){this.removeClass("vjs-lock-showing")};i.getAttribute=function t(i){return _n(this.el_,i)};i.setAttribute=function t(i,e){Vn(this.el_,i,e)};i.removeAttribute=function t(i){Hn(this.el_,i)};i.width=function t(i,e){return this.dimension("width",i,e)};i.height=function t(i,e){return this.dimension("height",i,e)};i.dimensions=function t(i,e){this.width(i,true);this.height(e)};i.dimension=function t(i,e,r){if(e!==undefined){if(e===null||e!==e){e=0}if((""+e).indexOf("%")!==-1||(""+e).indexOf("px")!==-1){this.el_.style[i]=e}else if(e==="auto"){this.el_.style[i]=""}else{this.el_.style[i]=e+"px"}if(!r){this.trigger("componentresize")}return}if(!this.el_){return 0}var n=this.el_.style[i];var s=n.indexOf("px");if(s!==-1){return parseInt(n.slice(0,s),10)}return parseInt(this.el_["offset"+Ws(i)],10)};i.currentDimension=function t(i){var e=0;if(i!=="width"&&i!=="height"){throw new Error("currentDimension only accepts width or height value")}e=rn(this.el_,i);e=parseFloat(e);if(e===0||isNaN(e)){var r="offset"+Ws(i);e=this.el_[r]}return e};i.currentDimensions=function t(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}};i.currentWidth=function t(){return this.currentDimension("width")};i.currentHeight=function t(){return this.currentDimension("height")};i.focus=function t(){this.el_.focus()};i.blur=function t(){this.el_.blur()};i.handleKeyDown=function t(i){if(this.player_){if(!x.isEventKey(i,"Tab")){i.stopPropagation()}this.player_.handleKeyDown(i)}};i.handleKeyPress=function t(i){this.handleKeyDown(i)};i.emitTapEvents=function t(){var i=0;var e=null;var r=10;var n=200;var s;this.on("touchstart",(function(t){if(t.touches.length===1){e={pageX:t.touches[0].pageX,pageY:t.touches[0].pageY};i=c.performance.now();s=true}}));this.on("touchmove",(function(t){if(t.touches.length>1){s=false}else if(e){var i=t.touches[0].pageX-e.pageX;var n=t.touches[0].pageY-e.pageY;var a=Math.sqrt(i*i+n*n);if(a>r){s=false}}}));var a=function t(){s=false};this.on("touchleave",a);this.on("touchcancel",a);this.on("touchend",(function(t){e=null;if(s===true){var r=c.performance.now()-i;if(r<n){t.preventDefault();this.trigger("tap")}}}))};i.enableTouchActivity=function t(){if(!this.player()||!this.player().reportUserActivity){return}var i=Ds(this.player(),this.player().reportUserActivity);var e;this.on("touchstart",(function(){i();this.clearInterval(e);e=this.setInterval(i,250)}));var r=function t(r){i();this.clearInterval(e)};this.on("touchmove",i);this.on("touchend",r);this.on("touchcancel",r)};i.setTimeout=function t(i,e){var r=this;var n;i=Ds(this,i);this.clearTimersOnDispose_();n=c.setTimeout((function(){if(r.setTimeoutIds_.has(n)){r.setTimeoutIds_["delete"](n)}i()}),e);this.setTimeoutIds_.add(n);return n};i.clearTimeout=function t(i){if(this.setTimeoutIds_.has(i)){this.setTimeoutIds_["delete"](i);c.clearTimeout(i)}return i};i.setInterval=function t(i,e){i=Ds(this,i);this.clearTimersOnDispose_();var r=c.setInterval(i,e);this.setIntervalIds_.add(r);return r};i.clearInterval=function t(i){if(this.setIntervalIds_.has(i)){this.setIntervalIds_["delete"](i);c.clearInterval(i)}return i};i.requestAnimationFrame=function t(i){var e=this;if(!this.supportsRaf_){return this.setTimeout(i,1e3/60)}this.clearTimersOnDispose_();var r;i=Ds(this,i);r=c.requestAnimationFrame((function(){if(e.rafIds_.has(r)){e.rafIds_["delete"](r)}i()}));this.rafIds_.add(r);return r};i.requestNamedAnimationFrame=function t(i,e){var r=this;if(this.namedRafs_.has(i)){return}this.clearTimersOnDispose_();e=Ds(this,e);var n=this.requestAnimationFrame((function(){e();if(r.namedRafs_.has(i)){r.namedRafs_["delete"](i)}}));this.namedRafs_.set(i,n);return i};i.cancelNamedAnimationFrame=function t(i){if(!this.namedRafs_.has(i)){return}this.cancelAnimationFrame(this.namedRafs_.get(i));this.namedRafs_["delete"](i)};i.cancelAnimationFrame=function t(i){if(!this.supportsRaf_){return this.clearTimeout(i)}if(this.rafIds_.has(i)){this.rafIds_["delete"](i);c.cancelAnimationFrame(i)}return i};i.clearTimersOnDispose_=function t(){var i=this;if(this.clearingTimersOnDispose_){return}this.clearingTimersOnDispose_=true;this.one("dispose",(function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach((function(t){var e=t[0],r=t[1];i[e].forEach((function(t,e){return i[r](e)}))}));i.clearingTimersOnDispose_=false}))};t.registerComponent=function i(e,r){if(typeof e!=="string"||!e){throw new Error('Illegal component name, "'+e+'"; must be a non-empty string.')}var n=t.getComponent("Tech");var s=n&&n.isTech(r);var a=t===r||t.prototype.isPrototypeOf(r.prototype);if(s||!a){var o;if(s){o="techs must be registered using Tech.registerTech()"}else{o="must be a Component subclass"}throw new Error('Illegal component, "'+e+'"; '+o+".")}e=Ws(e);if(!t.components_){t.components_={}}var u=t.getComponent("Player");if(e==="Player"&&u&&u.players){var f=u.players;var h=Object.keys(f);if(f&&h.length>0&&h.map((function(t){return f[t]})).every(Boolean)){throw new Error("Can not register Player component after player has been created.")}}t.components_[e]=r;t.components_[Ys(e)]=r;return r};t.getComponent=function i(e){if(!e||!t.components_){return}return t.components_[e]};return t}();ia.prototype.supportsRaf_=typeof c.requestAnimationFrame==="function"&&typeof c.cancelAnimationFrame==="function";ia.registerComponent("Component",ia);function ea(t,i,e){if(typeof i!=="number"||i<0||i>e){throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+i+") is non-numeric or out of bounds (0-"+e+").")}}function ra(t,i,e,r){ea(t,r,e.length-1);return e[r][i]}function na(t){var i;if(t===undefined||t.length===0){i={length:0,start:function t(){throw new Error("This TimeRanges object is empty")},end:function t(){throw new Error("This TimeRanges object is empty")}}}else{i={length:t.length,start:ra.bind(null,"start",0,t),end:ra.bind(null,"end",1,t)}}if(c.Symbol&&c.Symbol.iterator){i[c.Symbol.iterator]=function(){return(t||[]).values()}}return i}function sa(t,i){if(Array.isArray(t)){return na(t)}else if(t===undefined||i===undefined){return na()}return na([[t,i]])}function aa(t,i){var e=0;var r;var n;if(!i){return 0}if(!t||!t.length){t=sa(0,0)}for(var s=0;s<t.length;s++){r=t.start(s);n=t.end(s);if(n>i){n=i}e+=n-r}return e/i}function oa(t){if(t instanceof oa){return t}if(typeof t==="number"){this.code=t}else if(typeof t==="string"){this.message=t}else if(tn(t)){if(typeof t.code==="number"){this.code=t.code}$r(this,t)}if(!this.message){this.message=oa.defaultMessages[this.code]||""}}oa.prototype.code=0;oa.prototype.message="";oa.prototype.status=null;oa.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];oa.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var ua=0;ua<oa.errorTypes.length;ua++){oa[oa.errorTypes[ua]]=ua;oa.prototype[oa.errorTypes[ua]]=ua}function fa(t){return t!==undefined&&t!==null&&typeof t.then==="function"}function ha(t){if(fa(t)){t.then(null,(function(t){}))}}var ca=function t(i){var e=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((function(t,e,r){if(i[e]){t[e]=i[e]}return t}),{cues:i.cues&&Array.prototype.map.call(i.cues,(function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}}))});return e};var la=function t(i){var e=i.$$("track");var r=Array.prototype.map.call(e,(function(t){return t.track}));var n=Array.prototype.map.call(e,(function(t){var i=ca(t.track);if(t.src){i.src=t.src}return i}));return n.concat(Array.prototype.filter.call(i.textTracks(),(function(t){return r.indexOf(t)===-1})).map(ca))};var va=function t(i,e){i.forEach((function(t){var i=e.addRemoteTextTrack(t).track;if(!t.src&&t.cues){t.cues.forEach((function(t){return i.addCue(t)}))}}));return e.textTracks()};var da={textTracksToJson:la,jsonToTextTracks:va,trackToJson_:ca};var pa="vjs-modal-dialog";var ma=function(t){D(i,t);function i(i,e){var r;r=t.call(this,i,e)||this;r.handleKeyDown_=function(t){return r.handleKeyDown(t)};r.close_=function(t){return r.close(t)};r.opened_=r.hasBeenOpened_=r.hasBeenFilled_=false;r.closeable(!r.options_.uncloseable);r.content(r.options_.content);r.contentEl_=Rn("div",{className:pa+"-content"},{role:"document"});r.descEl_=Rn("p",{className:pa+"-description vjs-control-text",id:r.el().getAttribute("aria-describedby")});Ln(r.descEl_,r.description());r.el_.appendChild(r.descEl_);r.el_.appendChild(r.contentEl_);return r}var e=i.prototype;e.createEl=function i(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})};e.dispose=function i(){this.contentEl_=null;this.descEl_=null;this.previouslyActiveEl_=null;t.prototype.dispose.call(this)};e.buildCSSClass=function i(){return pa+" vjs-hidden "+t.prototype.buildCSSClass.call(this)};e.label=function t(){return this.localize(this.options_.label||"Modal Window")};e.description=function t(){var i=this.options_.description||this.localize("This is a modal window.");if(this.closeable()){i+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")}return i};e.open=function t(){if(!this.opened_){var i=this.player();this.trigger("beforemodalopen");this.opened_=true;if(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_){this.fill()}this.wasPlaying_=!i.paused();if(this.options_.pauseOnOpen&&this.wasPlaying_){i.pause()}this.on("keydown",this.handleKeyDown_);this.hadControls_=i.controls();i.controls(false);this.show();this.conditionalFocus_();this.el().setAttribute("aria-hidden","false");this.trigger("modalopen");this.hasBeenOpened_=true}};e.opened=function t(i){if(typeof i==="boolean"){this[i?"open":"close"]()}return this.opened_};e.close=function t(){if(!this.opened_){return}var i=this.player();this.trigger("beforemodalclose");this.opened_=false;if(this.wasPlaying_&&this.options_.pauseOnOpen){i.play()}this.off("keydown",this.handleKeyDown_);if(this.hadControls_){i.controls(true)}this.hide();this.el().setAttribute("aria-hidden","true");this.trigger("modalclose");this.conditionalBlur_();if(this.options_.temporary){this.dispose()}};e.closeable=function t(i){if(typeof i==="boolean"){var t=this.closeable_=!!i;var e=this.getChild("closeButton");if(t&&!e){var r=this.contentEl_;this.contentEl_=this.el_;e=this.addChild("closeButton",{controlText:"Close Modal Dialog"});this.contentEl_=r;this.on(e,"close",this.close_)}if(!t&&e){this.off(e,"close",this.close_);this.removeChild(e);e.dispose()}}return this.closeable_};e.fill=function t(){this.fillWith(this.content())};e.fillWith=function t(i){var e=this.contentEl();var r=e.parentNode;var n=e.nextSibling;this.trigger("beforemodalfill");this.hasBeenFilled_=true;r.removeChild(e);this.empty();$n(e,i);this.trigger("modalfill");if(n){r.insertBefore(e,n)}else{r.appendChild(e)}var s=this.getChild("closeButton");if(s){r.appendChild(s.el_)}};e.empty=function t(){this.trigger("beforemodalempty");Qn(this.contentEl());this.trigger("modalempty")};e.content=function t(i){if(typeof i!=="undefined"){this.content_=i}return this.content_};e.conditionalFocus_=function t(){var i=y.activeElement;var e=this.player_.el_;this.previouslyActiveEl_=null;if(e.contains(i)||e===i){this.previouslyActiveEl_=i;this.focus()}};e.conditionalBlur_=function t(){if(this.previouslyActiveEl_){this.previouslyActiveEl_.focus();this.previouslyActiveEl_=null}};e.handleKeyDown=function t(i){i.stopPropagation();if(x.isEventKey(i,"Escape")&&this.closeable()){i.preventDefault();this.close();return}if(!x.isEventKey(i,"Tab")){return}var e=this.focusableEls_();var r=this.el_.querySelector(":focus");var n;for(var s=0;s<e.length;s++){if(r===e[s]){n=s;break}}if(y.activeElement===this.el_){n=0}if(i.shiftKey&&n===0){e[e.length-1].focus();i.preventDefault()}else if(!i.shiftKey&&n===e.length-1){e[0].focus();i.preventDefault()}};e.focusableEls_=function t(){var i=this.el_.querySelectorAll("*");return Array.prototype.filter.call(i,(function(t){return(t instanceof c.HTMLAnchorElement||t instanceof c.HTMLAreaElement)&&t.hasAttribute("href")||(t instanceof c.HTMLInputElement||t instanceof c.HTMLSelectElement||t instanceof c.HTMLTextAreaElement||t instanceof c.HTMLButtonElement)&&!t.hasAttribute("disabled")||t instanceof c.HTMLIFrameElement||t instanceof c.HTMLObjectElement||t instanceof c.HTMLEmbedElement||t.hasAttribute("tabindex")&&t.getAttribute("tabindex")!==-1||t.hasAttribute("contenteditable")}))};return i}(ia);ma.prototype.options_={pauseOnOpen:true,temporary:true};ia.registerComponent("ModalDialog",ma);var ga=function(t){D(i,t);function i(i){var e;if(i===void 0){i=[]}e=t.call(this)||this;e.tracks_=[];Object.defineProperty(S(e),"length",{get:function t(){return this.tracks_.length}});for(var r=0;r<i.length;r++){e.addTrack(i[r])}return e}var e=i.prototype;e.addTrack=function t(i){var e=this;var r=this.tracks_.length;if(!(""+r in this)){Object.defineProperty(this,r,{get:function t(){return this.tracks_[r]}})}if(this.tracks_.indexOf(i)===-1){this.tracks_.push(i);this.trigger({track:i,type:"addtrack",target:this})}i.labelchange_=function(){e.trigger({track:i,type:"labelchange",target:e})};if(Ms(i)){i.addEventListener("labelchange",i.labelchange_)}};e.removeTrack=function t(i){var e;for(var r=0,n=this.length;r<n;r++){if(this[r]===i){e=this[r];if(e.off){e.off()}this.tracks_.splice(r,1);break}}if(!e){return}this.trigger({track:e,type:"removetrack",target:this})};e.getTrackById=function t(i){var e=null;for(var r=0,n=this.length;r<n;r++){var s=this[r];if(s.id===i){e=s;break}}return e};return i}(Rs);ga.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(var ba in ga.prototype.allowedEvents_){ga.prototype["on"+ba]=null}var ya=function t(i,e){for(var r=0;r<i.length;r++){if(!Object.keys(i[r]).length||e.id===i[r].id){continue}i[r].enabled=false}};var ja=function(t){D(i,t);function i(i){var e;if(i===void 0){i=[]}for(var r=i.length-1;r>=0;r--){if(i[r].enabled){ya(i,i[r]);break}}e=t.call(this,i)||this;e.changing_=false;return e}var e=i.prototype;e.addTrack=function i(e){var r=this;if(e.enabled){ya(this,e)}t.prototype.addTrack.call(this,e);if(!e.addEventListener){return}e.enabledChange_=function(){if(r.changing_){return}r.changing_=true;ya(r,e);r.changing_=false;r.trigger("change")};e.addEventListener("enabledchange",e.enabledChange_)};e.removeTrack=function i(e){t.prototype.removeTrack.call(this,e);if(e.removeEventListener&&e.enabledChange_){e.removeEventListener("enabledchange",e.enabledChange_);e.enabledChange_=null}};return i}(ga);var wa=function t(i,e){for(var r=0;r<i.length;r++){if(!Object.keys(i[r]).length||e.id===i[r].id){continue}i[r].selected=false}};var Ta=function(t){D(i,t);function i(i){var e;if(i===void 0){i=[]}for(var r=i.length-1;r>=0;r--){if(i[r].selected){wa(i,i[r]);break}}e=t.call(this,i)||this;e.changing_=false;Object.defineProperty(S(e),"selectedIndex",{get:function t(){for(var i=0;i<this.length;i++){if(this[i].selected){return i}}return-1},set:function t(){}});return e}var e=i.prototype;e.addTrack=function i(e){var r=this;if(e.selected){wa(this,e)}t.prototype.addTrack.call(this,e);if(!e.addEventListener){return}e.selectedChange_=function(){if(r.changing_){return}r.changing_=true;wa(r,e);r.changing_=false;r.trigger("change")};e.addEventListener("selectedchange",e.selectedChange_)};e.removeTrack=function i(e){t.prototype.removeTrack.call(this,e);if(e.removeEventListener&&e.selectedChange_){e.removeEventListener("selectedchange",e.selectedChange_);e.selectedChange_=null}};return i}(ga);var ka=function(t){D(i,t);function i(){return t.apply(this,arguments)||this}var e=i.prototype;e.addTrack=function i(e){var r=this;t.prototype.addTrack.call(this,e);if(!this.queueChange_){this.queueChange_=function(){return r.queueTrigger("change")}}if(!this.triggerSelectedlanguagechange){this.triggerSelectedlanguagechange_=function(){return r.trigger("selectedlanguagechange")}}e.addEventListener("modechange",this.queueChange_);var n=["metadata","chapters"];if(n.indexOf(e.kind)===-1){e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}};e.removeTrack=function i(e){t.prototype.removeTrack.call(this,e);if(e.removeEventListener){if(this.queueChange_){e.removeEventListener("modechange",this.queueChange_)}if(this.selectedlanguagechange_){e.removeEventListener("modechange",this.triggerSelectedlanguagechange_)}}};return i}(ga);var Aa=function(){function t(t){if(t===void 0){t=[]}this.trackElements_=[];Object.defineProperty(this,"length",{get:function t(){return this.trackElements_.length}});for(var i=0,e=t.length;i<e;i++){this.addTrackElement_(t[i])}}var i=t.prototype;i.addTrackElement_=function t(i){var e=this.trackElements_.length;if(!(""+e in this)){Object.defineProperty(this,e,{get:function t(){return this.trackElements_[e]}})}if(this.trackElements_.indexOf(i)===-1){this.trackElements_.push(i)}};i.getTrackElementByTrack_=function t(i){var e;for(var r=0,n=this.trackElements_.length;r<n;r++){if(i===this.trackElements_[r].track){e=this.trackElements_[r];break}}return e};i.removeTrackElement_=function t(i){for(var e=0,r=this.trackElements_.length;e<r;e++){if(i===this.trackElements_[e]){if(this.trackElements_[e].track&&typeof this.trackElements_[e].track.off==="function"){this.trackElements_[e].track.off()}if(typeof this.trackElements_[e].off==="function"){this.trackElements_[e].off()}this.trackElements_.splice(e,1);break}}};return t}();var Ea=function(){function t(i){t.prototype.setCues_.call(this,i);Object.defineProperty(this,"length",{get:function t(){return this.length_}})}var i=t.prototype;i.setCues_=function t(i){var e=this.length||0;var r=0;var n=i.length;this.cues_=i;this.length_=i.length;var s=function t(i){if(!(""+i in this)){Object.defineProperty(this,""+i,{get:function t(){return this.cues_[i]}})}};if(e<n){r=e;for(;r<n;r++){s.call(this,r)}}};i.getCueById=function t(i){var e=null;for(var r=0,n=this.length;r<n;r++){var s=this[r];if(s.id===i){e=s;break}}return e};return t}();var xa={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"};var Sa={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"};var Ia={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"};var Da={disabled:"disabled",hidden:"hidden",showing:"showing"};var Na=function(t){D(i,t);function i(i){var e;if(i===void 0){i={}}e=t.call(this)||this;var r={id:i.id||"vjs_track_"+vs(),kind:i.kind||"",language:i.language||""};var n=i.label||"";var s=function t(i){Object.defineProperty(S(e),i,{get:function t(){return r[i]},set:function t(){}})};for(var a in r){s(a)}Object.defineProperty(S(e),"label",{get:function t(){return n},set:function t(i){if(i!==n){n=i;this.trigger("labelchange")}}});return e}return i}(Rs);var Oa=function t(i){var e=["protocol","hostname","port","pathname","search","hash","host"];var r=y.createElement("a");r.href=i;var n={};for(var s=0;s<e.length;s++){n[e[s]]=r[e[s]]}if(n.protocol==="http:"){n.host=n.host.replace(/:80$/,"")}if(n.protocol==="https:"){n.host=n.host.replace(/:443$/,"")}if(!n.protocol){n.protocol=c.location.protocol}if(!n.host){n.host=c.location.host}return n};var Ra=function t(i){if(!i.match(/^https?:\/\//)){var e=y.createElement("a");e.href=i;i=e.href}return i};var La=function t(i){if(typeof i==="string"){var e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/;var r=e.exec(i);if(r){return r.pop().toLowerCase()}}return""};var Ca=function t(i,e){if(e===void 0){e=c.location}var r=Oa(i);var n=r.protocol===":"?e.protocol:r.protocol;var s=n+r.host!==e.protocol+e.host;return s};var Ma=Object.freeze({__proto__:null,parseUrl:Oa,getAbsoluteURL:Ra,getFileExtension:La,isCrossOrigin:Ca});var Ua=function t(i,e){var r=new c.WebVTT.Parser(c,c.vttjs,c.WebVTT.StringDecoder());var n=[];r.oncue=function(t){e.addCue(t)};r.onparsingerror=function(t){n.push(t)};r.onflush=function(){e.trigger({type:"loadeddata",target:e})};r.parse(i);if(n.length>0){if(c.console&&c.console.groupCollapsed){c.console.groupCollapsed("Text Track parsing errors for "+e.src)}n.forEach((function(t){return Yr.error(t)}));if(c.console&&c.console.groupEnd){c.console.groupEnd()}}r.flush()};var Ba=function t(i,e){var r={uri:i};var n=Ca(i);if(n){r.cors=n}var s=e.tech_.crossOrigin()==="use-credentials";if(s){r.withCredentials=s}X(r,Ds(this,(function(t,i,r){if(t){return Yr.error(t,i)}e.loaded_=true;if(typeof c.WebVTT!=="function"){if(e.tech_){e.tech_.any(["vttjsloaded","vttjserror"],(function(t){if(t.type==="vttjserror"){Yr.error("vttjs failed to load, stopping trying to process "+e.src);return}return Ua(r,e)}))}}else{Ua(r,e)}})))};var Pa=function(t){D(i,t);function i(i){var e;if(i===void 0){i={}}if(!i.tech){throw new Error("A tech was not provided.")}var r=Qs(i,{kind:Ia[i.kind]||"subtitles",language:i.language||i.srclang||""});var n=Da[r.mode]||"disabled";var s=r["default"];if(r.kind==="metadata"||r.kind==="chapters"){n="hidden"}e=t.call(this,r)||this;e.tech_=r.tech;e.cues_=[];e.activeCues_=[];e.preload_=e.tech_.preloadTextTracks!==false;var a=new Ea(e.cues_);var o=new Ea(e.activeCues_);var u=false;e.timeupdateHandler=Ds(S(e),(function(t){if(t===void 0){t={}}if(this.tech_.isDisposed()){return}if(!this.tech_.isReady_){if(t.type!=="timeupdate"){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler)}return}this.activeCues=this.activeCues;if(u){this.trigger("cuechange");u=false}if(t.type!=="timeupdate"){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler)}}));var f=function t(){e.stopTracking()};e.tech_.one("dispose",f);if(n!=="disabled"){e.startTracking()}Object.defineProperties(S(e),{default:{get:function t(){return s},set:function t(){}},mode:{get:function t(){return n},set:function t(i){if(!Da[i]){return}if(n===i){return}n=i;if(!this.preload_&&n!=="disabled"&&this.cues.length===0){Ba(this.src,this)}this.stopTracking();if(n!=="disabled"){this.startTracking()}this.trigger("modechange")}},cues:{get:function t(){if(!this.loaded_){return null}return a},set:function t(){}},activeCues:{get:function t(){if(!this.loaded_){return null}if(this.cues.length===0){return o}var i=this.tech_.currentTime();var e=[];for(var r=0,n=this.cues.length;r<n;r++){var s=this.cues[r];if(s.startTime<=i&&s.endTime>=i){e.push(s)}else if(s.startTime===s.endTime&&s.startTime<=i&&s.startTime+.5>=i){e.push(s)}}u=false;if(e.length!==this.activeCues_.length){u=true}else{for(var a=0;a<e.length;a++){if(this.activeCues_.indexOf(e[a])===-1){u=true}}}this.activeCues_=e;o.setCues_(this.activeCues_);return o},set:function t(){}}});if(r.src){e.src=r.src;if(!e.preload_){e.loaded_=true}if(e.preload_||r.kind!=="subtitles"&&r.kind!=="captions"){Ba(e.src,S(e))}}else{e.loaded_=true}return e}var e=i.prototype;e.startTracking=function t(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler);this.tech_.on("timeupdate",this.timeupdateHandler)};e.stopTracking=function t(){if(this.rvf_){this.tech_.cancelVideoFrameCallback(this.rvf_);this.rvf_=undefined}this.tech_.off("timeupdate",this.timeupdateHandler)};e.addCue=function t(i){var e=i;if(!("getCueAsHTML"in e)){e=new c.vttjs.VTTCue(i.startTime,i.endTime,i.text);for(var r in i){if(!(r in e)){e[r]=i[r]}}e.id=i.id;e.originalCue_=i}var n=this.tech_.textTracks();for(var s=0;s<n.length;s++){if(n[s]!==this){n[s].removeCue(e)}}this.cues_.push(e);this.cues.setCues_(this.cues_)};e.removeCue=function t(i){var e=this.cues_.length;while(e--){var r=this.cues_[e];if(r===i||r.originalCue_&&r.originalCue_===i){this.cues_.splice(e,1);this.cues.setCues_(this.cues_);break}}};return i}(Na);Pa.prototype.allowedEvents_={cuechange:"cuechange"};var qa=function(t){D(i,t);function i(i){var e;if(i===void 0){i={}}var r=Qs(i,{kind:Sa[i.kind]||""});e=t.call(this,r)||this;var n=false;Object.defineProperty(S(e),"enabled",{get:function t(){return n},set:function t(i){if(typeof i!=="boolean"||i===n){return}n=i;this.trigger("enabledchange")}});if(r.enabled){e.enabled=r.enabled}e.loaded_=true;return e}return i}(Na);var Fa=function(t){D(i,t);function i(i){var e;if(i===void 0){i={}}var r=Qs(i,{kind:xa[i.kind]||""});e=t.call(this,r)||this;var n=false;Object.defineProperty(S(e),"selected",{get:function t(){return n},set:function t(i){if(typeof i!=="boolean"||i===n){return}n=i;this.trigger("selectedchange")}});if(r.selected){e.selected=r.selected}return e}return i}(Na);var _a=0;var Va=1;var Ha=2;var za=3;var Ga=function(t){D(i,t);function i(i){var e;if(i===void 0){i={}}e=t.call(this)||this;var r;var n=new Pa(i);e.kind=n.kind;e.src=n.src;e.srclang=n.language;e.label=n.label;e["default"]=n["default"];Object.defineProperties(S(e),{readyState:{get:function t(){return r}},track:{get:function t(){return n}}});r=_a;n.addEventListener("loadeddata",(function(){r=Ha;e.trigger({type:"load",target:S(e)})}));return e}return i}(Rs);Ga.prototype.allowedEvents_={load:"load"};Ga.NONE=_a;Ga.LOADING=Va;Ga.LOADED=Ha;Ga.ERROR=za;var Xa={audio:{ListClass:ja,TrackClass:qa,capitalName:"Audio"},video:{ListClass:Ta,TrackClass:Fa,capitalName:"Video"},text:{ListClass:ka,TrackClass:Pa,capitalName:"Text"}};Object.keys(Xa).forEach((function(t){Xa[t].getterName=t+"Tracks";Xa[t].privateName=t+"Tracks_"}));var Ya={remoteText:{ListClass:ka,TrackClass:Pa,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Aa,TrackClass:Ga,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}};var Wa=j({},Xa,Ya);Ya.names=Object.keys(Ya);Xa.names=Object.keys(Xa);Wa.names=[].concat(Ya.names).concat(Xa.names);function Ja(t,i,e,r,n){if(n===void 0){n={}}var s=t.textTracks();n.kind=i;if(e){n.label=e}if(r){n.language=r}n.tech=t;var a=new Wa.text.TrackClass(n);s.addTrack(a);return a}var Qa=function(t){D(i,t);function i(i,e){var r;if(i===void 0){i={}}if(e===void 0){e=function t(){}}i.reportTouchActivity=false;r=t.call(this,null,i,e)||this;r.onDurationChange_=function(t){return r.onDurationChange(t)};r.trackProgress_=function(t){return r.trackProgress(t)};r.trackCurrentTime_=function(t){return r.trackCurrentTime(t)};r.stopTrackingCurrentTime_=function(t){return r.stopTrackingCurrentTime(t)};r.disposeSourceHandler_=function(t){return r.disposeSourceHandler(t)};r.queuedHanders_=new Set;r.hasStarted_=false;r.on("playing",(function(){this.hasStarted_=true}));r.on("loadstart",(function(){this.hasStarted_=false}));Wa.names.forEach((function(t){var e=Wa[t];if(i&&i[e.getterName]){r[e.privateName]=i[e.getterName]}}));if(!r.featuresProgressEvents){r.manualProgressOn()}if(!r.featuresTimeupdateEvents){r.manualTimeUpdatesOn()}["Text","Audio","Video"].forEach((function(t){if(i["native"+t+"Tracks"]===false){r["featuresNative"+t+"Tracks"]=false}}));if(i.nativeCaptions===false||i.nativeTextTracks===false){r.featuresNativeTextTracks=false}else if(i.nativeCaptions===true||i.nativeTextTracks===true){r.featuresNativeTextTracks=true}if(!r.featuresNativeTextTracks){r.emulateTextTracks()}r.preloadTextTracks=i.preloadTextTracks!==false;r.autoRemoteTextTracks_=new Wa.text.ListClass;r.initTrackListeners();if(!i.nativeControlsForTouch){r.emitTapEvents()}if(r.constructor){r.name_=r.constructor.name||"Unknown Tech"}return r}var e=i.prototype;e.triggerSourceset=function t(i){var e=this;if(!this.isReady_){this.one("ready",(function(){return e.setTimeout((function(){return e.triggerSourceset(i)}),1)}))}this.trigger({src:i,type:"sourceset"})};e.manualProgressOn=function t(){this.on("durationchange",this.onDurationChange_);this.manualProgress=true;this.one("ready",this.trackProgress_)};e.manualProgressOff=function t(){this.manualProgress=false;this.stopTrackingProgress();this.off("durationchange",this.onDurationChange_)};e.trackProgress=function t(i){this.stopTrackingProgress();this.progressInterval=this.setInterval(Ds(this,(function(){var t=this.bufferedPercent();if(this.bufferedPercent_!==t){this.trigger("progress")}this.bufferedPercent_=t;if(t===1){this.stopTrackingProgress()}})),500)};e.onDurationChange=function t(i){this.duration_=this.duration()};e.buffered=function t(){return sa(0,0)};e.bufferedPercent=function t(){return aa(this.buffered(),this.duration_)};e.stopTrackingProgress=function t(){this.clearInterval(this.progressInterval)};e.manualTimeUpdatesOn=function t(){this.manualTimeUpdates=true;this.on("play",this.trackCurrentTime_);this.on("pause",this.stopTrackingCurrentTime_)};e.manualTimeUpdatesOff=function t(){this.manualTimeUpdates=false;this.stopTrackingCurrentTime();this.off("play",this.trackCurrentTime_);this.off("pause",this.stopTrackingCurrentTime_)};e.trackCurrentTime=function t(){if(this.currentTimeInterval){this.stopTrackingCurrentTime()}this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:true})}),250)};e.stopTrackingCurrentTime=function t(){this.clearInterval(this.currentTimeInterval);this.trigger({type:"timeupdate",target:this,manuallyTriggered:true})};e.dispose=function i(){this.clearTracks(Xa.names);if(this.manualProgress){this.manualProgressOff()}if(this.manualTimeUpdates){this.manualTimeUpdatesOff()}t.prototype.dispose.call(this)};e.clearTracks=function t(i){var e=this;i=[].concat(i);i.forEach((function(t){var i=e[t+"Tracks"]()||[];var r=i.length;while(r--){var n=i[r];if(t==="text"){e.removeRemoteTextTrack(n)}i.removeTrack(n)}}))};e.cleanupAutoTextTracks=function t(){var i=this.autoRemoteTextTracks_||[];var e=i.length;while(e--){var r=i[e];this.removeRemoteTextTrack(r)}};e.reset=function t(){};e.crossOrigin=function t(){};e.setCrossOrigin=function t(){};e.error=function t(i){if(i!==undefined){this.error_=new oa(i);this.trigger("error")}return this.error_};e.played=function t(){if(this.hasStarted_){return sa(0,0)}return sa()};e.play=function t(){};e.setScrubbing=function t(){};e.scrubbing=function t(){};e.setCurrentTime=function t(){if(this.manualTimeUpdates){this.trigger({type:"timeupdate",target:this,manuallyTriggered:true})}};e.initTrackListeners=function t(){var i=this;Xa.names.forEach((function(t){var e=Xa[t];var r=function e(){i.trigger(t+"trackchange")};var n=i[e.getterName]();n.addEventListener("removetrack",r);n.addEventListener("addtrack",r);i.on("dispose",(function(){n.removeEventListener("removetrack",r);n.removeEventListener("addtrack",r)}))}))};e.addWebVttScript_=function t(){var i=this;if(c.WebVTT){return}if(y.body.contains(this.el())){if(!this.options_["vtt.js"]&&en(at)&&Object.keys(at).length>0){this.trigger("vttjsloaded");return}var e=y.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js";e.onload=function(){i.trigger("vttjsloaded")};e.onerror=function(){i.trigger("vttjserror")};this.on("dispose",(function(){e.onload=null;e.onerror=null}));c.WebVTT=true;this.el().parentNode.appendChild(e)}else{this.ready(this.addWebVttScript_)}};e.emulateTextTracks=function t(){var i=this;var e=this.textTracks();var r=this.remoteTextTracks();var n=function t(i){return e.addTrack(i.track)};var s=function t(i){return e.removeTrack(i.track)};r.on("addtrack",n);r.on("removetrack",s);this.addWebVttScript_();var a=function t(){return i.trigger("texttrackchange")};var o=function t(){a();for(var i=0;i<e.length;i++){var r=e[i];r.removeEventListener("cuechange",a);if(r.mode==="showing"){r.addEventListener("cuechange",a)}}};o();e.addEventListener("change",o);e.addEventListener("addtrack",o);e.addEventListener("removetrack",o);this.on("dispose",(function(){r.off("addtrack",n);r.off("removetrack",s);e.removeEventListener("change",o);e.removeEventListener("addtrack",o);e.removeEventListener("removetrack",o);for(var t=0;t<e.length;t++){var i=e[t];i.removeEventListener("cuechange",a)}}))};e.addTextTrack=function t(i,e,r){if(!i){throw new Error("TextTrack kind is required but was not provided")}return Ja(this,i,e,r)};e.createRemoteTextTrack=function t(i){var e=Qs(i,{tech:this});return new Ya.remoteTextEl.TrackClass(e)};e.addRemoteTextTrack=function t(i,e){var r=this;if(i===void 0){i={}}var n=this.createRemoteTextTrack(i);if(e!==true&&e!==false){Yr.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js');e=true}this.remoteTextTrackEls().addTrackElement_(n);this.remoteTextTracks().addTrack(n.track);if(e!==true){this.ready((function(){return r.autoRemoteTextTracks_.addTrack(n.track)}))}return n};e.removeRemoteTextTrack=function t(i){var e=this.remoteTextTrackEls().getTrackElementByTrack_(i);this.remoteTextTrackEls().removeTrackElement_(e);this.remoteTextTracks().removeTrack(i);this.autoRemoteTextTracks_.removeTrack(i)};e.getVideoPlaybackQuality=function t(){return{}};e.requestPictureInPicture=function t(){var i=this.options_.Promise||c.Promise;if(i){return i.reject()}};e.disablePictureInPicture=function t(){return true};e.setDisablePictureInPicture=function t(){};e.requestVideoFrameCallback=function t(i){var e=this;var r=vs();if(!this.isReady_||this.paused()){this.queuedHanders_.add(r);this.one("playing",(function(){if(e.queuedHanders_.has(r)){e.queuedHanders_["delete"](r);i()}}))}else{this.requestNamedAnimationFrame(r,i)}return r};e.cancelVideoFrameCallback=function t(i){if(this.queuedHanders_.has(i)){this.queuedHanders_["delete"](i)}else{this.cancelNamedAnimationFrame(i)}};e.setPoster=function t(){};e.playsinline=function t(){};e.setPlaysinline=function t(){};e.overrideNativeAudioTracks=function t(){};e.overrideNativeVideoTracks=function t(){};e.canPlayType=function t(){return""};i.canPlayType=function t(){return""};i.canPlaySource=function t(e,r){return i.canPlayType(e.type)};i.isTech=function t(e){return e.prototype instanceof i||e instanceof i||e===i};i.registerTech=function t(e,r){if(!i.techs_){i.techs_={}}if(!i.isTech(r)){throw new Error("Tech "+e+" must be a Tech")}if(!i.canPlayType){throw new Error("Techs must have a static canPlayType method on them")}if(!i.canPlaySource){throw new Error("Techs must have a static canPlaySource method on them")}e=Ws(e);i.techs_[e]=r;i.techs_[Ys(e)]=r;if(e!=="Tech"){i.defaultTechOrder_.push(e)}return r};i.getTech=function t(e){if(!e){return}if(i.techs_&&i.techs_[e]){return i.techs_[e]}e=Ws(e);if(c&&c.videojs&&c.videojs[e]){Yr.warn("The "+e+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)");return c.videojs[e]}};return i}(ia);Wa.names.forEach((function(t){var i=Wa[t];Qa.prototype[i.getterName]=function(){this[i.privateName]=this[i.privateName]||new i.ListClass;return this[i.privateName]}}));Qa.prototype.featuresVolumeControl=true;Qa.prototype.featuresMuteControl=true;Qa.prototype.featuresFullscreenResize=false;Qa.prototype.featuresPlaybackRate=false;Qa.prototype.featuresProgressEvents=false;Qa.prototype.featuresSourceset=false;Qa.prototype.featuresTimeupdateEvents=false;Qa.prototype.featuresNativeTextTracks=false;Qa.prototype.featuresVideoFrameCallback=false;Qa.withSourceHandlers=function(t){t.registerSourceHandler=function(i,e){var r=t.sourceHandlers;if(!r){r=t.sourceHandlers=[]}if(e===undefined){e=r.length}r.splice(e,0,i)};t.canPlayType=function(i){var e=t.sourceHandlers||[];var r;for(var n=0;n<e.length;n++){r=e[n].canPlayType(i);if(r){return r}}return""};t.selectSourceHandler=function(i,e){var r=t.sourceHandlers||[];var n;for(var s=0;s<r.length;s++){n=r[s].canHandleSource(i,e);if(n){return r[s]}}return null};t.canPlaySource=function(i,e){var r=t.selectSourceHandler(i,e);if(r){return r.canHandleSource(i,e)}return""};var i=["seekable","seeking","duration"];i.forEach((function(t){var i=this[t];if(typeof i!=="function"){return}this[t]=function(){if(this.sourceHandler_&&this.sourceHandler_[t]){return this.sourceHandler_[t].apply(this.sourceHandler_,arguments)}return i.apply(this,arguments)}}),t.prototype);t.prototype.setSource=function(i){var e=t.selectSourceHandler(i,this.options_);if(!e){if(t.nativeSourceHandler){e=t.nativeSourceHandler}else{Yr.error("No source handler found for the current source.")}}this.disposeSourceHandler();this.off("dispose",this.disposeSourceHandler_);if(e!==t.nativeSourceHandler){this.currentSource_=i}this.sourceHandler_=e.handleSource(i,this,this.options_);this.one("dispose",this.disposeSourceHandler_)};t.prototype.disposeSourceHandler=function(){if(this.currentSource_){this.clearTracks(["audio","video"]);this.currentSource_=null}this.cleanupAutoTextTracks();if(this.sourceHandler_){if(this.sourceHandler_.dispose){this.sourceHandler_.dispose()}this.sourceHandler_=null}}};ia.registerComponent("Tech",Qa);Qa.registerTech("Tech",Qa);Qa.defaultTechOrder_=[];var Ka={};var Za={};var $a={};function to(t,i){Ka[t]=Ka[t]||[];Ka[t].push(i)}function io(t,i,e){t.setTimeout((function(){return vo(i,Ka[i.type],e,t)}),1)}function eo(t,i){t.forEach((function(t){return t.setTech&&t.setTech(i)}))}function ro(t,i,e){return t.reduceRight(fo(e),i[e]())}function no(t,i,e,r){return i[e](t.reduce(fo(e),r))}function so(t,i,e,r){if(r===void 0){r=null}var n="call"+Ws(e);var s=t.reduce(fo(n),r);var a=s===$a;var o=a?null:i[e](s);ho(t,e,o,a);return o}var ao={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1};var oo={setCurrentTime:1,setMuted:1,setVolume:1};var uo={play:1,pause:1};function fo(t){return function(i,e){if(i===$a){return $a}if(e[t]){return e[t](i)}return i}}function ho(t,i,e,r){for(var n=t.length-1;n>=0;n--){var s=t[n];if(s[i]){s[i](r,e)}}}function co(t){Za[t.id()]=null}function lo(t,i){var e=Za[t.id()];var r=null;if(e===undefined||e===null){r=i(t);Za[t.id()]=[[i,r]];return r}for(var n=0;n<e.length;n++){var s=e[n],a=s[0],o=s[1];if(a!==i){continue}r=o}if(r===null){r=i(t);e.push([i,r])}return r}function vo(t,i,e,r,n,s){if(t===void 0){t={}}if(i===void 0){i=[]}if(n===void 0){n=[]}if(s===void 0){s=false}var a=i,o=a[0],u=a.slice(1);if(typeof o==="string"){vo(t,Ka[o],e,r,n,s)}else if(o){var f=lo(r,o);if(!f.setSource){n.push(f);return vo(t,u,e,r,n,s)}f.setSource($r({},t),(function(i,a){if(i){return vo(t,u,e,r,n,s)}n.push(f);vo(a,t.type===a.type?u:Ka[a.type],e,r,n,s)}))}else if(u.length){vo(t,u,e,r,n,s)}else if(s){e(t,n)}else{vo(t,Ka["*"],e,r,n,true)}}var po={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"};var mo=function t(i){if(i===void 0){i=""}var e=La(i);var r=po[e.toLowerCase()];return r||""};var go=function t(i,e){if(!e){return""}if(i.cache_.source.src===e&&i.cache_.source.type){return i.cache_.source.type}var r=i.cache_.sources.filter((function(t){return t.src===e}));if(r.length){return r[0].type}var n=i.$$("source");for(var s=0;s<n.length;s++){var a=n[s];if(a.type&&a.src&&a.src===e){return a.type}}return mo(e)};var bo=function t(i){if(Array.isArray(i)){var e=[];i.forEach((function(i){i=t(i);if(Array.isArray(i)){e=e.concat(i)}else if(tn(i)){e.push(i)}}));i=e}else if(typeof i==="string"&&i.trim()){i=[yo({src:i})]}else if(tn(i)&&typeof i.src==="string"&&i.src&&i.src.trim()){i=[yo(i)]}else{i=[]}return i};function yo(t){if(!t.type){var i=mo(t.src);if(i){t.type=i}}return t}var jo=function(t){D(i,t);function i(i,e,r){var n;var s=Qs({createEl:false},e);n=t.call(this,i,s,r)||this;if(!e.playerOptions.sources||e.playerOptions.sources.length===0){for(var a=0,o=e.playerOptions.techOrder;a<o.length;a++){var u=Ws(o[a]);var f=Qa.getTech(u);if(!u){f=ia.getComponent(u)}if(f&&f.isSupported()){i.loadTech_(u);break}}}else{i.src(e.playerOptions.sources)}return n}return i}(ia);ia.registerComponent("MediaLoader",jo);var wo=function(t){D(i,t);function i(i,e){var r;r=t.call(this,i,e)||this;if(r.options_.controlText){r.controlText(r.options_.controlText)}r.handleMouseOver_=function(t){return r.handleMouseOver(t)};r.handleMouseOut_=function(t){return r.handleMouseOut(t)};r.handleClick_=function(t){return r.handleClick(t)};r.handleKeyDown_=function(t){return r.handleKeyDown(t)};r.emitTapEvents();r.enable();return r}var e=i.prototype;e.createEl=function t(i,e,r){if(i===void 0){i="div"}if(e===void 0){e={}}if(r===void 0){r={}}e=$r({className:this.buildCSSClass(),tabIndex:0},e);if(i==="button"){Yr.error("Creating a ClickableComponent with an HTML element of "+i+" is not supported; use a Button instead.")}r=$r({role:"button"},r);this.tabIndex_=e.tabIndex;var n=Rn(i,e,r);n.appendChild(Rn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":true}));this.createControlTextEl(n);return n};e.dispose=function i(){this.controlTextEl_=null;t.prototype.dispose.call(this)};e.createControlTextEl=function t(i){this.controlTextEl_=Rn("span",{className:"vjs-control-text"},{"aria-live":"polite"});if(i){i.appendChild(this.controlTextEl_)}this.controlText(this.controlText_,i);return this.controlTextEl_};e.controlText=function t(i,e){if(e===void 0){e=this.el()}if(i===undefined){return this.controlText_||"Need Text"}var r=this.localize(i);this.controlText_=i;Ln(this.controlTextEl_,r);if(!this.nonIconControl&&!this.player_.options_.noUITitleAttributes){e.setAttribute("title",r)}};e.buildCSSClass=function i(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)};e.enable=function t(){if(!this.enabled_){this.enabled_=true;this.removeClass("vjs-disabled");this.el_.setAttribute("aria-disabled","false");if(typeof this.tabIndex_!=="undefined"){this.el_.setAttribute("tabIndex",this.tabIndex_)}this.on(["tap","click"],this.handleClick_);this.on("keydown",this.handleKeyDown_)}};e.disable=function t(){this.enabled_=false;this.addClass("vjs-disabled");this.el_.setAttribute("aria-disabled","true");if(typeof this.tabIndex_!=="undefined"){this.el_.removeAttribute("tabIndex")}this.off("mouseover",this.handleMouseOver_);this.off("mouseout",this.handleMouseOut_);this.off(["tap","click"],this.handleClick_);this.off("keydown",this.handleKeyDown_)};e.handleLanguagechange=function t(){this.controlText(this.controlText_)};e.handleClick=function t(i){if(this.options_.clickHandler){this.options_.clickHandler.call(this,arguments)}};e.handleKeyDown=function i(e){if(x.isEventKey(e,"Space")||x.isEventKey(e,"Enter")){e.preventDefault();e.stopPropagation();this.trigger("click")}else{t.prototype.handleKeyDown.call(this,e)}};return i}(ia);ia.registerComponent("ClickableComponent",wo);var To=function(t){D(i,t);function i(i,e){var r;r=t.call(this,i,e)||this;r.update();r.update_=function(t){return r.update(t)};i.on("posterchange",r.update_);return r}var e=i.prototype;e.dispose=function i(){this.player().off("posterchange",this.update_);t.prototype.dispose.call(this)};e.createEl=function t(){var i=Rn("div",{className:"vjs-poster",tabIndex:-1});return i};e.update=function t(i){var e=this.player().poster();this.setSrc(e);if(e){this.show()}else{this.hide()}};e.setSrc=function t(i){var e="";if(i){e='url("'+i+'")'}this.el_.style.backgroundImage=e};e.handleClick=function t(i){if(!this.player_.controls()){return}var e=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;if(this.player_.tech(true)&&!((mn||vn)&&e)){this.player_.tech(true).focus()}if(this.player_.paused()){ha(this.player_.play())}else{this.player_.pause()}};return i}(wo);ia.registerComponent("PosterImage",To);var ko="#222";var Ao="#ccc";var Eo={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function xo(t,i){var e;if(t.length===4){e=t[1]+t[1]+t[2]+t[2]+t[3]+t[3]}else if(t.length===7){e=t.slice(1)}else{throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.")}return"rgba("+parseInt(e.slice(0,2),16)+","+parseInt(e.slice(2,4),16)+","+parseInt(e.slice(4,6),16)+","+i+")"}function So(t,i,e){try{t.style[i]=e}catch(t){return}}var Io=function(t){D(i,t);function i(i,e,r){var n;n=t.call(this,i,e,r)||this;var s=function t(i){return n.updateDisplay(i)};i.on("loadstart",(function(t){return n.toggleDisplay(t)}));i.on("texttrackchange",s);i.on("loadedmetadata",(function(t){return n.preselectTrack(t)}));i.ready(Ds(S(n),(function(){if(i.tech_&&i.tech_.featuresNativeTextTracks){this.hide();return}i.on("fullscreenchange",s);i.on("playerresize",s);c.addEventListener("orientationchange",s);i.on("dispose",(function(){return c.removeEventListener("orientationchange",s)}));var t=this.options_.playerOptions.tracks||[];for(var e=0;e<t.length;e++){this.player_.addRemoteTextTrack(t[e],true)}this.preselectTrack()})));return n}var e=i.prototype;e.preselectTrack=function t(){var i={captions:1,subtitles:1};var e=this.player_.textTracks();var r=this.player_.cache_.selectedLanguage;var n;var s;var a;for(var o=0;o<e.length;o++){var u=e[o];if(r&&r.enabled&&r.language&&r.language===u.language&&u.kind in i){if(u.kind===r.kind){a=u}else if(!a){a=u}}else if(r&&!r.enabled){a=null;n=null;s=null}else if(u["default"]){if(u.kind==="descriptions"&&!n){n=u}else if(u.kind in i&&!s){s=u}}}if(a){a.mode="showing"}else if(s){s.mode="showing"}else if(n){n.mode="showing"}};e.toggleDisplay=function t(){if(this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks){this.hide()}else{this.show()}};e.createEl=function i(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})};e.clearDisplay=function t(){if(typeof c.WebVTT==="function"){c.WebVTT.processCues(c,[],this.el_)}};e.updateDisplay=function t(){var i=this.player_.textTracks();var e=this.options_.allowMultipleShowingTracks;this.clearDisplay();if(e){var r=[];for(var n=0;n<i.length;++n){var s=i[n];if(s.mode!=="showing"){continue}r.push(s)}this.updateForTrack(r);return}var a=null;var o=null;var u=i.length;while(u--){var f=i[u];if(f.mode==="showing"){if(f.kind==="descriptions"){a=f}else{o=f}}}if(o){if(this.getAttribute("aria-live")!=="off"){this.setAttribute("aria-live","off")}this.updateForTrack(o)}else if(a){if(this.getAttribute("aria-live")!=="assertive"){this.setAttribute("aria-live","assertive")}this.updateForTrack(a)}};e.updateDisplayState=function t(i){var e=this.player_.textTrackSettings.getValues();var r=i.activeCues;var n=r.length;while(n--){var s=r[n];if(!s){continue}var a=s.displayState;if(e.color){a.firstChild.style.color=e.color}if(e.textOpacity){So(a.firstChild,"color",xo(e.color||"#fff",e.textOpacity))}if(e.backgroundColor){a.firstChild.style.backgroundColor=e.backgroundColor}if(e.backgroundOpacity){So(a.firstChild,"backgroundColor",xo(e.backgroundColor||"#000",e.backgroundOpacity))}if(e.windowColor){if(e.windowOpacity){So(a,"backgroundColor",xo(e.windowColor,e.windowOpacity))}else{a.style.backgroundColor=e.windowColor}}if(e.edgeStyle){if(e.edgeStyle==="dropshadow"){a.firstChild.style.textShadow="2px 2px 3px "+ko+", 2px 2px 4px "+ko+", 2px 2px 5px "+ko}else if(e.edgeStyle==="raised"){a.firstChild.style.textShadow="1px 1px "+ko+", 2px 2px "+ko+", 3px 3px "+ko}else if(e.edgeStyle==="depressed"){a.firstChild.style.textShadow="1px 1px "+Ao+", 0 1px "+Ao+", -1px -1px "+ko+", 0 -1px "+ko}else if(e.edgeStyle==="uniform"){a.firstChild.style.textShadow="0 0 4px "+ko+", 0 0 4px "+ko+", 0 0 4px "+ko+", 0 0 4px "+ko}}if(e.fontPercent&&e.fontPercent!==1){var o=c.parseFloat(a.style.fontSize);a.style.fontSize=o*e.fontPercent+"px";a.style.height="auto";a.style.top="auto"}if(e.fontFamily&&e.fontFamily!=="default"){if(e.fontFamily==="small-caps"){a.firstChild.style.fontVariant="small-caps"}else{a.firstChild.style.fontFamily=Eo[e.fontFamily]}}}};e.updateForTrack=function t(i){if(!Array.isArray(i)){i=[i]}if(typeof c.WebVTT!=="function"||i.every((function(t){return!t.activeCues}))){return}var e=[];for(var r=0;r<i.length;++r){var n=i[r];for(var s=0;s<n.activeCues.length;++s){e.push(n.activeCues[s])}}c.WebVTT.processCues(c,e,this.el_);for(var a=0;a<i.length;++a){var o=i[a];for(var u=0;u<o.activeCues.length;++u){var f=o.activeCues[u].displayState;Un(f,"vjs-text-track-cue");Un(f,"vjs-text-track-cue-"+(o.language?o.language:a));if(o.language){Vn(f,"lang",o.language)}}if(this.player_.textTrackSettings){this.updateDisplayState(o)}}};return i}(ia);ia.registerComponent("TextTrackDisplay",Io);var Do=function(t){D(i,t);function i(){return t.apply(this,arguments)||this}var e=i.prototype;e.createEl=function i(){var e=this.player_.isAudio();var r=this.localize(e?"Audio Player":"Video Player");var n=Rn("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[r])});var s=t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});s.appendChild(n);return s};return i}(ia);ia.registerComponent("LoadingSpinner",Do);var No=function(t){D(i,t);function i(){return t.apply(this,arguments)||this}var e=i.prototype;e.createEl=function t(i,e,r){if(e===void 0){e={}}if(r===void 0){r={}}i="button";e=$r({className:this.buildCSSClass()},e);r=$r({type:"button"},r);var n=Rn(i,e,r);n.appendChild(Rn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":true}));this.createControlTextEl(n);return n};e.addChild=function t(i,e){if(e===void 0){e={}}var r=this.constructor.name;Yr.warn("Adding an actionable (user controllable) child to a Button ("+r+") is not supported; use a ClickableComponent instead.");return ia.prototype.addChild.call(this,i,e)};e.enable=function i(){t.prototype.enable.call(this);this.el_.removeAttribute("disabled")};e.disable=function i(){t.prototype.disable.call(this);this.el_.setAttribute("disabled","disabled")};e.handleKeyDown=function i(e){if(x.isEventKey(e,"Space")||x.isEventKey(e,"Enter")){e.stopPropagation();return}t.prototype.handleKeyDown.call(this,e)};return i}(wo);ia.registerComponent("Button",No);var Oo=function(t){D(i,t);function i(i,e){var r;r=t.call(this,i,e)||this;r.mouseused_=false;r.on("mousedown",(function(t){return r.handleMouseDown(t)}));return r}var e=i.prototype;e.buildCSSClass=function t(){return"vjs-big-play-button"};e.handleClick=function t(i){var e=this.player_.play();if(this.mouseused_&&i.clientX&&i.clientY){var r=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;ha(e);if(this.player_.tech(true)&&!((mn||vn)&&r)){this.player_.tech(true).focus()}return}var n=this.player_.getChild("controlBar");var s=n&&n.getChild("playToggle");if(!s){this.player_.tech(true).focus();return}var a=function t(){return s.focus()};if(fa(e)){e.then(a,(function(){}))}else{this.setTimeout(a,1)}};e.handleKeyDown=function i(e){this.mouseused_=false;t.prototype.handleKeyDown.call(this,e)};e.handleMouseDown=function t(i){this.mouseused_=true};return i}(No);Oo.prototype.controlText_="Play Video";ia.registerComponent("BigPlayButton",Oo);var Ro=function(t){D(i,t);function i(i,e){var r;r=t.call(this,i,e)||this;r.controlText(e&&e.controlText||r.localize("Close"));return r}var e=i.prototype;e.buildCSSClass=function i(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)};e.handleClick=function t(i){this.trigger({type:"close",bubbles:false})};e.handleKeyDown=function i(e){if(x.isEventKey(e,"Esc")){e.preventDefault();e.stopPropagation();this.trigger("click")}else{t.prototype.handleKeyDown.call(this,e)}};return i}(No);ia.registerComponent("CloseButton",Ro);var Lo=function(t){D(i,t);function i(i,e){var r;if(e===void 0){e={}}r=t.call(this,i,e)||this;e.replay=e.replay===undefined||e.replay;r.on(i,"play",(function(t){return r.handlePlay(t)}));r.on(i,"pause",(function(t){return r.handlePause(t)}));if(e.replay){r.on(i,"ended",(function(t){return r.handleEnded(t)}))}return r}var e=i.prototype;e.buildCSSClass=function i(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)};e.handleClick=function t(i){if(this.player_.paused()){ha(this.player_.play())}else{this.player_.pause()}};e.handleSeeked=function t(i){this.removeClass("vjs-ended");if(this.player_.paused()){this.handlePause(i)}else{this.handlePlay(i)}};e.handlePlay=function t(i){this.removeClass("vjs-ended");this.removeClass("vjs-paused");this.addClass("vjs-playing");this.controlText("Pause")};e.handlePause=function t(i){this.removeClass("vjs-playing");this.addClass("vjs-paused");this.controlText("Play")};e.handleEnded=function t(i){var e=this;this.removeClass("vjs-playing");this.addClass("vjs-ended");this.controlText("Replay");this.one(this.player_,"seeked",(function(t){return e.handleSeeked(t)}))};return i}(No);Lo.prototype.controlText_="Play";ia.registerComponent("PlayToggle",Lo);var Co=function t(i,e){i=i<0?0:i;var r=Math.floor(i%60);var n=Math.floor(i/60%60);var s=Math.floor(i/3600);var a=Math.floor(e/60%60);var o=Math.floor(e/3600);if(isNaN(i)||i===Infinity){s=n=r="-"}s=s>0||o>0?s+":":"";n=((s||a>=10)&&n<10?"0"+n:n)+":";r=r<10?"0"+r:r;return s+n+r};var Mo=Co;function Uo(t){Mo=t}function Bo(){Mo=Co}function Po(t,i){if(i===void 0){i=t}return Mo(t,i)}var qo=function(t){D(i,t);function i(i,e){var r;r=t.call(this,i,e)||this;r.on(i,["timeupdate","ended"],(function(t){return r.updateContent(t)}));r.updateTextNode_();return r}var e=i.prototype;e.createEl=function i(){var e=this.buildCSSClass();var r=t.prototype.createEl.call(this,"div",{className:e+" vjs-time-control vjs-control"});var n=Rn("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+" "},{role:"presentation"});r.appendChild(n);this.contentEl_=Rn("span",{className:e+"-display"},{"aria-live":"off",role:"presentation"});r.appendChild(this.contentEl_);return r};e.dispose=function i(){this.contentEl_=null;this.textNode_=null;t.prototype.dispose.call(this)};e.updateTextNode_=function t(i){var e=this;if(i===void 0){i=0}i=Po(i);if(this.formattedTime_===i){return}this.formattedTime_=i;this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",(function(){if(!e.contentEl_){return}var t=e.textNode_;if(t&&e.contentEl_.firstChild!==t){t=null;Yr.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")}e.textNode_=y.createTextNode(e.formattedTime_);if(!e.textNode_){return}if(t){e.contentEl_.replaceChild(e.textNode_,t)}else{e.contentEl_.appendChild(e.textNode_)}}))};e.updateContent=function t(i){};return i}(ia);qo.prototype.labelText_="Time";qo.prototype.controlText_="Time";ia.registerComponent("TimeDisplay",qo);var Fo=function(t){D(i,t);function i(){return t.apply(this,arguments)||this}var e=i.prototype;e.buildCSSClass=function t(){return"vjs-current-time"};e.updateContent=function t(i){var e;if(this.player_.ended()){e=this.player_.duration()}else{e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}this.updateTextNode_(e)};return i}(qo);Fo.prototype.labelText_="Current Time";Fo.prototype.controlText_="Current Time";ia.registerComponent("CurrentTimeDisplay",Fo);var _o=function(t){D(i,t);function i(i,e){var r;r=t.call(this,i,e)||this;var n=function t(i){return r.updateContent(i)};r.on(i,"durationchange",n);r.on(i,"loadstart",n);r.on(i,"loadedmetadata",n);return r}var e=i.prototype;e.buildCSSClass=function t(){return"vjs-duration"};e.updateContent=function t(i){var e=this.player_.duration();this.updateTextNode_(e)};return i}(qo);_o.prototype.labelText_="Duration";_o.prototype.controlText_="Duration";ia.registerComponent("DurationDisplay",_o);var Vo=function(t){D(i,t);function i(){return t.apply(this,arguments)||this}var e=i.prototype;e.createEl=function i(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":true});var r=t.prototype.createEl.call(this,"div");var n=t.prototype.createEl.call(this,"span",{textContent:"/"});r.appendChild(n);e.appendChild(r);return e};return i}(ia);ia.registerComponent("TimeDivider",Vo);var Ho=function(t){D(i,t);function i(i,e){var r;r=t.call(this,i,e)||this;r.on(i,"durationchange",(function(t){return r.updateContent(t)}));return r}var e=i.prototype;e.buildCSSClass=function t(){return"vjs-remaining-time"};e.createEl=function i(){var e=t.prototype.createEl.call(this);if(this.options_.displayNegative!==false){e.insertBefore(Rn("span",{},{"aria-hidden":true},"-"),this.contentEl_)}return e};e.updateContent=function t(i){if(typeof this.player_.duration()!=="number"){return}var e;if(this.player_.ended()){e=0}else if(this.player_.remainingTimeDisplay){e=this.player_.remainingTimeDisplay()}else{e=this.player_.remainingTime()}this.updateTextNode_(e)};return i}(qo);Ho.prototype.labelText_="Remaining Time";Ho.prototype.controlText_="Remaining Time";ia.registerComponent("RemainingTimeDisplay",Ho);var zo=function(t){D(i,t);function i(i,e){var r;r=t.call(this,i,e)||this;r.updateShowing();r.on(r.player(),"durationchange",(function(t){return r.updateShowing(t)}));return r}var e=i.prototype;e.createEl=function i(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});this.contentEl_=Rn("div",{className:"vjs-live-display"},{"aria-live":"off"});this.contentEl_.appendChild(Rn("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+" "}));this.contentEl_.appendChild(y.createTextNode(this.localize("LIVE")));e.appendChild(this.contentEl_);return e};e.dispose=function i(){this.contentEl_=null;t.prototype.dispose.call(this)};e.updateShowing=function t(i){if(this.player().duration()===Infinity){this.show()}else{this.hide()}};return i}(ia);ia.registerComponent("LiveDisplay",zo);var Go=function(t){D(i,t);function i(i,e){var r;r=t.call(this,i,e)||this;r.updateLiveEdgeStatus();if(r.player_.liveTracker){r.updateLiveEdgeStatusHandler_=function(t){return r.updateLiveEdgeStatus(t)};r.on(r.player_.liveTracker,"liveedgechange",r.updateLiveEdgeStatusHandler_)}return r}var e=i.prototype;e.createEl=function i(){var e=t.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});this.textEl_=Rn("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"});e.appendChild(this.textEl_);return e};e.updateLiveEdgeStatus=function t(){if(!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()){this.setAttribute("aria-disabled",true);this.addClass("vjs-at-live-edge");this.controlText("Seek to live, currently playing live")}else{this.setAttribute("aria-disabled",false);this.removeClass("vjs-at-live-edge");this.controlText("Seek to live, currently behind live")}};e.handleClick=function t(){this.player_.liveTracker.seekToLiveEdge()};e.dispose=function i(){if(this.player_.liveTracker){this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_)}this.textEl_=null;t.prototype.dispose.call(this)};return i}(No);Go.prototype.controlText_="Seek to live, currently playing live";ia.registerComponent("SeekToLive",Go);var Xo=function t(i,e,r){i=Number(i);return Math.min(r,Math.max(e,isNaN(i)?e:i))};var Yo=function(t){D(i,t);function i(i,e){var r;r=t.call(this,i,e)||this;r.handleMouseDown_=function(t){return r.handleMouseDown(t)};r.handleMouseUp_=function(t){return r.handleMouseUp(t)};r.handleKeyDown_=function(t){return r.handleKeyDown(t)};r.handleClick_=function(t){return r.handleClick(t)};r.handleMouseMove_=function(t){return r.handleMouseMove(t)};r.update_=function(t){return r.update(t)};r.bar=r.getChild(r.options_.barName);r.vertical(!!r.options_.vertical);r.enable();return r}var e=i.prototype;e.enabled=function t(){return this.enabled_};e.enable=function t(){if(this.enabled()){return}this.on("mousedown",this.handleMouseDown_);this.on("touchstart",this.handleMouseDown_);this.on("keydown",this.handleKeyDown_);this.on("click",this.handleClick_);this.on(this.player_,"controlsvisible",this.update);if(this.playerEvent){this.on(this.player_,this.playerEvent,this.update)}this.removeClass("disabled");this.setAttribute("tabindex",0);this.enabled_=true};e.disable=function t(){if(!this.enabled()){return}var i=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_);this.off("touchstart",this.handleMouseDown_);this.off("keydown",this.handleKeyDown_);this.off("click",this.handleClick_);this.off(this.player_,"controlsvisible",this.update_);this.off(i,"mousemove",this.handleMouseMove_);this.off(i,"mouseup",this.handleMouseUp_);this.off(i,"touchmove",this.handleMouseMove_);this.off(i,"touchend",this.handleMouseUp_);this.removeAttribute("tabindex");this.addClass("disabled");if(this.playerEvent){this.off(this.player_,this.playerEvent,this.update)}this.enabled_=false};e.createEl=function i(e,r,n){if(r===void 0){r={}}if(n===void 0){n={}}r.className=r.className+" vjs-slider";r=$r({tabIndex:0},r);n=$r({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},n);return t.prototype.createEl.call(this,e,r,n)};e.handleMouseDown=function t(i){var e=this.bar.el_.ownerDocument;if(i.type==="mousedown"){i.preventDefault()}if(i.type==="touchstart"&&!dn){i.preventDefault()}zn();this.addClass("vjs-sliding");this.trigger("slideractive");this.on(e,"mousemove",this.handleMouseMove_);this.on(e,"mouseup",this.handleMouseUp_);this.on(e,"touchmove",this.handleMouseMove_);this.on(e,"touchend",this.handleMouseUp_);this.handleMouseMove(i,true)};e.handleMouseMove=function t(i){};e.handleMouseUp=function t(){var i=this.bar.el_.ownerDocument;Gn();this.removeClass("vjs-sliding");this.trigger("sliderinactive");this.off(i,"mousemove",this.handleMouseMove_);this.off(i,"mouseup",this.handleMouseUp_);this.off(i,"touchmove",this.handleMouseMove_);this.off(i,"touchend",this.handleMouseUp_);this.update()};e.update=function t(){var i=this;if(!this.el_||!this.bar){return}var e=this.getProgress();if(e===this.progress_){return e}this.progress_=e;this.requestNamedAnimationFrame("Slider#update",(function(){var t=i.vertical()?"height":"width";i.bar.el().style[t]=(e*100).toFixed(2)+"%"}));return e};e.getProgress=function t(){return Number(Xo(this.getPercent(),0,1).toFixed(4))};e.calculateDistance=function t(i){var e=Wn(this.el_,i);if(this.vertical()){return e.y}return e.x};e.handleKeyDown=function i(e){if(x.isEventKey(e,"Left")||x.isEventKey(e,"Down")){e.preventDefault();e.stopPropagation();this.stepBack()}else if(x.isEventKey(e,"Right")||x.isEventKey(e,"Up")){e.preventDefault();e.stopPropagation();this.stepForward()}else{t.prototype.handleKeyDown.call(this,e)}};e.handleClick=function t(i){i.stopPropagation();i.preventDefault()};e.vertical=function t(i){if(i===undefined){return this.vertical_||false}this.vertical_=!!i;if(this.vertical_){this.addClass("vjs-slider-vertical")}else{this.addClass("vjs-slider-horizontal")}};return i}(ia);ia.registerComponent("Slider",Yo);var Wo=function t(i,e){return Xo(i/e*100,0,100).toFixed(2)+"%"};var Jo=function(t){D(i,t);function i(i,e){var r;r=t.call(this,i,e)||this;r.partEls_=[];r.on(i,"progress",(function(t){return r.update(t)}));return r}var e=i.prototype;e.createEl=function i(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-load-progress"});var r=Rn("span",{className:"vjs-control-text"});var n=Rn("span",{textContent:this.localize("Loaded")});var s=y.createTextNode(": ");this.percentageEl_=Rn("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"});e.appendChild(r);r.appendChild(n);r.appendChild(s);r.appendChild(this.percentageEl_);return e};e.dispose=function i(){this.partEls_=null;this.percentageEl_=null;t.prototype.dispose.call(this)};e.update=function t(i){var e=this;this.requestNamedAnimationFrame("LoadProgressBar#update",(function(){var t=e.player_.liveTracker;var i=e.player_.buffered();var r=t&&t.isLive()?t.seekableEnd():e.player_.duration();var n=e.player_.bufferedEnd();var s=e.partEls_;var a=Wo(n,r);if(e.percent_!==a){e.el_.style.width=a;Ln(e.percentageEl_,a);e.percent_=a}for(var o=0;o<i.length;o++){var u=i.start(o);var f=i.end(o);var h=s[o];if(!h){h=e.el_.appendChild(Rn());s[o]=h}if(h.dataset.start===u&&h.dataset.end===f){continue}h.dataset.start=u;h.dataset.end=f;h.style.left=Wo(u,n);h.style.width=Wo(f-u,n)}for(var c=s.length;c>i.length;c--){e.el_.removeChild(s[c-1])}s.length=i.length}))};return i}(ia);ia.registerComponent("LoadProgressBar",Jo);var Qo=function(t){D(i,t);function i(i,e){var r;r=t.call(this,i,e)||this;r.update=Ns(Ds(S(r),r.update),Is);return r}var e=i.prototype;e.createEl=function i(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})};e.update=function t(i,e,r){var n=Yn(this.el_);var s=Xn(this.player_.el());var a=i.width*e;if(!s||!n){return}var o=i.left-s.left+a;var u=i.width-a+(s.right-i.right);var f=n.width/2;if(o<f){f+=f-o}else if(u<f){f=u}if(f<0){f=0}else if(f>n.width){f=n.width}f=Math.round(f);this.el_.style.right="-"+f+"px";this.write(r)};e.write=function t(i){Ln(this.el_,i)};e.updateTime=function t(i,e,r,n){var s=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",(function(){var t;var a=s.player_.duration();if(s.player_.liveTracker&&s.player_.liveTracker.isLive()){var o=s.player_.liveTracker.liveWindow();var u=o-e*o;t=(u<1?"":"-")+Po(u,o)}else{t=Po(r,a)}s.update(i,e,t);if(n){n()}}))};return i}(ia);ia.registerComponent("TimeTooltip",Qo);var Ko=function(t){D(i,t);function i(i,e){var r;r=t.call(this,i,e)||this;r.update=Ns(Ds(S(r),r.update),Is);return r}var e=i.prototype;e.createEl=function i(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})};e.update=function t(i,e){var r=this.getChild("timeTooltip");if(!r){return}var n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();r.updateTime(i,e,n)};return i}(ia);Ko.prototype.options_={children:[]};if(!Tn&&!fn){Ko.prototype.options_.children.push("timeTooltip")}ia.registerComponent("PlayProgressBar",Ko);var Zo=function(t){D(i,t);function i(i,e){var r;r=t.call(this,i,e)||this;r.update=Ns(Ds(S(r),r.update),Is);return r}var e=i.prototype;e.createEl=function i(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})};e.update=function t(i,e){var r=this;var n=e*this.player_.duration();this.getChild("timeTooltip").updateTime(i,e,n,(function(){r.el_.style.left=i.width*e+"px"}))};return i}(ia);Zo.prototype.options_={children:["timeTooltip"]};ia.registerComponent("MouseTimeDisplay",Zo);var $o=5;var tu=12;var iu=function(t){D(i,t);function i(i,e){var r;r=t.call(this,i,e)||this;r.setEventHandlers_();return r}var e=i.prototype;e.setEventHandlers_=function t(){var i=this;this.update_=Ds(this,this.update);this.update=Ns(this.update_,Is);this.on(this.player_,["ended","durationchange","timeupdate"],this.update);if(this.player_.liveTracker){this.on(this.player_.liveTracker,"liveedgechange",this.update)}this.updateInterval=null;this.enableIntervalHandler_=function(t){return i.enableInterval_(t)};this.disableIntervalHandler_=function(t){return i.disableInterval_(t)};this.on(this.player_,["playing"],this.enableIntervalHandler_);this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_);if("hidden"in y&&"visibilityState"in y){this.on(y,"visibilitychange",this.toggleVisibility_)}};e.toggleVisibility_=function t(i){if(y.visibilityState==="hidden"){this.cancelNamedAnimationFrame("SeekBar#update");this.cancelNamedAnimationFrame("Slider#update");this.disableInterval_(i)}else{if(!this.player_.ended()&&!this.player_.paused()){this.enableInterval_()}this.update()}};e.enableInterval_=function t(){if(this.updateInterval){return}this.updateInterval=this.setInterval(this.update,Is)};e.disableInterval_=function t(i){if(this.player_.liveTracker&&this.player_.liveTracker.isLive()&&i&&i.type!=="ended"){return}if(!this.updateInterval){return}this.clearInterval(this.updateInterval);this.updateInterval=null};e.createEl=function i(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})};e.update=function i(e){var r=this;if(y.visibilityState==="hidden"){return}var n=t.prototype.update.call(this);this.requestNamedAnimationFrame("SeekBar#update",(function(){var t=r.player_.ended()?r.player_.duration():r.getCurrentTime_();var i=r.player_.liveTracker;var e=r.player_.duration();if(i&&i.isLive()){e=r.player_.liveTracker.liveCurrentTime()}if(r.percent_!==n){r.el_.setAttribute("aria-valuenow",(n*100).toFixed(2));r.percent_=n}if(r.currentTime_!==t||r.duration_!==e){r.el_.setAttribute("aria-valuetext",r.localize("progress bar timing: currentTime={1} duration={2}",[Po(t,e),Po(e,e)],"{1} of {2}"));r.currentTime_=t;r.duration_=e}if(r.bar){r.bar.update(Xn(r.el()),r.getProgress())}}));return n};e.userSeek_=function t(i){if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){this.player_.liveTracker.nextSeekedFromUser()}this.player_.currentTime(i)};e.getCurrentTime_=function t(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()};e.getPercent=function t(){var i=this.getCurrentTime_();var e;var r=this.player_.liveTracker;if(r&&r.isLive()){e=(i-r.seekableStart())/r.liveWindow();if(r.atLiveEdge()){e=1}}else{e=i/this.player_.duration()}return e};e.handleMouseDown=function i(e){if(!ts(e)){return}e.stopPropagation();this.videoWasPlaying=!this.player_.paused();this.player_.pause();t.prototype.handleMouseDown.call(this,e)};e.handleMouseMove=function t(i,e){if(e===void 0){e=false}if(!ts(i)){return}if(!e&&!this.player_.scrubbing()){this.player_.scrubbing(true)}var r;var n=this.calculateDistance(i);var s=this.player_.liveTracker;if(!s||!s.isLive()){r=n*this.player_.duration();if(r===this.player_.duration()){r=r-.1}}else{if(n>=.99){s.seekToLiveEdge();return}var a=s.seekableStart();var o=s.liveCurrentTime();r=a+n*s.liveWindow();if(r>=o){r=o}if(r<=a){r=a+.1}if(r===Infinity){return}}this.userSeek_(r)};e.enable=function i(){t.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");if(!e){return}e.show()};e.disable=function i(){t.prototype.disable.call(this);var e=this.getChild("mouseTimeDisplay");if(!e){return}e.hide()};e.handleMouseUp=function i(e){t.prototype.handleMouseUp.call(this,e);if(e){e.stopPropagation()}this.player_.scrubbing(false);this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:true});if(this.videoWasPlaying){ha(this.player_.play())}else{this.update_()}};e.stepForward=function t(){this.userSeek_(this.player_.currentTime()+$o)};e.stepBack=function t(){this.userSeek_(this.player_.currentTime()-$o)};e.handleAction=function t(i){if(this.player_.paused()){this.player_.play()}else{this.player_.pause()}};e.handleKeyDown=function i(e){var r=this.player_.liveTracker;if(x.isEventKey(e,"Space")||x.isEventKey(e,"Enter")){e.preventDefault();e.stopPropagation();this.handleAction(e)}else if(x.isEventKey(e,"Home")){e.preventDefault();e.stopPropagation();this.userSeek_(0)}else if(x.isEventKey(e,"End")){e.preventDefault();e.stopPropagation();if(r&&r.isLive()){this.userSeek_(r.liveCurrentTime())}else{this.userSeek_(this.player_.duration())}}else if(/^[0-9]$/.test(x(e))){e.preventDefault();e.stopPropagation();var n=(x.codes[x(e)]-x.codes["0"])*10/100;if(r&&r.isLive()){this.userSeek_(r.seekableStart()+r.liveWindow()*n)}else{this.userSeek_(this.player_.duration()*n)}}else if(x.isEventKey(e,"PgDn")){e.preventDefault();e.stopPropagation();this.userSeek_(this.player_.currentTime()-$o*tu)}else if(x.isEventKey(e,"PgUp")){e.preventDefault();e.stopPropagation();this.userSeek_(this.player_.currentTime()+$o*tu)}else{t.prototype.handleKeyDown.call(this,e)}};e.dispose=function i(){this.disableInterval_();this.off(this.player_,["ended","durationchange","timeupdate"],this.update);if(this.player_.liveTracker){this.off(this.player_.liveTracker,"liveedgechange",this.update)}this.off(this.player_,["playing"],this.enableIntervalHandler_);this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_);if("hidden"in y&&"visibilityState"in y){this.off(y,"visibilitychange",this.toggleVisibility_)}t.prototype.dispose.call(this)};return i}(Yo);iu.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};if(!Tn&&!fn){iu.prototype.options_.children.splice(1,0,"mouseTimeDisplay")}ia.registerComponent("SeekBar",iu);var eu=function(t){D(i,t);function i(i,e){var r;r=t.call(this,i,e)||this;r.handleMouseMove=Ns(Ds(S(r),r.handleMouseMove),Is);r.throttledHandleMouseSeek=Ns(Ds(S(r),r.handleMouseSeek),Is);r.handleMouseUpHandler_=function(t){return r.handleMouseUp(t)};r.handleMouseDownHandler_=function(t){return r.handleMouseDown(t)};r.enable();return r}var e=i.prototype;e.createEl=function i(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})};e.handleMouseMove=function t(i){var e=this.getChild("seekBar");if(!e){return}var r=e.getChild("playProgressBar");var n=e.getChild("mouseTimeDisplay");if(!r&&!n){return}var s=e.el();var a=Yn(s);var o=Wn(s,i).x;o=Xo(o,0,1);if(n){n.update(a,o)}if(r){r.update(a,e.getProgress())}};e.handleMouseSeek=function t(i){var e=this.getChild("seekBar");if(e){e.handleMouseMove(i)}};e.enabled=function t(){return this.enabled_};e.disable=function t(){this.children().forEach((function(t){return t.disable&&t.disable()}));if(!this.enabled()){return}this.off(["mousedown","touchstart"],this.handleMouseDownHandler_);this.off(this.el_,"mousemove",this.handleMouseMove);this.removeListenersAddedOnMousedownAndTouchstart();this.addClass("disabled");this.enabled_=false;if(this.player_.scrubbing()){var i=this.getChild("seekBar");this.player_.scrubbing(false);if(i.videoWasPlaying){ha(this.player_.play())}}};e.enable=function t(){this.children().forEach((function(t){return t.enable&&t.enable()}));if(this.enabled()){return}this.on(["mousedown","touchstart"],this.handleMouseDownHandler_);this.on(this.el_,"mousemove",this.handleMouseMove);this.removeClass("disabled");this.enabled_=true};e.removeListenersAddedOnMousedownAndTouchstart=function t(){var i=this.el_.ownerDocument;this.off(i,"mousemove",this.throttledHandleMouseSeek);this.off(i,"touchmove",this.throttledHandleMouseSeek);this.off(i,"mouseup",this.handleMouseUpHandler_);this.off(i,"touchend",this.handleMouseUpHandler_)};e.handleMouseDown=function t(i){var e=this.el_.ownerDocument;var r=this.getChild("seekBar");if(r){r.handleMouseDown(i)}this.on(e,"mousemove",this.throttledHandleMouseSeek);this.on(e,"touchmove",this.throttledHandleMouseSeek);this.on(e,"mouseup",this.handleMouseUpHandler_);this.on(e,"touchend",this.handleMouseUpHandler_)};e.handleMouseUp=function t(i){var e=this.getChild("seekBar");if(e){e.handleMouseUp(i)}this.removeListenersAddedOnMousedownAndTouchstart()};return i}(ia);eu.prototype.options_={children:["seekBar"]};ia.registerComponent("ProgressControl",eu);var ru=function(t){D(i,t);function i(i,e){var r;r=t.call(this,i,e)||this;r.on(i,["enterpictureinpicture","leavepictureinpicture"],(function(t){return r.handlePictureInPictureChange(t)}));r.on(i,["disablepictureinpicturechanged","loadedmetadata"],(function(t){return r.handlePictureInPictureEnabledChange(t)}));r.on(i,["loadedmetadata","audioonlymodechange","audiopostermodechange"],(function(){var t=i.currentType().substring(0,5)==="audio";if(t||i.audioPosterMode()||i.audioOnlyMode()){if(i.isInPictureInPicture()){i.exitPictureInPicture()}r.hide()}else{r.show()}}));r.disable();return r}var e=i.prototype;e.buildCSSClass=function i(){return"vjs-picture-in-picture-control "+t.prototype.buildCSSClass.call(this)};e.handlePictureInPictureEnabledChange=function t(){if(y.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===false){this.enable()}else{this.disable()}};e.handlePictureInPictureChange=function t(i){if(this.player_.isInPictureInPicture()){this.controlText("Exit Picture-in-Picture")}else{this.controlText("Picture-in-Picture")}this.handlePictureInPictureEnabledChange()};e.handleClick=function t(i){if(!this.player_.isInPictureInPicture()){this.player_.requestPictureInPicture()}else{this.player_.exitPictureInPicture()}};return i}(No);ru.prototype.controlText_="Picture-in-Picture";ia.registerComponent("PictureInPictureToggle",ru);var nu=function(t){D(i,t);function i(i,e){var r;r=t.call(this,i,e)||this;r.on(i,"fullscreenchange",(function(t){return r.handleFullscreenChange(t)}));if(y[i.fsApi_.fullscreenEnabled]===false){r.disable()}return r}var e=i.prototype;e.buildCSSClass=function i(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)};e.handleFullscreenChange=function t(i){if(this.player_.isFullscreen()){this.controlText("Non-Fullscreen")}else{this.controlText("Fullscreen")}};e.handleClick=function t(i){if(!this.player_.isFullscreen()){this.player_.requestFullscreen()}else{this.player_.exitFullscreen()}};return i}(No);nu.prototype.controlText_="Fullscreen";ia.registerComponent("FullscreenToggle",nu);var su=function t(i,e){if(e.tech_&&!e.tech_.featuresVolumeControl){i.addClass("vjs-hidden")}i.on(e,"loadstart",(function(){if(!e.tech_.featuresVolumeControl){i.addClass("vjs-hidden")}else{i.removeClass("vjs-hidden")}}))};var au=function(t){D(i,t);function i(){return t.apply(this,arguments)||this}var e=i.prototype;e.createEl=function i(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});e.appendChild(t.prototype.createEl.call(this,"span",{className:"vjs-control-text"}));return e};return i}(ia);ia.registerComponent("VolumeLevel",au);var ou=function(t){D(i,t);function i(i,e){var r;r=t.call(this,i,e)||this;r.update=Ns(Ds(S(r),r.update),Is);return r}var e=i.prototype;e.createEl=function i(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})};e.update=function t(i,e,r,n){if(!r){var s=Xn(this.el_);var a=Xn(this.player_.el());var o=i.width*e;if(!a||!s){return}var u=i.left-a.left+o;var f=i.width-o+(a.right-i.right);var h=s.width/2;if(u<h){h+=h-u}else if(f<h){h=f}if(h<0){h=0}else if(h>s.width){h=s.width}this.el_.style.right="-"+h+"px"}this.write(n+"%")};e.write=function t(i){Ln(this.el_,i)};e.updateVolume=function t(i,e,r,n,s){var a=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",(function(){a.update(i,e,r,n.toFixed(0));if(s){s()}}))};return i}(ia);ia.registerComponent("VolumeLevelTooltip",ou);var uu=function(t){D(i,t);function i(i,e){var r;r=t.call(this,i,e)||this;r.update=Ns(Ds(S(r),r.update),Is);return r}var e=i.prototype;e.createEl=function i(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})};e.update=function t(i,e,r){var n=this;var s=100*e;this.getChild("volumeLevelTooltip").updateVolume(i,e,r,s,(function(){if(r){n.el_.style.bottom=i.height*e+"px"}else{n.el_.style.left=i.width*e+"px"}}))};return i}(ia);uu.prototype.options_={children:["volumeLevelTooltip"]};ia.registerComponent("MouseVolumeLevelDisplay",uu);var fu=function(t){D(i,t);function i(i,e){var r;r=t.call(this,i,e)||this;r.on("slideractive",(function(t){return r.updateLastVolume_(t)}));r.on(i,"volumechange",(function(t){return r.updateARIAAttributes(t)}));i.ready((function(){return r.updateARIAAttributes()}));return r}var e=i.prototype;e.createEl=function i(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})};e.handleMouseDown=function i(e){if(!ts(e)){return}t.prototype.handleMouseDown.call(this,e)};e.handleMouseMove=function t(i){var e=this.getChild("mouseVolumeLevelDisplay");if(e){var r=this.el();var n=Xn(r);var s=this.vertical();var a=Wn(r,i);a=s?a.y:a.x;a=Xo(a,0,1);e.update(n,a,s)}if(!ts(i)){return}this.checkMuted();this.player_.volume(this.calculateDistance(i))};e.checkMuted=function t(){if(this.player_.muted()){this.player_.muted(false)}};e.getPercent=function t(){if(this.player_.muted()){return 0}return this.player_.volume()};e.stepForward=function t(){this.checkMuted();this.player_.volume(this.player_.volume()+.1)};e.stepBack=function t(){this.checkMuted();this.player_.volume(this.player_.volume()-.1)};e.updateARIAAttributes=function t(i){var e=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",e);this.el_.setAttribute("aria-valuetext",e+"%")};e.volumeAsPercentage_=function t(){return Math.round(this.player_.volume()*100)};e.updateLastVolume_=function t(){var i=this;var e=this.player_.volume();this.one("sliderinactive",(function(){if(i.player_.volume()===0){i.player_.lastVolume_(e)}}))};return i}(Yo);fu.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};if(!Tn&&!fn){fu.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay")}fu.prototype.playerEvent="volumechange";ia.registerComponent("VolumeBar",fu);var hu=function(t){D(i,t);function i(i,e){var r;if(e===void 0){e={}}e.vertical=e.vertical||false;if(typeof e.volumeBar==="undefined"||en(e.volumeBar)){e.volumeBar=e.volumeBar||{};e.volumeBar.vertical=e.vertical}r=t.call(this,i,e)||this;su(S(r),i);r.throttledHandleMouseMove=Ns(Ds(S(r),r.handleMouseMove),Is);r.handleMouseUpHandler_=function(t){return r.handleMouseUp(t)};r.on("mousedown",(function(t){return r.handleMouseDown(t)}));r.on("touchstart",(function(t){return r.handleMouseDown(t)}));r.on("mousemove",(function(t){return r.handleMouseMove(t)}));r.on(r.volumeBar,["focus","slideractive"],(function(){r.volumeBar.addClass("vjs-slider-active");r.addClass("vjs-slider-active");r.trigger("slideractive")}));r.on(r.volumeBar,["blur","sliderinactive"],(function(){r.volumeBar.removeClass("vjs-slider-active");r.removeClass("vjs-slider-active");r.trigger("sliderinactive")}));return r}var e=i.prototype;e.createEl=function i(){var e="vjs-volume-horizontal";if(this.options_.vertical){e="vjs-volume-vertical"}return t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})};e.handleMouseDown=function t(i){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseMove);this.on(e,"touchmove",this.throttledHandleMouseMove);this.on(e,"mouseup",this.handleMouseUpHandler_);this.on(e,"touchend",this.handleMouseUpHandler_)};e.handleMouseUp=function t(i){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseMove);this.off(e,"touchmove",this.throttledHandleMouseMove);this.off(e,"mouseup",this.handleMouseUpHandler_);this.off(e,"touchend",this.handleMouseUpHandler_)};e.handleMouseMove=function t(i){this.volumeBar.handleMouseMove(i)};return i}(ia);hu.prototype.options_={children:["volumeBar"]};ia.registerComponent("VolumeControl",hu);var cu=function t(i,e){if(e.tech_&&!e.tech_.featuresMuteControl){i.addClass("vjs-hidden")}i.on(e,"loadstart",(function(){if(!e.tech_.featuresMuteControl){i.addClass("vjs-hidden")}else{i.removeClass("vjs-hidden")}}))};var lu=function(t){D(i,t);function i(i,e){var r;r=t.call(this,i,e)||this;cu(S(r),i);r.on(i,["loadstart","volumechange"],(function(t){return r.update(t)}));return r}var e=i.prototype;e.buildCSSClass=function i(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)};e.handleClick=function t(i){var e=this.player_.volume();var r=this.player_.lastVolume_();if(e===0){var n=r<.1?.1:r;this.player_.volume(n);this.player_.muted(false)}else{this.player_.muted(this.player_.muted()?false:true)}};e.update=function t(i){this.updateIcon_();this.updateControlText_()};e.updateIcon_=function t(){var i=this.player_.volume();var e=3;if(Tn&&this.player_.tech_&&this.player_.tech_.el_){this.player_.muted(this.player_.tech_.el_.muted)}if(i===0||this.player_.muted()){e=0}else if(i<.33){e=1}else if(i<.67){e=2}for(var r=0;r<4;r++){Bn(this.el_,"vjs-vol-"+r)}Un(this.el_,"vjs-vol-"+e)};e.updateControlText_=function t(){var i=this.player_.muted()||this.player_.volume()===0;var e=i?"Unmute":"Mute";if(this.controlText()!==e){this.controlText(e)}};return i}(No);lu.prototype.controlText_="Mute";ia.registerComponent("MuteToggle",lu);var vu=function(t){D(i,t);function i(i,e){var r;if(e===void 0){e={}}if(typeof e.inline!=="undefined"){e.inline=e.inline}else{e.inline=true}if(typeof e.volumeControl==="undefined"||en(e.volumeControl)){e.volumeControl=e.volumeControl||{};e.volumeControl.vertical=!e.inline}r=t.call(this,i,e)||this;r.handleKeyPressHandler_=function(t){return r.handleKeyPress(t)};r.on(i,["loadstart"],(function(t){return r.volumePanelState_(t)}));r.on(r.muteToggle,"keyup",(function(t){return r.handleKeyPress(t)}));r.on(r.volumeControl,"keyup",(function(t){return r.handleVolumeControlKeyUp(t)}));r.on("keydown",(function(t){return r.handleKeyPress(t)}));r.on("mouseover",(function(t){return r.handleMouseOver(t)}));r.on("mouseout",(function(t){return r.handleMouseOut(t)}));r.on(r.volumeControl,["slideractive"],r.sliderActive_);r.on(r.volumeControl,["sliderinactive"],r.sliderInactive_);return r}var e=i.prototype;e.sliderActive_=function t(){this.addClass("vjs-slider-active")};e.sliderInactive_=function t(){this.removeClass("vjs-slider-active")};e.volumePanelState_=function t(){if(this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")){this.addClass("vjs-hidden")}if(this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")){this.addClass("vjs-mute-toggle-only")}};e.createEl=function i(){var e="vjs-volume-panel-horizontal";if(!this.options_.inline){e="vjs-volume-panel-vertical"}return t.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})};e.dispose=function i(){this.handleMouseOut();t.prototype.dispose.call(this)};e.handleVolumeControlKeyUp=function t(i){if(x.isEventKey(i,"Esc")){this.muteToggle.focus()}};e.handleMouseOver=function t(i){this.addClass("vjs-hover");Ts(y,"keyup",this.handleKeyPressHandler_)};e.handleMouseOut=function t(i){this.removeClass("vjs-hover");ks(y,"keyup",this.handleKeyPressHandler_)};e.handleKeyPress=function t(i){if(x.isEventKey(i,"Esc")){this.handleMouseOut()}};return i}(ia);vu.prototype.options_={children:["muteToggle","volumeControl"]};ia.registerComponent("VolumePanel",vu);var du=function(t){D(i,t);function i(i,e){var r;r=t.call(this,i,e)||this;if(e){r.menuButton_=e.menuButton}r.focusedChild_=-1;r.on("keydown",(function(t){return r.handleKeyDown(t)}));r.boundHandleBlur_=function(t){return r.handleBlur(t)};r.boundHandleTapClick_=function(t){return r.handleTapClick(t)};return r}var e=i.prototype;e.addEventListenerForItem=function t(i){if(!(i instanceof ia)){return}this.on(i,"blur",this.boundHandleBlur_);this.on(i,["tap","click"],this.boundHandleTapClick_)};e.removeEventListenerForItem=function t(i){if(!(i instanceof ia)){return}this.off(i,"blur",this.boundHandleBlur_);this.off(i,["tap","click"],this.boundHandleTapClick_)};e.removeChild=function i(e){if(typeof e==="string"){e=this.getChild(e)}this.removeEventListenerForItem(e);t.prototype.removeChild.call(this,e)};e.addItem=function t(i){var e=this.addChild(i);if(e){this.addEventListenerForItem(e)}};e.createEl=function i(){var e=this.options_.contentElType||"ul";this.contentEl_=Rn(e,{className:"vjs-menu-content"});this.contentEl_.setAttribute("role","menu");var r=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});r.appendChild(this.contentEl_);Ts(r,"click",(function(t){t.preventDefault();t.stopImmediatePropagation()}));return r};e.dispose=function i(){this.contentEl_=null;this.boundHandleBlur_=null;this.boundHandleTapClick_=null;t.prototype.dispose.call(this)};e.handleBlur=function t(i){var e=i.relatedTarget||y.activeElement;if(!this.children().some((function(t){return t.el()===e}))){var r=this.menuButton_;if(r&&r.buttonPressed_&&e!==r.el().firstChild){r.unpressButton()}}};e.handleTapClick=function t(i){if(this.menuButton_){this.menuButton_.unpressButton();var e=this.children();if(!Array.isArray(e)){return}var r=e.filter((function(t){return t.el()===i.target}))[0];if(!r){return}if(r.name()!=="CaptionSettingsMenuItem"){this.menuButton_.focus()}}};e.handleKeyDown=function t(i){if(x.isEventKey(i,"Left")||x.isEventKey(i,"Down")){i.preventDefault();i.stopPropagation();this.stepForward()}else if(x.isEventKey(i,"Right")||x.isEventKey(i,"Up")){i.preventDefault();i.stopPropagation();this.stepBack()}};e.stepForward=function t(){var i=0;if(this.focusedChild_!==undefined){i=this.focusedChild_+1}this.focus(i)};e.stepBack=function t(){var i=0;if(this.focusedChild_!==undefined){i=this.focusedChild_-1}this.focus(i)};e.focus=function t(i){if(i===void 0){i=0}var e=this.children().slice();var r=e.length&&e[0].hasClass("vjs-menu-title");if(r){e.shift()}if(e.length>0){if(i<0){i=0}else if(i>=e.length){i=e.length-1}this.focusedChild_=i;e[i].el_.focus()}};return i}(ia);ia.registerComponent("Menu",du);var pu=function(t){D(i,t);function i(i,e){var r;if(e===void 0){e={}}r=t.call(this,i,e)||this;r.menuButton_=new No(i,e);r.menuButton_.controlText(r.controlText_);r.menuButton_.el_.setAttribute("aria-haspopup","true");var n=No.prototype.buildCSSClass();r.menuButton_.el_.className=r.buildCSSClass()+" "+n;r.menuButton_.removeClass("vjs-control");r.addChild(r.menuButton_);r.update();r.enabled_=true;var s=function t(i){return r.handleClick(i)};r.handleMenuKeyUp_=function(t){return r.handleMenuKeyUp(t)};r.on(r.menuButton_,"tap",s);r.on(r.menuButton_,"click",s);r.on(r.menuButton_,"keydown",(function(t){return r.handleKeyDown(t)}));r.on(r.menuButton_,"mouseenter",(function(){r.addClass("vjs-hover");r.menu.show();Ts(y,"keyup",r.handleMenuKeyUp_)}));r.on("mouseleave",(function(t){return r.handleMouseLeave(t)}));r.on("keydown",(function(t){return r.handleSubmenuKeyDown(t)}));return r}var e=i.prototype;e.update=function t(){var i=this.createMenu();if(this.menu){this.menu.dispose();this.removeChild(this.menu)}this.menu=i;this.addChild(i);this.buttonPressed_=false;this.menuButton_.el_.setAttribute("aria-expanded","false");if(this.items&&this.items.length<=this.hideThreshold_){this.hide();this.menu.contentEl_.removeAttribute("role")}else{this.show();this.menu.contentEl_.setAttribute("role","menu")}};e.createMenu=function t(){var i=new du(this.player_,{menuButton:this});this.hideThreshold_=0;if(this.options_.title){var e=Rn("li",{className:"vjs-menu-title",textContent:Ws(this.options_.title),tabIndex:-1});var r=new ia(this.player_,{el:e});i.addItem(r)}this.items=this.createItems();if(this.items){for(var n=0;n<this.items.length;n++){i.addItem(this.items[n])}}return i};e.createItems=function t(){};e.createEl=function i(){return t.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})};e.buildWrapperCSSClass=function i(){var e="vjs-menu-button";if(this.options_.inline===true){e+="-inline"}else{e+="-popup"}var r=No.prototype.buildCSSClass();return"vjs-menu-button "+e+" "+r+" "+t.prototype.buildCSSClass.call(this)};e.buildCSSClass=function i(){var e="vjs-menu-button";if(this.options_.inline===true){e+="-inline"}else{e+="-popup"}return"vjs-menu-button "+e+" "+t.prototype.buildCSSClass.call(this)};e.controlText=function t(i,e){if(e===void 0){e=this.menuButton_.el()}return this.menuButton_.controlText(i,e)};e.dispose=function i(){this.handleMouseLeave();t.prototype.dispose.call(this)};e.handleClick=function t(i){if(this.buttonPressed_){this.unpressButton()}else{this.pressButton()}};e.handleMouseLeave=function t(i){this.removeClass("vjs-hover");ks(y,"keyup",this.handleMenuKeyUp_)};e.focus=function t(){this.menuButton_.focus()};e.blur=function t(){this.menuButton_.blur()};e.handleKeyDown=function t(i){if(x.isEventKey(i,"Esc")||x.isEventKey(i,"Tab")){if(this.buttonPressed_){this.unpressButton()}if(!x.isEventKey(i,"Tab")){i.preventDefault();this.menuButton_.focus()}}else if(x.isEventKey(i,"Up")||x.isEventKey(i,"Down")){if(!this.buttonPressed_){i.preventDefault();this.pressButton()}}};e.handleMenuKeyUp=function t(i){if(x.isEventKey(i,"Esc")||x.isEventKey(i,"Tab")){this.removeClass("vjs-hover")}};e.handleSubmenuKeyPress=function t(i){this.handleSubmenuKeyDown(i)};e.handleSubmenuKeyDown=function t(i){if(x.isEventKey(i,"Esc")||x.isEventKey(i,"Tab")){if(this.buttonPressed_){this.unpressButton()}if(!x.isEventKey(i,"Tab")){i.preventDefault();this.menuButton_.focus()}}};e.pressButton=function t(){if(this.enabled_){this.buttonPressed_=true;this.menu.show();this.menu.lockShowing();this.menuButton_.el_.setAttribute("aria-expanded","true");if(Tn&&Nn()){return}this.menu.focus()}};e.unpressButton=function t(){if(this.enabled_){this.buttonPressed_=false;this.menu.unlockShowing();this.menu.hide();this.menuButton_.el_.setAttribute("aria-expanded","false")}};e.disable=function t(){this.unpressButton();this.enabled_=false;this.addClass("vjs-disabled");this.menuButton_.disable()};e.enable=function t(){this.enabled_=true;this.removeClass("vjs-disabled");this.menuButton_.enable()};return i}(ia);ia.registerComponent("MenuButton",pu);var mu=function(t){D(i,t);function i(i,e){var r;var n=e.tracks;r=t.call(this,i,e)||this;if(r.items.length<=1){r.hide()}if(!n){return S(r)}var s=Ds(S(r),r.update);n.addEventListener("removetrack",s);n.addEventListener("addtrack",s);n.addEventListener("labelchange",s);r.player_.on("ready",s);r.player_.on("dispose",(function(){n.removeEventListener("removetrack",s);n.removeEventListener("addtrack",s);n.removeEventListener("labelchange",s)}));return r}return i}(pu);ia.registerComponent("TrackButton",mu);var gu=["Tab","Esc","Up","Down","Right","Left"];var bu=function(t){D(i,t);function i(i,e){var r;r=t.call(this,i,e)||this;r.selectable=e.selectable;r.isSelected_=e.selected||false;r.multiSelectable=e.multiSelectable;r.selected(r.isSelected_);if(r.selectable){if(r.multiSelectable){r.el_.setAttribute("role","menuitemcheckbox")}else{r.el_.setAttribute("role","menuitemradio")}}else{r.el_.setAttribute("role","menuitem")}return r}var e=i.prototype;e.createEl=function i(e,r,n){this.nonIconControl=true;var s=t.prototype.createEl.call(this,"li",$r({className:"vjs-menu-item",tabIndex:-1},r),n);s.replaceChild(Rn("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),s.querySelector(".vjs-icon-placeholder"));return s};e.handleKeyDown=function i(e){if(!gu.some((function(t){return x.isEventKey(e,t)}))){t.prototype.handleKeyDown.call(this,e)}};e.handleClick=function t(i){this.selected(true)};e.selected=function t(i){if(this.selectable){if(i){this.addClass("vjs-selected");this.el_.setAttribute("aria-checked","true");this.controlText(", selected");this.isSelected_=true}else{this.removeClass("vjs-selected");this.el_.setAttribute("aria-checked","false");this.controlText("");this.isSelected_=false}}};return i}(wo);ia.registerComponent("MenuItem",bu);var yu=function(t){D(i,t);function i(i,e){var r;var n=e.track;var s=i.textTracks();e.label=n.label||n.language||"Unknown";e.selected=n.mode==="showing";r=t.call(this,i,e)||this;r.track=n;r.kinds=(e.kinds||[e.kind||r.track.kind]).filter(Boolean);var a=function t(){for(var i=arguments.length,e=new Array(i),n=0;n<i;n++){e[n]=arguments[n]}r.handleTracksChange.apply(S(r),e)};var o=function t(){for(var i=arguments.length,e=new Array(i),n=0;n<i;n++){e[n]=arguments[n]}r.handleSelectedLanguageChange.apply(S(r),e)};i.on(["loadstart","texttrackchange"],a);s.addEventListener("change",a);s.addEventListener("selectedlanguagechange",o);r.on("dispose",(function(){i.off(["loadstart","texttrackchange"],a);s.removeEventListener("change",a);s.removeEventListener("selectedlanguagechange",o)}));if(s.onchange===undefined){var u;r.on(["tap","click"],(function(){if(typeof c.Event!=="object"){try{u=new c.Event("change")}catch(t){}}if(!u){u=y.createEvent("Event");u.initEvent("change",true,true)}s.dispatchEvent(u)}))}r.handleTracksChange();return r}var e=i.prototype;e.handleClick=function i(e){var r=this.track;var n=this.player_.textTracks();t.prototype.handleClick.call(this,e);if(!n){return}for(var s=0;s<n.length;s++){var a=n[s];if(this.kinds.indexOf(a.kind)===-1){continue}if(a===r){if(a.mode!=="showing"){a.mode="showing"}}else if(a.mode!=="disabled"){a.mode="disabled"}}};e.handleTracksChange=function t(i){var e=this.track.mode==="showing";if(e!==this.isSelected_){this.selected(e)}};e.handleSelectedLanguageChange=function t(i){if(this.track.mode==="showing"){var e=this.player_.cache_.selectedLanguage;if(e&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind){return}this.player_.cache_.selectedLanguage={enabled:true,language:this.track.language,kind:this.track.kind}}};e.dispose=function i(){this.track=null;t.prototype.dispose.call(this)};return i}(bu);ia.registerComponent("TextTrackMenuItem",yu);var ju=function(t){D(i,t);function i(i,e){e.track={player:i,kind:e.kind,kinds:e.kinds,default:false,mode:"disabled"};if(!e.kinds){e.kinds=[e.kind]}if(e.label){e.track.label=e.label}else{e.track.label=e.kinds.join(" and ")+" off"}e.selectable=true;e.multiSelectable=false;return t.call(this,i,e)||this}var e=i.prototype;e.handleTracksChange=function t(i){var e=this.player().textTracks();var r=true;for(var n=0,s=e.length;n<s;n++){var a=e[n];if(this.options_.kinds.indexOf(a.kind)>-1&&a.mode==="showing"){r=false;break}}if(r!==this.isSelected_){this.selected(r)}};e.handleSelectedLanguageChange=function t(i){var e=this.player().textTracks();var r=true;for(var n=0,s=e.length;n<s;n++){var a=e[n];if(["captions","descriptions","subtitles"].indexOf(a.kind)>-1&&a.mode==="showing"){r=false;break}}if(r){this.player_.cache_.selectedLanguage={enabled:false}}};return i}(yu);ia.registerComponent("OffTextTrackMenuItem",ju);var wu=function(t){D(i,t);function i(i,e){if(e===void 0){e={}}e.tracks=i.textTracks();return t.call(this,i,e)||this}var e=i.prototype;e.createItems=function t(i,e){if(i===void 0){i=[]}if(e===void 0){e=yu}var r;if(this.label_){r=this.label_+" off"}i.push(new ju(this.player_,{kinds:this.kinds_,kind:this.kind_,label:r}));this.hideThreshold_+=1;var n=this.player_.textTracks();if(!Array.isArray(this.kinds_)){this.kinds_=[this.kind_]}for(var s=0;s<n.length;s++){var a=n[s];if(this.kinds_.indexOf(a.kind)>-1){var o=new e(this.player_,{track:a,kinds:this.kinds_,kind:this.kind_,selectable:true,multiSelectable:false});o.addClass("vjs-"+a.kind+"-menu-item");i.push(o)}}return i};return i}(mu);ia.registerComponent("TextTrackButton",wu);var Tu=function(t){D(i,t);function i(i,e){var r;var n=e.track;var s=e.cue;var a=i.currentTime();e.selectable=true;e.multiSelectable=false;e.label=s.text;e.selected=s.startTime<=a&&a<s.endTime;r=t.call(this,i,e)||this;r.track=n;r.cue=s;return r}var e=i.prototype;e.handleClick=function i(e){t.prototype.handleClick.call(this);this.player_.currentTime(this.cue.startTime)};return i}(bu);ia.registerComponent("ChaptersTrackMenuItem",Tu);var ku=function(t){D(i,t);function i(i,e,r){var n;n=t.call(this,i,e,r)||this;n.selectCurrentItem_=function(){n.items.forEach((function(t){t.selected(n.track_.activeCues[0]===t.cue)}))};return n}var e=i.prototype;e.buildCSSClass=function i(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)};e.buildWrapperCSSClass=function i(){return"vjs-chapters-button "+t.prototype.buildWrapperCSSClass.call(this)};e.update=function i(e){if(e&&e.track&&e.track.kind!=="chapters"){return}var r=this.findChaptersTrack();if(r!==this.track_){this.setTrack(r);t.prototype.update.call(this)}else if(!this.items||r&&r.cues&&r.cues.length!==this.items.length){t.prototype.update.call(this)}};e.setTrack=function t(i){if(this.track_===i){return}if(!this.updateHandler_){this.updateHandler_=this.update.bind(this)}if(this.track_){var e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);if(e){e.removeEventListener("load",this.updateHandler_)}this.track_.removeEventListener("cuechange",this.selectCurrentItem_);this.track_=null}this.track_=i;if(this.track_){this.track_.mode="hidden";var r=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);if(r){r.addEventListener("load",this.updateHandler_)}this.track_.addEventListener("cuechange",this.selectCurrentItem_)}};e.findChaptersTrack=function t(){var i=this.player_.textTracks()||[];for(var e=i.length-1;e>=0;e--){var r=i[e];if(r.kind===this.kind_){return r}}};e.getMenuCaption=function t(){if(this.track_&&this.track_.label){return this.track_.label}return this.localize(Ws(this.kind_))};e.createMenu=function i(){this.options_.title=this.getMenuCaption();return t.prototype.createMenu.call(this)};e.createItems=function t(){var i=[];if(!this.track_){return i}var e=this.track_.cues;if(!e){return i}for(var r=0,n=e.length;r<n;r++){var s=e[r];var a=new Tu(this.player_,{track:this.track_,cue:s});i.push(a)}return i};return i}(wu);ku.prototype.kind_="chapters";ku.prototype.controlText_="Chapters";ia.registerComponent("ChaptersButton",ku);var Au=function(t){D(i,t);function i(i,e,r){var n;n=t.call(this,i,e,r)||this;var s=i.textTracks();var a=Ds(S(n),n.handleTracksChange);s.addEventListener("change",a);n.on("dispose",(function(){s.removeEventListener("change",a)}));return n}var e=i.prototype;e.handleTracksChange=function t(i){var e=this.player().textTracks();var r=false;for(var n=0,s=e.length;n<s;n++){var a=e[n];if(a.kind!==this.kind_&&a.mode==="showing"){r=true;break}}if(r){this.disable()}else{this.enable()}};e.buildCSSClass=function i(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)};e.buildWrapperCSSClass=function i(){return"vjs-descriptions-button "+t.prototype.buildWrapperCSSClass.call(this)};return i}(wu);Au.prototype.kind_="descriptions";Au.prototype.controlText_="Descriptions";ia.registerComponent("DescriptionsButton",Au);var Eu=function(t){D(i,t);function i(i,e,r){return t.call(this,i,e,r)||this}var e=i.prototype;e.buildCSSClass=function i(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)};e.buildWrapperCSSClass=function i(){return"vjs-subtitles-button "+t.prototype.buildWrapperCSSClass.call(this)};return i}(wu);Eu.prototype.kind_="subtitles";Eu.prototype.controlText_="Subtitles";ia.registerComponent("SubtitlesButton",Eu);var xu=function(t){D(i,t);function i(i,e){var r;e.track={player:i,kind:e.kind,label:e.kind+" settings",selectable:false,default:false,mode:"disabled"};e.selectable=false;e.name="CaptionSettingsMenuItem";r=t.call(this,i,e)||this;r.addClass("vjs-texttrack-settings");r.controlText(", opens "+e.kind+" settings dialog");return r}var e=i.prototype;e.handleClick=function t(i){this.player().getChild("textTrackSettings").open()};return i}(yu);ia.registerComponent("CaptionSettingsMenuItem",xu);var Su=function(t){D(i,t);function i(i,e,r){return t.call(this,i,e,r)||this}var e=i.prototype;e.buildCSSClass=function i(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)};e.buildWrapperCSSClass=function i(){return"vjs-captions-button "+t.prototype.buildWrapperCSSClass.call(this)};e.createItems=function i(){var e=[];if(!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")){e.push(new xu(this.player_,{kind:this.kind_}));this.hideThreshold_+=1}return t.prototype.createItems.call(this,e)};return i}(wu);Su.prototype.kind_="captions";Su.prototype.controlText_="Captions";ia.registerComponent("CaptionsButton",Su);var Iu=function(t){D(i,t);function i(){return t.apply(this,arguments)||this}var e=i.prototype;e.createEl=function i(e,r,n){var s=t.prototype.createEl.call(this,e,r,n);var a=s.querySelector(".vjs-menu-item-text");if(this.options_.track.kind==="captions"){a.appendChild(Rn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":true}));a.appendChild(Rn("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))}return s};return i}(yu);ia.registerComponent("SubsCapsMenuItem",Iu);var Du=function(t){D(i,t);function i(i,e){var r;if(e===void 0){e={}}r=t.call(this,i,e)||this;r.label_="subtitles";if(["en","en-us","en-ca","fr-ca"].indexOf(r.player_.language_)>-1){r.label_="captions"}r.menuButton_.controlText(Ws(r.label_));return r}var e=i.prototype;e.buildCSSClass=function i(){return"vjs-subs-caps-button "+t.prototype.buildCSSClass.call(this)};e.buildWrapperCSSClass=function i(){return"vjs-subs-caps-button "+t.prototype.buildWrapperCSSClass.call(this)};e.createItems=function i(){var e=[];if(!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")){e.push(new xu(this.player_,{kind:this.label_}));this.hideThreshold_+=1}e=t.prototype.createItems.call(this,e,Iu);return e};return i}(wu);Du.prototype.kinds_=["captions","subtitles"];Du.prototype.controlText_="Subtitles";ia.registerComponent("SubsCapsButton",Du);var Nu=function(t){D(i,t);function i(i,e){var r;var n=e.track;var s=i.audioTracks();e.label=n.label||n.language||"Unknown";e.selected=n.enabled;r=t.call(this,i,e)||this;r.track=n;r.addClass("vjs-"+n.kind+"-menu-item");var a=function t(){for(var i=arguments.length,e=new Array(i),n=0;n<i;n++){e[n]=arguments[n]}r.handleTracksChange.apply(S(r),e)};s.addEventListener("change",a);r.on("dispose",(function(){s.removeEventListener("change",a)}));return r}var e=i.prototype;e.createEl=function i(e,r,n){var s=t.prototype.createEl.call(this,e,r,n);var a=s.querySelector(".vjs-menu-item-text");if(this.options_.track.kind==="main-desc"){a.appendChild(Rn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":true}));a.appendChild(Rn("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))}return s};e.handleClick=function i(e){t.prototype.handleClick.call(this,e);this.track.enabled=true;if(this.player_.tech_.featuresNativeAudioTracks){var r=this.player_.audioTracks();for(var n=0;n<r.length;n++){var s=r[n];if(s===this.track){continue}s.enabled=s===this.track}}};e.handleTracksChange=function t(i){this.selected(this.track.enabled)};return i}(bu);ia.registerComponent("AudioTrackMenuItem",Nu);var Ou=function(t){D(i,t);function i(i,e){if(e===void 0){e={}}e.tracks=i.audioTracks();return t.call(this,i,e)||this}var e=i.prototype;e.buildCSSClass=function i(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)};e.buildWrapperCSSClass=function i(){return"vjs-audio-button "+t.prototype.buildWrapperCSSClass.call(this)};e.createItems=function t(i){if(i===void 0){i=[]}this.hideThreshold_=1;var e=this.player_.audioTracks();for(var r=0;r<e.length;r++){var n=e[r];i.push(new Nu(this.player_,{track:n,selectable:true,multiSelectable:false}))}return i};return i}(mu);Ou.prototype.controlText_="Audio Track";ia.registerComponent("AudioTrackButton",Ou);var Ru=function(t){D(i,t);function i(i,e){var r;var n=e.rate;var s=parseFloat(n,10);e.label=n;e.selected=s===i.playbackRate();e.selectable=true;e.multiSelectable=false;r=t.call(this,i,e)||this;r.label=n;r.rate=s;r.on(i,"ratechange",(function(t){return r.update(t)}));return r}var e=i.prototype;e.handleClick=function i(e){t.prototype.handleClick.call(this);this.player().playbackRate(this.rate)};e.update=function t(i){this.selected(this.player().playbackRate()===this.rate)};return i}(bu);Ru.prototype.contentElType="button";ia.registerComponent("PlaybackRateMenuItem",Ru);var Lu=function(t){D(i,t);function i(i,e){var r;r=t.call(this,i,e)||this;r.menuButton_.el_.setAttribute("aria-describedby",r.labelElId_);r.updateVisibility();r.updateLabel();r.on(i,"loadstart",(function(t){return r.updateVisibility(t)}));r.on(i,"ratechange",(function(t){return r.updateLabel(t)}));r.on(i,"playbackrateschange",(function(t){return r.handlePlaybackRateschange(t)}));return r}var e=i.prototype;e.createEl=function i(){var e=t.prototype.createEl.call(this);this.labelElId_="vjs-playback-rate-value-label-"+this.id_;this.labelEl_=Rn("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"});e.appendChild(this.labelEl_);return e};e.dispose=function i(){this.labelEl_=null;t.prototype.dispose.call(this)};e.buildCSSClass=function i(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)};e.buildWrapperCSSClass=function i(){return"vjs-playback-rate "+t.prototype.buildWrapperCSSClass.call(this)};e.createItems=function t(){var i=this.playbackRates();var e=[];for(var r=i.length-1;r>=0;r--){e.push(new Ru(this.player(),{rate:i[r]+"x"}))}return e};e.updateARIAAttributes=function t(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())};e.handleClick=function t(i){var e=this.player().playbackRate();var r=this.playbackRates();var n=r.indexOf(e);var s=(n+1)%r.length;this.player().playbackRate(r[s])};e.handlePlaybackRateschange=function t(i){this.update()};e.playbackRates=function t(){var i=this.player();return i.playbackRates&&i.playbackRates()||[]};e.playbackRateSupported=function t(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0};e.updateVisibility=function t(i){if(this.playbackRateSupported()){this.removeClass("vjs-hidden")}else{this.addClass("vjs-hidden")}};e.updateLabel=function t(i){if(this.playbackRateSupported()){this.labelEl_.textContent=this.player().playbackRate()+"x"}};return i}(pu);Lu.prototype.controlText_="Playback Rate";ia.registerComponent("PlaybackRateMenuButton",Lu);var Cu=function(t){D(i,t);function i(){return t.apply(this,arguments)||this}var e=i.prototype;e.buildCSSClass=function i(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)};e.createEl=function i(e,r,n){if(e===void 0){e="div"}if(r===void 0){r={}}if(n===void 0){n={}}if(!r.className){r.className=this.buildCSSClass()}return t.prototype.createEl.call(this,e,r,n)};return i}(ia);ia.registerComponent("Spacer",Cu);var Mu=function(t){D(i,t);function i(){return t.apply(this,arguments)||this}var e=i.prototype;e.buildCSSClass=function i(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)};e.createEl=function i(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:" "})};return i}(Cu);ia.registerComponent("CustomControlSpacer",Mu);var Uu=function(t){D(i,t);function i(){return t.apply(this,arguments)||this}var e=i.prototype;e.createEl=function i(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})};return i}(ia);Uu.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]};if("exitPictureInPicture"in y){Uu.prototype.options_.children.splice(Uu.prototype.options_.children.length-1,0,"pictureInPictureToggle")}ia.registerComponent("ControlBar",Uu);var Bu=function(t){D(i,t);function i(i,e){var r;r=t.call(this,i,e)||this;r.on(i,"error",(function(t){return r.open(t)}));return r}var e=i.prototype;e.buildCSSClass=function i(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)};e.content=function t(){var i=this.player().error();return i?this.localize(i.message):""};return i}(ma);Bu.prototype.options_=j({},ma.prototype.options_,{pauseOnOpen:false,fillAlways:true,temporary:false,uncloseable:true});ia.registerComponent("ErrorDisplay",Bu);var Pu="vjs-text-track-settings";var qu=["#000","Black"];var Fu=["#00F","Blue"];var _u=["#0FF","Cyan"];var Vu=["#0F0","Green"];var Hu=["#F0F","Magenta"];var zu=["#F00","Red"];var Gu=["#FFF","White"];var Xu=["#FF0","Yellow"];var Yu=["1","Opaque"];var Wu=["0.5","Semi-Transparent"];var Ju=["0","Transparent"];var Qu={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[qu,Gu,zu,Vu,Fu,Xu,Hu,_u]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[Yu,Wu,Ju]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Gu,qu,zu,Vu,Fu,Xu,Hu,_u]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function t(i){return i==="1.00"?null:Number(i)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[Yu,Wu]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[Ju,Wu,Yu]}};Qu.windowColor.options=Qu.backgroundColor.options;function Ku(t,i){if(i){t=i(t)}if(t&&t!=="none"){return t}}function Zu(t,i){var e=t.options[t.options.selectedIndex].value;return Ku(e,i)}function $u(t,i,e){if(!i){return}for(var r=0;r<t.options.length;r++){if(Ku(t.options[r].value,e)===i){t.selectedIndex=r;break}}}var tf=function(t){D(i,t);function i(i,e){var r;e.temporary=false;r=t.call(this,i,e)||this;r.updateDisplay=r.updateDisplay.bind(S(r));r.fill();r.hasBeenOpened_=r.hasBeenFilled_=true;r.endDialog=Rn("p",{className:"vjs-control-text",textContent:r.localize("End of dialog window.")});r.el().appendChild(r.endDialog);r.setDefaults();if(e.persistTextTrackSettings===undefined){r.options_.persistTextTrackSettings=r.options_.playerOptions.persistTextTrackSettings}r.on(r.$(".vjs-done-button"),"click",(function(){r.saveSettings();r.close()}));r.on(r.$(".vjs-default-button"),"click",(function(){r.setDefaults();r.updateDisplay()}));Kr(Qu,(function(t){r.on(r.$(t.selector),"change",r.updateDisplay)}));if(r.options_.persistTextTrackSettings){r.restoreSettings()}return r}var e=i.prototype;e.dispose=function i(){this.endDialog=null;t.prototype.dispose.call(this)};e.createElSelect_=function t(i,e,r){var n=this;if(e===void 0){e=""}if(r===void 0){r="label"}var s=Qu[i];var a=s.id.replace("%s",this.id_);var o=[e,a].join(" ").trim();return["<"+r+' id="'+a+'" class="'+(r==="label"?"vjs-label":"")+'">',this.localize(s.label),"</"+r+">",'<select aria-labelledby="'+o+'">'].concat(s.options.map((function(t){var i=a+"-"+t[1].replace(/\W+/g,"");return['<option id="'+i+'" value="'+t[0]+'" ','aria-labelledby="'+o+" "+i+'">',n.localize(t[1]),"</option>"].join("")}))).concat("</select>").join("")};e.createElFgColor_=function t(){var i="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+i+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",i),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",i),"</span>","</fieldset>"].join("")};e.createElBgColor_=function t(){var i="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+i+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",i),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",i),"</span>","</fieldset>"].join("")};e.createElWinColor_=function t(){var i="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+i+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",i),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",i),"</span>","</fieldset>"].join("")};e.createElColors_=function t(){return Rn("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})};e.createElFont_=function t(){return Rn("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})};e.createElControls_=function t(){var i=this.localize("restore all settings to the default values");return Rn("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+i+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+i+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})};e.content=function t(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]};e.label=function t(){return this.localize("Caption Settings Dialog")};e.description=function t(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")};e.buildCSSClass=function i(){return t.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"};e.getValues=function t(){var i=this;return Zr(Qu,(function(t,e,r){var n=Zu(i.$(e.selector),e.parser);if(n!==undefined){t[r]=n}return t}),{})};e.setValues=function t(i){var e=this;Kr(Qu,(function(t,r){$u(e.$(t.selector),i[r],t.parser)}))};e.setDefaults=function t(){var i=this;Kr(Qu,(function(t){var e=t.hasOwnProperty("default")?t["default"]:0;i.$(t.selector).selectedIndex=e}))};e.restoreSettings=function t(){var i;try{i=JSON.parse(c.localStorage.getItem(Pu))}catch(t){Yr.warn(t)}if(i){this.setValues(i)}};e.saveSettings=function t(){if(!this.options_.persistTextTrackSettings){return}var i=this.getValues();try{if(Object.keys(i).length){c.localStorage.setItem(Pu,JSON.stringify(i))}else{c.localStorage.removeItem(Pu)}}catch(t){Yr.warn(t)}};e.updateDisplay=function t(){var i=this.player_.getChild("textTrackDisplay");if(i){i.updateDisplay()}};e.conditionalBlur_=function t(){this.previouslyActiveEl_=null;var i=this.player_.controlBar;var e=i&&i.subsCapsButton;var r=i&&i.captionsButton;if(e){e.focus()}else if(r){r.focus()}};return i}(ma);ia.registerComponent("TextTrackSettings",tf);var ef=function(t){D(i,t);function i(i,e){var r;var n=e.ResizeObserver||c.ResizeObserver;if(e.ResizeObserver===null){n=false}var s=Qs({createEl:!n,reportTouchActivity:false},e);r=t.call(this,i,s)||this;r.ResizeObserver=e.ResizeObserver||c.ResizeObserver;r.loadListener_=null;r.resizeObserver_=null;r.debouncedHandler_=Os((function(){r.resizeHandler()}),100,false,S(r));if(n){r.resizeObserver_=new r.ResizeObserver(r.debouncedHandler_);r.resizeObserver_.observe(i.el())}else{r.loadListener_=function(){if(!r.el_||!r.el_.contentWindow){return}var t=r.debouncedHandler_;var i=r.unloadListener_=function(){ks(this,"resize",t);ks(this,"unload",i);i=null};Ts(r.el_.contentWindow,"unload",i);Ts(r.el_.contentWindow,"resize",t)};r.one("load",r.loadListener_)}return r}var e=i.prototype;e.createEl=function i(){return t.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})};e.resizeHandler=function t(){if(!this.player_||!this.player_.trigger){return}this.player_.trigger("playerresize")};e.dispose=function i(){if(this.debouncedHandler_){this.debouncedHandler_.cancel()}if(this.resizeObserver_){if(this.player_.el()){this.resizeObserver_.unobserve(this.player_.el())}this.resizeObserver_.disconnect()}if(this.loadListener_){this.off("load",this.loadListener_)}if(this.el_&&this.el_.contentWindow&&this.unloadListener_){this.unloadListener_.call(this.el_.contentWindow)}this.ResizeObserver=null;this.resizeObserver=null;this.debouncedHandler_=null;this.loadListener_=null;t.prototype.dispose.call(this)};return i}(ia);ia.registerComponent("ResizeManager",ef);var rf={trackingThreshold:20,liveTolerance:15};var nf=function(t){D(i,t);function i(i,e){var r;var n=Qs(rf,e,{createEl:false});r=t.call(this,i,n)||this;r.handleVisibilityChange_=function(t){return r.handleVisibilityChange(t)};r.trackLiveHandler_=function(){return r.trackLive_()};r.handlePlay_=function(t){return r.handlePlay(t)};r.handleFirstTimeupdate_=function(t){return r.handleFirstTimeupdate(t)};r.handleSeeked_=function(t){return r.handleSeeked(t)};r.seekToLiveEdge_=function(t){return r.seekToLiveEdge(t)};r.reset_();r.on(r.player_,"durationchange",(function(t){return r.handleDurationchange(t)}));r.on(r.player_,"canplay",(function(){return r.toggleTracking()}));if(mn&&"hidden"in y&&"visibilityState"in y){r.on(y,"visibilitychange",r.handleVisibilityChange_)}return r}var e=i.prototype;e.handleVisibilityChange=function t(){if(this.player_.duration()!==Infinity){return}if(y.hidden){this.stopTracking()}else{this.startTracking()}};e.trackLive_=function t(){var i=this.player_.seekable();if(!i||!i.length){return}var e=Number(c.performance.now().toFixed(4));var r=this.lastTime_===-1?0:(e-this.lastTime_)/1e3;this.lastTime_=e;this.pastSeekEnd_=this.pastSeekEnd()+r;var n=this.liveCurrentTime();var s=this.player_.currentTime();var a=this.player_.paused()||this.seekedBehindLive_||Math.abs(n-s)>this.options_.liveTolerance;if(!this.timeupdateSeen_||n===Infinity){a=false}if(a!==this.behindLiveEdge_){this.behindLiveEdge_=a;this.trigger("liveedgechange")}};e.handleDurationchange=function t(){this.toggleTracking()};e.toggleTracking=function t(){if(this.player_.duration()===Infinity&&this.liveWindow()>=this.options_.trackingThreshold){if(this.player_.options_.liveui){this.player_.addClass("vjs-liveui")}this.startTracking()}else{this.player_.removeClass("vjs-liveui");this.stopTracking()}};e.startTracking=function t(){if(this.isTracking()){return}if(!this.timeupdateSeen_){this.timeupdateSeen_=this.player_.hasStarted()}this.trackingInterval_=this.setInterval(this.trackLiveHandler_,Is);this.trackLive_();this.on(this.player_,["play","pause"],this.trackLiveHandler_);if(!this.timeupdateSeen_){this.one(this.player_,"play",this.handlePlay_);this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)}else{this.on(this.player_,"seeked",this.handleSeeked_)}};e.handleFirstTimeupdate=function t(){this.timeupdateSeen_=true;this.on(this.player_,"seeked",this.handleSeeked_)};e.handleSeeked=function t(){var i=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&i>2;this.nextSeekedFromUser_=false;this.trackLive_()};e.handlePlay=function t(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)};e.reset_=function t(){this.lastTime_=-1;this.pastSeekEnd_=0;this.lastSeekEnd_=-1;this.behindLiveEdge_=true;this.timeupdateSeen_=false;this.seekedBehindLive_=false;this.nextSeekedFromUser_=false;this.clearInterval(this.trackingInterval_);this.trackingInterval_=null;this.off(this.player_,["play","pause"],this.trackLiveHandler_);this.off(this.player_,"seeked",this.handleSeeked_);this.off(this.player_,"play",this.handlePlay_);this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_);this.off(this.player_,"timeupdate",this.seekToLiveEdge_)};e.nextSeekedFromUser=function t(){this.nextSeekedFromUser_=true};e.stopTracking=function t(){if(!this.isTracking()){return}this.reset_();this.trigger("liveedgechange")};e.seekableEnd=function t(){var i=this.player_.seekable();var e=[];var r=i?i.length:0;while(r--){e.push(i.end(r))}return e.length?e.sort()[e.length-1]:Infinity};e.seekableStart=function t(){var i=this.player_.seekable();var e=[];var r=i?i.length:0;while(r--){e.push(i.start(r))}return e.length?e.sort()[0]:0};e.liveWindow=function t(){var i=this.liveCurrentTime();if(i===Infinity){return 0}return i-this.seekableStart()};e.isLive=function t(){return this.isTracking()};e.atLiveEdge=function t(){return!this.behindLiveEdge()};e.liveCurrentTime=function t(){return this.pastSeekEnd()+this.seekableEnd()};e.pastSeekEnd=function t(){var i=this.seekableEnd();if(this.lastSeekEnd_!==-1&&i!==this.lastSeekEnd_){this.pastSeekEnd_=0}this.lastSeekEnd_=i;return this.pastSeekEnd_};e.behindLiveEdge=function t(){return this.behindLiveEdge_};e.isTracking=function t(){return typeof this.trackingInterval_==="number"};e.seekToLiveEdge=function t(){this.seekedBehindLive_=false;if(this.atLiveEdge()){return}this.nextSeekedFromUser_=false;this.player_.currentTime(this.liveCurrentTime())};e.dispose=function i(){this.off(y,"visibilitychange",this.handleVisibilityChange_);this.stopTracking();t.prototype.dispose.call(this)};return i}(ia);ia.registerComponent("LiveTracker",nf);var sf=function t(i){var e=i.el();if(e.hasAttribute("src")){i.triggerSourceset(e.src);return true}var r=i.$$("source");var n=[];var s="";if(!r.length){return false}for(var a=0;a<r.length;a++){var o=r[a].src;if(o&&n.indexOf(o)===-1){n.push(o)}}if(!n.length){return false}if(n.length===1){s=n[0]}i.triggerSourceset(s);return true};var af=Object.defineProperty({},"innerHTML",{get:function t(){return this.cloneNode(true).innerHTML},set:function t(i){var e=y.createElement(this.nodeName.toLowerCase());e.innerHTML=i;var r=y.createDocumentFragment();while(e.childNodes.length){r.appendChild(e.childNodes[0])}this.innerText="";c.Element.prototype.appendChild.call(this,r);return this.innerHTML}});var of=function t(i,e){var r={};for(var n=0;n<i.length;n++){r=Object.getOwnPropertyDescriptor(i[n],e);if(r&&r.set&&r.get){break}}r.enumerable=true;r.configurable=true;return r};var uf=function t(i){return of([i.el(),c.HTMLMediaElement.prototype,c.Element.prototype,af],"innerHTML")};var ff=function t(i){var e=i.el();if(e.resetSourceWatch_){return}var r={};var n=uf(i);var s=function t(r){return function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++){n[s]=arguments[s]}var a=r.apply(e,n);sf(i);return a}};["append","appendChild","insertAdjacentHTML"].forEach((function(t){if(!e[t]){return}r[t]=e[t];e[t]=s(r[t])}));Object.defineProperty(e,"innerHTML",Qs(n,{set:s(n.set)}));e.resetSourceWatch_=function(){e.resetSourceWatch_=null;Object.keys(r).forEach((function(t){e[t]=r[t]}));Object.defineProperty(e,"innerHTML",n)};i.one("sourceset",e.resetSourceWatch_)};var hf=Object.defineProperty({},"src",{get:function t(){if(this.hasAttribute("src")){return Ra(c.Element.prototype.getAttribute.call(this,"src"))}return""},set:function t(i){c.Element.prototype.setAttribute.call(this,"src",i);return i}});var cf=function t(i){return of([i.el(),c.HTMLMediaElement.prototype,hf],"src")};var lf=function t(i){if(!i.featuresSourceset){return}var e=i.el();if(e.resetSourceset_){return}var r=cf(i);var n=e.setAttribute;var s=e.load;Object.defineProperty(e,"src",Qs(r,{set:function t(n){var s=r.set.call(e,n);i.triggerSourceset(e.src);return s}}));e.setAttribute=function(t,r){var s=n.call(e,t,r);if(/src/i.test(t)){i.triggerSourceset(e.src)}return s};e.load=function(){var t=s.call(e);if(!sf(i)){i.triggerSourceset("");ff(i)}return t};if(e.currentSrc){i.triggerSourceset(e.currentSrc)}else if(!sf(i)){ff(i)}e.resetSourceset_=function(){e.resetSourceset_=null;e.load=s;e.setAttribute=n;Object.defineProperty(e,"src",r);if(e.resetSourceWatch_){e.resetSourceWatch_()}}};var vf=function t(i,e,r,n){if(n===void 0){n=true}var s=function t(r){return Object.defineProperty(i,e,{value:r,enumerable:true,writable:true})};var a={configurable:true,enumerable:true,get:function t(){var i=r();s(i);return i}};if(n){a.set=s}return Object.defineProperty(i,e,a)};var df=function(t){D(i,t);function i(i,e){var r;r=t.call(this,i,e)||this;var n=i.source;var s=false;r.featuresVideoFrameCallback=r.featuresVideoFrameCallback&&r.el_.tagName==="VIDEO";if(n&&(r.el_.currentSrc!==n.src||i.tag&&i.tag.initNetworkState_===3)){r.setSource(n)}else{r.handleLateInit_(r.el_)}if(i.enableSourceset){r.setupSourcesetHandling_()}r.isScrubbing_=false;if(r.el_.hasChildNodes()){var a=r.el_.childNodes;var o=a.length;var u=[];while(o--){var f=a[o];var h=f.nodeName.toLowerCase();if(h==="track"){if(!r.featuresNativeTextTracks){u.push(f)}else{r.remoteTextTrackEls().addTrackElement_(f);r.remoteTextTracks().addTrack(f.track);r.textTracks().addTrack(f.track);if(!s&&!r.el_.hasAttribute("crossorigin")&&Ca(f.src)){s=true}}}}for(var c=0;c<u.length;c++){r.el_.removeChild(u[c])}}r.proxyNativeTracks_();if(r.featuresNativeTextTracks&&s){Yr.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n"+"This may prevent text tracks from loading.")}r.restoreMetadataTracksInIOSNativePlayer_();if((yn||wn||cn)&&i.nativeControlsForTouch===true){r.setControls(true)}r.proxyWebkitFullscreen_();r.triggerReady();return r}var e=i.prototype;e.dispose=function e(){if(this.el_&&this.el_.resetSourceset_){this.el_.resetSourceset_()}i.disposeMediaElement(this.el_);this.options_=null;t.prototype.dispose.call(this)};e.setupSourcesetHandling_=function t(){lf(this)};e.restoreMetadataTracksInIOSNativePlayer_=function t(){var i=this.textTracks();var e;var r=function t(){e=[];for(var r=0;r<i.length;r++){var n=i[r];if(n.kind==="metadata"){e.push({track:n,storedMode:n.mode})}}};r();i.addEventListener("change",r);this.on("dispose",(function(){return i.removeEventListener("change",r)}));var n=function t(){for(var r=0;r<e.length;r++){var n=e[r];if(n.track.mode==="disabled"&&n.track.mode!==n.storedMode){n.track.mode=n.storedMode}}i.removeEventListener("change",t)};this.on("webkitbeginfullscreen",(function(){i.removeEventListener("change",r);i.removeEventListener("change",n);i.addEventListener("change",n)}));this.on("webkitendfullscreen",(function(){i.removeEventListener("change",r);i.addEventListener("change",r);i.removeEventListener("change",n)}))};e.overrideNative_=function t(i,e){var r=this;if(e!==this["featuresNative"+i+"Tracks"]){return}var n=i.toLowerCase();if(this[n+"TracksListeners_"]){Object.keys(this[n+"TracksListeners_"]).forEach((function(t){var i=r.el()[n+"Tracks"];i.removeEventListener(t,r[n+"TracksListeners_"][t])}))}this["featuresNative"+i+"Tracks"]=!e;this[n+"TracksListeners_"]=null;this.proxyNativeTracksForType_(n)};e.overrideNativeAudioTracks=function t(i){this.overrideNative_("Audio",i)};e.overrideNativeVideoTracks=function t(i){this.overrideNative_("Video",i)};e.proxyNativeTracksForType_=function t(i){var e=this;var r=Xa[i];var n=this.el()[r.getterName];var s=this[r.getterName]();if(!this["featuresNative"+r.capitalName+"Tracks"]||!n||!n.addEventListener){return}var a={change:function t(r){var n={type:"change",target:s,currentTarget:s,srcElement:s};s.trigger(n);if(i==="text"){e[Ya.remoteText.getterName]().trigger(n)}},addtrack:function t(i){s.addTrack(i.track)},removetrack:function t(i){s.removeTrack(i.track)}};var o=function t(){var i=[];for(var e=0;e<s.length;e++){var r=false;for(var a=0;a<n.length;a++){if(n[a]===s[e]){r=true;break}}if(!r){i.push(s[e])}}while(i.length){s.removeTrack(i.shift())}};this[r.getterName+"Listeners_"]=a;Object.keys(a).forEach((function(t){var i=a[t];n.addEventListener(t,i);e.on("dispose",(function(e){return n.removeEventListener(t,i)}))}));this.on("loadstart",o);this.on("dispose",(function(t){return e.off("loadstart",o)}))};e.proxyNativeTracks_=function t(){var i=this;Xa.names.forEach((function(t){i.proxyNativeTracksForType_(t)}))};e.createEl=function t(){var e=this.options_.tag;if(!e||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(e){var r=e.cloneNode(true);if(e.parentNode){e.parentNode.insertBefore(r,e)}i.disposeMediaElement(e);e=r}else{e=y.createElement("video");var n=this.options_.tag&&Fn(this.options_.tag);var s=Qs({},n);if(!yn||this.options_.nativeControlsForTouch!==true){delete s.controls}qn(e,$r(s,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}if(typeof this.options_.preload!=="undefined"){Vn(e,"preload",this.options_.preload)}if(this.options_.disablePictureInPicture!==undefined){e.disablePictureInPicture=this.options_.disablePictureInPicture}var a=["loop","muted","playsinline","autoplay"];for(var o=0;o<a.length;o++){var u=a[o];var f=this.options_[u];if(typeof f!=="undefined"){if(f){Vn(e,u,u)}else{Hn(e,u)}e[u]=f}}return e};e.handleLateInit_=function t(i){if(i.networkState===0||i.networkState===3){return}if(i.readyState===0){var e=false;var r=function t(){e=true};this.on("loadstart",r);var n=function t(){if(!e){this.trigger("loadstart")}};this.on("loadedmetadata",n);this.ready((function(){this.off("loadstart",r);this.off("loadedmetadata",n);if(!e){this.trigger("loadstart")}}));return}var s=["loadstart"];s.push("loadedmetadata");if(i.readyState>=2){s.push("loadeddata")}if(i.readyState>=3){s.push("canplay")}if(i.readyState>=4){s.push("canplaythrough")}this.ready((function(){s.forEach((function(t){this.trigger(t)}),this)}))};e.setScrubbing=function t(i){this.isScrubbing_=i};e.scrubbing=function t(){return this.isScrubbing_};e.setCurrentTime=function t(i){try{if(this.isScrubbing_&&this.el_.fastSeek&&kn){this.el_.fastSeek(i)}else{this.el_.currentTime=i}}catch(t){Yr(t,"Video is not ready. (Video.js)")}};e.duration=function t(){var i=this;if(this.el_.duration===Infinity&&fn&&dn&&this.el_.currentTime===0){var e=function t(){if(i.el_.currentTime>0){if(i.el_.duration===Infinity){i.trigger("durationchange")}i.off("timeupdate",t)}};this.on("timeupdate",e);return NaN}return this.el_.duration||NaN};e.width=function t(){return this.el_.offsetWidth};e.height=function t(){return this.el_.offsetHeight};e.proxyWebkitFullscreen_=function t(){var i=this;if(!("webkitDisplayingFullscreen"in this.el_)){return}var e=function t(){this.trigger("fullscreenchange",{isFullscreen:false});if(this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()){this.el_.controls=false}};var r=function t(){if("webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"){this.one("webkitendfullscreen",e);this.trigger("fullscreenchange",{isFullscreen:true,nativeIOSFullscreen:true})}};this.on("webkitbeginfullscreen",r);this.on("dispose",(function(){i.off("webkitbeginfullscreen",r);i.off("webkitendfullscreen",e)}))};e.supportsFullScreen=function t(){if(typeof this.el_.webkitEnterFullScreen==="function"){var i=c.navigator&&c.navigator.userAgent||"";if(/Android/.test(i)||!/Chrome|Mac OS X 10.5/.test(i)){return true}}return false};e.enterFullScreen=function t(){var i=this.el_;if(i.paused&&i.networkState<=i.HAVE_METADATA){ha(this.el_.play());this.setTimeout((function(){i.pause();try{i.webkitEnterFullScreen()}catch(t){this.trigger("fullscreenerror",t)}}),0)}else{try{i.webkitEnterFullScreen()}catch(t){this.trigger("fullscreenerror",t)}}};e.exitFullScreen=function t(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()};e.requestPictureInPicture=function t(){return this.el_.requestPictureInPicture()};e.requestVideoFrameCallback=function i(e){if(this.featuresVideoFrameCallback&&!this.el_.webkitKeys){return this.el_.requestVideoFrameCallback(e)}return t.prototype.requestVideoFrameCallback.call(this,e)};e.cancelVideoFrameCallback=function i(e){if(this.featuresVideoFrameCallback&&!this.el_.webkitKeys){this.el_.cancelVideoFrameCallback(e)}else{t.prototype.cancelVideoFrameCallback.call(this,e)}};e.src=function t(i){if(i===undefined){return this.el_.src}this.setSrc(i)};e.reset=function t(){i.resetMediaElement(this.el_)};e.currentSrc=function t(){if(this.currentSource_){return this.currentSource_.src}return this.el_.currentSrc};e.setControls=function t(i){this.el_.controls=!!i};e.addTextTrack=function i(e,r,n){if(!this.featuresNativeTextTracks){return t.prototype.addTextTrack.call(this,e,r,n)}return this.el_.addTextTrack(e,r,n)};e.createRemoteTextTrack=function i(e){if(!this.featuresNativeTextTracks){return t.prototype.createRemoteTextTrack.call(this,e)}var r=y.createElement("track");if(e.kind){r.kind=e.kind}if(e.label){r.label=e.label}if(e.language||e.srclang){r.srclang=e.language||e.srclang}if(e["default"]){r["default"]=e["default"]}if(e.id){r.id=e.id}if(e.src){r.src=e.src}return r};e.addRemoteTextTrack=function i(e,r){var n=t.prototype.addRemoteTextTrack.call(this,e,r);if(this.featuresNativeTextTracks){this.el().appendChild(n)}return n};e.removeRemoteTextTrack=function i(e){t.prototype.removeRemoteTextTrack.call(this,e);if(this.featuresNativeTextTracks){var r=this.$$("track");var n=r.length;while(n--){if(e===r[n]||e===r[n].track){this.el().removeChild(r[n])}}}};e.getVideoPlaybackQuality=function t(){if(typeof this.el().getVideoPlaybackQuality==="function"){return this.el().getVideoPlaybackQuality()}var i={};if(typeof this.el().webkitDroppedFrameCount!=="undefined"&&typeof this.el().webkitDecodedFrameCount!=="undefined"){i.droppedVideoFrames=this.el().webkitDroppedFrameCount;i.totalVideoFrames=this.el().webkitDecodedFrameCount}if(c.performance&&typeof c.performance.now==="function"){i.creationTime=c.performance.now()}else if(c.performance&&c.performance.timing&&typeof c.performance.timing.navigationStart==="number"){i.creationTime=c.Date.now()-c.performance.timing.navigationStart}return i};return i}(Qa);vf(df,"TEST_VID",(function(){if(!In()){return}var t=y.createElement("video");var i=y.createElement("track");i.kind="captions";i.srclang="en";i.label="English";t.appendChild(i);return t}));df.isSupported=function(){try{df.TEST_VID.volume=.5}catch(t){return false}return!!(df.TEST_VID&&df.TEST_VID.canPlayType)};df.canPlayType=function(t){return df.TEST_VID.canPlayType(t)};df.canPlaySource=function(t,i){return df.canPlayType(t.type)};df.canControlVolume=function(){try{var t=df.TEST_VID.volume;df.TEST_VID.volume=t/2+.1;var i=t!==df.TEST_VID.volume;if(i&&Tn){c.setTimeout((function(){if(df&&df.prototype){df.prototype.featuresVolumeControl=t!==df.TEST_VID.volume}}));return false}return i}catch(t){return false}};df.canMuteVolume=function(){try{var t=df.TEST_VID.muted;df.TEST_VID.muted=!t;if(df.TEST_VID.muted){Vn(df.TEST_VID,"muted","muted")}else{Hn(df.TEST_VID,"muted")}return t!==df.TEST_VID.muted}catch(t){return false}};df.canControlPlaybackRate=function(){if(fn&&dn&&pn<58){return false}try{var t=df.TEST_VID.playbackRate;df.TEST_VID.playbackRate=t/2+.1;return t!==df.TEST_VID.playbackRate}catch(t){return false}};df.canOverrideAttributes=function(){try{var t=function t(){};Object.defineProperty(y.createElement("video"),"src",{get:t,set:t});Object.defineProperty(y.createElement("audio"),"src",{get:t,set:t});Object.defineProperty(y.createElement("video"),"innerHTML",{get:t,set:t});Object.defineProperty(y.createElement("audio"),"innerHTML",{get:t,set:t})}catch(t){return false}return true};df.supportsNativeTextTracks=function(){return kn||Tn&&dn};df.supportsNativeVideoTracks=function(){return!!(df.TEST_VID&&df.TEST_VID.videoTracks)};df.supportsNativeAudioTracks=function(){return!!(df.TEST_VID&&df.TEST_VID.audioTracks)};df.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach((function(t){var i=t[0],e=t[1];vf(df.prototype,i,(function(){return df[e]()}),true)}));df.prototype.featuresVolumeControl=df.canControlVolume();df.prototype.movingMediaElementInDOM=!Tn;df.prototype.featuresFullscreenResize=true;df.prototype.featuresProgressEvents=true;df.prototype.featuresTimeupdateEvents=true;df.prototype.featuresVideoFrameCallback=!!(df.TEST_VID&&df.TEST_VID.requestVideoFrameCallback);var pf;df.patchCanPlayType=function(){if(hn>=4&&!ln&&!dn){pf=df.TEST_VID&&df.TEST_VID.constructor.prototype.canPlayType;df.TEST_VID.constructor.prototype.canPlayType=function(t){var i=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;if(t&&i.test(t)){return"maybe"}return pf.call(this,t)}}};df.unpatchCanPlayType=function(){var t=df.TEST_VID.constructor.prototype.canPlayType;if(pf){df.TEST_VID.constructor.prototype.canPlayType=pf}return t};df.patchCanPlayType();df.disposeMediaElement=function(t){if(!t){return}if(t.parentNode){t.parentNode.removeChild(t)}while(t.hasChildNodes()){t.removeChild(t.firstChild)}t.removeAttribute("src");if(typeof t.load==="function"){(function(){try{t.load()}catch(t){}})()}};df.resetMediaElement=function(t){if(!t){return}var i=t.querySelectorAll("source");var e=i.length;while(e--){t.removeChild(i[e])}t.removeAttribute("src");if(typeof t.load==="function"){(function(){try{t.load()}catch(t){}})()}};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(t){df.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}}));["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(t){df.prototype["set"+Ws(t)]=function(i){this.el_[t]=i;if(i){this.el_.setAttribute(t,t)}else{this.el_.removeAttribute(t)}}}));["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach((function(t){df.prototype[t]=function(){return this.el_[t]}}));["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach((function(t){df.prototype["set"+Ws(t)]=function(i){this.el_[t]=i}}));["pause","load","play"].forEach((function(t){df.prototype[t]=function(){return this.el_[t]()}}));Qa.withSourceHandlers(df);df.nativeSourceHandler={};df.nativeSourceHandler.canPlayType=function(t){try{return df.TEST_VID.canPlayType(t)}catch(t){return""}};df.nativeSourceHandler.canHandleSource=function(t,i){if(t.type){return df.nativeSourceHandler.canPlayType(t.type)}else if(t.src){var e=La(t.src);return df.nativeSourceHandler.canPlayType("video/"+e)}return""};df.nativeSourceHandler.handleSource=function(t,i,e){i.setSrc(t.src)};df.nativeSourceHandler.dispose=function(){};df.registerSourceHandler(df.nativeSourceHandler);Qa.registerTech("Html5",df);var mf=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"];var gf={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"};var bf=["tiny","xsmall","small","medium","large","xlarge","huge"];var yf={};bf.forEach((function(t){var i=t.charAt(0)==="x"?"x-"+t.substring(1):t;yf[t]="vjs-layout-"+i}));var jf={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:Infinity};var wf=function(t){D(i,t);function i(e,r,n){var s;e.id=e.id||r.id||"vjs_video_"+vs();r=$r(i.getTagSettings(e),r);r.initChildren=false;r.createEl=false;r.evented=false;r.reportTouchActivity=false;if(!r.language){if(typeof e.closest==="function"){var a=e.closest("[lang]");if(a&&a.getAttribute){r.language=a.getAttribute("lang")}}else{var o=e;while(o&&o.nodeType===1){if(Fn(o).hasOwnProperty("lang")){r.language=o.getAttribute("lang");break}o=o.parentNode}}}s=t.call(this,null,r,n)||this;s.boundDocumentFullscreenChange_=function(t){return s.documentFullscreenChange_(t)};s.boundFullWindowOnEscKey_=function(t){return s.fullWindowOnEscKey(t)};s.boundUpdateStyleEl_=function(t){return s.updateStyleEl_(t)};s.boundApplyInitTime_=function(t){return s.applyInitTime_(t)};s.boundUpdateCurrentBreakpoint_=function(t){return s.updateCurrentBreakpoint_(t)};s.boundHandleTechClick_=function(t){return s.handleTechClick_(t)};s.boundHandleTechDoubleClick_=function(t){return s.handleTechDoubleClick_(t)};s.boundHandleTechTouchStart_=function(t){return s.handleTechTouchStart_(t)};s.boundHandleTechTouchMove_=function(t){return s.handleTechTouchMove_(t)};s.boundHandleTechTouchEnd_=function(t){return s.handleTechTouchEnd_(t)};s.boundHandleTechTap_=function(t){return s.handleTechTap_(t)};s.isFullscreen_=false;s.log=Wr(s.id_);s.fsApi_=Pr;s.isPosterFromTech_=false;s.queuedCallbacks_=[];s.isReady_=false;s.hasStarted_=false;s.userActive_=false;s.debugEnabled_=false;s.audioOnlyMode_=false;s.audioPosterMode_=false;s.audioOnlyCache_={playerHeight:null,hiddenChildren:[]};if(!s.options_||!s.options_.techOrder||!s.options_.techOrder.length){throw new Error("No techOrder specified. Did you overwrite "+"videojs.options instead of just changing the "+"properties you want to override?")}s.tag=e;s.tagAttributes=e&&Fn(e);s.language(s.options_.language);if(r.languages){var u={};Object.getOwnPropertyNames(r.languages).forEach((function(t){u[t.toLowerCase()]=r.languages[t]}));s.languages_=u}else{s.languages_=i.prototype.options_.languages}s.resetCache_();s.poster_=r.poster||"";s.controls_=!!r.controls;e.controls=false;e.removeAttribute("controls");s.changingSrc_=false;s.playCallbacks_=[];s.playTerminatedQueue_=[];if(e.hasAttribute("autoplay")){s.autoplay(true)}else{s.autoplay(s.options_.autoplay)}if(r.plugins){Object.keys(r.plugins).forEach((function(t){if(typeof s[t]!=="function"){throw new Error('plugin "'+t+'" does not exist')}}))}s.scrubbing_=false;s.el_=s.createEl();zs(S(s),{eventBusKey:"el_"});if(s.fsApi_.requestFullscreen){Ts(y,s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_);s.on(s.fsApi_.fullscreenchange,s.boundDocumentFullscreenChange_)}if(s.fluid_){s.on(["playerreset","resize"],s.boundUpdateStyleEl_)}var f=Qs(s.options_);if(r.plugins){Object.keys(r.plugins).forEach((function(t){s[t](r.plugins[t])}))}if(r.debug){s.debug(true)}s.options_.playerOptions=f;s.middleware_=[];s.playbackRates(r.playbackRates);s.initChildren();s.isAudio(e.nodeName.toLowerCase()==="audio");if(s.controls()){s.addClass("vjs-controls-enabled")}else{s.addClass("vjs-controls-disabled")}s.el_.setAttribute("role","region");if(s.isAudio()){s.el_.setAttribute("aria-label",s.localize("Audio Player"))}else{s.el_.setAttribute("aria-label",s.localize("Video Player"))}if(s.isAudio()){s.addClass("vjs-audio")}if(s.flexNotSupported_()){s.addClass("vjs-no-flex")}if(yn){s.addClass("vjs-touch-enabled")}if(!Tn){s.addClass("vjs-workinghover")}i.players[s.id_]=S(s);var h=Rr.split(".")[0];s.addClass("vjs-v"+h);s.userActive(true);s.reportUserActivity();s.one("play",(function(t){return s.listenForUserActivity_(t)}));s.on("stageclick",(function(t){return s.handleStageClick_(t)}));s.on("keydown",(function(t){return s.handleKeyDown(t)}));s.on("languagechange",(function(t){return s.handleLanguagechange(t)}));s.breakpoints(s.options_.breakpoints);s.responsive(s.options_.responsive);s.on("ready",(function(){s.audioPosterMode(s.options_.audioPosterMode);s.audioOnlyMode(s.options_.audioOnlyMode)}));return s}var e=i.prototype;e.dispose=function e(){var r=this;this.trigger("dispose");this.off("dispose");ks(y,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_);ks(y,"keydown",this.boundFullWindowOnEscKey_);if(this.styleEl_&&this.styleEl_.parentNode){this.styleEl_.parentNode.removeChild(this.styleEl_);this.styleEl_=null}i.players[this.id_]=null;if(this.tag&&this.tag.player){this.tag.player=null}if(this.el_&&this.el_.player){this.el_.player=null}if(this.tech_){this.tech_.dispose();this.isPosterFromTech_=false;this.poster_=""}if(this.playerElIngest_){this.playerElIngest_=null}if(this.tag){this.tag=null}co(this);Wa.names.forEach((function(t){var i=Wa[t];var e=r[i.getterName]();if(e&&e.off){e.off()}}));t.prototype.dispose.call(this,{restoreEl:this.options_.restoreEl})};e.createEl=function i(){var e=this.tag;var r;var n=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player");var s=this.tag.tagName.toLowerCase()==="video-js";if(n){r=this.el_=e.parentNode}else if(!s){r=this.el_=t.prototype.createEl.call(this,"div")}var a=Fn(e);if(s){r=this.el_=e;e=this.tag=y.createElement("video");while(r.children.length){e.appendChild(r.firstChild)}if(!Mn(r,"video-js")){Un(r,"video-js")}r.appendChild(e);n=this.playerElIngest_=r;Object.keys(r).forEach((function(t){try{e[t]=r[t]}catch(t){}}))}e.setAttribute("tabindex","-1");a.tabindex="-1";if(mn||dn&&bn){e.setAttribute("role","application");a.role="application"}e.removeAttribute("width");e.removeAttribute("height");if("width"in a){delete a.width}if("height"in a){delete a.height}Object.getOwnPropertyNames(a).forEach((function(t){if(!(s&&t==="class")){r.setAttribute(t,a[t])}if(s){e.setAttribute(t,a[t])}}));e.playerId=e.id;e.id+="_html5_api";e.className="vjs-tech";e.player=r.player=this;this.addClass("vjs-paused");if(c.VIDEOJS_NO_DYNAMIC_STYLE!==true){this.styleEl_=fs("vjs-styles-dimensions");var o=is(".vjs-styles-defaults");var u=is("head");u.insertBefore(this.styleEl_,o?o.nextSibling:u.firstChild)}this.fill_=false;this.fluid_=false;this.width(this.options_.width);this.height(this.options_.height);this.fill(this.options_.fill);this.fluid(this.options_.fluid);this.aspectRatio(this.options_.aspectRatio);this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);var f=e.getElementsByTagName("a");for(var h=0;h<f.length;h++){var l=f.item(h);Un(l,"vjs-hidden");l.setAttribute("hidden","hidden")}e.initNetworkState_=e.networkState;if(e.parentNode&&!n){e.parentNode.insertBefore(r,e)}Cn(e,r);this.children_.unshift(e);this.el_.setAttribute("lang",this.language_);this.el_.setAttribute("translate","no");this.el_=r;return r};e.crossOrigin=function t(i){if(!i){return this.techGet_("crossOrigin")}if(i!=="anonymous"&&i!=="use-credentials"){Yr.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+i+'"');return}this.techCall_("setCrossOrigin",i);return};e.width=function t(i){return this.dimension("width",i)};e.height=function t(i){return this.dimension("height",i)};e.dimension=function t(i,e){var r=i+"_";if(e===undefined){return this[r]||0}if(e===""||e==="auto"){this[r]=undefined;this.updateStyleEl_();return}var n=parseFloat(e);if(isNaN(n)){Yr.error('Improper value "'+e+'" supplied for for '+i);return}this[r]=n;this.updateStyleEl_()};e.fluid=function t(i){var e=this;if(i===undefined){return!!this.fluid_}this.fluid_=!!i;if(Ms(this)){this.off(["playerreset","resize"],this.boundUpdateStyleEl_)}if(i){this.addClass("vjs-fluid");this.fill(false);Us(this,(function(){e.on(["playerreset","resize"],e.boundUpdateStyleEl_)}))}else{this.removeClass("vjs-fluid")}this.updateStyleEl_()};e.fill=function t(i){if(i===undefined){return!!this.fill_}this.fill_=!!i;if(i){this.addClass("vjs-fill");this.fluid(false)}else{this.removeClass("vjs-fill")}};e.aspectRatio=function t(i){if(i===undefined){return this.aspectRatio_}if(!/^\d+\:\d+$/.test(i)){throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.")}this.aspectRatio_=i;this.fluid(true);this.updateStyleEl_()};e.updateStyleEl_=function t(){if(c.VIDEOJS_NO_DYNAMIC_STYLE===true){var i=typeof this.width_==="number"?this.width_:this.options_.width;var e=typeof this.height_==="number"?this.height_:this.options_.height;var r=this.tech_&&this.tech_.el();if(r){if(i>=0){r.width=i}if(e>=0){r.height=e}}return}var n;var s;var a;var o;if(this.aspectRatio_!==undefined&&this.aspectRatio_!=="auto"){a=this.aspectRatio_}else if(this.videoWidth()>0){a=this.videoWidth()+":"+this.videoHeight()}else{a="16:9"}var u=a.split(":");var f=u[1]/u[0];if(this.width_!==undefined){n=this.width_}else if(this.height_!==undefined){n=this.height_/f}else{n=this.videoWidth()||300}if(this.height_!==undefined){s=this.height_}else{s=n*f}if(/^[^a-zA-Z]/.test(this.id())){o="dimensions-"+this.id()}else{o=this.id()+"-dimensions"}this.addClass(o);hs(this.styleEl_,"\n      ."+o+" {\n        width: "+n+"px;\n        height: "+s+"px;\n      }\n\n      ."+o+".vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: "+f*100+"%;\n      }\n    ")};e.loadTech_=function t(i,e){var r=this;if(this.tech_){this.unloadTech_()}var n=Ws(i);var s=i.charAt(0).toLowerCase()+i.slice(1);if(n!=="Html5"&&this.tag){Qa.getTech("Html5").disposeMediaElement(this.tag);this.tag.player=null;this.tag=null}this.techName_=n;this.isReady_=false;var a=this.autoplay();if(typeof this.autoplay()==="string"||this.autoplay()===true&&this.options_.normalizeAutoplay){a=false}var o={source:e,autoplay:a,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+s+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||false,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};Wa.names.forEach((function(t){var i=Wa[t];o[i.getterName]=r[i.privateName]}));$r(o,this.options_[n]);$r(o,this.options_[s]);$r(o,this.options_[i.toLowerCase()]);if(this.tag){o.tag=this.tag}if(e&&e.src===this.cache_.src&&this.cache_.currentTime>0){o.startTime=this.cache_.currentTime}var u=Qa.getTech(i);if(!u){throw new Error("No Tech named '"+n+"' exists! '"+n+"' should be registered using videojs.registerTech()'")}this.tech_=new u(o);this.tech_.ready(Ds(this,this.handleTechReady_),true);da.jsonToTextTracks(this.textTracksJson_||[],this.tech_);mf.forEach((function(t){r.on(r.tech_,t,(function(i){return r["handleTech"+Ws(t)+"_"](i)}))}));Object.keys(gf).forEach((function(t){r.on(r.tech_,t,(function(i){if(r.tech_.playbackRate()===0&&r.tech_.seeking()){r.queuedCallbacks_.push({callback:r["handleTech"+gf[t]+"_"].bind(r),event:i});return}r["handleTech"+gf[t]+"_"](i)}))}));this.on(this.tech_,"loadstart",(function(t){return r.handleTechLoadStart_(t)}));this.on(this.tech_,"sourceset",(function(t){return r.handleTechSourceset_(t)}));this.on(this.tech_,"waiting",(function(t){return r.handleTechWaiting_(t)}));this.on(this.tech_,"ended",(function(t){return r.handleTechEnded_(t)}));this.on(this.tech_,"seeking",(function(t){return r.handleTechSeeking_(t)}));this.on(this.tech_,"play",(function(t){return r.handleTechPlay_(t)}));this.on(this.tech_,"firstplay",(function(t){return r.handleTechFirstPlay_(t)}));this.on(this.tech_,"pause",(function(t){return r.handleTechPause_(t)}));this.on(this.tech_,"durationchange",(function(t){return r.handleTechDurationChange_(t)}));this.on(this.tech_,"fullscreenchange",(function(t,i){return r.handleTechFullscreenChange_(t,i)}));this.on(this.tech_,"fullscreenerror",(function(t,i){return r.handleTechFullscreenError_(t,i)}));this.on(this.tech_,"enterpictureinpicture",(function(t){return r.handleTechEnterPictureInPicture_(t)}));this.on(this.tech_,"leavepictureinpicture",(function(t){return r.handleTechLeavePictureInPicture_(t)}));this.on(this.tech_,"error",(function(t){return r.handleTechError_(t)}));this.on(this.tech_,"posterchange",(function(t){return r.handleTechPosterChange_(t)}));this.on(this.tech_,"textdata",(function(t){return r.handleTechTextData_(t)}));this.on(this.tech_,"ratechange",(function(t){return r.handleTechRateChange_(t)}));this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_);this.usingNativeControls(this.techGet_("controls"));if(this.controls()&&!this.usingNativeControls()){this.addTechControlsListeners_()}if(this.tech_.el().parentNode!==this.el()&&(n!=="Html5"||!this.tag)){Cn(this.tech_.el(),this.el())}if(this.tag){this.tag.player=null;this.tag=null}};e.unloadTech_=function t(){var i=this;Wa.names.forEach((function(t){var e=Wa[t];i[e.privateName]=i[e.getterName]()}));this.textTracksJson_=da.textTracksToJson(this.tech_);this.isReady_=false;this.tech_.dispose();this.tech_=false;if(this.isPosterFromTech_){this.poster_="";this.trigger("posterchange")}this.isPosterFromTech_=false};e.tech=function t(i){if(i===undefined){Yr.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\n"+"See https://github.com/videojs/video.js/issues/2617 for more info.\n")}return this.tech_};e.addTechControlsListeners_=function t(){this.removeTechControlsListeners_();this.on(this.tech_,"click",this.boundHandleTechClick_);this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_);this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_);this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_);this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_);this.on(this.tech_,"tap",this.boundHandleTechTap_)};e.removeTechControlsListeners_=function t(){this.off(this.tech_,"tap",this.boundHandleTechTap_);this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_);this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_);this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_);this.off(this.tech_,"click",this.boundHandleTechClick_);this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)};e.handleTechReady_=function t(){this.triggerReady();if(this.cache_.volume){this.techCall_("setVolume",this.cache_.volume)}this.handleTechPosterChange_();this.handleTechDurationChange_()};e.handleTechLoadStart_=function t(){this.removeClass("vjs-ended");this.removeClass("vjs-seeking");this.error(null);this.handleTechDurationChange_();if(!this.paused()){this.trigger("loadstart");this.trigger("firstplay")}else{this.hasStarted(false);this.trigger("loadstart")}this.manualAutoplay_(this.autoplay()===true&&this.options_.normalizeAutoplay?"play":this.autoplay())};e.manualAutoplay_=function t(i){var e=this;if(!this.tech_||typeof i!=="string"){return}var r=function t(){var i=e.muted();e.muted(true);var r=function t(){e.muted(i)};e.playTerminatedQueue_.push(r);var n=e.play();if(!fa(n)){return}return n["catch"]((function(t){r();throw new Error("Rejection at manualAutoplay. Restoring muted value. "+(t?t:""))}))};var n;if(i==="any"&&!this.muted()){n=this.play();if(fa(n)){n=n["catch"](r)}}else if(i==="muted"&&!this.muted()){n=r()}else{n=this.play()}if(!fa(n)){return}return n.then((function(){e.trigger({type:"autoplay-success",autoplay:i})}))["catch"]((function(){e.trigger({type:"autoplay-failure",autoplay:i})}))};e.updateSourceCaches_=function t(i){if(i===void 0){i=""}var e=i;var r="";if(typeof e!=="string"){e=i.src;r=i.type}this.cache_.source=this.cache_.source||{};this.cache_.sources=this.cache_.sources||[];if(e&&!r){r=go(this,e)}this.cache_.source=Qs({},i,{src:e,type:r});var n=this.cache_.sources.filter((function(t){return t.src&&t.src===e}));var s=[];var a=this.$$("source");var o=[];for(var u=0;u<a.length;u++){var f=Fn(a[u]);s.push(f);if(f.src&&f.src===e){o.push(f.src)}}if(o.length&&!n.length){this.cache_.sources=s}else if(!n.length){this.cache_.sources=[this.cache_.source]}this.cache_.src=e};e.handleTechSourceset_=function t(i){var e=this;if(!this.changingSrc_){var r=function t(i){return e.updateSourceCaches_(i)};var n=this.currentSource().src;var s=i.src;if(n&&!/^blob:/.test(n)&&/^blob:/.test(s)){if(!this.lastSource_||this.lastSource_.tech!==s&&this.lastSource_.player!==n){r=function t(){}}}r(s);if(!i.src){this.tech_.any(["sourceset","loadstart"],(function(t){if(t.type==="sourceset"){return}var i=e.techGet("currentSrc");e.lastSource_.tech=i;e.updateSourceCaches_(i)}))}}this.lastSource_={player:this.currentSource().src,tech:i.src};this.trigger({src:i.src,type:"sourceset"})};e.hasStarted=function t(i){if(i===undefined){return this.hasStarted_}if(i===this.hasStarted_){return}this.hasStarted_=i;if(this.hasStarted_){this.addClass("vjs-has-started");this.trigger("firstplay")}else{this.removeClass("vjs-has-started")}};e.handleTechPlay_=function t(){this.removeClass("vjs-ended");this.removeClass("vjs-paused");this.addClass("vjs-playing");this.hasStarted(true);this.trigger("play")};e.handleTechRateChange_=function t(){if(this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0){this.queuedCallbacks_.forEach((function(t){return t.callback(t.event)}));this.queuedCallbacks_=[]}this.cache_.lastPlaybackRate=this.tech_.playbackRate();this.trigger("ratechange")};e.handleTechWaiting_=function t(){var i=this;this.addClass("vjs-waiting");this.trigger("waiting");var e=this.currentTime();var r=function t(){if(e!==i.currentTime()){i.removeClass("vjs-waiting");i.off("timeupdate",t)}};this.on("timeupdate",r)};e.handleTechCanPlay_=function t(){this.removeClass("vjs-waiting");this.trigger("canplay")};e.handleTechCanPlayThrough_=function t(){this.removeClass("vjs-waiting");this.trigger("canplaythrough")};e.handleTechPlaying_=function t(){this.removeClass("vjs-waiting");this.trigger("playing")};e.handleTechSeeking_=function t(){this.addClass("vjs-seeking");this.trigger("seeking")};e.handleTechSeeked_=function t(){this.removeClass("vjs-seeking");this.removeClass("vjs-ended");this.trigger("seeked")};e.handleTechFirstPlay_=function t(){if(this.options_.starttime){Yr.warn("Passing the `starttime` option to the player will be deprecated in 6.0");this.currentTime(this.options_.starttime)}this.addClass("vjs-has-started");this.trigger("firstplay")};e.handleTechPause_=function t(){this.removeClass("vjs-playing");this.addClass("vjs-paused");this.trigger("pause")};e.handleTechEnded_=function t(){this.addClass("vjs-ended");this.removeClass("vjs-waiting");if(this.options_.loop){this.currentTime(0);this.play()}else if(!this.paused()){this.pause()}this.trigger("ended")};e.handleTechDurationChange_=function t(){this.duration(this.techGet_("duration"))};e.handleTechClick_=function t(i){if(!this.controls_){return}if(this.options_===undefined||this.options_.userActions===undefined||this.options_.userActions.click===undefined||this.options_.userActions.click!==false){if(this.options_!==undefined&&this.options_.userActions!==undefined&&typeof this.options_.userActions.click==="function"){this.options_.userActions.click.call(this,i)}else if(this.paused()){ha(this.play())}else{this.pause()}}};e.handleTechDoubleClick_=function t(i){if(!this.controls_){return}var e=Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),(function(t){return t.contains(i.target)}));if(!e){if(this.options_===undefined||this.options_.userActions===undefined||this.options_.userActions.doubleClick===undefined||this.options_.userActions.doubleClick!==false){if(this.options_!==undefined&&this.options_.userActions!==undefined&&typeof this.options_.userActions.doubleClick==="function"){this.options_.userActions.doubleClick.call(this,i)}else if(this.isFullscreen()){this.exitFullscreen()}else{this.requestFullscreen()}}}};e.handleTechTap_=function t(){this.userActive(!this.userActive())};e.handleTechTouchStart_=function t(){this.userWasActive=this.userActive()};e.handleTechTouchMove_=function t(){if(this.userWasActive){this.reportUserActivity()}};e.handleTechTouchEnd_=function t(i){if(i.cancelable){i.preventDefault()}};e.handleStageClick_=function t(){this.reportUserActivity()};e.toggleFullscreenClass_=function t(){if(this.isFullscreen()){this.addClass("vjs-fullscreen")}else{this.removeClass("vjs-fullscreen")}};e.documentFullscreenChange_=function t(i){var e=i.target.player;if(e&&e!==this){return}var r=this.el();var n=y[this.fsApi_.fullscreenElement]===r;if(!n&&r.matches){n=r.matches(":"+this.fsApi_.fullscreen)}else if(!n&&r.msMatchesSelector){n=r.msMatchesSelector(":"+this.fsApi_.fullscreen)}this.isFullscreen(n)};e.handleTechFullscreenChange_=function t(i,e){var r=this;if(e){if(e.nativeIOSFullscreen){this.addClass("vjs-ios-native-fs");this.tech_.one("webkitendfullscreen",(function(){r.removeClass("vjs-ios-native-fs")}))}this.isFullscreen(e.isFullscreen)}};e.handleTechFullscreenError_=function t(i,e){this.trigger("fullscreenerror",e)};e.togglePictureInPictureClass_=function t(){if(this.isInPictureInPicture()){this.addClass("vjs-picture-in-picture")}else{this.removeClass("vjs-picture-in-picture")}};e.handleTechEnterPictureInPicture_=function t(i){this.isInPictureInPicture(true)};e.handleTechLeavePictureInPicture_=function t(i){this.isInPictureInPicture(false)};e.handleTechError_=function t(){var i=this.tech_.error();this.error(i)};e.handleTechTextData_=function t(){var i=null;if(arguments.length>1){i=arguments[1]}this.trigger("textdata",i)};e.getCache=function t(){return this.cache_};e.resetCache_=function t(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}};e.techCall_=function t(i,e){this.ready((function(){if(i in oo){return no(this.middleware_,this.tech_,i,e)}else if(i in uo){return so(this.middleware_,this.tech_,i,e)}try{if(this.tech_){this.tech_[i](e)}}catch(t){Yr(t);throw t}}),true)};e.techGet_=function t(i){if(!this.tech_||!this.tech_.isReady_){return}if(i in ao){return ro(this.middleware_,this.tech_,i)}else if(i in uo){return so(this.middleware_,this.tech_,i)}try{return this.tech_[i]()}catch(t){if(this.tech_[i]===undefined){Yr("Video.js: "+i+" method not defined for "+this.techName_+" playback technology.",t);throw t}if(t.name==="TypeError"){Yr("Video.js: "+i+" unavailable on "+this.techName_+" playback technology element.",t);this.tech_.isReady_=false;throw t}Yr(t);throw t}};e.play=function t(){var i=this;var e=this.options_.Promise||c.Promise;if(e){return new e((function(t){i.play_(t)}))}return this.play_()};e.play_=function t(i){var e=this;if(i===void 0){i=ha}this.playCallbacks_.push(i);var r=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));var n=Boolean(kn||Tn);if(this.waitToPlay_){this.off(["ready","loadstart"],this.waitToPlay_);this.waitToPlay_=null}if(!this.isReady_||!r){this.waitToPlay_=function(t){e.play_()};this.one(["ready","loadstart"],this.waitToPlay_);if(!r&&n){this.load()}return}var s=this.techGet_("play");var a=n&&this.hasClass("vjs-ended");if(a){this.resetProgressBar_()}if(s===null){this.runPlayTerminatedQueue_()}else{this.runPlayCallbacks_(s)}};e.runPlayTerminatedQueue_=function t(){var i=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[];i.forEach((function(t){t()}))};e.runPlayCallbacks_=function t(i){var e=this.playCallbacks_.slice(0);this.playCallbacks_=[];this.playTerminatedQueue_=[];e.forEach((function(t){t(i)}))};e.pause=function t(){this.techCall_("pause")};e.paused=function t(){return this.techGet_("paused")===false?false:true};e.played=function t(){return this.techGet_("played")||sa(0,0)};e.scrubbing=function t(i){if(typeof i==="undefined"){return this.scrubbing_}this.scrubbing_=!!i;this.techCall_("setScrubbing",this.scrubbing_);if(i){this.addClass("vjs-scrubbing")}else{this.removeClass("vjs-scrubbing")}};e.currentTime=function t(i){if(typeof i!=="undefined"){if(i<0){i=0}if(!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=i;this.off("canplay",this.boundApplyInitTime_);this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",i);this.cache_.initTime=0;return}this.cache_.currentTime=this.techGet_("currentTime")||0;return this.cache_.currentTime};e.applyInitTime_=function t(){this.currentTime(this.cache_.initTime)};e.duration=function t(i){if(i===undefined){return this.cache_.duration!==undefined?this.cache_.duration:NaN}i=parseFloat(i);if(i<0){i=Infinity}if(i!==this.cache_.duration){this.cache_.duration=i;if(i===Infinity){this.addClass("vjs-live")}else{this.removeClass("vjs-live")}if(!isNaN(i)){this.trigger("durationchange")}}};e.remainingTime=function t(){return this.duration()-this.currentTime()};e.remainingTimeDisplay=function t(){return Math.floor(this.duration())-Math.floor(this.currentTime())};e.buffered=function t(){var t=this.techGet_("buffered");if(!t||!t.length){t=sa(0,0)}return t};e.bufferedPercent=function t(){return aa(this.buffered(),this.duration())};e.bufferedEnd=function t(){var i=this.buffered();var e=this.duration();var r=i.end(i.length-1);if(r>e){r=e}return r};e.volume=function t(i){var e;if(i!==undefined){e=Math.max(0,Math.min(1,parseFloat(i)));this.cache_.volume=e;this.techCall_("setVolume",e);if(e>0){this.lastVolume_(e)}return}e=parseFloat(this.techGet_("volume"));return isNaN(e)?1:e};e.muted=function t(i){if(i!==undefined){this.techCall_("setMuted",i);return}return this.techGet_("muted")||false};e.defaultMuted=function t(i){if(i!==undefined){return this.techCall_("setDefaultMuted",i)}return this.techGet_("defaultMuted")||false};e.lastVolume_=function t(i){if(i!==undefined&&i!==0){this.cache_.lastVolume=i;return}return this.cache_.lastVolume};e.supportsFullScreen=function t(){return this.techGet_("supportsFullScreen")||false};e.isFullscreen=function t(i){if(i!==undefined){var e=this.isFullscreen_;this.isFullscreen_=Boolean(i);if(this.isFullscreen_!==e&&this.fsApi_.prefixed){this.trigger("fullscreenchange")}this.toggleFullscreenClass_();return}return this.isFullscreen_};e.requestFullscreen=function t(i){var e=this.options_.Promise||c.Promise;if(e){var r=this;return new e((function(t,e){function n(){r.off("fullscreenerror",a);r.off("fullscreenchange",s)}function s(){n();t()}function a(t,i){n();e(i)}r.one("fullscreenchange",s);r.one("fullscreenerror",a);var o=r.requestFullscreenHelper_(i);if(o){o.then(n,n);o.then(t,e)}}))}return this.requestFullscreenHelper_()};e.requestFullscreenHelper_=function t(i){var e=this;var r;if(!this.fsApi_.prefixed){r=this.options_.fullscreen&&this.options_.fullscreen.options||{};if(i!==undefined){r=i}}if(this.fsApi_.requestFullscreen){var n=this.el_[this.fsApi_.requestFullscreen](r);if(n){n.then((function(){return e.isFullscreen(true)}),(function(){return e.isFullscreen(false)}))}return n}else if(this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow===true){this.techCall_("enterFullScreen")}else{this.enterFullWindow()}};e.exitFullscreen=function t(){var i=this.options_.Promise||c.Promise;if(i){var e=this;return new i((function(t,i){function r(){e.off("fullscreenerror",s);e.off("fullscreenchange",n)}function n(){r();t()}function s(t,e){r();i(e)}e.one("fullscreenchange",n);e.one("fullscreenerror",s);var a=e.exitFullscreenHelper_();if(a){a.then(r,r);a.then(t,i)}}))}return this.exitFullscreenHelper_()};e.exitFullscreenHelper_=function t(){var i=this;if(this.fsApi_.requestFullscreen){var e=y[this.fsApi_.exitFullscreen]();if(e){ha(e.then((function(){return i.isFullscreen(false)})))}return e}else if(this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow===true){this.techCall_("exitFullScreen")}else{this.exitFullWindow()}};e.enterFullWindow=function t(){this.isFullscreen(true);this.isFullWindow=true;this.docOrigOverflow=y.documentElement.style.overflow;Ts(y,"keydown",this.boundFullWindowOnEscKey_);y.documentElement.style.overflow="hidden";Un(y.body,"vjs-full-window");this.trigger("enterFullWindow")};e.fullWindowOnEscKey=function t(i){if(x.isEventKey(i,"Esc")){if(this.isFullscreen()===true){if(!this.isFullWindow){this.exitFullscreen()}else{this.exitFullWindow()}}}};e.exitFullWindow=function t(){this.isFullscreen(false);this.isFullWindow=false;ks(y,"keydown",this.boundFullWindowOnEscKey_);y.documentElement.style.overflow=this.docOrigOverflow;Bn(y.body,"vjs-full-window");this.trigger("exitFullWindow")};e.disablePictureInPicture=function t(i){if(i===undefined){return this.techGet_("disablePictureInPicture")}this.techCall_("setDisablePictureInPicture",i);this.options_.disablePictureInPicture=i;this.trigger("disablepictureinpicturechanged")};e.isInPictureInPicture=function t(i){if(i!==undefined){this.isInPictureInPicture_=!!i;this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_};e.requestPictureInPicture=function t(){if("pictureInPictureEnabled"in y&&this.disablePictureInPicture()===false){return this.techGet_("requestPictureInPicture")}};e.exitPictureInPicture=function t(){if("pictureInPictureEnabled"in y){return y.exitPictureInPicture()}};e.handleKeyDown=function t(i){var e=this.options_.userActions;if(!e||!e.hotkeys){return}var r=function t(i){var e=i.tagName.toLowerCase();if(i.isContentEditable){return true}var r=["button","checkbox","hidden","radio","reset","submit"];if(e==="input"){return r.indexOf(i.type)===-1}var n=["textarea"];return n.indexOf(e)!==-1};if(r(this.el_.ownerDocument.activeElement)){return}if(typeof e.hotkeys==="function"){e.hotkeys.call(this,i)}else{this.handleHotkeys(i)}};e.handleHotkeys=function t(i){var e=this.options_.userActions?this.options_.userActions.hotkeys:{};var r=e.fullscreenKey,n=r===void 0?function(t){return x.isEventKey(t,"f")}:r,s=e.muteKey,a=s===void 0?function(t){return x.isEventKey(t,"m")}:s,o=e.playPauseKey,u=o===void 0?function(t){return x.isEventKey(t,"k")||x.isEventKey(t,"Space")}:o;if(n.call(this,i)){i.preventDefault();i.stopPropagation();var f=ia.getComponent("FullscreenToggle");if(y[this.fsApi_.fullscreenEnabled]!==false){f.prototype.handleClick.call(this,i)}}else if(a.call(this,i)){i.preventDefault();i.stopPropagation();var h=ia.getComponent("MuteToggle");h.prototype.handleClick.call(this,i)}else if(u.call(this,i)){i.preventDefault();i.stopPropagation();var c=ia.getComponent("PlayToggle");c.prototype.handleClick.call(this,i)}};e.canPlayType=function t(i){var e;for(var r=0,n=this.options_.techOrder;r<n.length;r++){var s=n[r];var a=Qa.getTech(s);if(!a){a=ia.getComponent(s)}if(!a){Yr.error('The "'+s+'" tech is undefined. Skipped browser support check for that tech.');continue}if(a.isSupported()){e=a.canPlayType(i);if(e){return e}}}return""};e.selectSource=function t(i){var e=this;var r=this.options_.techOrder.map((function(t){return[t,Qa.getTech(t)]})).filter((function(t){var i=t[0],e=t[1];if(e){return e.isSupported()}Yr.error('The "'+i+'" tech is undefined. Skipped browser support check for that tech.');return false}));var n=function t(i,e,r){var n;i.some((function(t){return e.some((function(i){n=r(t,i);if(n){return true}}))}));return n};var s;var a=function t(i){return function(t,e){return i(e,t)}};var o=function t(i,r){var n=i[0],s=i[1];if(s.canPlaySource(r,e.options_[n.toLowerCase()])){return{source:r,tech:n}}};if(this.options_.sourceOrder){s=n(i,r,a(o))}else{s=n(r,i,o)}return s||false};e.handleSrc_=function t(i,e){var r=this;if(typeof i==="undefined"){return this.cache_.src||""}if(this.resetRetryOnError_){this.resetRetryOnError_()}var n=bo(i);if(!n.length){this.setTimeout((function(){this.error({code:4,message:this.options_.notSupportedMessage})}),0);return}this.changingSrc_=true;if(!e){this.cache_.sources=n}this.updateSourceCaches_(n[0]);io(this,n[0],(function(t,i){r.middleware_=i;if(!e){r.cache_.sources=n}r.updateSourceCaches_(t);var s=r.src_(t);if(s){if(n.length>1){return r.handleSrc_(n.slice(1))}r.changingSrc_=false;r.setTimeout((function(){this.error({code:4,message:this.options_.notSupportedMessage})}),0);r.triggerReady();return}eo(i,r.tech_)}));if(this.options_.retryOnError&&n.length>1){var s=function t(){r.error(null);r.handleSrc_(n.slice(1),true)};var a=function t(){r.off("error",s)};this.one("error",s);this.one("playing",a);this.resetRetryOnError_=function(){r.off("error",s);r.off("playing",a)}}};e.src=function t(i){return this.handleSrc_(i,false)};e.src_=function t(i){var e=this;var r=this.selectSource([i]);if(!r){return true}if(!Js(r.tech,this.techName_)){this.changingSrc_=true;this.loadTech_(r.tech,r.source);this.tech_.ready((function(){e.changingSrc_=false}));return false}this.ready((function(){if(this.tech_.constructor.prototype.hasOwnProperty("setSource")){this.techCall_("setSource",i)}else{this.techCall_("src",i.src)}this.changingSrc_=false}),true);return false};e.load=function t(){this.techCall_("load")};e.reset=function t(){var i=this;var e=this.options_.Promise||c.Promise;if(this.paused()||!e){this.doReset_()}else{var r=this.play();ha(r.then((function(){return i.doReset_()})))}};e.doReset_=function t(){if(this.tech_){this.tech_.clearTracks("text")}this.resetCache_();this.poster("");this.loadTech_(this.options_.techOrder[0],null);this.techCall_("reset");this.resetControlBarUI_();if(Ms(this)){this.trigger("playerreset")}};e.resetControlBarUI_=function t(){this.resetProgressBar_();this.resetPlaybackRate_();this.resetVolumeBar_()};e.resetProgressBar_=function t(){this.currentTime(0);var i=this.controlBar||{},e=i.durationDisplay,r=i.remainingTimeDisplay;if(e){e.updateContent()}if(r){r.updateContent()}};e.resetPlaybackRate_=function t(){this.playbackRate(this.defaultPlaybackRate());this.handleTechRateChange_()};e.resetVolumeBar_=function t(){this.volume(1);this.trigger("volumechange")};e.currentSources=function t(){var i=this.currentSource();var e=[];if(Object.keys(i).length!==0){e.push(i)}return this.cache_.sources||e};e.currentSource=function t(){return this.cache_.source||{}};e.currentSrc=function t(){return this.currentSource()&&this.currentSource().src||""};e.currentType=function t(){return this.currentSource()&&this.currentSource().type||""};e.preload=function t(i){if(i!==undefined){this.techCall_("setPreload",i);this.options_.preload=i;return}return this.techGet_("preload")};e.autoplay=function t(i){if(i===undefined){return this.options_.autoplay||false}var e;if(typeof i==="string"&&/(any|play|muted)/.test(i)||i===true&&this.options_.normalizeAutoplay){this.options_.autoplay=i;this.manualAutoplay_(typeof i==="string"?i:"play");e=false}else if(!i){this.options_.autoplay=false}else{this.options_.autoplay=true}e=typeof e==="undefined"?this.options_.autoplay:e;if(this.tech_){this.techCall_("setAutoplay",e)}};e.playsinline=function t(i){if(i!==undefined){this.techCall_("setPlaysinline",i);this.options_.playsinline=i;return this}return this.techGet_("playsinline")};e.loop=function t(i){if(i!==undefined){this.techCall_("setLoop",i);this.options_.loop=i;return}return this.techGet_("loop")};e.poster=function t(i){if(i===undefined){return this.poster_}if(!i){i=""}if(i===this.poster_){return}this.poster_=i;this.techCall_("setPoster",i);this.isPosterFromTech_=false;this.trigger("posterchange")};e.handleTechPosterChange_=function t(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var i=this.tech_.poster()||"";if(i!==this.poster_){this.poster_=i;this.isPosterFromTech_=true;this.trigger("posterchange")}}};e.controls=function t(i){if(i===undefined){return!!this.controls_}i=!!i;if(this.controls_===i){return}this.controls_=i;if(this.usingNativeControls()){this.techCall_("setControls",i)}if(this.controls_){this.removeClass("vjs-controls-disabled");this.addClass("vjs-controls-enabled");this.trigger("controlsenabled");if(!this.usingNativeControls()){this.addTechControlsListeners_()}}else{this.removeClass("vjs-controls-enabled");this.addClass("vjs-controls-disabled");this.trigger("controlsdisabled");if(!this.usingNativeControls()){this.removeTechControlsListeners_()}}};e.usingNativeControls=function t(i){if(i===undefined){return!!this.usingNativeControls_}i=!!i;if(this.usingNativeControls_===i){return}this.usingNativeControls_=i;if(this.usingNativeControls_){this.addClass("vjs-using-native-controls");this.trigger("usingnativecontrols")}else{this.removeClass("vjs-using-native-controls");this.trigger("usingcustomcontrols")}};e.error=function t(i){var e=this;if(i===undefined){return this.error_||null}Cr("beforeerror").forEach((function(t){var r=t(e,i);if(!(tn(r)&&!Array.isArray(r)||typeof r==="string"||typeof r==="number"||r===null)){e.log.error("please return a value that MediaError expects in beforeerror hooks");return}i=r}));if(this.options_.suppressNotSupportedError&&i&&i.code===4){var r=function t(){this.error(i)};this.options_.suppressNotSupportedError=false;this.any(["click","touchstart"],r);this.one("loadstart",(function(){this.off(["click","touchstart"],r)}));return}if(i===null){this.error_=i;this.removeClass("vjs-error");if(this.errorDisplay){this.errorDisplay.close()}return}this.error_=new oa(i);this.addClass("vjs-error");Yr.error("(CODE:"+this.error_.code+" "+oa.errorTypes[this.error_.code]+")",this.error_.message,this.error_);this.trigger("error");Cr("error").forEach((function(t){return t(e,e.error_)}));return};e.reportUserActivity=function t(i){this.userActivity_=true};e.userActive=function t(i){if(i===undefined){return this.userActive_}i=!!i;if(i===this.userActive_){return}this.userActive_=i;if(this.userActive_){this.userActivity_=true;this.removeClass("vjs-user-inactive");this.addClass("vjs-user-active");this.trigger("useractive");return}if(this.tech_){this.tech_.one("mousemove",(function(t){t.stopPropagation();t.preventDefault()}))}this.userActivity_=false;this.removeClass("vjs-user-active");this.addClass("vjs-user-inactive");this.trigger("userinactive")};e.listenForUserActivity_=function t(){var i;var e;var r;var n=Ds(this,this.reportUserActivity);var s=function t(i){if(i.screenX!==e||i.screenY!==r){e=i.screenX;r=i.screenY;n()}};var a=function t(){n();this.clearInterval(i);i=this.setInterval(n,250)};var o=function t(e){n();this.clearInterval(i)};this.on("mousedown",a);this.on("mousemove",s);this.on("mouseup",o);this.on("mouseleave",o);var u=this.getChild("controlBar");if(u&&!Tn&&!fn){u.on("mouseenter",(function(t){if(this.player().options_.inactivityTimeout!==0){this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout}this.player().options_.inactivityTimeout=0}));u.on("mouseleave",(function(t){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout}))}this.on("keydown",n);this.on("keyup",n);var f;this.setInterval((function(){if(!this.userActivity_){return}this.userActivity_=false;this.userActive(true);this.clearTimeout(f);var t=this.options_.inactivityTimeout;if(t<=0){return}f=this.setTimeout((function(){if(!this.userActivity_){this.userActive(false)}}),t)}),250)};e.playbackRate=function t(i){if(i!==undefined){this.techCall_("setPlaybackRate",i);return}if(this.tech_&&this.tech_.featuresPlaybackRate){return this.cache_.lastPlaybackRate||this.techGet_("playbackRate")}return 1};e.defaultPlaybackRate=function t(i){if(i!==undefined){return this.techCall_("setDefaultPlaybackRate",i)}if(this.tech_&&this.tech_.featuresPlaybackRate){return this.techGet_("defaultPlaybackRate")}return 1};e.isAudio=function t(i){if(i!==undefined){this.isAudio_=!!i;return}return!!this.isAudio_};e.enableAudioOnlyUI_=function t(){var i=this;this.addClass("vjs-audio-only-mode");var e=this.children();var r=this.getChild("ControlBar");var n=r&&r.currentHeight();e.forEach((function(t){if(t===r){return}if(t.el_&&!t.hasClass("vjs-hidden")){t.hide();i.audioOnlyCache_.hiddenChildren.push(t)}}));this.audioOnlyCache_.playerHeight=this.currentHeight();this.height(n);this.trigger("audioonlymodechange")};e.disableAudioOnlyUI_=function t(){this.removeClass("vjs-audio-only-mode");this.audioOnlyCache_.hiddenChildren.forEach((function(t){return t.show()}));this.height(this.audioOnlyCache_.playerHeight);this.trigger("audioonlymodechange")};e.audioOnlyMode=function t(i){var e=this;if(typeof i!=="boolean"||i===this.audioOnlyMode_){return this.audioOnlyMode_}this.audioOnlyMode_=i;var r=this.options_.Promise||c.Promise;if(r){if(i){var n=[];if(this.isInPictureInPicture()){n.push(this.exitPictureInPicture())}if(this.isFullscreen()){n.push(this.exitFullscreen())}if(this.audioPosterMode()){n.push(this.audioPosterMode(false))}return r.all(n).then((function(){return e.enableAudioOnlyUI_()}))}return r.resolve().then((function(){return e.disableAudioOnlyUI_()}))}if(i){if(this.isInPictureInPicture()){this.exitPictureInPicture()}if(this.isFullscreen()){this.exitFullscreen()}this.enableAudioOnlyUI_()}else{this.disableAudioOnlyUI_()}};e.enablePosterModeUI_=function t(){var i=this.tech_&&this.tech_;i.hide();this.addClass("vjs-audio-poster-mode");this.trigger("audiopostermodechange")};e.disablePosterModeUI_=function t(){var i=this.tech_&&this.tech_;i.show();this.removeClass("vjs-audio-poster-mode");this.trigger("audiopostermodechange")};e.audioPosterMode=function t(i){var e=this;if(typeof i!=="boolean"||i===this.audioPosterMode_){return this.audioPosterMode_}this.audioPosterMode_=i;var r=this.options_.Promise||c.Promise;if(r){if(i){if(this.audioOnlyMode()){var n=this.audioOnlyMode(false);return n.then((function(){e.enablePosterModeUI_()}))}return r.resolve().then((function(){e.enablePosterModeUI_()}))}return r.resolve().then((function(){e.disablePosterModeUI_()}))}if(i){if(this.audioOnlyMode()){this.audioOnlyMode(false)}this.enablePosterModeUI_();return}this.disablePosterModeUI_()};e.addTextTrack=function t(i,e,r){if(this.tech_){return this.tech_.addTextTrack(i,e,r)}};e.addRemoteTextTrack=function t(i,e){if(this.tech_){return this.tech_.addRemoteTextTrack(i,e)}};e.removeRemoteTextTrack=function t(i){if(i===void 0){i={}}var e=i,r=e.track;if(!r){r=i}if(this.tech_){return this.tech_.removeRemoteTextTrack(r)}};e.getVideoPlaybackQuality=function t(){return this.techGet_("getVideoPlaybackQuality")};e.videoWidth=function t(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0};e.videoHeight=function t(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0};e.language=function t(i){if(i===undefined){return this.language_}if(this.language_!==String(i).toLowerCase()){this.language_=String(i).toLowerCase();if(Ms(this)){this.trigger("languagechange")}}};e.languages=function t(){return Qs(i.prototype.options_.languages,this.languages_)};e.toJSON=function t(){var i=Qs(this.options_);var e=i.tracks;i.tracks=[];for(var r=0;r<e.length;r++){var n=e[r];n=Qs(n);n.player=undefined;i.tracks[r]=n}return i};e.createModal=function t(i,e){var r=this;e=e||{};e.content=i||"";var n=new ma(this,e);this.addChild(n);n.on("dispose",(function(){r.removeChild(n)}));n.open();return n};e.updateCurrentBreakpoint_=function t(){if(!this.responsive()){return}var i=this.currentBreakpoint();var e=this.currentWidth();for(var r=0;r<bf.length;r++){var n=bf[r];var s=this.breakpoints_[n];if(e<=s){if(i===n){return}if(i){this.removeClass(yf[i])}this.addClass(yf[n]);this.breakpoint_=n;break}}};e.removeCurrentBreakpoint_=function t(){var i=this.currentBreakpointClass();this.breakpoint_="";if(i){this.removeClass(i)}};e.breakpoints=function t(i){if(i===undefined){return $r(this.breakpoints_)}this.breakpoint_="";this.breakpoints_=$r({},jf,i);this.updateCurrentBreakpoint_();return $r(this.breakpoints_)};e.responsive=function t(i){if(i===undefined){return this.responsive_}i=Boolean(i);var e=this.responsive_;if(i===e){return}this.responsive_=i;if(i){this.on("playerresize",this.boundUpdateCurrentBreakpoint_);this.updateCurrentBreakpoint_()}else{this.off("playerresize",this.boundUpdateCurrentBreakpoint_);this.removeCurrentBreakpoint_()}return i};e.currentBreakpoint=function t(){return this.breakpoint_};e.currentBreakpointClass=function t(){return yf[this.breakpoint_]||""};e.loadMedia=function t(i,e){var r=this;if(!i||typeof i!=="object"){return}this.reset();this.cache_.media=Qs(i);var n=this.cache_.media,s=n.artwork,a=n.poster,o=n.src,u=n.textTracks;if(!s&&a){this.cache_.media.artwork=[{src:a,type:mo(a)}]}if(o){this.src(o)}if(a){this.poster(a)}if(Array.isArray(u)){u.forEach((function(t){return r.addRemoteTextTrack(t,false)}))}this.ready(e)};e.getMedia=function t(){if(!this.cache_.media){var i=this.poster();var e=this.currentSources();var r=Array.prototype.map.call(this.remoteTextTracks(),(function(t){return{kind:t.kind,label:t.label,language:t.language,src:t.src}}));var n={src:e,textTracks:r};if(i){n.poster=i;n.artwork=[{src:n.poster,type:mo(n.poster)}]}return n}return Qs(this.cache_.media)};i.getTagSettings=function t(i){var e={sources:[],tracks:[]};var r=Fn(i);var n=r["data-setup"];if(Mn(i,"vjs-fill")){r.fill=true}if(Mn(i,"vjs-fluid")){r.fluid=true}if(n!==null){var s=C(n||"{}"),a=s[0],o=s[1];if(a){Yr.error(a)}$r(r,o)}$r(e,r);if(i.hasChildNodes()){var u=i.childNodes;for(var f=0,h=u.length;f<h;f++){var c=u[f];var l=c.nodeName.toLowerCase();if(l==="source"){e.sources.push(Fn(c))}else if(l==="track"){e.tracks.push(Fn(c))}}}return e};e.flexNotSupported_=function t(){var i=y.createElement("i");return!("flexBasis"in i.style||"webkitFlexBasis"in i.style||"mozFlexBasis"in i.style||"msFlexBasis"in i.style||"msFlexOrder"in i.style)};e.debug=function t(i){if(i===undefined){return this.debugEnabled_}if(i){this.trigger("debugon");this.previousLogLevel_=this.log.level;this.log.level("debug");this.debugEnabled_=true}else{this.trigger("debugoff");this.log.level(this.previousLogLevel_);this.previousLogLevel_=undefined;this.debugEnabled_=false}};e.playbackRates=function t(i){if(i===undefined){return this.cache_.playbackRates}if(!Array.isArray(i)){return}if(!i.every((function(t){return typeof t==="number"}))){return}this.cache_.playbackRates=i;this.trigger("playbackrateschange")};return i}(ia);Wa.names.forEach((function(t){var i=Wa[t];wf.prototype[i.getterName]=function(){if(this.tech_){return this.tech_[i.getterName]()}this[i.privateName]=this[i.privateName]||new i.ListClass;return this[i.privateName]}}));wf.prototype.crossorigin=wf.prototype.crossOrigin;wf.players={};var Tf=c.navigator;wf.prototype.options_={techOrder:Qa.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:false,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Tf&&(Tf.languages&&Tf.languages[0]||Tf.userLanguage||Tf.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:false,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:false,audioOnlyMode:false,audioPosterMode:false};["ended","seeking","seekable","networkState","readyState"].forEach((function(t){wf.prototype[t]=function(){return this.techGet_(t)}}));mf.forEach((function(t){wf.prototype["handleTech"+Ws(t)+"_"]=function(){return this.trigger(t)}}));ia.registerComponent("Player",wf);var kf="plugin";var Af="activePlugins_";var Ef={};var xf=function t(i){return Ef.hasOwnProperty(i)};var Sf=function t(i){return xf(i)?Ef[i]:undefined};var If=function t(i,e){i[Af]=i[Af]||{};i[Af][e]=true};var Df=function t(i,e,r){var n=(r?"before":"")+"pluginsetup";i.trigger(n,e);i.trigger(n+":"+e.name,e)};var Nf=function t(i,e){var r=function t(){Df(this,{name:i,plugin:e,instance:null},true);var r=e.apply(this,arguments);If(this,i);Df(this,{name:i,plugin:e,instance:r});return r};Object.keys(e).forEach((function(t){r[t]=e[t]}));return r};var Of=function t(i,e){e.prototype.name=i;return function(){Df(this,{name:i,plugin:e,instance:null},true);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}var s=ut(e,[this].concat(r));this[i]=function(){return s};Df(this,s.getEventHash());return s}};var Rf=function(){function t(i){if(this.constructor===t){throw new Error("Plugin must be sub-classed; not directly instantiated.")}this.player=i;if(!this.log){this.log=this.player.log.createLogger(this.name)}zs(this);delete this.trigger;Xs(this,this.constructor.defaultState);If(i,this.name);this.dispose=this.dispose.bind(this);i.on("dispose",this.dispose)}var i=t.prototype;i.version=function t(){return this.constructor.VERSION};i.getEventHash=function t(i){if(i===void 0){i={}}i.name=this.name;i.plugin=this.constructor;i.instance=this;return i};i.trigger=function t(i,e){if(e===void 0){e={}}return As(this.eventBusEl_,i,this.getEventHash(e))};i.handleStateChanged=function t(i){};i.dispose=function t(){var i=this.name,e=this.player;this.trigger("dispose");this.off();e.off("dispose",this.dispose);e[Af][i]=false;this.player=this.state=null;e[i]=Of(i,Ef[i])};t.isBasic=function i(e){var r=typeof e==="string"?Sf(e):e;return typeof r==="function"&&!t.prototype.isPrototypeOf(r.prototype)};t.registerPlugin=function i(e,r){if(typeof e!=="string"){throw new Error('Illegal plugin name, "'+e+'", must be a string, was '+typeof e+".")}if(xf(e)){Yr.warn('A plugin named "'+e+'" already exists. You may want to avoid re-registering plugins!')}else if(wf.prototype.hasOwnProperty(e)){throw new Error('Illegal plugin name, "'+e+'", cannot share a name with an existing player method!')}if(typeof r!=="function"){throw new Error('Illegal plugin for "'+e+'", must be a function, was '+typeof r+".")}Ef[e]=r;if(e!==kf){if(t.isBasic(r)){wf.prototype[e]=Nf(e,r)}else{wf.prototype[e]=Of(e,r)}}return r};t.deregisterPlugin=function t(i){if(i===kf){throw new Error("Cannot de-register base plugin.")}if(xf(i)){delete Ef[i];delete wf.prototype[i]}};t.getPlugins=function t(i){if(i===void 0){i=Object.keys(Ef)}var e;i.forEach((function(t){var i=Sf(t);if(i){e=e||{};e[t]=i}}));return e};t.getPluginVersion=function t(i){var e=Sf(i);return e&&e.VERSION||""};return t}();Rf.getPlugin=Sf;Rf.BASE_PLUGIN_NAME=kf;Rf.registerPlugin(kf,Rf);wf.prototype.usingPlugin=function(t){return!!this[Af]&&this[Af][t]===true};wf.prototype.hasPlugin=function(t){return!!xf(t)};var Lf=false;var Cf=function t(i,e){if(e===void 0){e={}}if(!Lf){Yr.warn("videojs.extend is deprecated as of Video.js 7.22.0 and will be removed in Video.js 8.0.0");Lf=true}var r=function t(){i.apply(this,arguments)};var n={};if(typeof e==="object"){if(e.constructor!==Object.prototype.constructor){r=e.constructor}n=e}else if(typeof e==="function"){r=e}ft(r,i);if(i){r.super_=i}for(var s in n){if(n.hasOwnProperty(s)){r.prototype[s]=n[s]}}return r};var Mf=function t(i){return i.indexOf("#")===0?i.slice(1):i};function Uf(t,i,e){var r=Uf.getPlayer(t);if(r){if(i){Yr.warn('Player "'+t+'" is already initialised. Options will not be applied.')}if(e){r.ready(e)}return r}var n=typeof t==="string"?is("#"+Mf(t)):t;if(!Dn(n)){throw new TypeError("The element or ID supplied is not valid. (videojs)")}if(!n.ownerDocument.defaultView||!n.ownerDocument.body.contains(n)){Yr.warn("The element supplied is not included in the DOM")}i=i||{};if(i.restoreEl===true){i.restoreEl=(n.parentNode&&n.parentNode.hasAttribute("data-vjs-player")?n.parentNode:n).cloneNode(true)}Cr("beforesetup").forEach((function(t){var e=t(n,Qs(i));if(!tn(e)||Array.isArray(e)){Yr.error("please return an object in beforesetup hooks");return}i=Qs(i,e)}));var s=ia.getComponent("Player");r=new s(n,i,e);Cr("setup").forEach((function(t){return t(r)}));return r}Uf.hooks_=Lr;Uf.hooks=Cr;Uf.hook=Mr;Uf.hookOnce=Br;Uf.removeHook=Ur;if(c.VIDEOJS_NO_DYNAMIC_STYLE!==true&&In()){var Bf=is(".vjs-styles-defaults");if(!Bf){Bf=fs("vjs-styles-defaults");var Pf=is("head");if(Pf){Pf.insertBefore(Bf,Pf.firstChild)}hs(Bf,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: 56.25%\n      }\n    ")}}os(1,Uf);Uf.VERSION=Rr;Uf.options=wf.prototype.options_;Uf.getPlayers=function(){return wf.players};Uf.getPlayer=function(t){var i=wf.players;var e;if(typeof t==="string"){var r=Mf(t);var n=i[r];if(n){return n}e=is("#"+r)}else{e=t}if(Dn(e)){var s=e,a=s.player,o=s.playerId;if(a||i[o]){return a||i[o]}}};Uf.getAllPlayers=function(){return Object.keys(wf.players).map((function(t){return wf.players[t]})).filter(Boolean)};Uf.players=wf.players;Uf.getComponent=ia.getComponent;Uf.registerComponent=function(t,i){if(Qa.isTech(i)){Yr.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)")}ia.registerComponent.call(ia,t,i)};Uf.getTech=Qa.getTech;Uf.registerTech=Qa.registerTech;Uf.use=to;Object.defineProperty(Uf,"middleware",{value:{},writeable:false,enumerable:true});Object.defineProperty(Uf.middleware,"TERMINATOR",{value:$a,writeable:false,enumerable:true});Uf.browser=An;Uf.TOUCH_ENABLED=yn;Uf.extend=Cf;Uf.mergeOptions=Qs;Uf.bind=Ds;Uf.registerPlugin=Rf.registerPlugin;Uf.deregisterPlugin=Rf.deregisterPlugin;Uf.plugin=function(t,i){Yr.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead");return Rf.registerPlugin(t,i)};Uf.getPlugins=Rf.getPlugins;Uf.getPlugin=Rf.getPlugin;Uf.getPluginVersion=Rf.getPluginVersion;Uf.addLanguage=function(t,i){var e;t=(""+t).toLowerCase();Uf.options.languages=Qs(Uf.options.languages,(e={},e[t]=i,e));return Uf.options.languages[t]};Uf.log=Yr;Uf.createLogger=Wr;Uf.createTimeRange=Uf.createTimeRanges=sa;Uf.formatTime=Po;Uf.setFormatTime=Uo;Uf.resetFormatTime=Bo;Uf.parseUrl=Oa;Uf.isCrossOrigin=Ca;Uf.EventTarget=Rs;Uf.on=Ts;Uf.one=Es;Uf.off=ks;Uf.trigger=As;Uf.xhr=X;Uf.TextTrack=Pa;Uf.AudioTrack=qa;Uf.VideoTrack=Fa;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach((function(t){Uf[t]=function(){Yr.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead");return rs[t].apply(null,arguments)}}));Uf.computedStyle=rn;Uf.dom=rs;Uf.url=Ma;Uf.defineLazyProperty=vf;Uf.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});
/*! @name @videojs/http-streaming @version 2.16.3 @license Apache-2.0 */var qf=mt;var Ff=function t(i,e,r){if(i&&r&&r.responseURL&&e!==r.responseURL){return r.responseURL}return e};var _f=function t(i){if(Uf.log.debug){return Uf.log.debug.bind(Uf,"VHS:",i+" >")}return function(){}};var Vf=1/30;var Hf=Vf*3;var zf=function t(i,e){var r=[];var n;if(i&&i.length){for(n=0;n<i.length;n++){if(e(i.start(n),i.end(n))){r.push([i.start(n),i.end(n)])}}}return Uf.createTimeRanges(r)};var Gf=function t(i,e){return zf(i,(function(t,i){return t-Hf<=e&&i+Hf>=e}))};var Xf=function t(i,e){return zf(i,(function(t){return t-Vf>=e}))};var Yf=function t(i){if(i.length<2){return Uf.createTimeRanges()}var e=[];for(var r=1;r<i.length;r++){var n=i.end(r-1);var s=i.start(r);e.push([n,s])}return Uf.createTimeRanges(e)};var Wf=function t(i,e){var r=null;var n=null;var s=0;var a=[];var o=[];if(!i||!i.length||!e||!e.length){return Uf.createTimeRange()}var u=i.length;while(u--){a.push({time:i.start(u),type:"start"});a.push({time:i.end(u),type:"end"})}u=e.length;while(u--){a.push({time:e.start(u),type:"start"});a.push({time:e.end(u),type:"end"})}a.sort((function(t,i){return t.time-i.time}));for(u=0;u<a.length;u++){if(a[u].type==="start"){s++;if(s===2){r=a[u].time}}else if(a[u].type==="end"){s--;if(s===1){n=a[u].time}}if(r!==null&&n!==null){o.push([r,n]);r=null;n=null}}return Uf.createTimeRanges(o)};var Jf=function t(i){var e=[];if(!i||!i.length){return""}for(var r=0;r<i.length;r++){e.push(i.start(r)+" => "+i.end(r))}return e.join(", ")};var Qf=function t(i,e,r){if(r===void 0){r=1}var n=i.length?i.end(i.length-1):0;return(n-e)/r};var Kf=function t(i){var e=[];for(var r=0;r<i.length;r++){e.push({start:i.start(r),end:i.end(r)})}return e};var Zf=function t(i,e){if(i===e){return false}if(!i&&e||!e&&i){return true}if(i.length!==e.length){return true}for(var r=0;r<i.length;r++){if(i.start(r)!==e.start(r)||i.end(r)!==e.end(r)){return true}}return false};var $f=function t(i){if(!i||!i.length||!i.end){return}return i.end(i.length-1)};var th=function t(i,e){var r=0;if(!i||!i.length){return r}for(var n=0;n<i.length;n++){var s=i.start(n);var a=i.end(n);if(e>a){continue}if(e>s&&e<=a){r+=a-e;continue}r+=a-s}return r};var ih=Uf.createTimeRange;var eh=function t(i,e){if(!e.preload){return e.duration}var r=0;(e.parts||[]).forEach((function(t){r+=t.duration}));(e.preloadHints||[]).forEach((function(t){if(t.type==="PART"){r+=i.partTargetDuration}}));return r};var rh=function t(i){return(i.segments||[]).reduce((function(t,i,e){if(i.parts){i.parts.forEach((function(r,n){t.push({duration:r.duration,segmentIndex:e,partIndex:n,part:r,segment:i})}))}else{t.push({duration:i.duration,segmentIndex:e,partIndex:null,segment:i,part:null})}return t}),[])};var nh=function t(i){var e=i.segments&&i.segments.length&&i.segments[i.segments.length-1];return e&&e.parts||[]};var sh=function t(i){var e=i.preloadSegment;if(!e){return}var r=e.parts,n=e.preloadHints;var s=(n||[]).reduce((function(t,i){return t+(i.type==="PART"?1:0)}),0);s+=r&&r.length?r.length:0;return s};var ah=function t(i,e){if(e.endList){return 0}if(i&&i.suggestedPresentationDelay){return i.suggestedPresentationDelay}var r=nh(e).length>0;if(r&&e.serverControl&&e.serverControl.partHoldBack){return e.serverControl.partHoldBack}else if(r&&e.partTargetDuration){return e.partTargetDuration*3}else if(e.serverControl&&e.serverControl.holdBack){return e.serverControl.holdBack}else if(e.targetDuration){return e.targetDuration*3}return 0};var oh=function t(i,e){var r=0;var n=e-i.mediaSequence;var s=i.segments[n];if(s){if(typeof s.start!=="undefined"){return{result:s.start,precise:true}}if(typeof s.end!=="undefined"){return{result:s.end-s.duration,precise:true}}}while(n--){s=i.segments[n];if(typeof s.end!=="undefined"){return{result:r+s.end,precise:true}}r+=eh(i,s);if(typeof s.start!=="undefined"){return{result:r+s.start,precise:true}}}return{result:r,precise:false}};var uh=function t(i,e){var r=0;var n;var s=e-i.mediaSequence;for(;s<i.segments.length;s++){n=i.segments[s];if(typeof n.start!=="undefined"){return{result:n.start-r,precise:true}}r+=eh(i,n);if(typeof n.end!=="undefined"){return{result:n.end-r,precise:true}}}return{result:-1,precise:false}};var fh=function t(i,e,r){if(typeof e==="undefined"){e=i.mediaSequence+i.segments.length}if(e<i.mediaSequence){return 0}var n=oh(i,e);if(n.precise){return n.result}var s=uh(i,e);if(s.precise){return s.result}return n.result+r};var hh=function t(i,e,r){if(!i){return 0}if(typeof r!=="number"){r=0}if(typeof e==="undefined"){if(i.totalDuration){return i.totalDuration}if(!i.endList){return c.Infinity}}return fh(i,e,r)};var ch=function t(i){var e=i.defaultDuration,r=i.durationList,n=i.startIndex,s=i.endIndex;var a=0;if(n>s){var o=[s,n];n=o[0];s=o[1]}if(n<0){for(var u=n;u<Math.min(0,s);u++){a+=e}n=0}for(var f=n;f<s;f++){a+=r[f].duration}return a};var lh=function t(i,e,r,n){if(!i||!i.segments){return null}if(i.endList){return hh(i)}if(e===null){return null}e=e||0;var s=fh(i,i.mediaSequence+i.segments.length,e);if(r){n=typeof n==="number"?n:ah(null,i);s-=n}return Math.max(0,s)};var vh=function t(i,e,r){var n=true;var s=e||0;var a=lh(i,e,n,r);if(a===null){return ih()}return ih(s,a)};var dh=function t(i){var e=i.playlist,r=i.currentTime,n=i.startingSegmentIndex,s=i.startingPartIndex,a=i.startTime,o=i.experimentalExactManifestTimings;var u=r-a;var f=rh(e);var h=0;for(var c=0;c<f.length;c++){var l=f[c];if(n!==l.segmentIndex){continue}if(typeof s==="number"&&typeof l.partIndex==="number"&&s!==l.partIndex){continue}h=c;break}if(u<0){if(h>0){for(var v=h-1;v>=0;v--){var d=f[v];u+=d.duration;if(o){if(u<0){continue}}else if(u+Vf<=0){continue}return{partIndex:d.partIndex,segmentIndex:d.segmentIndex,startTime:a-ch({defaultDuration:e.targetDuration,durationList:f,startIndex:h,endIndex:v})}}}return{partIndex:f[0]&&f[0].partIndex||null,segmentIndex:f[0]&&f[0].segmentIndex||0,startTime:r}}if(h<0){for(var p=h;p<0;p++){u-=e.targetDuration;if(u<0){return{partIndex:f[0]&&f[0].partIndex||null,segmentIndex:f[0]&&f[0].segmentIndex||0,startTime:r}}}h=0}for(var m=h;m<f.length;m++){var g=f[m];u-=g.duration;if(o){if(u>0){continue}}else if(u-Vf>=0){continue}return{partIndex:g.partIndex,segmentIndex:g.segmentIndex,startTime:a+ch({defaultDuration:e.targetDuration,durationList:f,startIndex:h,endIndex:m})}}return{segmentIndex:f[f.length-1].segmentIndex,partIndex:f[f.length-1].partIndex,startTime:r}};var ph=function t(i){return i.excludeUntil&&i.excludeUntil>Date.now()};var mh=function t(i){return i.excludeUntil&&i.excludeUntil===Infinity};var gh=function t(i){var e=ph(i);return!i.disabled&&!e};var bh=function t(i){return i.disabled};var yh=function t(i){for(var e=0;e<i.segments.length;e++){if(i.segments[e].key){return true}}return false};var jh=function t(i,e){return e.attributes&&e.attributes[i]};var wh=function t(i,e,r,n){if(n===void 0){n=0}if(!jh("BANDWIDTH",r)){return NaN}var s=i*r.attributes.BANDWIDTH;return(s-n*8)/e};var Th=function t(i,e){if(i.playlists.length===1){return true}var r=e.attributes.BANDWIDTH||Number.MAX_VALUE;return i.playlists.filter((function(t){if(!gh(t)){return false}return(t.attributes.BANDWIDTH||0)<r})).length===0};var kh=function t(i,e){if(!i&&!e||!i&&e||i&&!e){return false}if(i===e){return true}if(i.id&&e.id&&i.id===e.id){return true}if(i.resolvedUri&&e.resolvedUri&&i.resolvedUri===e.resolvedUri){return true}if(i.uri&&e.uri&&i.uri===e.uri){return true}return false};var Ah=function t(i,e){var r=i&&i.mediaGroups&&i.mediaGroups.AUDIO||{};var n=false;for(var s in r){for(var a in r[s]){n=e(r[s][a]);if(n){break}}if(n){break}}return!!n};var Eh=function t(i){if(!i||!i.playlists||!i.playlists.length){var e=Ah(i,(function(t){return t.playlists&&t.playlists.length||t.uri}));return e}var r=function t(e){var r=i.playlists[e];var n=r.attributes&&r.attributes.CODECS;if(n&&n.split(",").every((function(t){return Ut(t)}))){return"continue"}var s=Ah(i,(function(t){return kh(r,t)}));if(s){return"continue"}return{v:false}};for(var n=0;n<i.playlists.length;n++){var s=r(n);if(s==="continue")continue;if(typeof s==="object")return s.v}return true};var xh={liveEdgeDelay:ah,duration:hh,seekable:vh,getMediaInfoForTime:dh,isEnabled:gh,isDisabled:bh,isBlacklisted:ph,isIncompatible:mh,playlistEnd:lh,isAes:yh,hasAttribute:jh,estimateSegmentRequestTime:wh,isLowestEnabledRendition:Th,isAudioOnly:Eh,playlistMatch:kh,segmentDurationWithParts:eh};var Sh=Uf.log;var Ih=function t(i,e){return i+"-"+e};var Dh=function t(i,e,r){return"placeholder-uri-"+i+"-"+e+"-"+r};var Nh=function t(i){var e=i.onwarn,r=i.oninfo,n=i.manifestString,s=i.customTagParsers,a=s===void 0?[]:s,o=i.customTagMappers,u=o===void 0?[]:o,f=i.experimentalLLHLS;var h=new Dt;if(e){h.on("warn",e)}if(r){h.on("info",r)}a.forEach((function(t){return h.addParser(t)}));u.forEach((function(t){return h.addTagMapper(t)}));h.push(n);h.end();var c=h.manifest;if(!f){["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach((function(t){if(c.hasOwnProperty(t)){delete c[t]}}));if(c.segments){c.segments.forEach((function(t){["parts","preloadHints"].forEach((function(i){if(t.hasOwnProperty(i)){delete t[i]}}))}))}}if(!c.targetDuration){var l=10;if(c.segments&&c.segments.length){l=c.segments.reduce((function(t,i){return Math.max(t,i.duration)}),0)}if(e){e("manifest has no targetDuration defaulting to "+l)}c.targetDuration=l}var v=nh(c);if(v.length&&!c.partTargetDuration){var d=v.reduce((function(t,i){return Math.max(t,i.duration)}),0);if(e){e("manifest has no partTargetDuration defaulting to "+d);Sh.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")}c.partTargetDuration=d}return c};var Oh=function t(i,e){if(!i.mediaGroups){return}["AUDIO","SUBTITLES"].forEach((function(t){if(!i.mediaGroups[t]){return}for(var r in i.mediaGroups[t]){for(var n in i.mediaGroups[t][r]){var s=i.mediaGroups[t][r][n];e(s,t,r,n)}}}))};var Rh=function t(i){var e=i.playlist,r=i.uri,n=i.id;e.id=n;e.playlistErrors_=0;if(r){e.uri=r}e.attributes=e.attributes||{}};var Lh=function t(i){var e=i.playlists.length;while(e--){var r=i.playlists[e];Rh({playlist:r,id:Ih(e,r.uri)});r.resolvedUri=qf(i.uri,r.uri);i.playlists[r.id]=r;i.playlists[r.uri]=r;if(!r.attributes.BANDWIDTH){Sh.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}}};var Ch=function t(i){Oh(i,(function(t){if(t.uri){t.resolvedUri=qf(i.uri,t.uri)}}))};var Mh=function t(i,e){var r=Ih(0,e);var n={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:c.location.href,resolvedUri:c.location.href,playlists:[{uri:e,id:r,resolvedUri:e,attributes:{}}]};n.playlists[r]=n.playlists[0];n.playlists[e]=n.playlists[0];return n};var Uh=function t(i,e,r){if(r===void 0){r=Dh}i.uri=e;for(var n=0;n<i.playlists.length;n++){if(!i.playlists[n].uri){var s="placeholder-uri-"+n;i.playlists[n].uri=s}}var a=Eh(i);Oh(i,(function(t,e,n,s){if(!t.playlists||!t.playlists.length){if(a&&e==="AUDIO"&&!t.uri){for(var o=0;o<i.playlists.length;o++){var u=i.playlists[o];if(u.attributes&&u.attributes.AUDIO&&u.attributes.AUDIO===n){return}}}t.playlists=[j({},t)]}t.playlists.forEach((function(t,a){var o=r(e,n,s,t);var u=Ih(a,o);if(t.uri){t.resolvedUri=t.resolvedUri||qf(i.uri,t.uri)}else{t.uri=a===0?o:u;t.resolvedUri=t.uri}t.id=t.id||u;t.attributes=t.attributes||{};i.playlists[t.id]=t;i.playlists[t.uri]=t}))}));Lh(i);Ch(i)};var Bh=Uf.mergeOptions,Ph=Uf.EventTarget;var qh=function t(i,e){if(e.endList||!e.serverControl){return i}var r={};if(e.serverControl.canBlockReload){var n=e.preloadSegment;var s=e.mediaSequence+e.segments.length;if(n){var a=n.parts||[];var o=sh(e)-1;if(o>-1&&o!==a.length-1){r._HLS_part=o}if(o>-1||a.length){s--}}r._HLS_msn=s}if(e.serverControl&&e.serverControl.canSkipUntil){r._HLS_skip=e.serverControl.canSkipDateranges?"v2":"YES"}if(Object.keys(r).length){var u=new c.URL(i);["_HLS_skip","_HLS_msn","_HLS_part"].forEach((function(t){if(!r.hasOwnProperty(t)){return}u.searchParams.set(t,r[t])}));i=u.toString()}return i};var Fh=function t(i,e){if(!i){return e}var r=Bh(i,e);if(i.preloadHints&&!e.preloadHints){delete r.preloadHints}if(i.parts&&!e.parts){delete r.parts}else if(i.parts&&e.parts){for(var n=0;n<e.parts.length;n++){if(i.parts&&i.parts[n]){r.parts[n]=Bh(i.parts[n],e.parts[n])}}}if(!i.skipped&&e.skipped){r.skipped=false}if(i.preload&&!e.preload){r.preload=false}return r};var _h=function t(i,e,r){var n=i.slice();var s=e.slice();r=r||0;var a=[];var o;for(var u=0;u<s.length;u++){var f=n[u+r];var h=s[u];if(f){o=f.map||o;a.push(Fh(f,h))}else{if(o&&!h.map){h.map=o}a.push(h)}}return a};var Vh=function t(i,e){if(!i.resolvedUri&&i.uri){i.resolvedUri=qf(e,i.uri)}if(i.key&&!i.key.resolvedUri){i.key.resolvedUri=qf(e,i.key.uri)}if(i.map&&!i.map.resolvedUri){i.map.resolvedUri=qf(e,i.map.uri)}if(i.map&&i.map.key&&!i.map.key.resolvedUri){i.map.key.resolvedUri=qf(e,i.map.key.uri)}if(i.parts&&i.parts.length){i.parts.forEach((function(t){if(t.resolvedUri){return}t.resolvedUri=qf(e,t.uri)}))}if(i.preloadHints&&i.preloadHints.length){i.preloadHints.forEach((function(t){if(t.resolvedUri){return}t.resolvedUri=qf(e,t.uri)}))}};var Hh=function t(i){var e=i.segments||[];var r=i.preloadSegment;if(r&&r.parts&&r.parts.length){if(r.preloadHints){for(var n=0;n<r.preloadHints.length;n++){if(r.preloadHints[n].type==="MAP"){return e}}}r.duration=i.targetDuration;r.preload=true;e.push(r)}return e};var zh=function t(i,e){return i===e||i.segments&&e.segments&&i.segments.length===e.segments.length&&i.endList===e.endList&&i.mediaSequence===e.mediaSequence&&i.preloadSegment===e.preloadSegment};var Gh=function t(i,e,r){if(r===void 0){r=zh}var n=Bh(i,{});var s=n.playlists[e.id];if(!s){return null}if(r(s,e)){return null}e.segments=Hh(e);var a=Bh(s,e);if(a.preloadSegment&&!e.preloadSegment){delete a.preloadSegment}if(s.segments){if(e.skip){e.segments=e.segments||[];for(var o=0;o<e.skip.skippedSegments;o++){e.segments.unshift({skipped:true})}}a.segments=_h(s.segments,e.segments,e.mediaSequence-s.mediaSequence)}a.segments.forEach((function(t){Vh(t,a.resolvedUri)}));for(var u=0;u<n.playlists.length;u++){if(n.playlists[u].id===e.id){n.playlists[u]=a}}n.playlists[e.id]=a;n.playlists[e.uri]=a;Oh(i,(function(t,i,r,n){if(!t.playlists){return}for(var s=0;s<t.playlists.length;s++){if(e.id===t.playlists[s].id){t.playlists[s]=a}}}));return n};var Xh=function t(i,e){var r=i.segments||[];var n=r[r.length-1];var s=n&&n.parts&&n.parts[n.parts.length-1];var a=s&&s.duration||n&&n.duration;if(e&&a){return a*1e3}return(i.partTargetDuration||i.targetDuration||10)*500};var Yh=function(t){D(i,t);function i(i,e,r){var n;if(r===void 0){r={}}n=t.call(this)||this;if(!i){throw new Error("A non-empty playlist URL or object is required")}n.logger_=_f("PlaylistLoader");var s=r,a=s.withCredentials,o=a===void 0?false:a,u=s.handleManifestRedirects,f=u===void 0?false:u;n.src=i;n.vhs_=e;n.withCredentials=o;n.handleManifestRedirects=f;var h=e.options_;n.customTagParsers=h&&h.customTagParsers||[];n.customTagMappers=h&&h.customTagMappers||[];n.experimentalLLHLS=h&&h.experimentalLLHLS||false;if(Uf.browser.IE_VERSION){n.experimentalLLHLS=false}n.state="HAVE_NOTHING";n.handleMediaupdatetimeout_=n.handleMediaupdatetimeout_.bind(S(n));n.on("mediaupdatetimeout",n.handleMediaupdatetimeout_);return n}var e=i.prototype;e.handleMediaupdatetimeout_=function t(){var i=this;if(this.state!=="HAVE_METADATA"){return}var e=this.media();var r=qf(this.master.uri,e.uri);if(this.experimentalLLHLS){r=qh(r,e)}this.state="HAVE_CURRENT_METADATA";this.request=this.vhs_.xhr({uri:r,withCredentials:this.withCredentials},(function(t,e){if(!i.request){return}if(t){return i.playlistRequestError(i.request,i.media(),"HAVE_METADATA")}i.haveMetadata({playlistString:i.request.responseText,url:i.media().uri,id:i.media().id})}))};e.playlistRequestError=function t(i,e,r){var n=e.uri,s=e.id;this.request=null;if(r){this.state=r}this.error={playlist:this.master.playlists[s],status:i.status,message:"HLS playlist request error at URL: "+n+".",responseText:i.responseText,code:i.status>=500?4:2};this.trigger("error")};e.parseManifest_=function t(i){var e=this;var r=i.url,n=i.manifestString;return Nh({onwarn:function t(i){var n=i.message;return e.logger_("m3u8-parser warn for "+r+": "+n)},oninfo:function t(i){var n=i.message;return e.logger_("m3u8-parser info for "+r+": "+n)},manifestString:n,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})};e.haveMetadata=function t(i){var e=i.playlistString,r=i.playlistObject,n=i.url,s=i.id;this.request=null;this.state="HAVE_METADATA";var a=r||this.parseManifest_({url:n,manifestString:e});a.lastRequest=Date.now();Rh({playlist:a,uri:n,id:s});var o=Gh(this.master,a);this.targetDuration=a.partTargetDuration||a.targetDuration;this.pendingMedia_=null;if(o){this.master=o;this.media_=this.master.playlists[s]}else{this.trigger("playlistunchanged")}this.updateMediaUpdateTimeout_(Xh(this.media(),!!o));this.trigger("loadedplaylist")};e.dispose=function t(){this.trigger("dispose");this.stopRequest();c.clearTimeout(this.mediaUpdateTimeout);c.clearTimeout(this.finalRenditionTimeout);this.off()};e.stopRequest=function t(){if(this.request){var i=this.request;this.request=null;i.onreadystatechange=null;i.abort()}};e.media=function t(i,e){var r=this;if(!i){return this.media_}if(this.state==="HAVE_NOTHING"){throw new Error("Cannot switch media playlist from "+this.state)}if(typeof i==="string"){if(!this.master.playlists[i]){throw new Error("Unknown playlist URI: "+i)}i=this.master.playlists[i]}c.clearTimeout(this.finalRenditionTimeout);if(e){var n=(i.partTargetDuration||i.targetDuration)/2*1e3||5*1e3;this.finalRenditionTimeout=c.setTimeout(this.media.bind(this,i,false),n);return}var s=this.state;var a=!this.media_||i.id!==this.media_.id;var o=this.master.playlists[i.id];if(o&&o.endList||i.endList&&i.segments.length){if(this.request){this.request.onreadystatechange=null;this.request.abort();this.request=null}this.state="HAVE_METADATA";this.media_=i;if(a){this.trigger("mediachanging");if(s==="HAVE_MASTER"){this.trigger("loadedmetadata")}else{this.trigger("mediachange")}}return}this.updateMediaUpdateTimeout_(Xh(i,true));if(!a){return}this.state="SWITCHING_MEDIA";if(this.request){if(i.resolvedUri===this.request.url){return}this.request.onreadystatechange=null;this.request.abort();this.request=null}if(this.media_){this.trigger("mediachanging")}this.pendingMedia_=i;this.request=this.vhs_.xhr({uri:i.resolvedUri,withCredentials:this.withCredentials},(function(t,e){if(!r.request){return}i.lastRequest=Date.now();i.resolvedUri=Ff(r.handleManifestRedirects,i.resolvedUri,e);if(t){return r.playlistRequestError(r.request,i,s)}r.haveMetadata({playlistString:e.responseText,url:i.uri,id:i.id});if(s==="HAVE_MASTER"){r.trigger("loadedmetadata")}else{r.trigger("mediachange")}}))};e.pause=function t(){if(this.mediaUpdateTimeout){c.clearTimeout(this.mediaUpdateTimeout);this.mediaUpdateTimeout=null}this.stopRequest();if(this.state==="HAVE_NOTHING"){this.started=false}if(this.state==="SWITCHING_MEDIA"){if(this.media_){this.state="HAVE_METADATA"}else{this.state="HAVE_MASTER"}}else if(this.state==="HAVE_CURRENT_METADATA"){this.state="HAVE_METADATA"}};e.load=function t(i){var e=this;if(this.mediaUpdateTimeout){c.clearTimeout(this.mediaUpdateTimeout);this.mediaUpdateTimeout=null}var r=this.media();if(i){var n=r?(r.partTargetDuration||r.targetDuration)/2*1e3:5*1e3;this.mediaUpdateTimeout=c.setTimeout((function(){e.mediaUpdateTimeout=null;e.load()}),n);return}if(!this.started){this.start();return}if(r&&!r.endList){this.trigger("mediaupdatetimeout")}else{this.trigger("loadedplaylist")}};e.updateMediaUpdateTimeout_=function t(i){var e=this;if(this.mediaUpdateTimeout){c.clearTimeout(this.mediaUpdateTimeout);this.mediaUpdateTimeout=null}if(!this.media()||this.media().endList){return}this.mediaUpdateTimeout=c.setTimeout((function(){e.mediaUpdateTimeout=null;e.trigger("mediaupdatetimeout");e.updateMediaUpdateTimeout_(i)}),i)};e.start=function t(){var i=this;this.started=true;if(typeof this.src==="object"){if(!this.src.uri){this.src.uri=c.location.href}this.src.resolvedUri=this.src.uri;setTimeout((function(){i.setupInitialPlaylist(i.src)}),0);return}this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},(function(t,e){if(!i.request){return}i.request=null;if(t){i.error={status:e.status,message:"HLS playlist request error at URL: "+i.src+".",responseText:e.responseText,code:2};if(i.state==="HAVE_NOTHING"){i.started=false}return i.trigger("error")}i.src=Ff(i.handleManifestRedirects,i.src,e);var r=i.parseManifest_({manifestString:e.responseText,url:i.src});i.setupInitialPlaylist(r)}))};e.srcUri=function t(){return typeof this.src==="string"?this.src:this.src.uri};e.setupInitialPlaylist=function t(i){this.state="HAVE_MASTER";if(i.playlists){this.master=i;Uh(this.master,this.srcUri());i.playlists.forEach((function(t){t.segments=Hh(t);t.segments.forEach((function(i){Vh(i,t.resolvedUri)}))}));this.trigger("loadedplaylist");if(!this.request){this.media(this.master.playlists[0])}return}var e=this.srcUri()||c.location.href;this.master=Mh(i,e);this.haveMetadata({playlistObject:i,url:e,id:this.master.playlists[0].id});this.trigger("loadedmetadata")};return i}(Ph);var Wh=Uf.xhr,Jh=Uf.mergeOptions;var Qh=function t(i,e,r,n){var s=i.responseType==="arraybuffer"?i.response:i.responseText;if(!e&&s){i.responseTime=Date.now();i.roundTripTime=i.responseTime-i.requestTime;i.bytesReceived=s.byteLength||s.length;if(!i.bandwidth){i.bandwidth=Math.floor(i.bytesReceived/i.roundTripTime*8*1e3)}}if(r.headers){i.responseHeaders=r.headers}if(e&&e.code==="ETIMEDOUT"){i.timedout=true}if(!e&&!i.aborted&&r.statusCode!==200&&r.statusCode!==206&&r.statusCode!==0){e=new Error("XHR Failed with a response of: "+(i&&(s||i.responseText)))}n(e,i)};var Kh=function t(){var i=function t(i,e){i=Jh({timeout:45e3},i);var r=t.beforeRequest||Uf.Vhs.xhr.beforeRequest;if(r&&typeof r==="function"){var n=r(i);if(n){i=n}}var s=Uf.Vhs.xhr.original===true?Wh:Uf.Vhs.xhr;var a=s(i,(function(t,i){return Qh(a,t,i,e)}));var o=a.abort;a.abort=function(){a.aborted=true;return o.apply(a,arguments)};a.uri=i.uri;a.requestTime=Date.now();return a};i.original=true;return i};var Zh=function t(i){var e;var r=i.offset;if(typeof i.offset==="bigint"||typeof i.length==="bigint"){e=c.BigInt(i.offset)+c.BigInt(i.length)-c.BigInt(1)}else{e=i.offset+i.length-1}return"bytes="+r+"-"+e};var $h=function t(i){var e={};if(i.byterange){e.Range=Zh(i.byterange)}return e};var tc=function t(i,e){return i.start(e)+"-"+i.end(e)};var ic=function t(i,e){var r=i.toString(16);return"00".substring(0,2-r.length)+r+(e%2?" ":"")};var ec=function t(i){if(i>=32&&i<126){return String.fromCharCode(i)}return"."};var rc=function t(i){var e={};Object.keys(i).forEach((function(t){var r=i[t];if(Wt(r)){e[t]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}}else{e[t]=r}}));return e};var nc=function t(i){var e=i.byterange||{length:Infinity,offset:0};return[e.length,e.offset,i.resolvedUri].join(",")};var sc=function t(i){return i.resolvedUri};var ac=function t(i){var e=Array.prototype.slice.call(i);var r=16;var n="";var s;var a;for(var o=0;o<e.length/r;o++){s=e.slice(o*r,o*r+r).map(ic).join("");a=e.slice(o*r,o*r+r).map(ec).join("");n+=s+" "+a+"\n"}return n};var oc=function t(i){var e=i.bytes;return ac(e)};var uc=function t(i){var e="";var r;for(r=0;r<i.length;r++){e+=tc(i,r)+" "}return e};var fc=Object.freeze({__proto__:null,createTransferableMessage:rc,initSegmentId:nc,segmentKeyId:sc,hexDump:ac,tagDump:oc,textRanges:uc});var hc=.25;var cc=function t(i,e){if(!e.dateTimeObject){return null}var r=e.videoTimingInfo.transmuxerPrependedSeconds;var n=e.videoTimingInfo.transmuxedPresentationStart;var s=n+r;var a=i-s;return new Date(e.dateTimeObject.getTime()+a*1e3)};var lc=function t(i){return i.transmuxedPresentationEnd-i.transmuxedPresentationStart-i.transmuxerPrependedSeconds};var vc=function t(i,e){var r;try{r=new Date(i)}catch(t){return null}if(!e||!e.segments||e.segments.length===0){return null}var n=e.segments[0];if(r<n.dateTimeObject){return null}for(var s=0;s<e.segments.length-1;s++){n=e.segments[s];var a=e.segments[s+1].dateTimeObject;if(r<a){break}}var o=e.segments[e.segments.length-1];var u=o.dateTimeObject;var f=o.videoTimingInfo?lc(o.videoTimingInfo):o.duration+o.duration*hc;var h=new Date(u.getTime()+f*1e3);if(r>h){return null}if(r>u){n=o}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:xh.duration(e,e.mediaSequence+e.segments.indexOf(n)),type:n.videoTimingInfo?"accurate":"estimate"}};var dc=function t(i,e){if(!e||!e.segments||e.segments.length===0){return null}var r=0;var n;for(var s=0;s<e.segments.length;s++){n=e.segments[s];r=n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:r+n.duration;if(i<=r){break}}var a=e.segments[e.segments.length-1];if(a.videoTimingInfo&&a.videoTimingInfo.transmuxedPresentationEnd<i){return null}if(i>r){if(i>r+a.duration*hc){return null}n=a}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:r-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}};var pc=function t(i,e){var r;var n;try{r=new Date(i);n=new Date(e)}catch(t){}var s=r.getTime();var a=n.getTime();return(a-s)/1e3};var mc=function t(i){if(!i.segments||i.segments.length===0){return false}for(var e=0;e<i.segments.length;e++){var r=i.segments[e];if(!r.dateTimeObject){return false}}return true};var gc=function t(i){var e=i.playlist,r=i.time,n=r===void 0?undefined:r,s=i.callback;if(!s){throw new Error("getProgramTime: callback must be provided")}if(!e||n===undefined){return s({message:"getProgramTime: playlist and time must be provided"})}var a=dc(n,e);if(!a){return s({message:"valid programTime was not found"})}if(a.type==="estimate"){return s({message:"Accurate programTime could not be determined."+" Please seek to e.seekTime and try again",seekTime:a.estimatedStart})}var o={mediaSeconds:n};var u=cc(n,a.segment);if(u){o.programDateTime=u.toISOString()}return s(null,o)};var bc=function t(i){var e=i.programTime,r=i.playlist,n=i.retryCount,s=n===void 0?2:n,a=i.seekTo,o=i.pauseAfterSeek,u=o===void 0?true:o,f=i.tech,h=i.callback;if(!h){throw new Error("seekToProgramTime: callback must be provided")}if(typeof e==="undefined"||!r||!a){return h({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"})}if(!r.endList&&!f.hasStarted_){return h({message:"player must be playing a live stream to start buffering"})}if(!mc(r)){return h({message:"programDateTime tags must be provided in the manifest "+r.resolvedUri})}var c=vc(e,r);if(!c){return h({message:e+" was not found in the stream"})}var l=c.segment;var v=pc(l.dateTimeObject,e);if(c.type==="estimate"){if(s===0){return h({message:e+" is not buffered yet. Try again"})}a(c.estimatedStart+v);f.one("seeked",(function(){t({programTime:e,playlist:r,retryCount:s-1,seekTo:a,pauseAfterSeek:u,tech:f,callback:h})}));return}var d=l.start+v;var p=function t(){return h(null,f.currentTime())};f.one("seeked",p);if(u){f.pause()}a(d)};var yc=function t(i,e){if(i.readyState===4){return e()}return};var jc=function t(i,e,r){var n=[];var s;var a=false;var o=function t(i,e,n,s){e.abort();a=true;return r(i,e,n,s)};var u=function t(i,e){if(a){return}if(i){return o(i,e,"",n)}var r=e.responseText.substring(n&&n.byteLength||0,e.responseText.length);n=ei(n,ii(r,true));s=s||tr(n);if(n.length<10||s&&n.length<s+2){return yc(e,(function(){return o(i,e,"",n)}))}var u=kr(n);if(u==="ts"&&n.length<188){return yc(e,(function(){return o(i,e,"",n)}))}if(!u&&n.length<376){return yc(e,(function(){return o(i,e,"",n)}))}return o(null,e,u,n)};var f={uri:i,beforeSend:function t(i){i.overrideMimeType("text/plain; charset=x-user-defined");i.addEventListener("progress",(function(t){return Qh(i,null,{statusCode:i.status},u)}))}};var h=e(f,(function(t,i){return Qh(h,t,i,u)}));return h};var wc=Uf.EventTarget,Tc=Uf.mergeOptions;var kc=function t(i,e){if(!zh(i,e)){return false}if(i.sidx&&e.sidx&&(i.sidx.offset!==e.sidx.offset||i.sidx.length!==e.sidx.length)){return false}else if(!i.sidx&&e.sidx||i.sidx&&!e.sidx){return false}if(i.segments&&!e.segments||!i.segments&&e.segments){return false}if(!i.segments&&!e.segments){return true}for(var r=0;r<i.segments.length;r++){var n=i.segments[r];var s=e.segments[r];if(n.uri!==s.uri){return false}if(!n.byterange&&!s.byterange){continue}var a=n.byterange;var o=s.byterange;if(a&&!o||!a&&o){return false}if(a.offset!==o.offset||a.length!==o.length){return false}}return true};var Ac=function t(i,e,r,n){var s=n.attributes.NAME||r;return"placeholder-uri-"+i+"-"+e+"-"+s};var Ec=function t(i){var e=i.masterXml,r=i.srcUrl,n=i.clientOffset,s=i.sidxMapping,a=i.previousManifest;var o=Ve(e,{manifestUri:r,clientOffset:n,sidxMapping:s,previousManifest:a});Uh(o,r,Ac);return o};var xc=function t(i,e){Oh(i,(function(t,r,n,s){if(!(s in e.mediaGroups[r][n])){delete i.mediaGroups[r][n][s]}}))};var Sc=function t(i,e,r){var n=true;var s=Tc(i,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod,timelineStarts:e.timelineStarts});for(var a=0;a<e.playlists.length;a++){var o=e.playlists[a];if(o.sidx){var u=Qi(o.sidx);if(r&&r[u]&&r[u].sidx){_i(o,r[u].sidx,o.sidx.resolvedUri)}}var f=Gh(s,o,kc);if(f){s=f;n=false}}Oh(e,(function(t,i,e,r){if(t.playlists&&t.playlists.length){var a=t.playlists[0].id;var o=Gh(s,t.playlists[0],kc);if(o){s=o;if(!(r in s.mediaGroups[i][e])){s.mediaGroups[i][e][r]=t}s.mediaGroups[i][e][r].playlists[0]=s.playlists[a];n=false}}}));xc(s,e);if(e.minimumUpdatePeriod!==i.minimumUpdatePeriod){n=false}if(n){return null}return s};var Ic=function t(i,e){var r=Boolean(!i.map&&!e.map);var n=r||Boolean(i.map&&e.map&&i.map.byterange.offset===e.map.byterange.offset&&i.map.byterange.length===e.map.byterange.length);return n&&i.uri===e.uri&&i.byterange.offset===e.byterange.offset&&i.byterange.length===e.byterange.length};var Dc=function t(i,e){var r={};for(var n in i){var s=i[n];var a=s.sidx;if(a){var o=Qi(a);if(!e[o]){break}var u=e[o].sidxInfo;if(Ic(u,a)){r[o]=e[o]}}}return r};var Nc=function t(i,e){var r=Dc(i.playlists,e);var n=r;Oh(i,(function(t,i,r,s){if(t.playlists&&t.playlists.length){var a=t.playlists;n=Tc(n,Dc(a,e))}}));return n};var Oc=function(t){D(i,t);function i(i,e,r,n){var s;if(r===void 0){r={}}s=t.call(this)||this;s.masterPlaylistLoader_=n||S(s);if(!n){s.isMaster_=true}var a=r,o=a.withCredentials,u=o===void 0?false:o,f=a.handleManifestRedirects,h=f===void 0?false:f;s.vhs_=e;s.withCredentials=u;s.handleManifestRedirects=h;if(!i){throw new Error("A non-empty playlist URL or object is required")}s.on("minimumUpdatePeriod",(function(){s.refreshXml_()}));s.on("mediaupdatetimeout",(function(){s.refreshMedia_(s.media().id)}));s.state="HAVE_NOTHING";s.loadedPlaylists_={};s.logger_=_f("DashPlaylistLoader");if(s.isMaster_){s.masterPlaylistLoader_.srcUrl=i;s.masterPlaylistLoader_.sidxMapping_={}}else{s.childPlaylist_=i}return s}var e=i.prototype;e.requestErrored_=function t(i,e,r){if(!this.request){return true}this.request=null;if(i){this.error=typeof i==="object"&&!(i instanceof Error)?i:{status:e.status,message:"DASH request error at URL: "+e.uri,response:e.response,code:2};if(r){this.state=r}this.trigger("error");return true}};e.addSidxSegments_=function t(i,e,r){var n=this;var s=i.sidx&&Qi(i.sidx);if(!i.sidx||!s||this.masterPlaylistLoader_.sidxMapping_[s]){this.mediaRequest_=c.setTimeout((function(){return r(false)}),0);return}var a=Ff(this.handleManifestRedirects,i.sidx.resolvedUri);var o=function t(a,o){if(n.requestErrored_(a,o,e)){return}var u=n.masterPlaylistLoader_.sidxMapping_;var f;try{f=Ke(Qt(o.response).subarray(8))}catch(t){n.requestErrored_(t,o,e);return}u[s]={sidxInfo:i.sidx,sidx:f};_i(i,f,i.sidx.resolvedUri);return r(true)};this.request=jc(a,this.vhs_.xhr,(function(t,e,r,s){if(t){return o(t,e)}if(!r||r!=="mp4"){return o({status:e.status,message:"Unsupported "+(r||"unknown")+" container type for sidx segment at URL: "+a,response:"",playlist:i,internal:true,blacklistDuration:Infinity,code:2},e)}var u=i.sidx.byterange,f=u.offset,h=u.length;if(s.length>=h+f){return o(t,{response:s.subarray(f,f+h),status:e.status,uri:e.uri})}n.request=n.vhs_.xhr({uri:a,responseType:"arraybuffer",headers:$h({byterange:i.sidx.byterange})},o)}))};e.dispose=function t(){this.trigger("dispose");this.stopRequest();this.loadedPlaylists_={};c.clearTimeout(this.minimumUpdatePeriodTimeout_);c.clearTimeout(this.mediaRequest_);c.clearTimeout(this.mediaUpdateTimeout);this.mediaUpdateTimeout=null;this.mediaRequest_=null;this.minimumUpdatePeriodTimeout_=null;if(this.masterPlaylistLoader_.createMupOnMedia_){this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_);this.masterPlaylistLoader_.createMupOnMedia_=null}this.off()};e.hasPendingRequest=function t(){return this.request||this.mediaRequest_};e.stopRequest=function t(){if(this.request){var i=this.request;this.request=null;i.onreadystatechange=null;i.abort()}};e.media=function t(i){var e=this;if(!i){return this.media_}if(this.state==="HAVE_NOTHING"){throw new Error("Cannot switch media playlist from "+this.state)}var r=this.state;if(typeof i==="string"){if(!this.masterPlaylistLoader_.master.playlists[i]){throw new Error("Unknown playlist URI: "+i)}i=this.masterPlaylistLoader_.master.playlists[i]}var n=!this.media_||i.id!==this.media_.id;if(n&&this.loadedPlaylists_[i.id]&&this.loadedPlaylists_[i.id].endList){this.state="HAVE_METADATA";this.media_=i;if(n){this.trigger("mediachanging");this.trigger("mediachange")}return}if(!n){return}if(this.media_){this.trigger("mediachanging")}this.addSidxSegments_(i,r,(function(t){e.haveMetadata({startingState:r,playlist:i})}))};e.haveMetadata=function t(i){var e=i.startingState,r=i.playlist;this.state="HAVE_METADATA";this.loadedPlaylists_[r.id]=r;this.mediaRequest_=null;this.refreshMedia_(r.id);if(e==="HAVE_MASTER"){this.trigger("loadedmetadata")}else{this.trigger("mediachange")}};e.pause=function t(){if(this.masterPlaylistLoader_.createMupOnMedia_){this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_);this.masterPlaylistLoader_.createMupOnMedia_=null}this.stopRequest();c.clearTimeout(this.mediaUpdateTimeout);this.mediaUpdateTimeout=null;if(this.isMaster_){c.clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_);this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null}if(this.state==="HAVE_NOTHING"){this.started=false}};e.load=function t(i){var e=this;c.clearTimeout(this.mediaUpdateTimeout);this.mediaUpdateTimeout=null;var r=this.media();if(i){var n=r?r.targetDuration/2*1e3:5*1e3;this.mediaUpdateTimeout=c.setTimeout((function(){return e.load()}),n);return}if(!this.started){this.start();return}if(r&&!r.endList){if(this.isMaster_&&!this.minimumUpdatePeriodTimeout_){this.trigger("minimumUpdatePeriod");this.updateMinimumUpdatePeriodTimeout_()}this.trigger("mediaupdatetimeout")}else{this.trigger("loadedplaylist")}};e.start=function t(){var i=this;this.started=true;if(!this.isMaster_){this.mediaRequest_=c.setTimeout((function(){return i.haveMaster_()}),0);return}this.requestMaster_((function(t,e){i.haveMaster_();if(!i.hasPendingRequest()&&!i.media_){i.media(i.masterPlaylistLoader_.master.playlists[0])}}))};e.requestMaster_=function t(i){var e=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},(function(t,r){if(e.requestErrored_(t,r)){if(e.state==="HAVE_NOTHING"){e.started=false}return}var n=r.responseText!==e.masterPlaylistLoader_.masterXml_;e.masterPlaylistLoader_.masterXml_=r.responseText;if(r.responseHeaders&&r.responseHeaders.date){e.masterLoaded_=Date.parse(r.responseHeaders.date)}else{e.masterLoaded_=Date.now()}e.masterPlaylistLoader_.srcUrl=Ff(e.handleManifestRedirects,e.masterPlaylistLoader_.srcUrl,r);if(n){e.handleMaster_();e.syncClientServerClock_((function(){return i(r,n)}));return}return i(r,n)}))};e.syncClientServerClock_=function t(i){var e=this;var r=He(this.masterPlaylistLoader_.masterXml_);if(r===null){this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now();return i()}if(r.method==="DIRECT"){this.masterPlaylistLoader_.clientOffset_=r.value-Date.now();return i()}this.request=this.vhs_.xhr({uri:qf(this.masterPlaylistLoader_.srcUrl,r.value),method:r.method,withCredentials:this.withCredentials},(function(t,n){if(!e.request){return}if(t){e.masterPlaylistLoader_.clientOffset_=e.masterLoaded_-Date.now();return i()}var s;if(r.method==="HEAD"){if(!n.responseHeaders||!n.responseHeaders.date){s=e.masterLoaded_}else{s=Date.parse(n.responseHeaders.date)}}else{s=Date.parse(n.responseText)}e.masterPlaylistLoader_.clientOffset_=s-Date.now();i()}))};e.haveMaster_=function t(){this.state="HAVE_MASTER";if(this.isMaster_){this.trigger("loadedplaylist")}else if(!this.media_){this.media(this.childPlaylist_)}};e.handleMaster_=function t(){this.mediaRequest_=null;var i=this.masterPlaylistLoader_.master;var e=Ec({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_,previousManifest:i});if(i){e=Sc(i,e,this.masterPlaylistLoader_.sidxMapping_)}this.masterPlaylistLoader_.master=e?e:i;var r=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];if(r&&r!==this.masterPlaylistLoader_.srcUrl){this.masterPlaylistLoader_.srcUrl=r}if(!i||e&&e.minimumUpdatePeriod!==i.minimumUpdatePeriod){this.updateMinimumUpdatePeriodTimeout_()}return Boolean(e)};e.updateMinimumUpdatePeriodTimeout_=function t(){var i=this.masterPlaylistLoader_;if(i.createMupOnMedia_){i.off("loadedmetadata",i.createMupOnMedia_);i.createMupOnMedia_=null}if(i.minimumUpdatePeriodTimeout_){c.clearTimeout(i.minimumUpdatePeriodTimeout_);i.minimumUpdatePeriodTimeout_=null}var e=i.master&&i.master.minimumUpdatePeriod;if(e===0){if(i.media()){e=i.media().targetDuration*1e3}else{i.createMupOnMedia_=i.updateMinimumUpdatePeriodTimeout_;i.one("loadedmetadata",i.createMupOnMedia_)}}if(typeof e!=="number"||e<=0){if(e<0){this.logger_("found invalid minimumUpdatePeriod of "+e+", not setting a timeout")}return}this.createMUPTimeout_(e)};e.createMUPTimeout_=function t(i){var e=this.masterPlaylistLoader_;e.minimumUpdatePeriodTimeout_=c.setTimeout((function(){e.minimumUpdatePeriodTimeout_=null;e.trigger("minimumUpdatePeriod");e.createMUPTimeout_(i)}),i)};e.refreshXml_=function t(){var i=this;this.requestMaster_((function(t,e){if(!e){return}if(i.media_){i.media_=i.masterPlaylistLoader_.master.playlists[i.media_.id]}i.masterPlaylistLoader_.sidxMapping_=Nc(i.masterPlaylistLoader_.master,i.masterPlaylistLoader_.sidxMapping_);i.addSidxSegments_(i.media(),i.state,(function(t){i.refreshMedia_(i.media().id)}))}))};e.refreshMedia_=function t(i){var e=this;if(!i){throw new Error("refreshMedia_ must take a media id")}if(this.media_&&this.isMaster_){this.handleMaster_()}var r=this.masterPlaylistLoader_.master.playlists;var n=!this.media_||this.media_!==r[i];if(n){this.media_=r[i]}else{this.trigger("playlistunchanged")}if(!this.mediaUpdateTimeout){var s=function t(){if(e.media().endList){return}e.mediaUpdateTimeout=c.setTimeout((function(){e.trigger("mediaupdatetimeout");t()}),Xh(e.media(),Boolean(n)))};s()}this.trigger("loadedplaylist")};return i}(wc);var Rc={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};var Lc=function t(i){var e=new Uint8Array(new ArrayBuffer(i.length));for(var r=0;r<i.length;r++){e[r]=i.charCodeAt(r)}return e.buffer};var Cc=function t(i){i.on=i.addEventListener;i.off=i.removeEventListener;return i};var Mc=function t(i){try{return URL.createObjectURL(new Blob([i],{type:"application/javascript"}))}catch(t){var e=new BlobBuilder;e.append(i);return URL.createObjectURL(e.getBlob())}};var Uc=function t(i){return function(){var t=Mc(i);var e=Cc(new Worker(t));e.objURL=t;var r=e.terminate;e.on=e.addEventListener;e.off=e.removeEventListener;e.terminate=function(){URL.revokeObjectURL(t);return r.call(this)};return e}};var Bc=function t(i){return"var browserWorkerPolyFill = "+Cc.toString()+";\n"+"browserWorkerPolyFill(self);\n"+i};var Pc=function t(i){return i.toString().replace(/^function.+?{/,"").slice(0,-1)};var qc=Bc(Pc((function(){var t=function t(){this.init=function(){var t={};this.on=function(i,e){if(!t[i]){t[i]=[]}t[i]=t[i].concat(e)};this.off=function(i,e){var r;if(!t[i]){return false}r=t[i].indexOf(e);t[i]=t[i].slice();t[i].splice(r,1);return r>-1};this.trigger=function(i){var e,r,n,s;e=t[i];if(!e){return}if(arguments.length===2){n=e.length;for(r=0;r<n;++r){e[r].call(this,arguments[1])}}else{s=[];r=arguments.length;for(r=1;r<arguments.length;++r){s.push(arguments[r])}n=e.length;for(r=0;r<n;++r){e[r].apply(this,s)}}};this.dispose=function(){t={}}}};t.prototype.pipe=function(t){this.on("data",(function(i){t.push(i)}));this.on("done",(function(i){t.flush(i)}));this.on("partialdone",(function(i){t.partialFlush(i)}));this.on("endedtimeline",(function(i){t.endTimeline(i)}));this.on("reset",(function(i){t.reset(i)}));return t};t.prototype.push=function(t){this.trigger("data",t)};t.prototype.flush=function(t){this.trigger("done",t)};t.prototype.partialFlush=function(t){this.trigger("partialdone",t)};t.prototype.endTimeline=function(t){this.trigger("endedtimeline",t)};t.prototype.reset=function(t){this.trigger("reset",t)};var i=t;var e=Math.pow(2,32);var r=function t(i){var r=new DataView(i.buffer,i.byteOffset,i.byteLength);var n;if(r.getBigUint64){n=r.getBigUint64(0);if(n<Number.MAX_SAFE_INTEGER){return Number(n)}return n}return r.getUint32(0)*e+r.getUint32(4)};var n={getUint64:r,MAX_UINT32:e};var s=n.MAX_UINT32;var a,o,u,f,h,c,l,v,d,p,m,g,b,y,j,w,T,k,A,E,x,S,I,D,N,O,R,L,C,M,U,B,P,q,F,_;(function(){var t;I={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]};if(typeof Uint8Array==="undefined"){return}for(t in I){if(I.hasOwnProperty(t)){I[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]}}D=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]);O=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]);N=new Uint8Array([0,0,0,1]);R=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]);L=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);C={video:R,audio:L};B=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]);U=new Uint8Array([0,0,0,0,0,0,0,0]);P=new Uint8Array([0,0,0,0,0,0,0,0]);q=P;F=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]);_=P;M=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])})();a=function t(i){var e=[],r=0,n,s,a;for(n=1;n<arguments.length;n++){e.push(arguments[n])}n=e.length;while(n--){r+=e[n].byteLength}s=new Uint8Array(r+8);a=new DataView(s.buffer,s.byteOffset,s.byteLength);a.setUint32(0,s.byteLength);s.set(i,4);for(n=0,r=8;n<e.length;n++){s.set(e[n],r);r+=e[n].byteLength}return s};o=function t(){return a(I.dinf,a(I.dref,B))};u=function t(i){return a(I.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,i.audioobjecttype<<3|i.samplingfrequencyindex>>>1,i.samplingfrequencyindex<<7|i.channelcount<<3,6,1,2]))};f=function t(){return a(I.ftyp,D,N,D,O)};w=function t(i){return a(I.hdlr,C[i])};h=function t(i){return a(I.mdat,i)};j=function t(i){var e=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,i.duration>>>24&255,i.duration>>>16&255,i.duration>>>8&255,i.duration&255,85,196,0,0]);if(i.samplerate){e[12]=i.samplerate>>>24&255;e[13]=i.samplerate>>>16&255;e[14]=i.samplerate>>>8&255;e[15]=i.samplerate&255}return a(I.mdhd,e)};y=function t(i){return a(I.mdia,j(i),w(i.type),l(i))};c=function t(i){return a(I.mfhd,new Uint8Array([0,0,0,0,(i&4278190080)>>24,(i&16711680)>>16,(i&65280)>>8,i&255]))};l=function t(i){return a(I.minf,i.type==="video"?a(I.vmhd,M):a(I.smhd,U),o(),k(i))};v=function t(i,e){var r=[],n=e.length;while(n--){r[n]=E(e[n])}return a.apply(null,[I.moof,c(i)].concat(r))};d=function t(i){var e=i.length,r=[];while(e--){r[e]=g(i[e])}return a.apply(null,[I.moov,m(4294967295)].concat(r).concat(p(i)))};p=function t(i){var e=i.length,r=[];while(e--){r[e]=x(i[e])}return a.apply(null,[I.mvex].concat(r))};m=function t(i){var e=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(i&4278190080)>>24,(i&16711680)>>16,(i&65280)>>8,i&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return a(I.mvhd,e)};T=function t(i){var e=i.samples||[],r=new Uint8Array(4+e.length),n,s;for(s=0;s<e.length;s++){n=e[s].flags;r[s+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy}return a(I.sdtp,r)};k=function t(i){return a(I.stbl,A(i),a(I.stts,_),a(I.stsc,q),a(I.stsz,F),a(I.stco,P))};(function(){var t,i;A=function e(r){return a(I.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),r.type==="video"?t(r):i(r))};t=function t(i){var e=i.sps||[],r=i.pps||[],n=[],s=[],o,u;for(o=0;o<e.length;o++){n.push((e[o].byteLength&65280)>>>8);n.push(e[o].byteLength&255);n=n.concat(Array.prototype.slice.call(e[o]))}for(o=0;o<r.length;o++){s.push((r[o].byteLength&65280)>>>8);s.push(r[o].byteLength&255);s=s.concat(Array.prototype.slice.call(r[o]))}u=[I.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(i.width&65280)>>8,i.width&255,(i.height&65280)>>8,i.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a(I.avcC,new Uint8Array([1,i.profileIdc,i.profileCompatibility,i.levelIdc,255].concat([e.length],n,[r.length],s))),a(I.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))];if(i.sarRatio){var f=i.sarRatio[0],h=i.sarRatio[1];u.push(a(I.pasp,new Uint8Array([(f&4278190080)>>24,(f&16711680)>>16,(f&65280)>>8,f&255,(h&4278190080)>>24,(h&16711680)>>16,(h&65280)>>8,h&255])))}return a.apply(null,u)};i=function t(i){return a(I.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(i.channelcount&65280)>>8,i.channelcount&255,(i.samplesize&65280)>>8,i.samplesize&255,0,0,0,0,(i.samplerate&65280)>>8,i.samplerate&255,0,0]),u(i))}})();b=function t(i){var e=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(i.id&4278190080)>>24,(i.id&16711680)>>16,(i.id&65280)>>8,i.id&255,0,0,0,0,(i.duration&4278190080)>>24,(i.duration&16711680)>>16,(i.duration&65280)>>8,i.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(i.width&65280)>>8,i.width&255,0,0,(i.height&65280)>>8,i.height&255,0,0]);return a(I.tkhd,e)};E=function t(i){var e,r,n,o,u,f,h;e=a(I.tfhd,new Uint8Array([0,0,0,58,(i.id&4278190080)>>24,(i.id&16711680)>>16,(i.id&65280)>>8,i.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0]));f=Math.floor(i.baseMediaDecodeTime/s);h=Math.floor(i.baseMediaDecodeTime%s);r=a(I.tfdt,new Uint8Array([1,0,0,0,f>>>24&255,f>>>16&255,f>>>8&255,f&255,h>>>24&255,h>>>16&255,h>>>8&255,h&255]));u=32+20+8+16+8+8;if(i.type==="audio"){n=S(i,u);return a(I.traf,e,r,n)}o=T(i);n=S(i,o.length+u);return a(I.traf,e,r,n,o)};g=function t(i){i.duration=i.duration||4294967295;return a(I.trak,b(i),y(i))};x=function t(i){var e=new Uint8Array([0,0,0,0,(i.id&4278190080)>>24,(i.id&16711680)>>16,(i.id&65280)>>8,i.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);if(i.type!=="video"){e[e.length-1]=0}return a(I.trex,e)};(function(){var t,i,e;e=function t(i,e){var r=0,n=0,s=0,a=0;if(i.length){if(i[0].duration!==undefined){r=1}if(i[0].size!==undefined){n=2}if(i[0].flags!==undefined){s=4}if(i[0].compositionTimeOffset!==undefined){a=8}}return[0,0,r|n|s|a,1,(i.length&4278190080)>>>24,(i.length&16711680)>>>16,(i.length&65280)>>>8,i.length&255,(e&4278190080)>>>24,(e&16711680)>>>16,(e&65280)>>>8,e&255]};i=function t(i,r){var n,s,o,u,f,h;u=i.samples||[];r+=8+12+16*u.length;o=e(u,r);s=new Uint8Array(o.length+u.length*16);s.set(o);n=o.length;for(h=0;h<u.length;h++){f=u[h];s[n++]=(f.duration&4278190080)>>>24;s[n++]=(f.duration&16711680)>>>16;s[n++]=(f.duration&65280)>>>8;s[n++]=f.duration&255;s[n++]=(f.size&4278190080)>>>24;s[n++]=(f.size&16711680)>>>16;s[n++]=(f.size&65280)>>>8;s[n++]=f.size&255;s[n++]=f.flags.isLeading<<2|f.flags.dependsOn;s[n++]=f.flags.isDependedOn<<6|f.flags.hasRedundancy<<4|f.flags.paddingValue<<1|f.flags.isNonSyncSample;s[n++]=f.flags.degradationPriority&240<<8;s[n++]=f.flags.degradationPriority&15;s[n++]=(f.compositionTimeOffset&4278190080)>>>24;s[n++]=(f.compositionTimeOffset&16711680)>>>16;s[n++]=(f.compositionTimeOffset&65280)>>>8;s[n++]=f.compositionTimeOffset&255}return a(I.trun,s)};t=function t(i,r){var n,s,o,u,f,h;u=i.samples||[];r+=8+12+8*u.length;o=e(u,r);n=new Uint8Array(o.length+u.length*8);n.set(o);s=o.length;for(h=0;h<u.length;h++){f=u[h];n[s++]=(f.duration&4278190080)>>>24;n[s++]=(f.duration&16711680)>>>16;n[s++]=(f.duration&65280)>>>8;n[s++]=f.duration&255;n[s++]=(f.size&4278190080)>>>24;n[s++]=(f.size&16711680)>>>16;n[s++]=(f.size&65280)>>>8;n[s++]=f.size&255}return a(I.trun,n)};S=function e(r,n){if(r.type==="audio"){return t(r,n)}return i(r,n)}})();var V={ftyp:f,mdat:h,moof:v,moov:d,initSegment:function t(i){var e=f(),r=d(i),n;n=new Uint8Array(e.byteLength+r.byteLength);n.set(e);n.set(r,e.byteLength);return n}};var H=function t(i){var e,r,n=[],s=[];s.byteLength=0;s.nalCount=0;s.duration=0;n.byteLength=0;for(e=0;e<i.length;e++){r=i[e];if(r.nalUnitType==="access_unit_delimiter_rbsp"){if(n.length){n.duration=r.dts-n.dts;s.byteLength+=n.byteLength;s.nalCount+=n.length;s.duration+=n.duration;s.push(n)}n=[r];n.byteLength=r.data.byteLength;n.pts=r.pts;n.dts=r.dts}else{if(r.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"){n.keyFrame=true}n.duration=r.dts-n.dts;n.byteLength+=r.data.byteLength;n.push(r)}}if(s.length&&(!n.duration||n.duration<=0)){n.duration=s[s.length-1].duration}s.byteLength+=n.byteLength;s.nalCount+=n.length;s.duration+=n.duration;s.push(n);return s};var z=function t(i){var e,r,n=[],s=[];n.byteLength=0;n.nalCount=0;n.duration=0;n.pts=i[0].pts;n.dts=i[0].dts;s.byteLength=0;s.nalCount=0;s.duration=0;s.pts=i[0].pts;s.dts=i[0].dts;for(e=0;e<i.length;e++){r=i[e];if(r.keyFrame){if(n.length){s.push(n);s.byteLength+=n.byteLength;s.nalCount+=n.nalCount;s.duration+=n.duration}n=[r];n.nalCount=r.length;n.byteLength=r.byteLength;n.pts=r.pts;n.dts=r.dts;n.duration=r.duration}else{n.duration+=r.duration;n.nalCount+=r.length;n.byteLength+=r.byteLength;n.push(r)}}if(s.length&&n.duration<=0){n.duration=s[s.length-1].duration}s.byteLength+=n.byteLength;s.nalCount+=n.nalCount;s.duration+=n.duration;s.push(n);return s};var G=function t(i){var e;if(!i[0][0].keyFrame&&i.length>1){e=i.shift();i.byteLength-=e.byteLength;i.nalCount-=e.nalCount;i[0][0].dts=e.dts;i[0][0].pts=e.pts;i[0][0].duration+=e.duration}return i};var X=function t(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}};var Y=function t(i,e){var r=X();r.dataOffset=e;r.compositionTimeOffset=i.pts-i.dts;r.duration=i.duration;r.size=4*i.length;r.size+=i.byteLength;if(i.keyFrame){r.flags.dependsOn=2;r.flags.isNonSyncSample=0}return r};var W=function t(i,e){var r,n,s,a,o,u=e||0,f=[];for(r=0;r<i.length;r++){a=i[r];for(n=0;n<a.length;n++){o=a[n];s=Y(o,u);u+=s.size;f.push(s)}}return f};var J=function t(i){var e,r,n,s,a,o,u=0,f=i.byteLength,h=i.nalCount,c=f+4*h,l=new Uint8Array(c),v=new DataView(l.buffer);for(e=0;e<i.length;e++){s=i[e];for(r=0;r<s.length;r++){a=s[r];for(n=0;n<a.length;n++){o=a[n];v.setUint32(u,o.data.byteLength);u+=4;l.set(o.data,u);u+=o.data.byteLength}}}return l};var Q=function t(i,e){var r,n=e||0,s=[];r=Y(i,n);s.push(r);return s};var K=function t(i){var e,r,n=0,s=i.byteLength,a=i.length,o=s+4*a,u=new Uint8Array(o),f=new DataView(u.buffer);for(e=0;e<i.length;e++){r=i[e];f.setUint32(n,r.data.byteLength);n+=4;u.set(r.data,n);n+=r.data.byteLength}return u};var Z={groupNalsIntoFrames:H,groupFramesIntoGops:z,extendFirstKeyFrame:G,generateSampleTable:W,concatenateNalData:J,generateSampleTableForFrame:Q,concatenateNalDataForFrame:K};var $=[33,16,5,32,164,27];var tt=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252];var it=function t(i){var e=[];while(i--){e.push(0)}return e};var et=function t(i){return Object.keys(i).reduce((function(t,e){t[e]=new Uint8Array(i[e].reduce((function(t,i){return t.concat(i)}),[]));return t}),{})};var rt;var nt=function t(){if(!rt){var i={96e3:[$,[227,64],it(154),[56]],88200:[$,[231],it(170),[56]],64e3:[$,[248,192],it(240),[56]],48e3:[$,[255,192],it(268),[55,148,128],it(54),[112]],44100:[$,[255,192],it(268),[55,163,128],it(84),[112]],32e3:[$,[255,192],it(268),[55,234],it(226),[112]],24e3:[$,[255,192],it(268),[55,255,128],it(268),[111,112],it(126),[224]],16e3:[$,[255,192],it(268),[55,255,128],it(268),[111,255],it(269),[223,108],it(195),[1,192]],12e3:[tt,it(268),[3,127,248],it(268),[6,255,240],it(268),[13,255,224],it(268),[27,253,128],it(259),[56]],11025:[tt,it(268),[3,127,248],it(268),[6,255,240],it(268),[13,255,224],it(268),[27,255,192],it(268),[55,175,128],it(108),[112]],8e3:[tt,it(268),[3,121,16],it(47),[7]]};rt=et(i)}return rt};var st=9e4,at,ot,ut,ft,ht,ct,lt;at=function t(i){return i*st};ot=function t(i,e){return i*e};ut=function t(i){return i/st};ft=function t(i,e){return i/e};ht=function t(i,e){return at(ft(i,e))};ct=function t(i,e){return ot(ut(i),e)};lt=function t(i,e,r){return ut(r?i:i-e)};var vt={ONE_SECOND_IN_TS:st,secondsToVideoTs:at,secondsToAudioTs:ot,videoTsToSeconds:ut,audioTsToSeconds:ft,audioTsToVideoTs:ht,videoTsToAudioTs:ct,metadataTsToSeconds:lt};var dt=function t(i){var e,r,n=0;for(e=0;e<i.length;e++){r=i[e];n+=r.data.byteLength}return n};var pt=function t(i,e,r,n){var s,a=0,o=0,u=0,f=0,h,c,l;if(!e.length){return}s=vt.audioTsToVideoTs(i.baseMediaDecodeTime,i.samplerate);a=Math.ceil(vt.ONE_SECOND_IN_TS/(i.samplerate/1024));if(r&&n){o=s-Math.max(r,n);u=Math.floor(o/a);f=u*a}if(u<1||f>vt.ONE_SECOND_IN_TS/2){return}h=nt()[i.samplerate];if(!h){h=e[0].data}for(c=0;c<u;c++){l=e[0];e.splice(0,0,{data:h,dts:l.dts-a,pts:l.pts-a})}i.baseMediaDecodeTime-=Math.floor(vt.videoTsToAudioTs(f,i.samplerate));return f};var mt=function t(i,e,r){if(e.minSegmentDts>=r){return i}e.minSegmentDts=Infinity;return i.filter((function(t){if(t.dts>=r){e.minSegmentDts=Math.min(e.minSegmentDts,t.dts);e.minSegmentPts=e.minSegmentDts;return true}return false}))};var gt=function t(i){var e,r,n=[];for(e=0;e<i.length;e++){r=i[e];n.push({size:r.data.byteLength,duration:1024})}return n};var bt=function t(i){var e,r,n=0,s=new Uint8Array(dt(i));for(e=0;e<i.length;e++){r=i[e];s.set(r.data,n);n+=r.data.byteLength}return s};var yt={prefixWithSilence:pt,trimAdtsFramesByEarliestDts:mt,generateSampleTable:gt,concatenateFrameData:bt};var jt=vt.ONE_SECOND_IN_TS;var wt=function t(i,e){if(typeof e.pts==="number"){if(i.timelineStartInfo.pts===undefined){i.timelineStartInfo.pts=e.pts}if(i.minSegmentPts===undefined){i.minSegmentPts=e.pts}else{i.minSegmentPts=Math.min(i.minSegmentPts,e.pts)}if(i.maxSegmentPts===undefined){i.maxSegmentPts=e.pts}else{i.maxSegmentPts=Math.max(i.maxSegmentPts,e.pts)}}if(typeof e.dts==="number"){if(i.timelineStartInfo.dts===undefined){i.timelineStartInfo.dts=e.dts}if(i.minSegmentDts===undefined){i.minSegmentDts=e.dts}else{i.minSegmentDts=Math.min(i.minSegmentDts,e.dts)}if(i.maxSegmentDts===undefined){i.maxSegmentDts=e.dts}else{i.maxSegmentDts=Math.max(i.maxSegmentDts,e.dts)}}};var Tt=function t(i){delete i.minSegmentDts;delete i.maxSegmentDts;delete i.minSegmentPts;delete i.maxSegmentPts};var kt=function t(i,e){var r,n,s=i.minSegmentDts;if(!e){s-=i.timelineStartInfo.dts}r=i.timelineStartInfo.baseMediaDecodeTime;r+=s;r=Math.max(0,r);if(i.type==="audio"){n=i.samplerate/jt;r*=n;r=Math.floor(r)}return r};var At={clearDtsInfo:Tt,calculateTrackBaseMediaDecodeTime:kt,collectDtsInfo:wt};var Et=4,xt=128;var St=function t(i){var e=0,r={payloadType:-1,payloadSize:0},n=0,s=0;while(e<i.byteLength){if(i[e]===xt){break}while(i[e]===255){n+=255;e++}n+=i[e++];while(i[e]===255){s+=255;e++}s+=i[e++];if(!r.payload&&n===Et){var a=String.fromCharCode(i[e+3],i[e+4],i[e+5],i[e+6]);if(a==="GA94"){r.payloadType=n;r.payloadSize=s;r.payload=i.subarray(e,e+s);break}else{r.payload=void 0}}e+=s;n=0;s=0}return r};var It=function t(i){if(i.payload[0]!==181){return null}if((i.payload[1]<<8|i.payload[2])!==49){return null}if(String.fromCharCode(i.payload[3],i.payload[4],i.payload[5],i.payload[6])!=="GA94"){return null}if(i.payload[7]!==3){return null}return i.payload.subarray(8,i.payload.length-1)};var Dt=function t(i,e){var r=[],n,s,a,o;if(!(e[0]&64)){return r}s=e[0]&31;for(n=0;n<s;n++){a=n*3;o={type:e[a+2]&3,pts:i};if(e[a+2]&4){o.ccData=e[a+3]<<8|e[a+4];r.push(o)}}return r};var Nt=function t(i){var e=i.byteLength,r=[],n=1,s,a;while(n<e-2){if(i[n]===0&&i[n+1]===0&&i[n+2]===3){r.push(n+2);n+=2}else{n++}}if(r.length===0){return i}s=e-r.length;a=new Uint8Array(s);var o=0;for(n=0;n<s;o++,n++){if(o===r[0]){o++;r.shift()}a[n]=i[o]}return a};var Ot={parseSei:St,parseUserData:It,parseCaptionPackets:Dt,discardEmulationPreventionBytes:Nt,USER_DATA_REGISTERED_ITU_T_T35:Et};var Rt=function t(i){i=i||{};t.prototype.init.call(this);this.parse708captions_=typeof i.parse708captions==="boolean"?i.parse708captions:true;this.captionPackets_=[];this.ccStreams_=[new zt(0,0),new zt(0,1),new zt(1,0),new zt(1,1)];if(this.parse708captions_){this.cc708Stream_=new Pt({captionServices:i.captionServices})}this.reset();this.ccStreams_.forEach((function(t){t.on("data",this.trigger.bind(this,"data"));t.on("partialdone",this.trigger.bind(this,"partialdone"));t.on("done",this.trigger.bind(this,"done"))}),this);if(this.parse708captions_){this.cc708Stream_.on("data",this.trigger.bind(this,"data"));this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone"));this.cc708Stream_.on("done",this.trigger.bind(this,"done"))}};Rt.prototype=new i;Rt.prototype.push=function(t){var i,e,r;if(t.nalUnitType!=="sei_rbsp"){return}i=Ot.parseSei(t.escapedRBSP);if(!i.payload){return}if(i.payloadType!==Ot.USER_DATA_REGISTERED_ITU_T_T35){return}e=Ot.parseUserData(i);if(!e){return}if(t.dts<this.latestDts_){this.ignoreNextEqualDts_=true;return}else if(t.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--;if(!this.numSameDts_){this.ignoreNextEqualDts_=false}return}r=Ot.parseCaptionPackets(t.pts,e);this.captionPackets_=this.captionPackets_.concat(r);if(this.latestDts_!==t.dts){this.numSameDts_=0}this.numSameDts_++;this.latestDts_=t.dts};Rt.prototype.flushCCStreams=function(t){this.ccStreams_.forEach((function(i){return t==="flush"?i.flush():i.partialFlush()}),this)};Rt.prototype.flushStream=function(t){if(!this.captionPackets_.length){this.flushCCStreams(t);return}this.captionPackets_.forEach((function(t,i){t.presortIndex=i}));this.captionPackets_.sort((function(t,i){if(t.pts===i.pts){return t.presortIndex-i.presortIndex}return t.pts-i.pts}));this.captionPackets_.forEach((function(t){if(t.type<2){this.dispatchCea608Packet(t)}else{this.dispatchCea708Packet(t)}}),this);this.captionPackets_.length=0;this.flushCCStreams(t)};Rt.prototype.flush=function(){return this.flushStream("flush")};Rt.prototype.partialFlush=function(){return this.flushStream("partialFlush")};Rt.prototype.reset=function(){this.latestDts_=null;this.ignoreNextEqualDts_=false;this.numSameDts_=0;this.activeCea608Channel_=[null,null];this.ccStreams_.forEach((function(t){t.reset()}))};Rt.prototype.dispatchCea608Packet=function(t){if(this.setsTextOrXDSActive(t)){this.activeCea608Channel_[t.type]=null}else if(this.setsChannel1Active(t)){this.activeCea608Channel_[t.type]=0}else if(this.setsChannel2Active(t)){this.activeCea608Channel_[t.type]=1}if(this.activeCea608Channel_[t.type]===null){return}this.ccStreams_[(t.type<<1)+this.activeCea608Channel_[t.type]].push(t)};Rt.prototype.setsChannel1Active=function(t){return(t.ccData&30720)===4096};Rt.prototype.setsChannel2Active=function(t){return(t.ccData&30720)===6144};Rt.prototype.setsTextOrXDSActive=function(t){return(t.ccData&28928)===256||(t.ccData&30974)===4138||(t.ccData&30974)===6186};Rt.prototype.dispatchCea708Packet=function(t){if(this.parse708captions_){this.cc708Stream_.push(t)}};var Lt={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600};var Ct=function t(i){var e=Lt[i]||i;if(i&4096&&i===e){return""}return String.fromCharCode(e)};var Mt=function t(i){return 32<=i&&i<=127||160<=i&&i<=255};var Ut=function t(i){this.windowNum=i;this.reset()};Ut.prototype.reset=function(){this.clearText();this.pendingNewLine=false;this.winAttr={};this.penAttr={};this.penLoc={};this.penColor={};this.visible=0;this.rowLock=0;this.columnLock=0;this.priority=0;this.relativePositioning=0;this.anchorVertical=0;this.anchorHorizontal=0;this.anchorPoint=0;this.rowCount=1;this.virtualRowCount=this.rowCount+1;this.columnCount=41;this.windowStyle=0;this.penStyle=0};Ut.prototype.getText=function(){return this.rows.join("\n")};Ut.prototype.clearText=function(){this.rows=[""];this.rowIdx=0};Ut.prototype.newLine=function(t){if(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow==="function"){this.beforeRowOverflow(t)}if(this.rows.length>0){this.rows.push("");this.rowIdx++}while(this.rows.length>this.virtualRowCount){this.rows.shift();this.rowIdx--}};Ut.prototype.isEmpty=function(){if(this.rows.length===0){return true}else if(this.rows.length===1){return this.rows[0]===""}return false};Ut.prototype.addText=function(t){this.rows[this.rowIdx]+=t};Ut.prototype.backspace=function(){if(!this.isEmpty()){var t=this.rows[this.rowIdx];this.rows[this.rowIdx]=t.substr(0,t.length-1)}};var Bt=function t(i,e,r){this.serviceNum=i;this.text="";this.currentWindow=new Ut(-1);this.windows=[];this.stream=r;if(typeof e==="string"){this.createTextDecoder(e)}};Bt.prototype.init=function(t,i){this.startPts=t;for(var e=0;e<8;e++){this.windows[e]=new Ut(e);if(typeof i==="function"){this.windows[e].beforeRowOverflow=i}}};Bt.prototype.setCurrentWindow=function(t){this.currentWindow=this.windows[t]};Bt.prototype.createTextDecoder=function(t){if(typeof TextDecoder==="undefined"){this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"})}else{try{this.textDecoder_=new TextDecoder(t)}catch(i){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+t+" encoding. "+i})}}};var Pt=function t(i){i=i||{};t.prototype.init.call(this);var e=this;var r=i.captionServices||{};var n={};var s;Object.keys(r).forEach((function(t){s=r[t];if(/^SERVICE/.test(t)){n[t]=s.encoding}}));this.serviceEncodings=n;this.current708Packet=null;this.services={};this.push=function(t){if(t.type===3){e.new708Packet();e.add708Bytes(t)}else{if(e.current708Packet===null){e.new708Packet()}e.add708Bytes(t)}}};Pt.prototype=new i;Pt.prototype.new708Packet=function(){if(this.current708Packet!==null){this.push708Packet()}this.current708Packet={data:[],ptsVals:[]}};Pt.prototype.add708Bytes=function(t){var i=t.ccData;var e=i>>>8;var r=i&255;this.current708Packet.ptsVals.push(t.pts);this.current708Packet.data.push(e);this.current708Packet.data.push(r)};Pt.prototype.push708Packet=function(){var t=this.current708Packet;var i=t.data;var e=null;var r=null;var n=0;var s=i[n++];t.seq=s>>6;t.sizeCode=s&63;for(;n<i.length;n++){s=i[n++];e=s>>5;r=s&31;if(e===7&&r>0){s=i[n++];e=s}this.pushServiceBlock(e,n,r);if(r>0){n+=r-1}}};Pt.prototype.pushServiceBlock=function(t,i,e){var r;var n=i;var s=this.current708Packet.data;var a=this.services[t];if(!a){a=this.initService(t,n)}for(;n<i+e&&n<s.length;n++){r=s[n];if(Mt(r)){n=this.handleText(n,a)}else if(r===24){n=this.multiByteCharacter(n,a)}else if(r===16){n=this.extendedCommands(n,a)}else if(128<=r&&r<=135){n=this.setCurrentWindow(n,a)}else if(152<=r&&r<=159){n=this.defineWindow(n,a)}else if(r===136){n=this.clearWindows(n,a)}else if(r===140){n=this.deleteWindows(n,a)}else if(r===137){n=this.displayWindows(n,a)}else if(r===138){n=this.hideWindows(n,a)}else if(r===139){n=this.toggleWindows(n,a)}else if(r===151){n=this.setWindowAttributes(n,a)}else if(r===144){n=this.setPenAttributes(n,a)}else if(r===145){n=this.setPenColor(n,a)}else if(r===146){n=this.setPenLocation(n,a)}else if(r===143){a=this.reset(n,a)}else if(r===8){a.currentWindow.backspace()}else if(r===12){a.currentWindow.clearText()}else if(r===13){a.currentWindow.pendingNewLine=true}else if(r===14){a.currentWindow.clearText()}else if(r===141){n++}else;}};Pt.prototype.extendedCommands=function(t,i){var e=this.current708Packet.data;var r=e[++t];if(Mt(r)){t=this.handleText(t,i,{isExtended:true})}return t};Pt.prototype.getPts=function(t){return this.current708Packet.ptsVals[Math.floor(t/2)]};Pt.prototype.initService=function(t,i){var e="SERVICE"+t;var r=this;var e;var n;if(e in this.serviceEncodings){n=this.serviceEncodings[e]}this.services[t]=new Bt(t,n,r);this.services[t].init(this.getPts(i),(function(i){r.flushDisplayed(i,r.services[t])}));return this.services[t]};Pt.prototype.handleText=function(t,i,e){var r=e&&e.isExtended;var n=e&&e.isMultiByte;var s=this.current708Packet.data;var a=r?4096:0;var o=s[t];var u=s[t+1];var f=i.currentWindow;var h;var c;if(i.textDecoder_&&!r){if(n){c=[o,u];t++}else{c=[o]}h=i.textDecoder_.decode(new Uint8Array(c))}else{h=Ct(a|o)}if(f.pendingNewLine&&!f.isEmpty()){f.newLine(this.getPts(t))}f.pendingNewLine=false;f.addText(h);return t};Pt.prototype.multiByteCharacter=function(t,i){var e=this.current708Packet.data;var r=e[t+1];var n=e[t+2];if(Mt(r)&&Mt(n)){t=this.handleText(++t,i,{isMultiByte:true})}return t};Pt.prototype.setCurrentWindow=function(t,i){var e=this.current708Packet.data;var r=e[t];var n=r&7;i.setCurrentWindow(n);return t};Pt.prototype.defineWindow=function(t,i){var e=this.current708Packet.data;var r=e[t];var n=r&7;i.setCurrentWindow(n);var s=i.currentWindow;r=e[++t];s.visible=(r&32)>>5;s.rowLock=(r&16)>>4;s.columnLock=(r&8)>>3;s.priority=r&7;r=e[++t];s.relativePositioning=(r&128)>>7;s.anchorVertical=r&127;r=e[++t];s.anchorHorizontal=r;r=e[++t];s.anchorPoint=(r&240)>>4;s.rowCount=r&15;r=e[++t];s.columnCount=r&63;r=e[++t];s.windowStyle=(r&56)>>3;s.penStyle=r&7;s.virtualRowCount=s.rowCount+1;return t};Pt.prototype.setWindowAttributes=function(t,i){var e=this.current708Packet.data;var r=e[t];var n=i.currentWindow.winAttr;r=e[++t];n.fillOpacity=(r&192)>>6;n.fillRed=(r&48)>>4;n.fillGreen=(r&12)>>2;n.fillBlue=r&3;r=e[++t];n.borderType=(r&192)>>6;n.borderRed=(r&48)>>4;n.borderGreen=(r&12)>>2;n.borderBlue=r&3;r=e[++t];n.borderType+=(r&128)>>5;n.wordWrap=(r&64)>>6;n.printDirection=(r&48)>>4;n.scrollDirection=(r&12)>>2;n.justify=r&3;r=e[++t];n.effectSpeed=(r&240)>>4;n.effectDirection=(r&12)>>2;n.displayEffect=r&3;return t};Pt.prototype.flushDisplayed=function(t,i){var e=[];for(var r=0;r<8;r++){if(i.windows[r].visible&&!i.windows[r].isEmpty()){e.push(i.windows[r].getText())}}i.endPts=t;i.text=e.join("\n\n");this.pushCaption(i);i.startPts=t};Pt.prototype.pushCaption=function(t){if(t.text!==""){this.trigger("data",{startPts:t.startPts,endPts:t.endPts,text:t.text,stream:"cc708_"+t.serviceNum});t.text="";t.startPts=t.endPts}};Pt.prototype.displayWindows=function(t,i){var e=this.current708Packet.data;var r=e[++t];var n=this.getPts(t);this.flushDisplayed(n,i);for(var s=0;s<8;s++){if(r&1<<s){i.windows[s].visible=1}}return t};Pt.prototype.hideWindows=function(t,i){var e=this.current708Packet.data;var r=e[++t];var n=this.getPts(t);this.flushDisplayed(n,i);for(var s=0;s<8;s++){if(r&1<<s){i.windows[s].visible=0}}return t};Pt.prototype.toggleWindows=function(t,i){var e=this.current708Packet.data;var r=e[++t];var n=this.getPts(t);this.flushDisplayed(n,i);for(var s=0;s<8;s++){if(r&1<<s){i.windows[s].visible^=1}}return t};Pt.prototype.clearWindows=function(t,i){var e=this.current708Packet.data;var r=e[++t];var n=this.getPts(t);this.flushDisplayed(n,i);for(var s=0;s<8;s++){if(r&1<<s){i.windows[s].clearText()}}return t};Pt.prototype.deleteWindows=function(t,i){var e=this.current708Packet.data;var r=e[++t];var n=this.getPts(t);this.flushDisplayed(n,i);for(var s=0;s<8;s++){if(r&1<<s){i.windows[s].reset()}}return t};Pt.prototype.setPenAttributes=function(t,i){var e=this.current708Packet.data;var r=e[t];var n=i.currentWindow.penAttr;r=e[++t];n.textTag=(r&240)>>4;n.offset=(r&12)>>2;n.penSize=r&3;r=e[++t];n.italics=(r&128)>>7;n.underline=(r&64)>>6;n.edgeType=(r&56)>>3;n.fontStyle=r&7;return t};Pt.prototype.setPenColor=function(t,i){var e=this.current708Packet.data;var r=e[t];var n=i.currentWindow.penColor;r=e[++t];n.fgOpacity=(r&192)>>6;n.fgRed=(r&48)>>4;n.fgGreen=(r&12)>>2;n.fgBlue=r&3;r=e[++t];n.bgOpacity=(r&192)>>6;n.bgRed=(r&48)>>4;n.bgGreen=(r&12)>>2;n.bgBlue=r&3;r=e[++t];n.edgeRed=(r&48)>>4;n.edgeGreen=(r&12)>>2;n.edgeBlue=r&3;return t};Pt.prototype.setPenLocation=function(t,i){var e=this.current708Packet.data;var r=e[t];var n=i.currentWindow.penLoc;i.currentWindow.pendingNewLine=true;r=e[++t];n.row=r&15;r=e[++t];n.column=r&63;return t};Pt.prototype.reset=function(t,i){var e=this.getPts(t);this.flushDisplayed(e,i);return this.initService(i.serviceNum,t)};var qt={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496};var Ft=function t(i){if(i===null){return""}i=qt[i]||i;return String.fromCharCode(i)};var _t=14;var Vt=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152];var Ht=function t(){var i=[],e=_t+1;while(e--){i.push("")}return i};var zt=function t(i,e){t.prototype.init.call(this);this.field_=i||0;this.dataChannel_=e||0;this.name_="CC"+((this.field_<<1|this.dataChannel_)+1);this.setConstants();this.reset();this.push=function(t){var i,e,r,n,s;i=t.ccData&32639;if(i===this.lastControlCode_){this.lastControlCode_=null;return}if((i&61440)===4096){this.lastControlCode_=i}else if(i!==this.PADDING_){this.lastControlCode_=null}r=i>>>8;n=i&255;if(i===this.PADDING_){return}else if(i===this.RESUME_CAPTION_LOADING_){this.mode_="popOn"}else if(i===this.END_OF_CAPTION_){this.mode_="popOn";this.clearFormatting(t.pts);this.flushDisplayed(t.pts);e=this.displayed_;this.displayed_=this.nonDisplayed_;this.nonDisplayed_=e;this.startPts_=t.pts}else if(i===this.ROLL_UP_2_ROWS_){this.rollUpRows_=2;this.setRollUp(t.pts)}else if(i===this.ROLL_UP_3_ROWS_){this.rollUpRows_=3;this.setRollUp(t.pts)}else if(i===this.ROLL_UP_4_ROWS_){this.rollUpRows_=4;this.setRollUp(t.pts)}else if(i===this.CARRIAGE_RETURN_){this.clearFormatting(t.pts);this.flushDisplayed(t.pts);this.shiftRowsUp_();this.startPts_=t.pts}else if(i===this.BACKSPACE_){if(this.mode_==="popOn"){this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1)}else{this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1)}}else if(i===this.ERASE_DISPLAYED_MEMORY_){this.flushDisplayed(t.pts);this.displayed_=Ht()}else if(i===this.ERASE_NON_DISPLAYED_MEMORY_){this.nonDisplayed_=Ht()}else if(i===this.RESUME_DIRECT_CAPTIONING_){if(this.mode_!=="paintOn"){this.flushDisplayed(t.pts);this.displayed_=Ht()}this.mode_="paintOn";this.startPts_=t.pts}else if(this.isSpecialCharacter(r,n)){r=(r&3)<<8;s=Ft(r|n);this[this.mode_](t.pts,s);this.column_++}else if(this.isExtCharacter(r,n)){if(this.mode_==="popOn"){this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1)}else{this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1)}r=(r&3)<<8;s=Ft(r|n);this[this.mode_](t.pts,s);this.column_++}else if(this.isMidRowCode(r,n)){this.clearFormatting(t.pts);this[this.mode_](t.pts," ");this.column_++;if((n&14)===14){this.addFormatting(t.pts,["i"])}if((n&1)===1){this.addFormatting(t.pts,["u"])}}else if(this.isOffsetControlCode(r,n)){this.column_+=n&3}else if(this.isPAC(r,n)){var a=Vt.indexOf(i&7968);if(this.mode_==="rollUp"){if(a-this.rollUpRows_+1<0){a=this.rollUpRows_-1}this.setRollUp(t.pts,a)}if(a!==this.row_){this.clearFormatting(t.pts);this.row_=a}if(n&1&&this.formatting_.indexOf("u")===-1){this.addFormatting(t.pts,["u"])}if((i&16)===16){this.column_=((i&14)>>1)*4}if(this.isColorPAC(n)){if((n&14)===14){this.addFormatting(t.pts,["i"])}}}else if(this.isNormalChar(r)){if(n===0){n=null}s=Ft(r);s+=Ft(n);this[this.mode_](t.pts,s);this.column_+=s.length}}};zt.prototype=new i;zt.prototype.flushDisplayed=function(t){var i=this.displayed_.map((function(t,i){try{return t.trim()}catch(t){this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+i+"."});return""}}),this).join("\n").replace(/^\n+|\n+$/g,"");if(i.length){this.trigger("data",{startPts:this.startPts_,endPts:t,text:i,stream:this.name_})}};zt.prototype.reset=function(){this.mode_="popOn";this.topRow_=0;this.startPts_=0;this.displayed_=Ht();this.nonDisplayed_=Ht();this.lastControlCode_=null;this.column_=0;this.row_=_t;this.rollUpRows_=2;this.formatting_=[]};zt.prototype.setConstants=function(){if(this.dataChannel_===0){this.BASE_=16;this.EXT_=17;this.CONTROL_=(20|this.field_)<<8;this.OFFSET_=23}else if(this.dataChannel_===1){this.BASE_=24;this.EXT_=25;this.CONTROL_=(28|this.field_)<<8;this.OFFSET_=31}this.PADDING_=0;this.RESUME_CAPTION_LOADING_=this.CONTROL_|32;this.END_OF_CAPTION_=this.CONTROL_|47;this.ROLL_UP_2_ROWS_=this.CONTROL_|37;this.ROLL_UP_3_ROWS_=this.CONTROL_|38;this.ROLL_UP_4_ROWS_=this.CONTROL_|39;this.CARRIAGE_RETURN_=this.CONTROL_|45;this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41;this.BACKSPACE_=this.CONTROL_|33;this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44;this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46};zt.prototype.isSpecialCharacter=function(t,i){return t===this.EXT_&&i>=48&&i<=63};zt.prototype.isExtCharacter=function(t,i){return(t===this.EXT_+1||t===this.EXT_+2)&&i>=32&&i<=63};zt.prototype.isMidRowCode=function(t,i){return t===this.EXT_&&i>=32&&i<=47};zt.prototype.isOffsetControlCode=function(t,i){return t===this.OFFSET_&&i>=33&&i<=35};zt.prototype.isPAC=function(t,i){return t>=this.BASE_&&t<this.BASE_+8&&i>=64&&i<=127};zt.prototype.isColorPAC=function(t){return t>=64&&t<=79||t>=96&&t<=127};zt.prototype.isNormalChar=function(t){return t>=32&&t<=127};zt.prototype.setRollUp=function(t,i){if(this.mode_!=="rollUp"){this.row_=_t;this.mode_="rollUp";this.flushDisplayed(t);this.nonDisplayed_=Ht();this.displayed_=Ht()}if(i!==undefined&&i!==this.row_){for(var e=0;e<this.rollUpRows_;e++){this.displayed_[i-e]=this.displayed_[this.row_-e];this.displayed_[this.row_-e]=""}}if(i===undefined){i=this.row_}this.topRow_=i-this.rollUpRows_+1};zt.prototype.addFormatting=function(t,i){this.formatting_=this.formatting_.concat(i);var e=i.reduce((function(t,i){return t+"<"+i+">"}),"");this[this.mode_](t,e)};zt.prototype.clearFormatting=function(t){if(!this.formatting_.length){return}var i=this.formatting_.reverse().reduce((function(t,i){return t+"</"+i+">"}),"");this.formatting_=[];this[this.mode_](t,i)};zt.prototype.popOn=function(t,i){var e=this.nonDisplayed_[this.row_];e+=i;this.nonDisplayed_[this.row_]=e};zt.prototype.rollUp=function(t,i){var e=this.displayed_[this.row_];e+=i;this.displayed_[this.row_]=e};zt.prototype.shiftRowsUp_=function(){var t;for(t=0;t<this.topRow_;t++){this.displayed_[t]=""}for(t=this.row_+1;t<_t+1;t++){this.displayed_[t]=""}for(t=this.topRow_;t<this.row_;t++){this.displayed_[t]=this.displayed_[t+1]}this.displayed_[this.row_]=""};zt.prototype.paintOn=function(t,i){var e=this.displayed_[this.row_];e+=i;this.displayed_[this.row_]=e};var Gt={CaptionStream:Rt,Cea608Stream:zt,Cea708Stream:Pt};var Xt={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21};var Yt=8589934592;var Wt=4294967296;var Jt="shared";var Qt=function t(i,e){var r=1;if(i>e){r=-1}while(Math.abs(e-i)>Wt){i+=r*Yt}return i};var Kt=function t(i){var e,r;t.prototype.init.call(this);this.type_=i||Jt;this.push=function(t){if(this.type_!==Jt&&t.type!==this.type_){return}if(r===undefined){r=t.dts}t.dts=Qt(t.dts,r);t.pts=Qt(t.pts,r);e=t.dts;this.trigger("data",t)};this.flush=function(){r=e;this.trigger("done")};this.endTimeline=function(){this.flush();this.trigger("endedtimeline")};this.discontinuity=function(){r=void 0;e=void 0};this.reset=function(){this.discontinuity();this.trigger("reset")}};Kt.prototype=new i;var Zt={TimestampRolloverStream:Kt,handleRollover:Qt};var $t=function t(i,e,r){var n,s="";for(n=e;n<r;n++){s+="%"+("00"+i[n].toString(16)).slice(-2)}return s},ti=function t(i,e,r){return decodeURIComponent($t(i,e,r))},ii=function t(i,e,r){return unescape($t(i,e,r))},ei=function t(i){return i[0]<<21|i[1]<<14|i[2]<<7|i[3]},ri={TXXX:function t(i){var e;if(i.data[0]!==3){return}for(e=1;e<i.data.length;e++){if(i.data[e]===0){i.description=ti(i.data,1,e);i.value=ti(i.data,e+1,i.data.length).replace(/\0*$/,"");break}}i.data=i.value},WXXX:function t(i){var e;if(i.data[0]!==3){return}for(e=1;e<i.data.length;e++){if(i.data[e]===0){i.description=ti(i.data,1,e);i.url=ti(i.data,e+1,i.data.length);break}}},PRIV:function t(i){var e;for(e=0;e<i.data.length;e++){if(i.data[e]===0){i.owner=ii(i.data,0,e);break}}i.privateData=i.data.subarray(e+1);i.data=i.privateData}},ni;ni=function t(i){var e={descriptor:i&&i.descriptor},r=0,n=[],s=0,a;ni.prototype.init.call(this);this.dispatchType=Xt.METADATA_STREAM_TYPE.toString(16);if(e.descriptor){for(a=0;a<e.descriptor.length;a++){this.dispatchType+=("00"+e.descriptor[a].toString(16)).slice(-2)}}this.push=function(t){var i,e,a,o,u,f;if(t.type!=="timed-metadata"){return}if(t.dataAlignmentIndicator){s=0;n.length=0}if(n.length===0&&(t.data.length<10||t.data[0]!=="I".charCodeAt(0)||t.data[1]!=="D".charCodeAt(0)||t.data[2]!=="3".charCodeAt(0))){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}n.push(t);s+=t.data.byteLength;if(n.length===1){r=ei(t.data.subarray(6,10));r+=10}if(s<r){return}i={data:new Uint8Array(r),frames:[],pts:n[0].pts,dts:n[0].dts};for(u=0;u<r;){i.data.set(n[0].data.subarray(0,r-u),u);u+=n[0].data.byteLength;s-=n[0].data.byteLength;n.shift()}e=10;if(i.data[5]&64){e+=4;e+=ei(i.data.subarray(10,14));r-=ei(i.data.subarray(16,20))}do{a=ei(i.data.subarray(e+4,e+8));if(a<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});return}f=String.fromCharCode(i.data[e],i.data[e+1],i.data[e+2],i.data[e+3]);o={id:f,data:i.data.subarray(e+10,e+a+10)};o.key=o.id;if(ri[o.id]){ri[o.id](o);if(o.owner==="com.apple.streaming.transportStreamTimestamp"){var h=o.data,c=(h[3]&1)<<30|h[4]<<22|h[5]<<14|h[6]<<6|h[7]>>>2;c*=4;c+=h[7]&3;o.timeStamp=c;if(i.pts===undefined&&i.dts===undefined){i.pts=o.timeStamp;i.dts=o.timeStamp}this.trigger("timestamp",o)}}i.frames.push(o);e+=10;e+=a}while(e<r);this.trigger("data",i)}};ni.prototype=new i;var si=ni;var ai=Zt.TimestampRolloverStream;var oi,ui,fi;var hi=188,ci=71;oi=function t(){var i=new Uint8Array(hi),e=0;oi.prototype.init.call(this);this.push=function(t){var r=0,n=hi,s;if(e){s=new Uint8Array(t.byteLength+e);s.set(i.subarray(0,e));s.set(t,e);e=0}else{s=t}while(n<s.byteLength){if(s[r]===ci&&s[n]===ci){this.trigger("data",s.subarray(r,n));r+=hi;n+=hi;continue}r++;n++}if(r<s.byteLength){i.set(s.subarray(r),0);e=s.byteLength-r}};this.flush=function(){if(e===hi&&i[0]===ci){this.trigger("data",i);e=0}this.trigger("done")};this.endTimeline=function(){this.flush();this.trigger("endedtimeline")};this.reset=function(){e=0;this.trigger("reset")}};oi.prototype=new i;ui=function t(){var i,e,r,n;ui.prototype.init.call(this);n=this;this.packetsWaitingForPmt=[];this.programMapTable=undefined;i=function t(i,n){var s=0;if(n.payloadUnitStartIndicator){s+=i[s]+1}if(n.type==="pat"){e(i.subarray(s),n)}else{r(i.subarray(s),n)}};e=function t(i,e){e.section_number=i[7];e.last_section_number=i[8];n.pmtPid=(i[10]&31)<<8|i[11];e.pmtPid=n.pmtPid};r=function t(i,e){var r,s,a,o;if(!(i[5]&1)){return}n.programMapTable={video:null,audio:null,"timed-metadata":{}};r=(i[1]&15)<<8|i[2];s=3+r-4;a=(i[10]&15)<<8|i[11];o=12+a;while(o<s){var u=i[o];var f=(i[o+1]&31)<<8|i[o+2];if(u===Xt.H264_STREAM_TYPE&&n.programMapTable.video===null){n.programMapTable.video=f}else if(u===Xt.ADTS_STREAM_TYPE&&n.programMapTable.audio===null){n.programMapTable.audio=f}else if(u===Xt.METADATA_STREAM_TYPE){n.programMapTable["timed-metadata"][f]=u}o+=((i[o+3]&15)<<8|i[o+4])+5}e.programMapTable=n.programMapTable};this.push=function(t){var e={},r=4;e.payloadUnitStartIndicator=!!(t[1]&64);e.pid=t[1]&31;e.pid<<=8;e.pid|=t[2];if((t[3]&48)>>>4>1){r+=t[r]+1}if(e.pid===0){e.type="pat";i(t.subarray(r),e);this.trigger("data",e)}else if(e.pid===this.pmtPid){e.type="pmt";i(t.subarray(r),e);this.trigger("data",e);while(this.packetsWaitingForPmt.length){this.processPes_.apply(this,this.packetsWaitingForPmt.shift())}}else if(this.programMapTable===undefined){this.packetsWaitingForPmt.push([t,r,e])}else{this.processPes_(t,r,e)}};this.processPes_=function(t,i,e){if(e.pid===this.programMapTable.video){e.streamType=Xt.H264_STREAM_TYPE}else if(e.pid===this.programMapTable.audio){e.streamType=Xt.ADTS_STREAM_TYPE}else{e.streamType=this.programMapTable["timed-metadata"][e.pid]}e.type="pes";e.data=t.subarray(i);this.trigger("data",e)}};ui.prototype=new i;ui.STREAM_TYPES={h264:27,adts:15};fi=function t(){var i=this,e=false,r={data:[],size:0},n={data:[],size:0},s={data:[],size:0},a,o=function t(i,e){var r;var n=i[0]<<16|i[1]<<8|i[2];e.data=new Uint8Array;if(n!==1){return}e.packetLength=6+(i[4]<<8|i[5]);e.dataAlignmentIndicator=(i[6]&4)!==0;r=i[7];if(r&192){e.pts=(i[9]&14)<<27|(i[10]&255)<<20|(i[11]&254)<<12|(i[12]&255)<<5|(i[13]&254)>>>3;e.pts*=4;e.pts+=(i[13]&6)>>>1;e.dts=e.pts;if(r&64){e.dts=(i[14]&14)<<27|(i[15]&255)<<20|(i[16]&254)<<12|(i[17]&255)<<5|(i[18]&254)>>>3;e.dts*=4;e.dts+=(i[18]&6)>>>1}}e.data=i.subarray(9+i[8])},u=function t(e,r,n){var s=new Uint8Array(e.size),a={type:r},u=0,f=0,h=false,c;if(!e.data.length||e.size<9){return}a.trackId=e.data[0].pid;for(u=0;u<e.data.length;u++){c=e.data[u];s.set(c.data,f);f+=c.data.byteLength}o(s,a);h=r==="video"||a.packetLength<=e.size;if(n||h){e.size=0;e.data.length=0}if(h){i.trigger("data",a)}};fi.prototype.init.call(this);this.push=function(t){({pat:function t(){},pes:function i(){var e,a;switch(t.streamType){case Xt.H264_STREAM_TYPE:e=r;a="video";break;case Xt.ADTS_STREAM_TYPE:e=n;a="audio";break;case Xt.METADATA_STREAM_TYPE:e=s;a="timed-metadata";break;default:return}if(t.payloadUnitStartIndicator){u(e,a,true)}e.data.push(t);e.size+=t.data.byteLength},pmt:function r(){var n={type:"metadata",tracks:[]};a=t.programMapTable;if(a.video!==null){n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+a.video,codec:"avc",type:"video"})}if(a.audio!==null){n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+a.audio,codec:"adts",type:"audio"})}e=true;i.trigger("data",n)}})[t.type]()};this.reset=function(){r.size=0;r.data.length=0;n.size=0;n.data.length=0;this.trigger("reset")};this.flushStreams_=function(){u(r,"video");u(n,"audio");u(s,"timed-metadata")};this.flush=function(){if(!e&&a){var t={type:"metadata",tracks:[]};if(a.video!==null){t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+a.video,codec:"avc",type:"video"})}if(a.audio!==null){t.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+a.audio,codec:"adts",type:"audio"})}i.trigger("data",t)}e=false;this.flushStreams_();this.trigger("done")}};fi.prototype=new i;var li={PAT_PID:0,MP2T_PACKET_LENGTH:hi,TransportPacketStream:oi,TransportParseStream:ui,ElementaryStream:fi,TimestampRolloverStream:ai,CaptionStream:Gt.CaptionStream,Cea608Stream:Gt.Cea608Stream,Cea708Stream:Gt.Cea708Stream,MetadataStream:si};for(var vi in Xt){if(Xt.hasOwnProperty(vi)){li[vi]=Xt[vi]}}var di=li;var pi=vt.ONE_SECOND_IN_TS;var mi;var gi=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];mi=function t(i){var e,r=0;mi.prototype.init.call(this);this.skipWarn_=function(t,i){this.trigger("log",{level:"warn",message:"adts skiping bytes "+t+" to "+i+" in frame "+r+" outside syncword"})};this.push=function(t){var n=0,s,a,o,u,f;if(!i){r=0}if(t.type!=="audio"){return}if(e&&e.length){o=e;e=new Uint8Array(o.byteLength+t.data.byteLength);e.set(o);e.set(t.data,o.byteLength)}else{e=t.data}var h;while(n+7<e.length){if(e[n]!==255||(e[n+1]&246)!==240){if(typeof h!=="number"){h=n}n++;continue}if(typeof h==="number"){this.skipWarn_(h,n);h=null}a=(~e[n+1]&1)*2;s=(e[n+3]&3)<<11|e[n+4]<<3|(e[n+5]&224)>>5;u=((e[n+6]&3)+1)*1024;f=u*pi/gi[(e[n+2]&60)>>>2];if(e.byteLength-n<s){break}this.trigger("data",{pts:t.pts+r*f,dts:t.dts+r*f,sampleCount:u,audioobjecttype:(e[n+2]>>>6&3)+1,channelcount:(e[n+2]&1)<<2|(e[n+3]&192)>>>6,samplerate:gi[(e[n+2]&60)>>>2],samplingfrequencyindex:(e[n+2]&60)>>>2,samplesize:16,data:e.subarray(n+7+a,n+s)});r++;n+=s}if(typeof h==="number"){this.skipWarn_(h,n);h=null}e=e.subarray(n)};this.flush=function(){r=0;this.trigger("done")};this.reset=function(){e=void 0;this.trigger("reset")};this.endTimeline=function(){e=void 0;this.trigger("endedtimeline")}};mi.prototype=new i;var bi=mi;var yi;yi=function t(i){var e=i.byteLength,r=0,n=0;this.length=function(){return 8*e};this.bitsAvailable=function(){return 8*e+n};this.loadWord=function(){var t=i.byteLength-e,s=new Uint8Array(4),a=Math.min(4,e);if(a===0){throw new Error("no bytes available")}s.set(i.subarray(t,t+a));r=new DataView(s.buffer).getUint32(0);n=a*8;e-=a};this.skipBits=function(t){var i;if(n>t){r<<=t;n-=t}else{t-=n;i=Math.floor(t/8);t-=i*8;e-=i;this.loadWord();r<<=t;n-=t}};this.readBits=function(t){var i=Math.min(n,t),s=r>>>32-i;n-=i;if(n>0){r<<=i}else if(e>0){this.loadWord()}i=t-i;if(i>0){return s<<i|this.readBits(i)}return s};this.skipLeadingZeros=function(){var t;for(t=0;t<n;++t){if((r&2147483648>>>t)!==0){r<<=t;n-=t;return t}}this.loadWord();return t+this.skipLeadingZeros()};this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())};this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())};this.readUnsignedExpGolomb=function(){var t=this.skipLeadingZeros();return this.readBits(t+1)-1};this.readExpGolomb=function(){var t=this.readUnsignedExpGolomb();if(1&t){return 1+t>>>1}return-1*(t>>>1)};this.readBoolean=function(){return this.readBits(1)===1};this.readUnsignedByte=function(){return this.readBits(8)};this.loadWord()};var ji=yi;var wi,Ti;var ki;Ti=function t(){var i=0,e,r;Ti.prototype.init.call(this);this.push=function(t){var n;if(!r){r=t.data}else{n=new Uint8Array(r.byteLength+t.data.byteLength);n.set(r);n.set(t.data,r.byteLength);r=n}var s=r.byteLength;for(;i<s-3;i++){if(r[i+2]===1){e=i+5;break}}while(e<s){switch(r[e]){case 0:if(r[e-1]!==0){e+=2;break}else if(r[e-2]!==0){e++;break}if(i+3!==e-2){this.trigger("data",r.subarray(i+3,e-2))}do{e++}while(r[e]!==1&&e<s);i=e-2;e+=3;break;case 1:if(r[e-1]!==0||r[e-2]!==0){e+=3;break}this.trigger("data",r.subarray(i+3,e-2));i=e-2;e+=3;break;default:e+=3;break}}r=r.subarray(i);e-=i;i=0};this.reset=function(){r=null;i=0;this.trigger("reset")};this.flush=function(){if(r&&r.byteLength>3){this.trigger("data",r.subarray(i+3))}r=null;i=0;this.trigger("done")};this.endTimeline=function(){this.flush();this.trigger("endedtimeline")}};Ti.prototype=new i;ki={100:true,110:true,122:true,244:true,44:true,83:true,86:true,118:true,128:true,138:true,139:true,134:true};wi=function t(){var i=new Ti,e,r,n,s,a,o,u;wi.prototype.init.call(this);e=this;this.push=function(t){if(t.type!=="video"){return}r=t.trackId;n=t.pts;s=t.dts;i.push(t)};i.on("data",(function(t){var i={trackId:r,pts:n,dts:s,data:t,nalUnitTypeCode:t[0]&31};switch(i.nalUnitTypeCode){case 5:i.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:i.nalUnitType="sei_rbsp";i.escapedRBSP=a(t.subarray(1));break;case 7:i.nalUnitType="seq_parameter_set_rbsp";i.escapedRBSP=a(t.subarray(1));i.config=o(i.escapedRBSP);break;case 8:i.nalUnitType="pic_parameter_set_rbsp";break;case 9:i.nalUnitType="access_unit_delimiter_rbsp";break}e.trigger("data",i)}));i.on("done",(function(){e.trigger("done")}));i.on("partialdone",(function(){e.trigger("partialdone")}));i.on("reset",(function(){e.trigger("reset")}));i.on("endedtimeline",(function(){e.trigger("endedtimeline")}));this.flush=function(){i.flush()};this.partialFlush=function(){i.partialFlush()};this.reset=function(){i.reset()};this.endTimeline=function(){i.endTimeline()};u=function t(i,e){var r=8,n=8,s,a;for(s=0;s<i;s++){if(n!==0){a=e.readExpGolomb();n=(r+a+256)%256}r=n===0?r:n}};a=function t(i){var e=i.byteLength,r=[],n=1,s,a;while(n<e-2){if(i[n]===0&&i[n+1]===0&&i[n+2]===3){r.push(n+2);n+=2}else{n++}}if(r.length===0){return i}s=e-r.length;a=new Uint8Array(s);var o=0;for(n=0;n<s;o++,n++){if(o===r[0]){o++;r.shift()}a[n]=i[o]}return a};o=function t(i){var e=0,r=0,n=0,s=0,a,o,f,h,c,l,v,d,p,m,g,b=[1,1],y,j;a=new ji(i);o=a.readUnsignedByte();h=a.readUnsignedByte();f=a.readUnsignedByte();a.skipUnsignedExpGolomb();if(ki[o]){c=a.readUnsignedExpGolomb();if(c===3){a.skipBits(1)}a.skipUnsignedExpGolomb();a.skipUnsignedExpGolomb();a.skipBits(1);if(a.readBoolean()){g=c!==3?8:12;for(j=0;j<g;j++){if(a.readBoolean()){if(j<6){u(16,a)}else{u(64,a)}}}}}a.skipUnsignedExpGolomb();l=a.readUnsignedExpGolomb();if(l===0){a.readUnsignedExpGolomb()}else if(l===1){a.skipBits(1);a.skipExpGolomb();a.skipExpGolomb();v=a.readUnsignedExpGolomb();for(j=0;j<v;j++){a.skipExpGolomb()}}a.skipUnsignedExpGolomb();a.skipBits(1);d=a.readUnsignedExpGolomb();p=a.readUnsignedExpGolomb();m=a.readBits(1);if(m===0){a.skipBits(1)}a.skipBits(1);if(a.readBoolean()){e=a.readUnsignedExpGolomb();r=a.readUnsignedExpGolomb();n=a.readUnsignedExpGolomb();s=a.readUnsignedExpGolomb()}if(a.readBoolean()){if(a.readBoolean()){y=a.readUnsignedByte();switch(y){case 1:b=[1,1];break;case 2:b=[12,11];break;case 3:b=[10,11];break;case 4:b=[16,11];break;case 5:b=[40,33];break;case 6:b=[24,11];break;case 7:b=[20,11];break;case 8:b=[32,11];break;case 9:b=[80,33];break;case 10:b=[18,11];break;case 11:b=[15,11];break;case 12:b=[64,33];break;case 13:b=[160,99];break;case 14:b=[4,3];break;case 15:b=[3,2];break;case 16:b=[2,1];break;case 255:{b=[a.readUnsignedByte()<<8|a.readUnsignedByte(),a.readUnsignedByte()<<8|a.readUnsignedByte()];break}}}}return{profileIdc:o,levelIdc:f,profileCompatibility:h,width:(d+1)*16-e*2-r*2,height:(2-m)*(p+1)*16-n*2-s*2,sarRatio:b}}};wi.prototype=new i;var Ai={H264Stream:wi};var Ei=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];var xi=function t(i,e){var r=i[e+6]<<21|i[e+7]<<14|i[e+8]<<7|i[e+9],n=i[e+5],s=(n&16)>>4;r=r>=0?r:0;if(s){return r+20}return r+10};var Si=function t(i,e){if(i.length-e<10||i[e]!=="I".charCodeAt(0)||i[e+1]!=="D".charCodeAt(0)||i[e+2]!=="3".charCodeAt(0)){return e}e+=xi(i,e);return t(i,e)};var Ii=function t(i){var e=Si(i,0);return i.length>=e+2&&(i[e]&255)===255&&(i[e+1]&240)===240&&(i[e+1]&22)===16};var Di=function t(i){return i[0]<<21|i[1]<<14|i[2]<<7|i[3]};var Ni=function t(i,e,r){var n,s="";for(n=e;n<r;n++){s+="%"+("00"+i[n].toString(16)).slice(-2)}return s};var Oi=function t(i,e,r){return unescape(Ni(i,e,r))};var Ri=function t(i,e){var r=(i[e+5]&224)>>5,n=i[e+4]<<3,s=i[e+3]&3<<11;return s|n|r};var Li=function t(i,e){if(i[e]==="I".charCodeAt(0)&&i[e+1]==="D".charCodeAt(0)&&i[e+2]==="3".charCodeAt(0)){return"timed-metadata"}else if(i[e]&255===255&&(i[e+1]&240)===240){return"audio"}return null};var Ci=function t(i){var e=0;while(e+5<i.length){if(i[e]!==255||(i[e+1]&246)!==240){e++;continue}return Ei[(i[e+2]&60)>>>2]}return null};var Mi=function t(i){var e,r,n,s;e=10;if(i[5]&64){e+=4;e+=Di(i.subarray(10,14))}do{r=Di(i.subarray(e+4,e+8));if(r<1){return null}s=String.fromCharCode(i[e],i[e+1],i[e+2],i[e+3]);if(s==="PRIV"){n=i.subarray(e+10,e+r+10);for(var a=0;a<n.byteLength;a++){if(n[a]===0){var o=Oi(n,0,a);if(o==="com.apple.streaming.transportStreamTimestamp"){var u=n.subarray(a+1);var f=(u[3]&1)<<30|u[4]<<22|u[5]<<14|u[6]<<6|u[7]>>>2;f*=4;f+=u[7]&3;return f}break}}}e+=10;e+=r}while(e<i.byteLength);return null};var Ui={isLikelyAacData:Ii,parseId3TagSize:xi,parseAdtsSize:Ri,parseType:Li,parseSampleRate:Ci,parseAacTimestamp:Mi};var Bi;Bi=function t(){var i=new Uint8Array,e=0;Bi.prototype.init.call(this);this.setTimestamp=function(t){e=t};this.push=function(t){var r=0,n=0,s,a,o,u;if(i.length){u=i.length;i=new Uint8Array(t.byteLength+u);i.set(i.subarray(0,u));i.set(t,u)}else{i=t}while(i.length-n>=3){if(i[n]==="I".charCodeAt(0)&&i[n+1]==="D".charCodeAt(0)&&i[n+2]==="3".charCodeAt(0)){if(i.length-n<10){break}r=Ui.parseId3TagSize(i,n);if(n+r>i.length){break}a={type:"timed-metadata",data:i.subarray(n,n+r)};this.trigger("data",a);n+=r;continue}else if((i[n]&255)===255&&(i[n+1]&240)===240){if(i.length-n<7){break}r=Ui.parseAdtsSize(i,n);if(n+r>i.length){break}o={type:"audio",data:i.subarray(n,n+r),pts:e,dts:e};this.trigger("data",o);n+=r;continue}n++}s=i.length-n;if(s>0){i=i.subarray(n)}else{i=new Uint8Array}};this.reset=function(){i=new Uint8Array;this.trigger("reset")};this.endTimeline=function(){i=new Uint8Array;this.trigger("endedtimeline")}};Bi.prototype=new i;var Pi=Bi;var qi=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"];var Fi=qi;var _i=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"];var Vi=_i;var Hi=Ai.H264Stream;var zi=Ui.isLikelyAacData;var Gi=vt.ONE_SECOND_IN_TS;var Xi,Yi,Wi,Ji;var Qi=function t(i,e){e.stream=i;this.trigger("log",e)};var Ki=function t(i,e){var r=Object.keys(e);for(var n=0;n<r.length;n++){var s=r[n];if(s==="headOfPipeline"||!e[s].on){continue}e[s].on("log",Qi.bind(i,s))}};var Zi=function t(i,e){var r;if(i.length!==e.length){return false}for(r=0;r<i.length;r++){if(i[r]!==e[r]){return false}}return true};var $i=function t(i,e,r,n,s,a){var o=r-e,u=n-e,f=s-r;return{start:{dts:i,pts:i+o},end:{dts:i+u,pts:i+f},prependedContentDuration:a,baseMediaDecodeTime:i}};Yi=function t(i,e){var r=[],n,s=0,a=0,o=Infinity;e=e||{};n=e.firstSequenceNumber||0;Yi.prototype.init.call(this);this.push=function(t){At.collectDtsInfo(i,t);if(i){Fi.forEach((function(e){i[e]=t[e]}))}r.push(t)};this.setEarliestDts=function(t){s=t};this.setVideoBaseMediaDecodeTime=function(t){o=t};this.setAudioAppendStart=function(t){a=t};this.flush=function(){var t,u,f,h,c,l,v;if(r.length===0){this.trigger("done","AudioSegmentStream");return}t=yt.trimAdtsFramesByEarliestDts(r,i,s);i.baseMediaDecodeTime=At.calculateTrackBaseMediaDecodeTime(i,e.keepOriginalTimestamps);v=yt.prefixWithSilence(i,t,a,o);i.samples=yt.generateSampleTable(t);f=V.mdat(yt.concatenateFrameData(t));r=[];u=V.moof(n,[i]);h=new Uint8Array(u.byteLength+f.byteLength);n++;h.set(u);h.set(f,u.byteLength);At.clearDtsInfo(i);c=Math.ceil(Gi*1024/i.samplerate);if(t.length){l=t.length*c;this.trigger("segmentTimingInfo",$i(vt.audioTsToVideoTs(i.baseMediaDecodeTime,i.samplerate),t[0].dts,t[0].pts,t[0].dts+l,t[0].pts+l,v||0));this.trigger("timingInfo",{start:t[0].pts,end:t[0].pts+l})}this.trigger("data",{track:i,boxes:h});this.trigger("done","AudioSegmentStream")};this.reset=function(){At.clearDtsInfo(i);r=[];this.trigger("reset")}};Yi.prototype=new i;Xi=function t(i,e){var r,n=[],s=[],a,o;e=e||{};r=e.firstSequenceNumber||0;Xi.prototype.init.call(this);delete i.minPTS;this.gopCache_=[];this.push=function(t){At.collectDtsInfo(i,t);if(t.nalUnitType==="seq_parameter_set_rbsp"&&!a){a=t.config;i.sps=[t.data];Vi.forEach((function(t){i[t]=a[t]}),this)}if(t.nalUnitType==="pic_parameter_set_rbsp"&&!o){o=t.data;i.pps=[t.data]}n.push(t)};this.flush=function(){var t,a,o,u,f,h,c=0,l,v;while(n.length){if(n[0].nalUnitType==="access_unit_delimiter_rbsp"){break}n.shift()}if(n.length===0){this.resetStream_();this.trigger("done","VideoSegmentStream");return}t=Z.groupNalsIntoFrames(n);o=Z.groupFramesIntoGops(t);if(!o[0][0].keyFrame){a=this.getGopForFusion_(n[0],i);if(a){c=a.duration;o.unshift(a);o.byteLength+=a.byteLength;o.nalCount+=a.nalCount;o.pts=a.pts;o.dts=a.dts;o.duration+=a.duration}else{o=Z.extendFirstKeyFrame(o)}}if(s.length){var d;if(e.alignGopsAtEnd){d=this.alignGopsAtEnd_(o)}else{d=this.alignGopsAtStart_(o)}if(!d){this.gopCache_.unshift({gop:o.pop(),pps:i.pps,sps:i.sps});this.gopCache_.length=Math.min(6,this.gopCache_.length);n=[];this.resetStream_();this.trigger("done","VideoSegmentStream");return}At.clearDtsInfo(i);o=d}At.collectDtsInfo(i,o);i.samples=Z.generateSampleTable(o);f=V.mdat(Z.concatenateNalData(o));i.baseMediaDecodeTime=At.calculateTrackBaseMediaDecodeTime(i,e.keepOriginalTimestamps);this.trigger("processedGopsInfo",o.map((function(t){return{pts:t.pts,dts:t.dts,byteLength:t.byteLength}})));l=o[0];v=o[o.length-1];this.trigger("segmentTimingInfo",$i(i.baseMediaDecodeTime,l.dts,l.pts,v.dts+v.duration,v.pts+v.duration,c));this.trigger("timingInfo",{start:o[0].pts,end:o[o.length-1].pts+o[o.length-1].duration});this.gopCache_.unshift({gop:o.pop(),pps:i.pps,sps:i.sps});this.gopCache_.length=Math.min(6,this.gopCache_.length);n=[];this.trigger("baseMediaDecodeTime",i.baseMediaDecodeTime);this.trigger("timelineStartInfo",i.timelineStartInfo);u=V.moof(r,[i]);h=new Uint8Array(u.byteLength+f.byteLength);r++;h.set(u);h.set(f,u.byteLength);this.trigger("data",{track:i,boxes:h});this.resetStream_();this.trigger("done","VideoSegmentStream")};this.reset=function(){this.resetStream_();n=[];this.gopCache_.length=0;s.length=0;this.trigger("reset")};this.resetStream_=function(){At.clearDtsInfo(i);a=undefined;o=undefined};this.getGopForFusion_=function(t){var e=45e3,r=Infinity,n,s,a,o,u;for(u=0;u<this.gopCache_.length;u++){o=this.gopCache_[u];a=o.gop;if(!(i.pps&&Zi(i.pps[0],o.pps[0]))||!(i.sps&&Zi(i.sps[0],o.sps[0]))){continue}if(a.dts<i.timelineStartInfo.dts){continue}n=t.dts-a.dts-a.duration;if(n>=-1e4&&n<=e){if(!s||r>n){s=o;r=n}}}if(s){return s.gop}return null};this.alignGopsAtStart_=function(t){var i,e,r,n,a,o,u,f;a=t.byteLength;o=t.nalCount;u=t.duration;i=e=0;while(i<s.length&&e<t.length){r=s[i];n=t[e];if(r.pts===n.pts){break}if(n.pts>r.pts){i++;continue}e++;a-=n.byteLength;o-=n.nalCount;u-=n.duration}if(e===0){return t}if(e===t.length){return null}f=t.slice(e);f.byteLength=a;f.duration=u;f.nalCount=o;f.pts=f[0].pts;f.dts=f[0].dts;return f};this.alignGopsAtEnd_=function(t){var i,e,r,n,a,o;i=s.length-1;e=t.length-1;a=null;o=false;while(i>=0&&e>=0){r=s[i];n=t[e];if(r.pts===n.pts){o=true;break}if(r.pts>n.pts){i--;continue}if(i===s.length-1){a=e}e--}if(!o&&a===null){return null}var u;if(o){u=e}else{u=a}if(u===0){return t}var f=t.slice(u);var h=f.reduce((function(t,i){t.byteLength+=i.byteLength;t.duration+=i.duration;t.nalCount+=i.nalCount;return t}),{byteLength:0,duration:0,nalCount:0});f.byteLength=h.byteLength;f.duration=h.duration;f.nalCount=h.nalCount;f.pts=f[0].pts;f.dts=f[0].dts;return f};this.alignGopsWith=function(t){s=t}};Xi.prototype=new i;Ji=function t(i,e){this.numberOfTracks=0;this.metadataStream=e;i=i||{};if(typeof i.remux!=="undefined"){this.remuxTracks=!!i.remux}else{this.remuxTracks=true}if(typeof i.keepOriginalTimestamps==="boolean"){this.keepOriginalTimestamps=i.keepOriginalTimestamps}else{this.keepOriginalTimestamps=false}this.pendingTracks=[];this.videoTrack=null;this.pendingBoxes=[];this.pendingCaptions=[];this.pendingMetadata=[];this.pendingBytes=0;this.emittedTracks=0;Ji.prototype.init.call(this);this.push=function(t){if(t.text){return this.pendingCaptions.push(t)}if(t.frames){return this.pendingMetadata.push(t)}this.pendingTracks.push(t.track);this.pendingBytes+=t.boxes.byteLength;if(t.track.type==="video"){this.videoTrack=t.track;this.pendingBoxes.push(t.boxes)}if(t.track.type==="audio"){this.audioTrack=t.track;this.pendingBoxes.unshift(t.boxes)}}};Ji.prototype=new i;Ji.prototype.flush=function(t){var i=0,e={captions:[],captionStreams:{},metadata:[],info:{}},r,n,s,a=0,o;if(this.pendingTracks.length<this.numberOfTracks){if(t!=="VideoSegmentStream"&&t!=="AudioSegmentStream"){return}else if(this.remuxTracks){return}else if(this.pendingTracks.length===0){this.emittedTracks++;if(this.emittedTracks>=this.numberOfTracks){this.trigger("done");this.emittedTracks=0}return}}if(this.videoTrack){a=this.videoTrack.timelineStartInfo.pts;Vi.forEach((function(t){e.info[t]=this.videoTrack[t]}),this)}else if(this.audioTrack){a=this.audioTrack.timelineStartInfo.pts;Fi.forEach((function(t){e.info[t]=this.audioTrack[t]}),this)}if(this.videoTrack||this.audioTrack){if(this.pendingTracks.length===1){e.type=this.pendingTracks[0].type}else{e.type="combined"}this.emittedTracks+=this.pendingTracks.length;s=V.initSegment(this.pendingTracks);e.initSegment=new Uint8Array(s.byteLength);e.initSegment.set(s);e.data=new Uint8Array(this.pendingBytes);for(o=0;o<this.pendingBoxes.length;o++){e.data.set(this.pendingBoxes[o],i);i+=this.pendingBoxes[o].byteLength}for(o=0;o<this.pendingCaptions.length;o++){r=this.pendingCaptions[o];r.startTime=vt.metadataTsToSeconds(r.startPts,a,this.keepOriginalTimestamps);r.endTime=vt.metadataTsToSeconds(r.endPts,a,this.keepOriginalTimestamps);e.captionStreams[r.stream]=true;e.captions.push(r)}for(o=0;o<this.pendingMetadata.length;o++){n=this.pendingMetadata[o];n.cueTime=vt.metadataTsToSeconds(n.pts,a,this.keepOriginalTimestamps);e.metadata.push(n)}e.metadata.dispatchType=this.metadataStream.dispatchType;this.pendingTracks.length=0;this.videoTrack=null;this.pendingBoxes.length=0;this.pendingCaptions.length=0;this.pendingBytes=0;this.pendingMetadata.length=0;this.trigger("data",e);for(o=0;o<e.captions.length;o++){r=e.captions[o];this.trigger("caption",r)}for(o=0;o<e.metadata.length;o++){n=e.metadata[o];this.trigger("id3Frame",n)}}if(this.emittedTracks>=this.numberOfTracks){this.trigger("done");this.emittedTracks=0}};Ji.prototype.setRemux=function(t){this.remuxTracks=t};Wi=function t(i){var e=this,r=true,n,s;Wi.prototype.init.call(this);i=i||{};this.baseMediaDecodeTime=i.baseMediaDecodeTime||0;this.transmuxPipeline_={};this.setupAacPipeline=function(){var t={};this.transmuxPipeline_=t;t.type="aac";t.metadataStream=new di.MetadataStream;t.aacStream=new Pi;t.audioTimestampRolloverStream=new di.TimestampRolloverStream("audio");t.timedMetadataTimestampRolloverStream=new di.TimestampRolloverStream("timed-metadata");t.adtsStream=new bi;t.coalesceStream=new Ji(i,t.metadataStream);t.headOfPipeline=t.aacStream;t.aacStream.pipe(t.audioTimestampRolloverStream).pipe(t.adtsStream);t.aacStream.pipe(t.timedMetadataTimestampRolloverStream).pipe(t.metadataStream).pipe(t.coalesceStream);t.metadataStream.on("timestamp",(function(i){t.aacStream.setTimestamp(i.timeStamp)}));t.aacStream.on("data",(function(r){if(r.type!=="timed-metadata"&&r.type!=="audio"||t.audioSegmentStream){return}s=s||{timelineStartInfo:{baseMediaDecodeTime:e.baseMediaDecodeTime},codec:"adts",type:"audio"};t.coalesceStream.numberOfTracks++;t.audioSegmentStream=new Yi(s,i);t.audioSegmentStream.on("log",e.getLogTrigger_("audioSegmentStream"));t.audioSegmentStream.on("timingInfo",e.trigger.bind(e,"audioTimingInfo"));t.adtsStream.pipe(t.audioSegmentStream).pipe(t.coalesceStream);e.trigger("trackinfo",{hasAudio:!!s,hasVideo:!!n})}));t.coalesceStream.on("data",this.trigger.bind(this,"data"));t.coalesceStream.on("done",this.trigger.bind(this,"done"));Ki(this,t)};this.setupTsPipeline=function(){var t={};this.transmuxPipeline_=t;t.type="ts";t.metadataStream=new di.MetadataStream;t.packetStream=new di.TransportPacketStream;t.parseStream=new di.TransportParseStream;t.elementaryStream=new di.ElementaryStream;t.timestampRolloverStream=new di.TimestampRolloverStream;t.adtsStream=new bi;t.h264Stream=new Hi;t.captionStream=new di.CaptionStream(i);t.coalesceStream=new Ji(i,t.metadataStream);t.headOfPipeline=t.packetStream;t.packetStream.pipe(t.parseStream).pipe(t.elementaryStream).pipe(t.timestampRolloverStream);t.timestampRolloverStream.pipe(t.h264Stream);t.timestampRolloverStream.pipe(t.adtsStream);t.timestampRolloverStream.pipe(t.metadataStream).pipe(t.coalesceStream);t.h264Stream.pipe(t.captionStream).pipe(t.coalesceStream);t.elementaryStream.on("data",(function(r){var a;if(r.type==="metadata"){a=r.tracks.length;while(a--){if(!n&&r.tracks[a].type==="video"){n=r.tracks[a];n.timelineStartInfo.baseMediaDecodeTime=e.baseMediaDecodeTime}else if(!s&&r.tracks[a].type==="audio"){s=r.tracks[a];s.timelineStartInfo.baseMediaDecodeTime=e.baseMediaDecodeTime}}if(n&&!t.videoSegmentStream){t.coalesceStream.numberOfTracks++;t.videoSegmentStream=new Xi(n,i);t.videoSegmentStream.on("log",e.getLogTrigger_("videoSegmentStream"));t.videoSegmentStream.on("timelineStartInfo",(function(r){if(s&&!i.keepOriginalTimestamps){s.timelineStartInfo=r;t.audioSegmentStream.setEarliestDts(r.dts-e.baseMediaDecodeTime)}}));t.videoSegmentStream.on("processedGopsInfo",e.trigger.bind(e,"gopInfo"));t.videoSegmentStream.on("segmentTimingInfo",e.trigger.bind(e,"videoSegmentTimingInfo"));t.videoSegmentStream.on("baseMediaDecodeTime",(function(i){if(s){t.audioSegmentStream.setVideoBaseMediaDecodeTime(i)}}));t.videoSegmentStream.on("timingInfo",e.trigger.bind(e,"videoTimingInfo"));t.h264Stream.pipe(t.videoSegmentStream).pipe(t.coalesceStream)}if(s&&!t.audioSegmentStream){t.coalesceStream.numberOfTracks++;t.audioSegmentStream=new Yi(s,i);t.audioSegmentStream.on("log",e.getLogTrigger_("audioSegmentStream"));t.audioSegmentStream.on("timingInfo",e.trigger.bind(e,"audioTimingInfo"));t.audioSegmentStream.on("segmentTimingInfo",e.trigger.bind(e,"audioSegmentTimingInfo"));t.adtsStream.pipe(t.audioSegmentStream).pipe(t.coalesceStream)}e.trigger("trackinfo",{hasAudio:!!s,hasVideo:!!n})}}));t.coalesceStream.on("data",this.trigger.bind(this,"data"));t.coalesceStream.on("id3Frame",(function(i){i.dispatchType=t.metadataStream.dispatchType;e.trigger("id3Frame",i)}));t.coalesceStream.on("caption",this.trigger.bind(this,"caption"));t.coalesceStream.on("done",this.trigger.bind(this,"done"));Ki(this,t)};this.setBaseMediaDecodeTime=function(t){var e=this.transmuxPipeline_;if(!i.keepOriginalTimestamps){this.baseMediaDecodeTime=t}if(s){s.timelineStartInfo.dts=undefined;s.timelineStartInfo.pts=undefined;At.clearDtsInfo(s);if(e.audioTimestampRolloverStream){e.audioTimestampRolloverStream.discontinuity()}}if(n){if(e.videoSegmentStream){e.videoSegmentStream.gopCache_=[]}n.timelineStartInfo.dts=undefined;n.timelineStartInfo.pts=undefined;At.clearDtsInfo(n);e.captionStream.reset()}if(e.timestampRolloverStream){e.timestampRolloverStream.discontinuity()}};this.setAudioAppendStart=function(t){if(s){this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(t)}};this.setRemux=function(t){var e=this.transmuxPipeline_;i.remux=t;if(e&&e.coalesceStream){e.coalesceStream.setRemux(t)}};this.alignGopsWith=function(t){if(n&&this.transmuxPipeline_.videoSegmentStream){this.transmuxPipeline_.videoSegmentStream.alignGopsWith(t)}};this.getLogTrigger_=function(t){var i=this;return function(e){e.stream=t;i.trigger("log",e)}};this.push=function(t){if(r){var i=zi(t);if(i&&this.transmuxPipeline_.type!=="aac"){this.setupAacPipeline()}else if(!i&&this.transmuxPipeline_.type!=="ts"){this.setupTsPipeline()}r=false}this.transmuxPipeline_.headOfPipeline.push(t)};this.flush=function(){r=true;this.transmuxPipeline_.headOfPipeline.flush()};this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()};this.reset=function(){if(this.transmuxPipeline_.headOfPipeline){this.transmuxPipeline_.headOfPipeline.reset()}};this.resetCaptions=function(){if(this.transmuxPipeline_.captionStream){this.transmuxPipeline_.captionStream.reset()}}};Wi.prototype=new i;var te={Transmuxer:Wi};var ie=function t(i){return i>>>0};var ee=function t(i){return("00"+i.toString(16)).slice(-2)};var re={toUnsigned:ie,toHexString:ee};var ne=function t(i){var e="";e+=String.fromCharCode(i[0]);e+=String.fromCharCode(i[1]);e+=String.fromCharCode(i[2]);e+=String.fromCharCode(i[3]);return e};var se=ne;var ae=re.toUnsigned;var oe=function t(i,e){var r=[],n,s,a,o,u;if(!e.length){return null}for(n=0;n<i.byteLength;){s=ae(i[n]<<24|i[n+1]<<16|i[n+2]<<8|i[n+3]);a=se(i.subarray(n+4,n+8));o=s>1?n+s:i.byteLength;if(a===e[0]){if(e.length===1){r.push(i.subarray(n+8,o))}else{u=t(i.subarray(n+8,o),e.slice(1));if(u.length){r=r.concat(u)}}}n=o}return r};var ue=oe;var fe=re.toUnsigned;var he=n.getUint64;var ce=function t(i){var e={version:i[0],flags:new Uint8Array(i.subarray(1,4))};if(e.version===1){e.baseMediaDecodeTime=he(i.subarray(4))}else{e.baseMediaDecodeTime=fe(i[4]<<24|i[5]<<16|i[6]<<8|i[7])}return e};var le=ce;var ve=function t(i){return{isLeading:(i[0]&12)>>>2,dependsOn:i[0]&3,isDependedOn:(i[1]&192)>>>6,hasRedundancy:(i[1]&48)>>>4,paddingValue:(i[1]&14)>>>1,isNonSyncSample:i[1]&1,degradationPriority:i[2]<<8|i[3]}};var de=ve;var pe=function t(i){var e={version:i[0],flags:new Uint8Array(i.subarray(1,4)),samples:[]},r=new DataView(i.buffer,i.byteOffset,i.byteLength),n=e.flags[2]&1,s=e.flags[2]&4,a=e.flags[1]&1,o=e.flags[1]&2,u=e.flags[1]&4,f=e.flags[1]&8,h=r.getUint32(4),c=8,l;if(n){e.dataOffset=r.getInt32(c);c+=4}if(s&&h){l={flags:de(i.subarray(c,c+4))};c+=4;if(a){l.duration=r.getUint32(c);c+=4}if(o){l.size=r.getUint32(c);c+=4}if(f){if(e.version===1){l.compositionTimeOffset=r.getInt32(c)}else{l.compositionTimeOffset=r.getUint32(c)}c+=4}e.samples.push(l);h--}while(h--){l={};if(a){l.duration=r.getUint32(c);c+=4}if(o){l.size=r.getUint32(c);c+=4}if(u){l.flags=de(i.subarray(c,c+4));c+=4}if(f){if(e.version===1){l.compositionTimeOffset=r.getInt32(c)}else{l.compositionTimeOffset=r.getUint32(c)}c+=4}e.samples.push(l)}return e};var me=pe;var ge=function t(i){var e=new DataView(i.buffer,i.byteOffset,i.byteLength),r={version:i[0],flags:new Uint8Array(i.subarray(1,4)),trackId:e.getUint32(4)},n=r.flags[2]&1,s=r.flags[2]&2,a=r.flags[2]&8,o=r.flags[2]&16,u=r.flags[2]&32,f=r.flags[0]&65536,h=r.flags[0]&131072,c;c=8;if(n){c+=4;r.baseDataOffset=e.getUint32(12);c+=4}if(s){r.sampleDescriptionIndex=e.getUint32(c);c+=4}if(a){r.defaultSampleDuration=e.getUint32(c);c+=4}if(o){r.defaultSampleSize=e.getUint32(c);c+=4}if(u){r.defaultSampleFlags=e.getUint32(c)}if(f){r.durationIsEmpty=true}if(!n&&h){r.baseDataOffsetIsMoof=true}return r};var be=ge;var ye=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};var je;if(typeof window!=="undefined"){je=window}else if(typeof ye!=="undefined"){je=ye}else if(typeof self!=="undefined"){je=self}else{je={}}var we=je;var Te=Ot.discardEmulationPreventionBytes;var ke=Gt.CaptionStream;var Ae=function t(i,e){var r=i;for(var n=0;n<e.length;n++){var s=e[n];if(r<s.size){return s}r-=s.size}return null};var Ee=function t(i,e,r){var n=new DataView(i.buffer,i.byteOffset,i.byteLength),s={logs:[],seiNals:[]},a,o,u,f;for(o=0;o+4<i.length;o+=u){u=n.getUint32(o);o+=4;if(u<=0){continue}switch(i[o]&31){case 6:var h=i.subarray(o+1,o+1+u);var c=Ae(o,e);a={nalUnitType:"sei_rbsp",size:u,data:h,escapedRBSP:Te(h),trackId:r};if(c){a.pts=c.pts;a.dts=c.dts;f=c}else if(f){a.pts=f.pts;a.dts=f.dts}else{s.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+o+" for trackId "+r+". See mux.js#223."});break}s.seiNals.push(a);break}}return s};var xe=function t(i,e,r){var n=e;var s=r.defaultSampleDuration||0;var a=r.defaultSampleSize||0;var o=r.trackId;var u=[];i.forEach((function(t){var i=me(t);var e=i.samples;e.forEach((function(t){if(t.duration===undefined){t.duration=s}if(t.size===undefined){t.size=a}t.trackId=o;t.dts=n;if(t.compositionTimeOffset===undefined){t.compositionTimeOffset=0}if(typeof n==="bigint"){t.pts=n+we.BigInt(t.compositionTimeOffset);n+=we.BigInt(t.duration)}else{t.pts=n+t.compositionTimeOffset;n+=t.duration}}));u=u.concat(e)}));return u};var Se=function t(i,e){var r=ue(i,["moof","traf"]);var n=ue(i,["mdat"]);var s={};var a=[];n.forEach((function(t,i){var e=r[i];a.push({mdat:t,traf:e})}));a.forEach((function(t){var i=t.mdat;var r=t.traf;var n=ue(r,["tfhd"]);var a=be(n[0]);var o=a.trackId;var u=ue(r,["tfdt"]);var f=u.length>0?le(u[0]).baseMediaDecodeTime:0;var h=ue(r,["trun"]);var c;var l;if(e===o&&h.length>0){c=xe(h,f,a);l=Ee(i,c,o);if(!s[o]){s[o]={seiNals:[],logs:[]}}s[o].seiNals=s[o].seiNals.concat(l.seiNals);s[o].logs=s[o].logs.concat(l.logs)}}));return s};var Ie=function t(i,e,r){var n;if(e===null){return null}n=Se(i,e);var s=n[e]||{};return{seiNals:s.seiNals,logs:s.logs,timescale:r}};var De=function t(){var i=false;var e;var r;var n;var s;var a;var o;this.isInitialized=function(){return i};this.init=function(t){e=new ke;i=true;o=t?t.isPartial:false;e.on("data",(function(t){t.startTime=t.startPts/s;t.endTime=t.endPts/s;a.captions.push(t);a.captionStreams[t.stream]=true}));e.on("log",(function(t){a.logs.push(t)}))};this.isNewInit=function(t,i){if(t&&t.length===0||i&&typeof i==="object"&&Object.keys(i).length===0){return false}return n!==t[0]||s!==i[n]};this.parse=function(t,i,e){var o;if(!this.isInitialized()){return null}else if(!i||!e){return null}else if(this.isNewInit(i,e)){n=i[0];s=e[n]}else if(n===null||!s){r.push(t);return null}while(r.length>0){var u=r.shift();this.parse(u,i,e)}o=Ie(t,n,s);if(o&&o.logs){a.logs=a.logs.concat(o.logs)}if(o===null||!o.seiNals){if(a.logs.length){return{logs:a.logs,captions:[],captionStreams:[]}}return null}this.pushNals(o.seiNals);this.flushStream();return a};this.pushNals=function(t){if(!this.isInitialized()||!t||t.length===0){return null}t.forEach((function(t){e.push(t)}))};this.flushStream=function(){if(!this.isInitialized()){return null}if(!o){e.flush()}else{e.partialFlush()}};this.clearParsedCaptions=function(){a.captions=[];a.captionStreams={};a.logs=[]};this.resetCaptionStream=function(){if(!this.isInitialized()){return null}e.reset()};this.clearAllCaptions=function(){this.clearParsedCaptions();this.resetCaptionStream()};this.reset=function(){r=[];n=null;s=null;if(!a){a={captions:[],captionStreams:{},logs:[]}}else{this.clearParsedCaptions()}this.resetCaptionStream()};this.reset()};var Ne=De;var Oe=re.toUnsigned;var Re=re.toHexString;var Le=n.getUint64;var Ce,Me,Ue,Be,Pe,qe;Ce=function t(i){var e={},r=ue(i,["moov","trak"]);return r.reduce((function(t,i){var e,r,n,s,a;e=ue(i,["tkhd"])[0];if(!e){return null}r=e[0];n=r===0?12:20;s=Oe(e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3]);a=ue(i,["mdia","mdhd"])[0];if(!a){return null}r=a[0];n=r===0?12:20;t[s]=Oe(a[n]<<24|a[n+1]<<16|a[n+2]<<8|a[n+3]);return t}),e)};Me=function t(i,e){var r;r=ue(e,["moof","traf"]);var n=r.reduce((function(t,e){var r=ue(e,["tfhd"])[0];var n=Oe(r[4]<<24|r[5]<<16|r[6]<<8|r[7]);var s=i[n]||9e4;var a=ue(e,["tfdt"])[0];var o=new DataView(a.buffer,a.byteOffset,a.byteLength);var u;if(a[0]===1){u=Le(a.subarray(4,12))}else{u=o.getUint32(4)}var f;if(typeof u==="bigint"){f=u/we.BigInt(s)}else if(typeof u==="number"&&!isNaN(u)){f=u/s}if(f<Number.MAX_SAFE_INTEGER){f=Number(f)}if(f<t){t=f}return t}),Infinity);return typeof n==="bigint"||isFinite(n)?n:0};Ue=function t(i,e){var r=ue(e,["moof","traf"]);var n=0;var s=0;var a;if(r&&r.length){var o=ue(r[0],["tfhd"])[0];var u=ue(r[0],["trun"])[0];var f=ue(r[0],["tfdt"])[0];if(o){var h=be(o);a=h.trackId}if(f){var c=le(f);n=c.baseMediaDecodeTime}if(u){var l=me(u);if(l.samples&&l.samples.length){s=l.samples[0].compositionTimeOffset||0}}}var v=i[a]||9e4;if(typeof n==="bigint"){s=we.BigInt(s);v=we.BigInt(v)}var d=(n+s)/v;if(typeof d==="bigint"&&d<Number.MAX_SAFE_INTEGER){d=Number(d)}return d};Be=function t(i){var e=ue(i,["moov","trak"]);var r=[];e.forEach((function(t){var i=ue(t,["mdia","hdlr"]);var e=ue(t,["tkhd"]);i.forEach((function(t,i){var n=se(t.subarray(8,12));var s=e[i];var a;var o;var u;if(n==="vide"){a=new DataView(s.buffer,s.byteOffset,s.byteLength);o=a.getUint8(0);u=o===0?a.getUint32(12):a.getUint32(20);r.push(u)}}))}));return r};qe=function t(i){var e=i[0];var r=e===0?12:20;return Oe(i[r]<<24|i[r+1]<<16|i[r+2]<<8|i[r+3])};Pe=function t(i){var e=ue(i,["moov","trak"]);var r=[];e.forEach((function(t){var i={};var e=ue(t,["tkhd"])[0];var n,s;if(e){n=new DataView(e.buffer,e.byteOffset,e.byteLength);s=n.getUint8(0);i.id=s===0?n.getUint32(12):n.getUint32(20)}var a=ue(t,["mdia","hdlr"])[0];if(a){var o=se(a.subarray(8,12));if(o==="vide"){i.type="video"}else if(o==="soun"){i.type="audio"}else{i.type=o}}var u=ue(t,["mdia","minf","stbl","stsd"])[0];if(u){var f=u.subarray(8);i.codec=se(f.subarray(4,8));var h=ue(f,[i.codec])[0];var c,l;if(h){if(/^[asm]vc[1-9]$/i.test(i.codec)){c=h.subarray(78);l=se(c.subarray(4,8));if(l==="avcC"&&c.length>11){i.codec+=".";i.codec+=Re(c[9]);i.codec+=Re(c[10]);i.codec+=Re(c[11])}else{i.codec="avc1.4d400d"}}else if(/^mp4[a,v]$/i.test(i.codec)){c=h.subarray(28);l=se(c.subarray(4,8));if(l==="esds"&&c.length>20&&c[19]!==0){i.codec+="."+Re(c[19]);i.codec+="."+Re(c[20]>>>2&63).replace(/^0/,"")}else{i.codec="mp4a.40.2"}}else{i.codec=i.codec.toLowerCase()}}}var v=ue(t,["mdia","mdhd"])[0];if(v){i.timescale=qe(v)}r.push(i)}));return r};var Fe={findBox:ue,parseType:se,timescale:Ce,startTime:Me,compositionStartTime:Ue,videoTrackIds:Be,tracks:Pe,getTimescaleFromMediaHeader:qe};var _e=function t(i){var e=i[1]&31;e<<=8;e|=i[2];return e};var Ve=function t(i){return!!(i[1]&64)};var He=function t(i){var e=0;if((i[3]&48)>>>4>1){e+=i[4]+1}return e};var ze=function t(i,e){var r=_e(i);if(r===0){return"pat"}else if(r===e){return"pmt"}else if(e){return"pes"}return null};var Ge=function t(i){var e=Ve(i);var r=4+He(i);if(e){r+=i[r]+1}return(i[r+10]&31)<<8|i[r+11]};var Xe=function t(i){var e={};var r=Ve(i);var n=4+He(i);if(r){n+=i[n]+1}if(!(i[n+5]&1)){return}var s,a,o;s=(i[n+1]&15)<<8|i[n+2];a=3+s-4;o=(i[n+10]&15)<<8|i[n+11];var u=12+o;while(u<a){var f=n+u;e[(i[f+1]&31)<<8|i[f+2]]=i[f];u+=((i[f+3]&15)<<8|i[f+4])+5}return e};var Ye=function t(i,e){var r=_e(i);var n=e[r];switch(n){case Xt.H264_STREAM_TYPE:return"video";case Xt.ADTS_STREAM_TYPE:return"audio";case Xt.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}};var We=function t(i){var e=Ve(i);if(!e){return null}var r=4+He(i);if(r>=i.byteLength){return null}var n=null;var s;s=i[r+7];if(s&192){n={};n.pts=(i[r+9]&14)<<27|(i[r+10]&255)<<20|(i[r+11]&254)<<12|(i[r+12]&255)<<5|(i[r+13]&254)>>>3;n.pts*=4;n.pts+=(i[r+13]&6)>>>1;n.dts=n.pts;if(s&64){n.dts=(i[r+14]&14)<<27|(i[r+15]&255)<<20|(i[r+16]&254)<<12|(i[r+17]&255)<<5|(i[r+18]&254)>>>3;n.dts*=4;n.dts+=(i[r+18]&6)>>>1}}return n};var Je=function t(i){switch(i){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}};var Qe=function t(i){var e=4+He(i);var r=i.subarray(e);var n=0;var s=0;var a=false;var o;for(;s<r.byteLength-3;s++){if(r[s+2]===1){n=s+5;break}}while(n<r.byteLength){switch(r[n]){case 0:if(r[n-1]!==0){n+=2;break}else if(r[n-2]!==0){n++;break}if(s+3!==n-2){o=Je(r[s+3]&31);if(o==="slice_layer_without_partitioning_rbsp_idr"){a=true}}do{n++}while(r[n]!==1&&n<r.length);s=n-2;n+=3;break;case 1:if(r[n-1]!==0||r[n-2]!==0){n+=3;break}o=Je(r[s+3]&31);if(o==="slice_layer_without_partitioning_rbsp_idr"){a=true}s=n-2;n+=3;break;default:n+=3;break}}r=r.subarray(s);n-=s;s=0;if(r&&r.byteLength>3){o=Je(r[s+3]&31);if(o==="slice_layer_without_partitioning_rbsp_idr"){a=true}}return a};var Ke={parseType:ze,parsePat:Ge,parsePmt:Xe,parsePayloadUnitStartIndicator:Ve,parsePesType:Ye,parsePesTime:We,videoPacketContainsKeyFrame:Qe};var Ze=Zt.handleRollover;var $e={};$e.ts=Ke;$e.aac=Ui;var tr=vt.ONE_SECOND_IN_TS;var ir=188,er=71;var rr=function t(i,e){var r=0,n=ir,s,a;while(n<i.byteLength){if(i[r]===er&&i[n]===er){s=i.subarray(r,n);a=$e.ts.parseType(s,e.pid);switch(a){case"pat":e.pid=$e.ts.parsePat(s);break;case"pmt":var o=$e.ts.parsePmt(s);e.table=e.table||{};Object.keys(o).forEach((function(t){e.table[t]=o[t]}));break}r+=ir;n+=ir;continue}r++;n++}};var nr=function t(i,e,r){var n=0,s=ir,a,o,u,f,h;var c=false;while(s<=i.byteLength){if(i[n]===er&&(i[s]===er||s===i.byteLength)){a=i.subarray(n,s);o=$e.ts.parseType(a,e.pid);switch(o){case"pes":u=$e.ts.parsePesType(a,e.table);f=$e.ts.parsePayloadUnitStartIndicator(a);if(u==="audio"&&f){h=$e.ts.parsePesTime(a);if(h){h.type="audio";r.audio.push(h);c=true}}break}if(c){break}n+=ir;s+=ir;continue}n++;s++}s=i.byteLength;n=s-ir;c=false;while(n>=0){if(i[n]===er&&(i[s]===er||s===i.byteLength)){a=i.subarray(n,s);o=$e.ts.parseType(a,e.pid);switch(o){case"pes":u=$e.ts.parsePesType(a,e.table);f=$e.ts.parsePayloadUnitStartIndicator(a);if(u==="audio"&&f){h=$e.ts.parsePesTime(a);if(h){h.type="audio";r.audio.push(h);c=true}}break}if(c){break}n-=ir;s-=ir;continue}n--;s--}};var sr=function t(i,e,r){var n=0,s=ir,a,o,u,f,h,c,l,v;var d=false;var p={data:[],size:0};while(s<i.byteLength){if(i[n]===er&&i[s]===er){a=i.subarray(n,s);o=$e.ts.parseType(a,e.pid);switch(o){case"pes":u=$e.ts.parsePesType(a,e.table);f=$e.ts.parsePayloadUnitStartIndicator(a);if(u==="video"){if(f&&!d){h=$e.ts.parsePesTime(a);if(h){h.type="video";r.video.push(h);d=true}}if(!r.firstKeyFrame){if(f){if(p.size!==0){c=new Uint8Array(p.size);l=0;while(p.data.length){v=p.data.shift();c.set(v,l);l+=v.byteLength}if($e.ts.videoPacketContainsKeyFrame(c)){var m=$e.ts.parsePesTime(c);if(m){r.firstKeyFrame=m;r.firstKeyFrame.type="video"}else{console.warn("Failed to extract PTS/DTS from PES at first keyframe. "+"This could be an unusual TS segment, or else mux.js did not "+"parse your TS segment correctly. If you know your TS "+"segments do contain PTS/DTS on keyframes please file a bug "+"report! You can try ffprobe to double check for yourself.")}}p.size=0}}p.data.push(a);p.size+=a.byteLength}}break}if(d&&r.firstKeyFrame){break}n+=ir;s+=ir;continue}n++;s++}s=i.byteLength;n=s-ir;d=false;while(n>=0){if(i[n]===er&&i[s]===er){a=i.subarray(n,s);o=$e.ts.parseType(a,e.pid);switch(o){case"pes":u=$e.ts.parsePesType(a,e.table);f=$e.ts.parsePayloadUnitStartIndicator(a);if(u==="video"&&f){h=$e.ts.parsePesTime(a);if(h){h.type="video";r.video.push(h);d=true}}break}if(d){break}n-=ir;s-=ir;continue}n--;s--}};var ar=function t(i,e){if(i.audio&&i.audio.length){var r=e;if(typeof r==="undefined"||isNaN(r)){r=i.audio[0].dts}i.audio.forEach((function(t){t.dts=Ze(t.dts,r);t.pts=Ze(t.pts,r);t.dtsTime=t.dts/tr;t.ptsTime=t.pts/tr}))}if(i.video&&i.video.length){var n=e;if(typeof n==="undefined"||isNaN(n)){n=i.video[0].dts}i.video.forEach((function(t){t.dts=Ze(t.dts,n);t.pts=Ze(t.pts,n);t.dtsTime=t.dts/tr;t.ptsTime=t.pts/tr}));if(i.firstKeyFrame){var s=i.firstKeyFrame;s.dts=Ze(s.dts,n);s.pts=Ze(s.pts,n);s.dtsTime=s.dts/tr;s.ptsTime=s.pts/tr}}};var or=function t(i){var e=false,r=0,n=null,s=null,a=0,o=0,u;while(i.length-o>=3){var f=$e.aac.parseType(i,o);switch(f){case"timed-metadata":if(i.length-o<10){e=true;break}a=$e.aac.parseId3TagSize(i,o);if(a>i.length){e=true;break}if(s===null){u=i.subarray(o,o+a);s=$e.aac.parseAacTimestamp(u)}o+=a;break;case"audio":if(i.length-o<7){e=true;break}a=$e.aac.parseAdtsSize(i,o);if(a>i.length){e=true;break}if(n===null){u=i.subarray(o,o+a);n=$e.aac.parseSampleRate(u)}r++;o+=a;break;default:o++;break}if(e){return null}}if(n===null||s===null){return null}var h=tr/n;var c={audio:[{type:"audio",dts:s,pts:s},{type:"audio",dts:s+r*1024*h,pts:s+r*1024*h}]};return c};var ur=function t(i){var e={pid:null,table:null};var r={};rr(i,e);for(var n in e.table){if(e.table.hasOwnProperty(n)){var s=e.table[n];switch(s){case Xt.H264_STREAM_TYPE:r.video=[];sr(i,e,r);if(r.video.length===0){delete r.video}break;case Xt.ADTS_STREAM_TYPE:r.audio=[];nr(i,e,r);if(r.audio.length===0){delete r.audio}break}}}return r};var fr=function t(i,e){var r=$e.aac.isLikelyAacData(i);var n;if(r){n=or(i)}else{n=ur(i)}if(!n||!n.audio&&!n.video){return null}ar(n,e);return n};var hr={inspect:fr,parseAudioPes_:nr};var cr=function t(i,e){e.on("data",(function(t){var e=t.initSegment;t.initSegment={data:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength};var r=t.data;t.data=r.buffer;i.postMessage({action:"data",segment:t,byteOffset:r.byteOffset,byteLength:r.byteLength},[t.data])}));e.on("done",(function(t){i.postMessage({action:"done"})}));e.on("gopInfo",(function(t){i.postMessage({action:"gopInfo",gopInfo:t})}));e.on("videoSegmentTimingInfo",(function(t){var e={start:{decode:vt.videoTsToSeconds(t.start.dts),presentation:vt.videoTsToSeconds(t.start.pts)},end:{decode:vt.videoTsToSeconds(t.end.dts),presentation:vt.videoTsToSeconds(t.end.pts)},baseMediaDecodeTime:vt.videoTsToSeconds(t.baseMediaDecodeTime)};if(t.prependedContentDuration){e.prependedContentDuration=vt.videoTsToSeconds(t.prependedContentDuration)}i.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:e})}));e.on("audioSegmentTimingInfo",(function(t){var e={start:{decode:vt.videoTsToSeconds(t.start.dts),presentation:vt.videoTsToSeconds(t.start.pts)},end:{decode:vt.videoTsToSeconds(t.end.dts),presentation:vt.videoTsToSeconds(t.end.pts)},baseMediaDecodeTime:vt.videoTsToSeconds(t.baseMediaDecodeTime)};if(t.prependedContentDuration){e.prependedContentDuration=vt.videoTsToSeconds(t.prependedContentDuration)}i.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:e})}));e.on("id3Frame",(function(t){i.postMessage({action:"id3Frame",id3Frame:t})}));e.on("caption",(function(t){i.postMessage({action:"caption",caption:t})}));e.on("trackinfo",(function(t){i.postMessage({action:"trackinfo",trackInfo:t})}));e.on("audioTimingInfo",(function(t){i.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:vt.videoTsToSeconds(t.start),end:vt.videoTsToSeconds(t.end)}})}));e.on("videoTimingInfo",(function(t){i.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:vt.videoTsToSeconds(t.start),end:vt.videoTsToSeconds(t.end)}})}));e.on("log",(function(t){i.postMessage({action:"log",log:t})}))};var lr=function(){function t(t,i){this.options=i||{};this.self=t;this.init()}var i=t.prototype;i.init=function t(){if(this.transmuxer){this.transmuxer.dispose()}this.transmuxer=new te.Transmuxer(this.options);cr(this.self,this.transmuxer)};i.pushMp4Captions=function t(i){if(!this.captionParser){this.captionParser=new Ne;this.captionParser.init()}var e=new Uint8Array(i.data,i.byteOffset,i.byteLength);var r=this.captionParser.parse(e,i.trackIds,i.timescales);this.self.postMessage({action:"mp4Captions",captions:r&&r.captions||[],logs:r&&r.logs||[],data:e.buffer},[e.buffer])};i.probeMp4StartTime=function t(i){var e=i.timescales,r=i.data;var n=Fe.startTime(e,r);this.self.postMessage({action:"probeMp4StartTime",startTime:n,data:r},[r.buffer])};i.probeMp4Tracks=function t(i){var e=i.data;var r=Fe.tracks(e);this.self.postMessage({action:"probeMp4Tracks",tracks:r,data:e},[e.buffer])};i.probeTs=function t(i){var e=i.data,r=i.baseStartTime;var n=typeof r==="number"&&!isNaN(r)?r*vt.ONE_SECOND_IN_TS:void 0;var s=hr.inspect(e,n);var a=null;if(s){a={hasVideo:s.video&&s.video.length===2||false,hasAudio:s.audio&&s.audio.length===2||false};if(a.hasVideo){a.videoStart=s.video[0].ptsTime}if(a.hasAudio){a.audioStart=s.audio[0].ptsTime}}this.self.postMessage({action:"probeTs",result:a,data:e},[e.buffer])};i.clearAllMp4Captions=function t(){if(this.captionParser){this.captionParser.clearAllCaptions()}};i.clearParsedMp4Captions=function t(){if(this.captionParser){this.captionParser.clearParsedCaptions()}};i.push=function t(i){var e=new Uint8Array(i.data,i.byteOffset,i.byteLength);this.transmuxer.push(e)};i.reset=function t(){this.transmuxer.reset()};i.setTimestampOffset=function t(i){var e=i.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(vt.secondsToVideoTs(e)))};i.setAudioAppendStart=function t(i){this.transmuxer.setAudioAppendStart(Math.ceil(vt.secondsToVideoTs(i.appendStart)))};i.setRemux=function t(i){this.transmuxer.setRemux(i.remux)};i.flush=function t(i){this.transmuxer.flush();self.postMessage({action:"done",type:"transmuxed"})};i.endTimeline=function t(){this.transmuxer.endTimeline();self.postMessage({action:"endedtimeline",type:"transmuxed"})};i.alignGopsWith=function t(i){this.transmuxer.alignGopsWith(i.gopsToAlignWith.slice())};return t}();self.onmessage=function(t){if(t.data.action==="init"&&t.data.options){this.messageHandlers=new lr(self,t.data.options);return}if(!this.messageHandlers){this.messageHandlers=new lr(self)}if(t.data&&t.data.action&&t.data.action!=="init"){if(this.messageHandlers[t.data.action]){this.messageHandlers[t.data.action](t.data)}}}})));var Fc=Uc(qc);var _c=function t(i,e,r){var n=i.data.segment,s=n.type,a=n.initSegment,o=n.captions,u=n.captionStreams,f=n.metadata,h=n.videoFrameDtsTime,c=n.videoFramePtsTime;e.buffer.push({captions:o,captionStreams:u,metadata:f});var l=i.data.segment.boxes||{data:i.data.segment.data};var v={type:s,data:new Uint8Array(l.data,l.data.byteOffset,l.data.byteLength),initSegment:new Uint8Array(a.data,a.byteOffset,a.byteLength)};if(typeof h!=="undefined"){v.videoFrameDtsTime=h}if(typeof c!=="undefined"){v.videoFramePtsTime=c}r(v)};var Vc=function t(i){var e=i.transmuxedData,r=i.callback;e.buffer=[];r(e)};var Hc=function t(i,e){e.gopInfo=i.data.gopInfo};var zc=function t(i){var e=i.transmuxer,r=i.bytes,n=i.audioAppendStart,s=i.gopsToAlignWith,a=i.remux,o=i.onData,u=i.onTrackInfo,f=i.onAudioTimingInfo,h=i.onVideoTimingInfo,c=i.onVideoSegmentTimingInfo,l=i.onAudioSegmentTimingInfo,v=i.onId3,d=i.onCaptions,p=i.onDone,m=i.onEndedTimeline,g=i.onTransmuxerLog,b=i.isEndOfTimeline;var y={buffer:[]};var j=b;var w=function t(r){if(e.currentTransmux!==i){return}if(r.data.action==="data"){_c(r,y,o)}if(r.data.action==="trackinfo"){u(r.data.trackInfo)}if(r.data.action==="gopInfo"){Hc(r,y)}if(r.data.action==="audioTimingInfo"){f(r.data.audioTimingInfo)}if(r.data.action==="videoTimingInfo"){h(r.data.videoTimingInfo)}if(r.data.action==="videoSegmentTimingInfo"){c(r.data.videoSegmentTimingInfo)}if(r.data.action==="audioSegmentTimingInfo"){l(r.data.audioSegmentTimingInfo)}if(r.data.action==="id3Frame"){v([r.data.id3Frame],r.data.id3Frame.dispatchType)}if(r.data.action==="caption"){d(r.data.caption)}if(r.data.action==="endedtimeline"){j=false;m()}if(r.data.action==="log"){g(r.data.log)}if(r.data.type!=="transmuxed"){return}if(j){return}e.onmessage=null;Vc({transmuxedData:y,callback:p});Gc(e)};e.onmessage=w;if(n){e.postMessage({action:"setAudioAppendStart",appendStart:n})}if(Array.isArray(s)){e.postMessage({action:"alignGopsWith",gopsToAlignWith:s})}if(typeof a!=="undefined"){e.postMessage({action:"setRemux",remux:a})}if(r.byteLength){var T=r instanceof ArrayBuffer?r:r.buffer;var k=r instanceof ArrayBuffer?0:r.byteOffset;e.postMessage({action:"push",data:T,byteOffset:k,byteLength:r.byteLength},[T])}if(b){e.postMessage({action:"endTimeline"})}e.postMessage({action:"flush"})};var Gc=function t(i){i.currentTransmux=null;if(i.transmuxQueue.length){i.currentTransmux=i.transmuxQueue.shift();if(typeof i.currentTransmux==="function"){i.currentTransmux()}else{zc(i.currentTransmux)}}};var Xc=function t(i,e){i.postMessage({action:e});Gc(i)};var Yc=function t(i,e){if(!e.currentTransmux){e.currentTransmux=i;Xc(e,i);return}e.transmuxQueue.push(Xc.bind(null,e,i))};var Wc=function t(i){Yc("reset",i)};var Jc=function t(i){Yc("endTimeline",i)};var Qc=function t(i){if(!i.transmuxer.currentTransmux){i.transmuxer.currentTransmux=i;zc(i);return}i.transmuxer.transmuxQueue.push(i)};var Kc=function t(i){var e=new Fc;e.currentTransmux=null;e.transmuxQueue=[];var r=e.terminate;e.terminate=function(){e.currentTransmux=null;e.transmuxQueue.length=0;return r.call(e)};e.postMessage({action:"init",options:i});return e};var Zc={reset:Wc,endTimeline:Jc,transmux:Qc,createTransmuxer:Kc};var $c=function t(i){var e=i.transmuxer;var r=i.endAction||i.action;var n=i.callback;var s=j({},i,{endAction:null,transmuxer:null,callback:null});var a=function t(s){if(s.data.action!==r){return}e.removeEventListener("message",t);if(s.data.data){s.data.data=new Uint8Array(s.data.data,i.byteOffset||0,i.byteLength||s.data.data.byteLength);if(i.data){i.data=s.data.data}}n(s.data)};e.addEventListener("message",a);if(i.data){var o=i.data instanceof ArrayBuffer;s.byteOffset=o?0:i.data.byteOffset;s.byteLength=i.data.byteLength;var u=[o?i.data:i.data.buffer];e.postMessage(s,u)}else{e.postMessage(s)}};var tl={FAILURE:2,TIMEOUT:-101,ABORTED:-102};var il=function t(i){i.forEach((function(t){t.abort()}))};var el=function t(i){return{bandwidth:i.bandwidth,bytesReceived:i.bytesReceived||0,roundTripTime:i.roundTripTime||0}};var rl=function t(i){var e=i.target;var r=Date.now()-e.requestTime;var n={bandwidth:Infinity,bytesReceived:0,roundTripTime:r||0};n.bytesReceived=i.loaded;n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3);return n};var nl=function t(i,e){if(e.timedout){return{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:tl.TIMEOUT,xhr:e}}if(e.aborted){return{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:tl.ABORTED,xhr:e}}if(i){return{status:e.status,message:"HLS request errored at URL: "+e.uri,code:tl.FAILURE,xhr:e}}if(e.responseType==="arraybuffer"&&e.response.byteLength===0){return{status:e.status,message:"Empty HLS response at URL: "+e.uri,code:tl.FAILURE,xhr:e}}return null};var sl=function t(i,e,r){return function(t,n){var s=n.response;var a=nl(t,n);if(a){return r(a,i)}if(s.byteLength!==16){return r({status:n.status,message:"Invalid HLS key at URL: "+n.uri,code:tl.FAILURE,xhr:n},i)}var o=new DataView(s);var u=new Uint32Array([o.getUint32(0),o.getUint32(4),o.getUint32(8),o.getUint32(12)]);for(var f=0;f<e.length;f++){e[f].bytes=u}return r(null,i)}};var al=function t(i,e){var r=kr(i.map.bytes);if(r!=="mp4"){var n=i.map.resolvedUri||i.map.uri;return e({internal:true,message:"Found unsupported "+(r||"unknown")+" container for initialization segment at URL: "+n,code:tl.FAILURE})}$c({action:"probeMp4Tracks",data:i.map.bytes,transmuxer:i.transmuxer,callback:function t(r){var n=r.tracks,s=r.data;i.map.bytes=s;n.forEach((function(t){i.map.tracks=i.map.tracks||{};if(i.map.tracks[t.type]){return}i.map.tracks[t.type]=t;if(typeof t.id==="number"&&t.timescale){i.map.timescales=i.map.timescales||{};i.map.timescales[t.id]=t.timescale}}));return e(null)}})};var ol=function t(i){var e=i.segment,r=i.finishProcessingFn;return function(t,i){var n=nl(t,i);if(n){return r(n,e)}var s=new Uint8Array(i.response);if(e.map.key){e.map.encryptedBytes=s;return r(null,e)}e.map.bytes=s;al(e,(function(t){if(t){t.xhr=i;t.status=i.status;return r(t,e)}r(null,e)}))}};var ul=function t(i){var e=i.segment,r=i.finishProcessingFn,n=i.responseType;return function(t,i){var s=nl(t,i);if(s){return r(s,e)}var a=n==="arraybuffer"||!i.responseText?i.response:Lc(i.responseText.substring(e.lastReachedChar||0));e.stats=el(i);if(e.key){e.encryptedBytes=new Uint8Array(a)}else{e.bytes=new Uint8Array(a)}return r(null,e)}};var fl=function t(i){var e=i.segment,r=i.bytes,n=i.trackInfoFn,s=i.timingInfoFn,a=i.videoSegmentTimingInfoFn,o=i.audioSegmentTimingInfoFn,u=i.id3Fn,f=i.captionsFn,h=i.isEndOfTimeline,c=i.endedTimelineFn,l=i.dataFn,v=i.doneFn,d=i.onTransmuxerLog;var p=e.map&&e.map.tracks||{};var m=Boolean(p.audio&&p.video);var g=s.bind(null,e,"audio","start");var b=s.bind(null,e,"audio","end");var y=s.bind(null,e,"video","start");var j=s.bind(null,e,"video","end");var w=function t(){return Qc({bytes:r,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,remux:m,onData:function t(i){i.type=i.type==="combined"?"video":i.type;l(e,i)},onTrackInfo:function t(i){if(n){if(m){i.isMuxed=true}n(e,i)}},onAudioTimingInfo:function t(i){if(g&&typeof i.start!=="undefined"){g(i.start);g=null}if(b&&typeof i.end!=="undefined"){b(i.end)}},onVideoTimingInfo:function t(i){if(y&&typeof i.start!=="undefined"){y(i.start);y=null}if(j&&typeof i.end!=="undefined"){j(i.end)}},onVideoSegmentTimingInfo:function t(i){a(i)},onAudioSegmentTimingInfo:function t(i){o(i)},onId3:function t(i,r){u(e,i,r)},onCaptions:function t(i){f(e,[i])},isEndOfTimeline:h,onEndedTimeline:function t(){c()},onTransmuxerLog:d,onDone:function t(i){if(!v){return}i.type=i.type==="combined"?"video":i.type;v(null,e,i)}})};$c({action:"probeTs",transmuxer:e.transmuxer,data:r,baseStartTime:e.baseStartTime,callback:function t(i){e.bytes=r=i.data;var s=i.result;if(s){n(e,{hasAudio:s.hasAudio,hasVideo:s.hasVideo,isMuxed:m});n=null;if(s.hasAudio&&!m){g(s.audioStart)}if(s.hasVideo){y(s.videoStart)}g=null;y=null}w()}})};var hl=function t(i){var e=i.segment,r=i.bytes,n=i.trackInfoFn,s=i.timingInfoFn,a=i.videoSegmentTimingInfoFn,o=i.audioSegmentTimingInfoFn,u=i.id3Fn,f=i.captionsFn,h=i.isEndOfTimeline,c=i.endedTimelineFn,l=i.dataFn,v=i.doneFn,d=i.onTransmuxerLog;var p=new Uint8Array(r);if(Ar(p)){e.isFmp4=true;var m=e.map.tracks;var g={isFmp4:true,hasVideo:!!m.video,hasAudio:!!m.audio};if(m.audio&&m.audio.codec&&m.audio.codec!=="enca"){g.audioCodec=m.audio.codec}if(m.video&&m.video.codec&&m.video.codec!=="encv"){g.videoCodec=m.video.codec}if(m.video&&m.audio){g.isMuxed=true}n(e,g);var b=function t(i){l(e,{data:p,type:g.hasAudio&&!g.isMuxed?"audio":"video"});if(i&&i.length){f(e,i)}v(null,e,{})};$c({action:"probeMp4StartTime",timescales:e.map.timescales,data:p,transmuxer:e.transmuxer,callback:function t(i){var n=i.data,a=i.startTime;r=n.buffer;e.bytes=p=n;if(g.hasAudio&&!g.isMuxed){s(e,"audio","start",a)}if(g.hasVideo){s(e,"video","start",a)}if(!m.video||!n.byteLength||!e.transmuxer){b();return}$c({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:e.transmuxer,data:p,timescales:e.map.timescales,trackIds:[m.video.id],callback:function t(i){r=i.data.buffer;e.bytes=p=i.data;i.logs.forEach((function(t){d(Uf.mergeOptions(t,{stream:"mp4CaptionParser"}))}));b(i.captions)}})}});return}if(!e.transmuxer){v(null,e,{});return}if(typeof e.container==="undefined"){e.container=kr(p)}if(e.container!=="ts"&&e.container!=="aac"){n(e,{hasAudio:false,hasVideo:false});v(null,e,{});return}fl({segment:e,bytes:r,trackInfoFn:n,timingInfoFn:s,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:o,id3Fn:u,captionsFn:f,isEndOfTimeline:h,endedTimelineFn:c,dataFn:l,doneFn:v,onTransmuxerLog:d})};var cl=function t(i,e){var r=i.id,n=i.key,s=i.encryptedBytes,a=i.decryptionWorker;var o=function t(i){if(i.data.source===r){a.removeEventListener("message",t);var n=i.data.decrypted;e(new Uint8Array(n.bytes,n.byteOffset,n.byteLength))}};a.addEventListener("message",o);var u;if(n.bytes.slice){u=n.bytes.slice()}else{u=new Uint32Array(Array.prototype.slice.call(n.bytes))}a.postMessage(rc({source:r,encrypted:s,key:u,iv:n.iv}),[s.buffer,u.buffer])};var ll=function t(i){var e=i.decryptionWorker,r=i.segment,n=i.trackInfoFn,s=i.timingInfoFn,a=i.videoSegmentTimingInfoFn,o=i.audioSegmentTimingInfoFn,u=i.id3Fn,f=i.captionsFn,h=i.isEndOfTimeline,c=i.endedTimelineFn,l=i.dataFn,v=i.doneFn,d=i.onTransmuxerLog;cl({id:r.requestId,key:r.key,encryptedBytes:r.encryptedBytes,decryptionWorker:e},(function(t){r.bytes=t;hl({segment:r,bytes:r.bytes,trackInfoFn:n,timingInfoFn:s,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:o,id3Fn:u,captionsFn:f,isEndOfTimeline:h,endedTimelineFn:c,dataFn:l,doneFn:v,onTransmuxerLog:d})}))};var vl=function t(i){var e=i.activeXhrs,r=i.decryptionWorker,n=i.trackInfoFn,s=i.timingInfoFn,a=i.videoSegmentTimingInfoFn,o=i.audioSegmentTimingInfoFn,u=i.id3Fn,f=i.captionsFn,h=i.isEndOfTimeline,c=i.endedTimelineFn,l=i.dataFn,v=i.doneFn,d=i.onTransmuxerLog;var p=0;var m=false;return function(t,i){if(m){return}if(t){m=true;il(e);return v(t,i)}p+=1;if(p===e.length){var g=function t(){if(i.encryptedBytes){return ll({decryptionWorker:r,segment:i,trackInfoFn:n,timingInfoFn:s,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:o,id3Fn:u,captionsFn:f,isEndOfTimeline:h,endedTimelineFn:c,dataFn:l,doneFn:v,onTransmuxerLog:d})}hl({segment:i,bytes:i.bytes,trackInfoFn:n,timingInfoFn:s,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:o,id3Fn:u,captionsFn:f,isEndOfTimeline:h,endedTimelineFn:c,dataFn:l,doneFn:v,onTransmuxerLog:d})};i.endOfAllRequests=Date.now();if(i.map&&i.map.encryptedBytes&&!i.map.bytes){return cl({decryptionWorker:r,id:i.requestId+"-init",encryptedBytes:i.map.encryptedBytes,key:i.map.key},(function(t){i.map.bytes=t;al(i,(function(t){if(t){il(e);return v(t,i)}g()}))}))}g()}}};var dl=function t(i){var e=i.loadendState,r=i.abortFn;return function(t){var i=t.target;if(i.aborted&&r&&!e.calledAbortFn){r();e.calledAbortFn=true}}};var pl=function t(i){var e=i.segment,r=i.progressFn;return function(t){var i=t.target;if(i.aborted){return}e.stats=Uf.mergeOptions(e.stats,rl(t));if(!e.stats.firstBytesReceivedAt&&e.stats.bytesReceived){e.stats.firstBytesReceivedAt=Date.now()}return r(t,e)}};var ml=function t(i){var e=i.xhr,r=i.xhrOptions,n=i.decryptionWorker,s=i.segment,a=i.abortFn,o=i.progressFn,u=i.trackInfoFn,f=i.timingInfoFn,h=i.videoSegmentTimingInfoFn,c=i.audioSegmentTimingInfoFn,l=i.id3Fn,v=i.captionsFn,d=i.isEndOfTimeline,p=i.endedTimelineFn,m=i.dataFn,g=i.doneFn,b=i.onTransmuxerLog;var y=[];var j=vl({activeXhrs:y,decryptionWorker:n,trackInfoFn:u,timingInfoFn:f,videoSegmentTimingInfoFn:h,audioSegmentTimingInfoFn:c,id3Fn:l,captionsFn:v,isEndOfTimeline:d,endedTimelineFn:p,dataFn:m,doneFn:g,onTransmuxerLog:b});if(s.key&&!s.key.bytes){var w=[s.key];if(s.map&&!s.map.bytes&&s.map.key&&s.map.key.resolvedUri===s.key.resolvedUri){w.push(s.map.key)}var T=Uf.mergeOptions(r,{uri:s.key.resolvedUri,responseType:"arraybuffer"});var k=sl(s,w,j);var A=e(T,k);y.push(A)}if(s.map&&!s.map.bytes){var E=s.map.key&&(!s.key||s.key.resolvedUri!==s.map.key.resolvedUri);if(E){var x=Uf.mergeOptions(r,{uri:s.map.key.resolvedUri,responseType:"arraybuffer"});var S=sl(s,[s.map.key],j);var I=e(x,S);y.push(I)}var D=Uf.mergeOptions(r,{uri:s.map.resolvedUri,responseType:"arraybuffer",headers:$h(s.map)});var N=ol({segment:s,finishProcessingFn:j});var O=e(D,N);y.push(O)}var R=Uf.mergeOptions(r,{uri:s.part&&s.part.resolvedUri||s.resolvedUri,responseType:"arraybuffer",headers:$h(s)});var L=ul({segment:s,finishProcessingFn:j,responseType:R.responseType});var C=e(R,L);C.addEventListener("progress",pl({segment:s,progressFn:o}));y.push(C);var M={};y.forEach((function(t){t.addEventListener("loadend",dl({loadendState:M,abortFn:a}))}));return function(){return il(y)}};var gl=_f("CodecUtils");var bl=function t(i){var e=i.attributes||{};if(e.CODECS){return Ct(e.CODECS)}};var yl=function t(i,e){var r=e.attributes||{};return i&&i.mediaGroups&&i.mediaGroups.AUDIO&&r.AUDIO&&i.mediaGroups.AUDIO[r.AUDIO]};var jl=function t(i,e){if(!yl(i,e)){return true}var r=e.attributes||{};var n=i.mediaGroups.AUDIO[r.AUDIO];for(var s in n){if(!n[s].uri&&!n[s].playlists){return true}}return false};var wl=function t(i){var e={};i.forEach((function(t){var i=t.mediaType,r=t.type,n=t.details;e[i]=e[i]||[];e[i].push(Lt(""+r+n))}));Object.keys(e).forEach((function(t){if(e[t].length>1){gl("multiple "+t+" codecs found as attributes: "+e[t].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.");e[t]=null;return}e[t]=e[t][0]}));return e};var Tl=function t(i){var e=0;if(i.audio){e++}if(i.video){e++}return e};var kl=function t(i,e){var r=e.attributes||{};var n=wl(bl(e)||[]);if(yl(i,e)&&!n.audio){if(!jl(i,e)){var s=wl(Mt(i,r.AUDIO)||[]);if(s.audio){n.audio=s.audio}}}return n};var Al=_f("PlaylistSelector");var El=function t(i){if(!i||!i.playlist){return}var e=i.playlist;return JSON.stringify({id:e.id,bandwidth:i.bandwidth,width:i.width,height:i.height,codecs:e.attributes&&e.attributes.CODECS||""})};var xl=function t(i,e){if(!i){return""}var r=c.getComputedStyle(i);if(!r){return""}return r[e]};var Sl=function t(i,e){var r=i.slice();i.sort((function(t,i){var n=e(t,i);if(n===0){return r.indexOf(t)-r.indexOf(i)}return n}))};var Il=function t(i,e){var r;var n;if(i.attributes.BANDWIDTH){r=i.attributes.BANDWIDTH}r=r||c.Number.MAX_VALUE;if(e.attributes.BANDWIDTH){n=e.attributes.BANDWIDTH}n=n||c.Number.MAX_VALUE;return r-n};var Dl=function t(i,e){var r;var n;if(i.attributes.RESOLUTION&&i.attributes.RESOLUTION.width){r=i.attributes.RESOLUTION.width}r=r||c.Number.MAX_VALUE;if(e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width){n=e.attributes.RESOLUTION.width}n=n||c.Number.MAX_VALUE;if(r===n&&i.attributes.BANDWIDTH&&e.attributes.BANDWIDTH){return i.attributes.BANDWIDTH-e.attributes.BANDWIDTH}return r-n};var Nl=function t(i,e,r,n,s,a){if(!i){return}var o={bandwidth:e,width:r,height:n,limitRenditionByPlayerDimensions:s};var u=i.playlists;if(xh.isAudioOnly(i)){u=a.getAudioTrackPlaylists_();o.audioOnly=true}var f=u.map((function(t){var i;var e=t.attributes&&t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width;var r=t.attributes&&t.attributes.RESOLUTION&&t.attributes.RESOLUTION.height;i=t.attributes&&t.attributes.BANDWIDTH;i=i||c.Number.MAX_VALUE;return{bandwidth:i,width:e,height:r,playlist:t}}));Sl(f,(function(t,i){return t.bandwidth-i.bandwidth}));f=f.filter((function(t){return!xh.isIncompatible(t.playlist)}));var h=f.filter((function(t){return xh.isEnabled(t.playlist)}));if(!h.length){h=f.filter((function(t){return!xh.isDisabled(t.playlist)}))}var l=h.filter((function(t){return t.bandwidth*Rc.BANDWIDTH_VARIANCE<e}));var v=l[l.length-1];var d=l.filter((function(t){return t.bandwidth===v.bandwidth}))[0];if(s===false){var p=d||h[0]||f[0];if(p&&p.playlist){var m="sortedPlaylistReps";if(d){m="bandwidthBestRep"}if(h[0]){m="enabledPlaylistReps"}Al("choosing "+El(p)+" using "+m+" with options",o);return p.playlist}Al("could not choose a playlist with options",o);return null}var g=l.filter((function(t){return t.width&&t.height}));Sl(g,(function(t,i){return t.width-i.width}));var b=g.filter((function(t){return t.width===r&&t.height===n}));v=b[b.length-1];var y=b.filter((function(t){return t.bandwidth===v.bandwidth}))[0];var j;var w;var T;if(!y){j=g.filter((function(t){return t.width>r||t.height>n}));w=j.filter((function(t){return t.width===j[0].width&&t.height===j[0].height}));v=w[w.length-1];T=w.filter((function(t){return t.bandwidth===v.bandwidth}))[0]}var k;if(a.experimentalLeastPixelDiffSelector){var A=g.map((function(t){t.pixelDiff=Math.abs(t.width-r)+Math.abs(t.height-n);return t}));Sl(A,(function(t,i){if(t.pixelDiff===i.pixelDiff){return i.bandwidth-t.bandwidth}return t.pixelDiff-i.pixelDiff}));k=A[0]}var E=k||T||y||d||h[0]||f[0];if(E&&E.playlist){var x="sortedPlaylistReps";if(k){x="leastPixelDiffRep"}else if(T){x="resolutionPlusOneRep"}else if(y){x="resolutionBestRep"}else if(d){x="bandwidthBestRep"}else if(h[0]){x="enabledPlaylistReps"}Al("choosing "+El(E)+" using "+x+" with options",o);return E.playlist}Al("could not choose a playlist with options",o);return null};var Ol=function t(){var i=this.useDevicePixelRatio?c.devicePixelRatio||1:1;return Nl(this.playlists.master,this.systemBandwidth,parseInt(xl(this.tech_.el(),"width"),10)*i,parseInt(xl(this.tech_.el(),"height"),10)*i,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)};var Rl=function t(i){var e=-1;var r=-1;if(i<0||i>1){throw new Error("Moving average bandwidth decay must be between 0 and 1.")}return function(){var t=this.useDevicePixelRatio?c.devicePixelRatio||1:1;if(e<0){e=this.systemBandwidth;r=this.systemBandwidth}if(this.systemBandwidth>0&&this.systemBandwidth!==r){e=i*this.systemBandwidth+(1-i)*e;r=this.systemBandwidth}return Nl(this.playlists.master,e,parseInt(xl(this.tech_.el(),"width"),10)*t,parseInt(xl(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}};var Ll=function t(i){var e=i.master,r=i.currentTime,n=i.bandwidth,s=i.duration,a=i.segmentDuration,o=i.timeUntilRebuffer,u=i.currentTimeline,f=i.syncController;var h=e.playlists.filter((function(t){return!xh.isIncompatible(t)}));var c=h.filter(xh.isEnabled);if(!c.length){c=h.filter((function(t){return!xh.isDisabled(t)}))}var l=c.filter(xh.hasAttribute.bind(null,"BANDWIDTH"));var v=l.map((function(t){var i=f.getSyncPoint(t,s,u,r);var e=i?1:2;var h=xh.estimateSegmentRequestTime(a,n,t);var c=h*e-o;return{playlist:t,rebufferingImpact:c}}));var d=v.filter((function(t){return t.rebufferingImpact<=0}));Sl(d,(function(t,i){return Il(i.playlist,t.playlist)}));if(d.length){return d[0]}Sl(v,(function(t,i){return t.rebufferingImpact-i.rebufferingImpact}));return v[0]||null};var Cl=function t(){var i=this;var e=this.playlists.master.playlists.filter(xh.isEnabled);Sl(e,(function(t,i){return Il(t,i)}));var r=e.filter((function(t){return!!kl(i.playlists.master,t).video}));return r[0]||null};var Ml=function t(i){var e=0;var r;if(i.bytes){r=new Uint8Array(i.bytes);i.segments.forEach((function(t){r.set(t,e);e+=t.byteLength}))}return r};var Ul=function t(i,e,r){if(!i[r]){e.trigger({type:"usage",name:"vhs-608"});e.trigger({type:"usage",name:"hls-608"});var n=r;if(/^cc708_/.test(r)){n="SERVICE"+r.split("_")[1]}var s=e.textTracks().getTrackById(n);if(s){i[r]=s}else{var a=e.options_.vhs&&e.options_.vhs.captionServices||{};var o=r;var u=r;var f=false;var h=a[n];if(h){o=h.label;u=h.language;f=h["default"]}i[r]=e.addRemoteTextTrack({kind:"captions",id:n,default:f,label:o,language:u},false).track}}};var Bl=function t(i){var e=i.inbandTextTracks,r=i.captionArray,n=i.timestampOffset;if(!r){return}var s=c.WebKitDataCue||c.VTTCue;r.forEach((function(t){var i=t.stream;e[i].addCue(new s(t.startTime+n,t.endTime+n,t.text))}))};var Pl=function t(i){Object.defineProperties(i.frame,{id:{get:function t(){Uf.log.warn("cue.frame.id is deprecated. Use cue.value.key instead.");return i.value.key}},value:{get:function t(){Uf.log.warn("cue.frame.value is deprecated. Use cue.value.data instead.");return i.value.data}},privateData:{get:function t(){Uf.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead.");return i.value.data}}})};var ql=function t(i){var e=i.inbandTextTracks,r=i.metadataArray,n=i.timestampOffset,s=i.videoDuration;if(!r){return}var a=c.WebKitDataCue||c.VTTCue;var o=e.metadataTrack_;if(!o){return}r.forEach((function(t){var i=t.cueTime+n;if(typeof i!=="number"||c.isNaN(i)||i<0||!(i<Infinity)){return}t.frames.forEach((function(t){var e=new a(i,i,t.value||t.url||t.data||"");e.frame=t;e.value=t;Pl(e);o.addCue(e)}))}));if(!o.cues||!o.cues.length){return}var u=o.cues;var f=[];for(var h=0;h<u.length;h++){if(u[h]){f.push(u[h])}}var l=f.reduce((function(t,i){var e=t[i.startTime]||[];e.push(i);t[i.startTime]=e;return t}),{});var v=Object.keys(l).sort((function(t,i){return Number(t)-Number(i)}));v.forEach((function(t,i){var e=l[t];var r=Number(v[i+1])||s;e.forEach((function(t){t.endTime=r}))}))};var Fl=function t(i,e,r){if(i.metadataTrack_){return}i.metadataTrack_=r.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},false).track;i.metadataTrack_.inBandMetadataTrackDispatchType=e};var _l=function t(i,e,r){var n;var s;if(!r){return}if(!r.cues){return}n=r.cues.length;while(n--){s=r.cues[n];if(s.startTime>=i&&s.endTime<=e){r.removeCue(s)}}};var Vl=function t(i){var e=i.cues;if(!e){return}for(var r=0;r<e.length;r++){var n=[];var s=0;for(var a=0;a<e.length;a++){if(e[r].startTime===e[a].startTime&&e[r].endTime===e[a].endTime&&e[r].text===e[a].text){s++;if(s>1){n.push(e[a])}}}if(n.length){n.forEach((function(t){return i.removeCue(t)}))}}};var Hl=function t(i,e,r){if(typeof e==="undefined"||e===null||!i.length){return[]}var n=Math.ceil((e-r+3)*Ir.ONE_SECOND_IN_TS);var s;for(s=0;s<i.length;s++){if(i[s].pts>n){break}}return i.slice(s)};var zl=function t(i,e,r){if(!e.length){return i}if(r){return e.slice()}var n=e[0].pts;var s=0;for(s;s<i.length;s++){if(i[s].pts>=n){break}}return i.slice(0,s).concat(e)};var Gl=function t(i,e,r,n){var s=Math.ceil((e-n)*Ir.ONE_SECOND_IN_TS);var a=Math.ceil((r-n)*Ir.ONE_SECOND_IN_TS);var o=i.slice();var u=i.length;while(u--){if(i[u].pts<=a){break}}if(u===-1){return o}var f=u+1;while(f--){if(i[f].pts<=s){break}}f=Math.max(f,0);o.splice(f,u-f+1);return o};var Xl=function t(i,e){if(!i&&!e||!i&&e||i&&!e){return false}if(i===e){return true}var r=Object.keys(i).sort();var n=Object.keys(e).sort();if(r.length!==n.length){return false}for(var s=0;s<r.length;s++){var a=r[s];if(a!==n[s]){return false}if(i[a]!==e[a]){return false}}return true};var Yl=22;var Wl=function t(i,e,r){e=e||[];var n=[];var s=0;for(var a=0;a<e.length;a++){var o=e[a];if(i===o.timeline){n.push(a);s+=o.duration;if(s>r){return a}}}if(n.length===0){return 0}return n[n.length-1]};var Jl=1;var Ql=500;var Kl=function t(i){return typeof i==="number"&&isFinite(i)};var Zl=1/60;var $l=function t(i,e,r){if(i!=="main"||!e||!r){return null}if(!r.hasAudio&&!r.hasVideo){return"Neither audio nor video found in segment."}if(e.hasVideo&&!r.hasVideo){return"Only audio found in segment when we expected video."+" We can't switch to audio only from a stream that had video."+" To get rid of this message, please add codec information to the manifest."}if(!e.hasVideo&&r.hasVideo){return"Video found in segment when we expected only audio."+" We can't switch to a stream with video from an audio only stream."+" To get rid of this message, please add codec information to the manifest."}return null};var tv=function t(i,e,r){var n=e-Rc.BACK_BUFFER_LENGTH;if(i.length){n=Math.max(n,i.start(0))}var s=e-r;return Math.min(s,n)};var iv=function t(i){var e=i.startOfSegment,r=i.duration,n=i.segment,s=i.part,a=i.playlist,o=a.mediaSequence,u=a.id,f=a.segments,h=f===void 0?[]:f,c=i.mediaIndex,l=i.partIndex,v=i.timeline;var d=h.length-1;var p="mediaIndex/partIndex increment";if(i.getMediaInfoForTime){p="getMediaInfoForTime ("+i.getMediaInfoForTime+")"}else if(i.isSyncRequest){p="getSyncSegmentCandidate (isSyncRequest)"}if(i.independent){p+=" with independent "+i.independent}var m=typeof l==="number";var g=i.segment.uri?"segment":"pre-segment";var b=m?sh({preloadSegment:n})-1:0;return g+" ["+(o+c)+"/"+(o+d)+"]"+(m?" part ["+l+"/"+b+"]":"")+(" segment start/end ["+n.start+" => "+n.end+"]")+(m?" part start/end ["+s.start+" => "+s.end+"]":"")+(" startOfSegment ["+e+"]")+(" duration ["+r+"]")+(" timeline ["+v+"]")+(" selected by ["+p+"]")+(" playlist ["+u+"]")};var ev=function t(i){return i+"TimingInfo"};var rv=function t(i){var e=i.segmentTimeline,r=i.currentTimeline,n=i.startOfSegment,s=i.buffered,a=i.overrideCheck;if(!a&&e===r){return null}if(e<r){return n}return s.length?s.end(s.length-1):n};var nv=function t(i){var e=i.timelineChangeController,r=i.currentTimeline,n=i.segmentTimeline,s=i.loaderType,a=i.audioDisabled;if(r===n){return false}if(s==="audio"){var o=e.lastTimelineChange({type:"main"});return!o||o.to!==n}if(s==="main"&&a){var u=e.pendingTimelineChange({type:"audio"});if(u&&u.to===n){return false}return true}return false};var sv=function t(i){var e=0;["video","audio"].forEach((function(t){var r=i[t+"TimingInfo"];if(!r){return}var n=r.start,s=r.end;var a;if(typeof n==="bigint"||typeof s==="bigint"){a=c.BigInt(s)-c.BigInt(n)}else if(typeof n==="number"&&typeof s==="number"){a=s-n}if(typeof a!=="undefined"&&a>e){e=a}}));if(typeof e==="bigint"&&e<Number.MAX_SAFE_INTEGER){e=Number(e)}return e};var av=function t(i){var e=i.segmentDuration,r=i.maxDuration;if(!e){return false}return Math.round(e)>r+Vf};var ov=function t(i,e){if(e!=="hls"){return null}var r=sv({audioTimingInfo:i.audioTimingInfo,videoTimingInfo:i.videoTimingInfo});if(!r){return null}var n=i.playlist.targetDuration;var s=av({segmentDuration:r,maxDuration:n*2});var a=av({segmentDuration:r,maxDuration:n});var o="Segment with index "+i.mediaIndex+" "+("from playlist "+i.playlist.id+" ")+("has a duration of "+r+" ")+("when the reported duration is "+i.duration+" ")+("and the target duration is "+n+". ")+"For HLS content, a duration in excess of the target duration may result in "+"playback issues. See the HLS specification section on EXT-X-TARGETDURATION for "+"more details: "+"https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";if(s||a){return{severity:s?"warn":"info",message:o}}return null};var uv=function(t){D(i,t);function i(i,e){var r;r=t.call(this)||this;if(!i){throw new TypeError("Initialization settings are required")}if(typeof i.currentTime!=="function"){throw new TypeError("No currentTime getter specified")}if(!i.mediaSource){throw new TypeError("No MediaSource specified")}r.bandwidth=i.bandwidth;r.throughput={rate:0,count:0};r.roundTrip=NaN;r.resetStats_();r.mediaIndex=null;r.partIndex=null;r.hasPlayed_=i.hasPlayed;r.currentTime_=i.currentTime;r.seekable_=i.seekable;r.seeking_=i.seeking;r.duration_=i.duration;r.mediaSource_=i.mediaSource;r.vhs_=i.vhs;r.loaderType_=i.loaderType;r.currentMediaInfo_=void 0;r.startingMediaInfo_=void 0;r.segmentMetadataTrack_=i.segmentMetadataTrack;r.goalBufferLength_=i.goalBufferLength;r.sourceType_=i.sourceType;r.sourceUpdater_=i.sourceUpdater;r.inbandTextTracks_=i.inbandTextTracks;r.state_="INIT";r.timelineChangeController_=i.timelineChangeController;r.shouldSaveSegmentTimingInfo_=true;r.parse708captions_=i.parse708captions;r.useDtsForTimestampOffset_=i.useDtsForTimestampOffset;r.captionServices_=i.captionServices;r.experimentalExactManifestTimings=i.experimentalExactManifestTimings;r.checkBufferTimeout_=null;r.error_=void 0;r.currentTimeline_=-1;r.pendingSegment_=null;r.xhrOptions_=null;r.pendingSegments_=[];r.audioDisabled_=false;r.isPendingTimestampOffset_=false;r.gopBuffer_=[];r.timeMapping_=0;r.safeAppend_=Uf.browser.IE_VERSION>=11;r.appendInitSegment_={audio:true,video:true};r.playlistOfLastInitSegment_={audio:null,video:null};r.callQueue_=[];r.loadQueue_=[];r.metadataQueue_={id3:[],caption:[]};r.waitingOnRemove_=false;r.quotaExceededErrorRetryTimeout_=null;r.activeInitSegmentId_=null;r.initSegments_={};r.cacheEncryptionKeys_=i.cacheEncryptionKeys;r.keyCache_={};r.decrypter_=i.decrypter;r.syncController_=i.syncController;r.syncPoint_={segmentIndex:0,time:0};r.transmuxer_=r.createTransmuxer_();r.triggerSyncInfoUpdate_=function(){return r.trigger("syncinfoupdate")};r.syncController_.on("syncinfoupdate",r.triggerSyncInfoUpdate_);r.mediaSource_.addEventListener("sourceopen",(function(){if(!r.isEndOfStream_()){r.ended_=false}}));r.fetchAtBuffer_=false;r.logger_=_f("SegmentLoader["+r.loaderType_+"]");Object.defineProperty(S(r),"state",{get:function t(){return this.state_},set:function t(i){if(i!==this.state_){this.logger_(this.state_+" -> "+i);this.state_=i;this.trigger("statechange")}}});r.sourceUpdater_.on("ready",(function(){if(r.hasEnoughInfoToAppend_()){r.processCallQueue_()}}));if(r.loaderType_==="main"){r.timelineChangeController_.on("pendingtimelinechange",(function(){if(r.hasEnoughInfoToAppend_()){r.processCallQueue_()}}))}if(r.loaderType_==="audio"){r.timelineChangeController_.on("timelinechange",(function(){if(r.hasEnoughInfoToLoad_()){r.processLoadQueue_()}if(r.hasEnoughInfoToAppend_()){r.processCallQueue_()}}))}return r}var e=i.prototype;e.createTransmuxer_=function t(){return Zc.createTransmuxer({remux:false,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:true,parse708captions:this.parse708captions_,captionServices:this.captionServices_})};e.resetStats_=function t(){this.mediaBytesTransferred=0;this.mediaRequests=0;this.mediaRequestsAborted=0;this.mediaRequestsTimedout=0;this.mediaRequestsErrored=0;this.mediaTransferDuration=0;this.mediaSecondsLoaded=0;this.mediaAppends=0};e.dispose=function t(){this.trigger("dispose");this.state="DISPOSED";this.pause();this.abort_();if(this.transmuxer_){this.transmuxer_.terminate()}this.resetStats_();if(this.checkBufferTimeout_){c.clearTimeout(this.checkBufferTimeout_)}if(this.syncController_&&this.triggerSyncInfoUpdate_){this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_)}this.off()};e.setAudio=function t(i){this.audioDisabled_=!i;if(i){this.appendInitSegment_.audio=true}else{this.sourceUpdater_.removeAudio(0,this.duration_())}};e.abort=function t(){if(this.state!=="WAITING"){if(this.pendingSegment_){this.pendingSegment_=null}return}this.abort_();this.state="READY";if(!this.paused()){this.monitorBuffer_()}};e.abort_=function t(){if(this.pendingSegment_&&this.pendingSegment_.abortRequests){this.pendingSegment_.abortRequests()}this.pendingSegment_=null;this.callQueue_=[];this.loadQueue_=[];this.metadataQueue_.id3=[];this.metadataQueue_.caption=[];this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_);this.waitingOnRemove_=false;c.clearTimeout(this.quotaExceededErrorRetryTimeout_);this.quotaExceededErrorRetryTimeout_=null};e.checkForAbort_=function t(i){if(this.state==="APPENDING"&&!this.pendingSegment_){this.state="READY";return true}if(!this.pendingSegment_||this.pendingSegment_.requestId!==i){return true}return false};e.error=function t(i){if(typeof i!=="undefined"){this.logger_("error occurred:",i);this.error_=i}this.pendingSegment_=null;return this.error_};e.endOfStream=function t(){this.ended_=true;if(this.transmuxer_){Zc.reset(this.transmuxer_)}this.gopBuffer_.length=0;this.pause();this.trigger("ended")};e.buffered_=function t(){var i=this.getMediaInfo_();if(!this.sourceUpdater_||!i){return Uf.createTimeRanges()}if(this.loaderType_==="main"){var e=i.hasAudio,r=i.hasVideo,n=i.isMuxed;if(r&&e&&!this.audioDisabled_&&!n){return this.sourceUpdater_.buffered()}if(r){return this.sourceUpdater_.videoBuffered()}}return this.sourceUpdater_.audioBuffered()};e.initSegmentForMap=function t(i,e){if(e===void 0){e=false}if(!i){return null}var r=nc(i);var n=this.initSegments_[r];if(e&&!n&&i.bytes){this.initSegments_[r]=n={resolvedUri:i.resolvedUri,byterange:i.byterange,bytes:i.bytes,tracks:i.tracks,timescales:i.timescales}}return n||i};e.segmentKey=function t(i,e){if(e===void 0){e=false}if(!i){return null}var r=sc(i);var n=this.keyCache_[r];if(this.cacheEncryptionKeys_&&e&&!n&&i.bytes){this.keyCache_[r]=n={resolvedUri:i.resolvedUri,bytes:i.bytes}}var s={resolvedUri:(n||i).resolvedUri};if(n){s.bytes=n.bytes}return s};e.couldBeginLoading_=function t(){return this.playlist_&&!this.paused()};e.load=function t(){this.monitorBuffer_();if(!this.playlist_){return}if(this.state==="INIT"&&this.couldBeginLoading_()){return this.init_()}if(!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"){return}this.state="READY"};e.init_=function t(){this.state="READY";this.resetEverything();return this.monitorBuffer_()};e.playlist=function t(i,e){if(e===void 0){e={}}if(!i){return}var r=this.playlist_;var n=this.pendingSegment_;this.playlist_=i;this.xhrOptions_=e;if(this.state==="INIT"){i.syncInfo={mediaSequence:i.mediaSequence,time:0};if(this.loaderType_==="main"){this.syncController_.setDateTimeMappingForStart(i)}}var s=null;if(r){if(r.id){s=r.id}else if(r.uri){s=r.uri}}this.logger_("playlist update ["+s+" => "+(i.id||i.uri)+"]");this.trigger("syncinfoupdate");if(this.state==="INIT"&&this.couldBeginLoading_()){return this.init_()}if(!r||r.uri!==i.uri){if(this.mediaIndex!==null){if(!i.endList){this.resetLoader()}else{this.resyncLoader()}}this.currentMediaInfo_=void 0;this.trigger("playlistupdate");return}var a=i.mediaSequence-r.mediaSequence;this.logger_("live window shift ["+a+"]");if(this.mediaIndex!==null){this.mediaIndex-=a;if(this.mediaIndex<0){this.mediaIndex=null;this.partIndex=null}else{var o=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!o.parts||!o.parts.length||!o.parts[this.partIndex])){var u=this.mediaIndex;this.logger_("currently processing part (index "+this.partIndex+") no longer exists.");this.resetLoader();this.mediaIndex=u}}}if(n){n.mediaIndex-=a;if(n.mediaIndex<0){n.mediaIndex=null;n.partIndex=null}else{if(n.mediaIndex>=0){n.segment=i.segments[n.mediaIndex]}if(n.partIndex>=0&&n.segment.parts){n.part=n.segment.parts[n.partIndex]}}}this.syncController_.saveExpiredSegmentInfo(r,i)};e.pause=function t(){if(this.checkBufferTimeout_){c.clearTimeout(this.checkBufferTimeout_);this.checkBufferTimeout_=null}};e.paused=function t(){return this.checkBufferTimeout_===null};e.resetEverything=function t(i){this.ended_=false;this.activeInitSegmentId_=null;this.appendInitSegment_={audio:true,video:true};this.resetLoader();this.remove(0,Infinity,i);if(this.transmuxer_){this.transmuxer_.postMessage({action:"clearAllMp4Captions"});this.transmuxer_.postMessage({action:"reset"})}};e.resetLoader=function t(){this.fetchAtBuffer_=false;this.resyncLoader()};e.resyncLoader=function t(){if(this.transmuxer_){Zc.reset(this.transmuxer_)}this.mediaIndex=null;this.partIndex=null;this.syncPoint_=null;this.isPendingTimestampOffset_=false;this.callQueue_=[];this.loadQueue_=[];this.metadataQueue_.id3=[];this.metadataQueue_.caption=[];this.abort();if(this.transmuxer_){this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}};e.remove=function t(i,e,r,n){if(r===void 0){r=function t(){}}if(n===void 0){n=false}if(e===Infinity){e=this.duration_()}if(e<=i){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}var s=1;var a=function t(){s--;if(s===0){r()}};if(n||!this.audioDisabled_){s++;this.sourceUpdater_.removeAudio(i,e,a)}if(n||this.loaderType_==="main"){this.gopBuffer_=Gl(this.gopBuffer_,i,e,this.timeMapping_);s++;this.sourceUpdater_.removeVideo(i,e,a)}for(var o in this.inbandTextTracks_){_l(i,e,this.inbandTextTracks_[o])}_l(i,e,this.segmentMetadataTrack_);a()};e.monitorBuffer_=function t(){if(this.checkBufferTimeout_){c.clearTimeout(this.checkBufferTimeout_)}this.checkBufferTimeout_=c.setTimeout(this.monitorBufferTick_.bind(this),1)};e.monitorBufferTick_=function t(){if(this.state==="READY"){this.fillBuffer_()}if(this.checkBufferTimeout_){c.clearTimeout(this.checkBufferTimeout_)}this.checkBufferTimeout_=c.setTimeout(this.monitorBufferTick_.bind(this),Ql)};e.fillBuffer_=function t(){if(this.sourceUpdater_.updating()){return}var i=this.chooseNextRequest_();if(!i){return}if(typeof i.timestampOffset==="number"){this.isPendingTimestampOffset_=false;this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:i.timeline})}this.loadSegment_(i)};e.isEndOfStream_=function t(i,e,r){if(i===void 0){i=this.mediaIndex}if(e===void 0){e=this.playlist_}if(r===void 0){r=this.partIndex}if(!e||!this.mediaSource_){return false}var n=typeof i==="number"&&e.segments[i];var s=i+1===e.segments.length;var a=!n||!n.parts||r+1===n.parts.length;return e.endList&&this.mediaSource_.readyState==="open"&&s&&a};e.chooseNextRequest_=function t(){var i=this.buffered_();var e=$f(i)||0;var r=th(i,this.currentTime_());var n=!this.hasPlayed_()&&r>=1;var s=r>=this.goalBufferLength_();var a=this.playlist_.segments;if(!a.length||n||s){return null}this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var o={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(o.isSyncRequest){o.mediaIndex=Wl(this.currentTimeline_,a,e)}else if(this.mediaIndex!==null){var u=a[this.mediaIndex];var f=typeof this.partIndex==="number"?this.partIndex:-1;o.startOfSegment=u.end?u.end:e;if(u.parts&&u.parts[f+1]){o.mediaIndex=this.mediaIndex;o.partIndex=f+1}else{o.mediaIndex=this.mediaIndex+1}}else{var h=xh.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?e:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),c=h.segmentIndex,l=h.startTime,v=h.partIndex;o.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+e:"currentTime "+this.currentTime_();o.mediaIndex=c;o.startOfSegment=l;o.partIndex=v}var d=a[o.mediaIndex];var p=d&&typeof o.partIndex==="number"&&d.parts&&d.parts[o.partIndex];if(!d||typeof o.partIndex==="number"&&!p){return null}if(typeof o.partIndex!=="number"&&d.parts){o.partIndex=0;p=d.parts[0]}if(!r&&p&&!p.independent){if(o.partIndex===0){var m=a[o.mediaIndex-1];var g=m.parts&&m.parts.length&&m.parts[m.parts.length-1];if(g&&g.independent){o.mediaIndex-=1;o.partIndex=m.parts.length-1;o.independent="previous segment"}}else if(d.parts[o.partIndex-1].independent){o.partIndex-=1;o.independent="previous part"}}var b=this.mediaSource_&&this.mediaSource_.readyState==="ended";if(o.mediaIndex>=a.length-1&&b&&!this.seeking_()){return null}return this.generateSegmentInfo_(o)};e.generateSegmentInfo_=function t(i){var e=i.independent,r=i.playlist,n=i.mediaIndex,s=i.startOfSegment,a=i.isSyncRequest,o=i.partIndex,u=i.forceTimestampOffset,f=i.getMediaInfoForTime;var h=r.segments[n];var c=typeof o==="number"&&h.parts[o];var l={requestId:"segment-loader-"+Math.random(),uri:c&&c.resolvedUri||h.resolvedUri,mediaIndex:n,partIndex:c?o:null,isSyncRequest:a,startOfSegment:s,playlist:r,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:h.timeline,duration:c&&c.duration||h.duration,segment:h,part:c,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:f,independent:e};var v=typeof u!=="undefined"?u:this.isPendingTimestampOffset_;l.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:h.timeline,currentTimeline:this.currentTimeline_,startOfSegment:s,buffered:this.buffered_(),overrideCheck:v});var d=$f(this.sourceUpdater_.audioBuffered());if(typeof d==="number"){l.audioAppendStart=d-this.sourceUpdater_.audioTimestampOffset()}if(this.sourceUpdater_.videoBuffered().length){l.gopsToAlignWith=Hl(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)}return l};e.timestampOffsetForSegment_=function t(i){return rv(i)};e.earlyAbortWhenNeeded_=function t(i){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH){return}if(Date.now()-(i.firstBytesReceivedAt||Date.now())<1e3){return}var e=this.currentTime_();var r=i.bandwidth;var n=this.pendingSegment_.duration;var s=xh.estimateSegmentRequestTime(n,r,this.playlist_,i.bytesReceived);var a=Qf(this.buffered_(),e,this.vhs_.tech_.playbackRate())-1;if(s<=a){return}var o=Ll({master:this.vhs_.playlists.master,currentTime:e,bandwidth:r,duration:this.duration_(),segmentDuration:n,timeUntilRebuffer:a,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!o){return}var u=s-a;var f=u-o.rebufferingImpact;var h=.5;if(a<=Vf){h=1}if(!o.playlist||o.playlist.uri===this.playlist_.uri||f<h){return}this.bandwidth=o.playlist.attributes.BANDWIDTH*Rc.BANDWIDTH_VARIANCE+1;this.trigger("earlyabort")};e.handleAbort_=function t(i){this.logger_("Aborting "+iv(i));this.mediaRequestsAborted+=1};e.handleProgress_=function t(i,e){this.earlyAbortWhenNeeded_(e.stats);if(this.checkForAbort_(e.requestId)){return}this.trigger("progress")};e.handleTrackInfo_=function t(i,e){this.earlyAbortWhenNeeded_(i.stats);if(this.checkForAbort_(i.requestId)){return}if(this.checkForIllegalMediaSwitch(e)){return}e=e||{};if(!Xl(this.currentMediaInfo_,e)){this.appendInitSegment_={audio:true,video:true};this.startingMediaInfo_=e;this.currentMediaInfo_=e;this.logger_("trackinfo update",e);this.trigger("trackinfo")}if(this.checkForAbort_(i.requestId)){return}this.pendingSegment_.trackInfo=e;if(this.hasEnoughInfoToAppend_()){this.processCallQueue_()}};e.handleTimingInfo_=function t(i,e,r,n){this.earlyAbortWhenNeeded_(i.stats);if(this.checkForAbort_(i.requestId)){return}var s=this.pendingSegment_;var a=ev(e);s[a]=s[a]||{};s[a][r]=n;this.logger_("timinginfo: "+e+" - "+r+" - "+n);if(this.hasEnoughInfoToAppend_()){this.processCallQueue_()}};e.handleCaptions_=function t(i,e){var r=this;this.earlyAbortWhenNeeded_(i.stats);if(this.checkForAbort_(i.requestId)){return}if(e.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}var n=this.pendingSegment_;if(!n.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,i,e));return}var s=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();var a={};e.forEach((function(t){a[t.stream]=a[t.stream]||{startTime:Infinity,captions:[],endTime:0};var i=a[t.stream];i.startTime=Math.min(i.startTime,t.startTime+s);i.endTime=Math.max(i.endTime,t.endTime+s);i.captions.push(t)}));Object.keys(a).forEach((function(t){var i=a[t],e=i.startTime,n=i.endTime,o=i.captions;var u=r.inbandTextTracks_;r.logger_("adding cues from "+e+" -> "+n+" for "+t);Ul(u,r.vhs_.tech_,t);_l(e,n,u[t]);Bl({captionArray:o,inbandTextTracks:u,timestampOffset:s})}));if(this.transmuxer_){this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}};e.handleId3_=function t(i,e,r){this.earlyAbortWhenNeeded_(i.stats);if(this.checkForAbort_(i.requestId)){return}var n=this.pendingSegment_;if(!n.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,i,e,r));return}var s=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();Fl(this.inbandTextTracks_,r,this.vhs_.tech_);ql({inbandTextTracks:this.inbandTextTracks_,metadataArray:e,timestampOffset:s,videoDuration:this.duration_()})};e.processMetadataQueue_=function t(){this.metadataQueue_.id3.forEach((function(t){return t()}));this.metadataQueue_.caption.forEach((function(t){return t()}));this.metadataQueue_.id3=[];this.metadataQueue_.caption=[]};e.processCallQueue_=function t(){var i=this.callQueue_;this.callQueue_=[];i.forEach((function(t){return t()}))};e.processLoadQueue_=function t(){var i=this.loadQueue_;this.loadQueue_=[];i.forEach((function(t){return t()}))};e.hasEnoughInfoToLoad_=function t(){if(this.loaderType_!=="audio"){return true}var i=this.pendingSegment_;if(!i){return false}if(!this.getCurrentMediaInfo_()){return true}if(nv({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:i.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_})){return false}return true};e.getCurrentMediaInfo_=function t(i){if(i===void 0){i=this.pendingSegment_}return i&&i.trackInfo||this.currentMediaInfo_};e.getMediaInfo_=function t(i){if(i===void 0){i=this.pendingSegment_}return this.getCurrentMediaInfo_(i)||this.startingMediaInfo_};e.getPendingSegmentPlaylist=function t(){return this.pendingSegment_?this.pendingSegment_.playlist:null};e.hasEnoughInfoToAppend_=function t(){if(!this.sourceUpdater_.ready()){return false}if(this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_){return false}var i=this.pendingSegment_;var e=this.getCurrentMediaInfo_();if(!i||!e){return false}var r=e.hasAudio,n=e.hasVideo,s=e.isMuxed;if(n&&!i.videoTimingInfo){return false}if(r&&!this.audioDisabled_&&!s&&!i.audioTimingInfo){return false}if(nv({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:i.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_})){return false}return true};e.handleData_=function t(i,e){this.earlyAbortWhenNeeded_(i.stats);if(this.checkForAbort_(i.requestId)){return}if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){this.callQueue_.push(this.handleData_.bind(this,i,e));return}var r=this.pendingSegment_;this.setTimeMapping_(r.timeline);this.updateMediaSecondsLoaded_(r.part||r.segment);if(this.mediaSource_.readyState==="closed"){return}if(i.map){i.map=this.initSegmentForMap(i.map,true);r.segment.map=i.map}if(i.key){this.segmentKey(i.key,true)}r.isFmp4=i.isFmp4;r.timingInfo=r.timingInfo||{};if(r.isFmp4){this.trigger("fmp4");r.timingInfo.start=r[ev(e.type)].start}else{var n=this.getCurrentMediaInfo_();var s=this.loaderType_==="main"&&n&&n.hasVideo;var a;if(s){a=r.videoTimingInfo.start}r.timingInfo.start=this.trueSegmentStart_({currentStart:r.timingInfo.start,playlist:r.playlist,mediaIndex:r.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:s,firstVideoFrameTimeForData:a,videoTimingInfo:r.videoTimingInfo,audioTimingInfo:r.audioTimingInfo})}this.updateAppendInitSegmentStatus(r,e.type);this.updateSourceBufferTimestampOffset_(r);if(r.isSyncRequest){this.updateTimingInfoEnd_(r);this.syncController_.saveSegmentTimingInfo({segmentInfo:r,shouldSaveTimelineMapping:this.loaderType_==="main"});var o=this.chooseNextRequest_();if(o.mediaIndex!==r.mediaIndex||o.partIndex!==r.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}r.hasAppendedData_=true;this.processMetadataQueue_();this.appendData_(r,e)};e.updateAppendInitSegmentStatus=function t(i,e){if(this.loaderType_==="main"&&typeof i.timestampOffset==="number"&&!i.changedTimestampOffset){this.appendInitSegment_={audio:true,video:true}}if(this.playlistOfLastInitSegment_[e]!==i.playlist){this.appendInitSegment_[e]=true}};e.getInitSegmentAndUpdateState_=function t(i){var e=i.type,r=i.initSegment,n=i.map,s=i.playlist;if(n){var a=nc(n);if(this.activeInitSegmentId_===a){return null}r=this.initSegmentForMap(n,true).bytes;this.activeInitSegmentId_=a}if(r&&this.appendInitSegment_[e]){this.playlistOfLastInitSegment_[e]=s;this.appendInitSegment_[e]=false;this.activeInitSegmentId_=null;return r}return null};e.handleQuotaExceededError_=function t(i,e){var r=this;var n=i.segmentInfo,s=i.type,a=i.bytes;var o=this.sourceUpdater_.audioBuffered();var u=this.sourceUpdater_.videoBuffered();if(o.length>1){this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Kf(o).join(", "))}if(u.length>1){this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Kf(u).join(", "))}var f=o.length?o.start(0):0;var h=o.length?o.end(o.length-1):0;var l=u.length?u.start(0):0;var v=u.length?u.end(u.length-1):0;if(h-f<=Jl&&v-l<=Jl){this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to "+"buffer, triggering an error. "+("Appended byte length: "+a.byteLength+", ")+("audio buffer: "+Kf(o).join(", ")+", ")+("video buffer: "+Kf(u).join(", ")+", "));this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:Infinity});this.trigger("error");return}this.waitingOnRemove_=true;this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:n,type:s,bytes:a}));var d=this.currentTime_();var p=d-Jl;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+p);this.remove(0,p,(function(){r.logger_("On QUOTA_EXCEEDED_ERR, retrying append in "+Jl+"s");r.waitingOnRemove_=false;r.quotaExceededErrorRetryTimeout_=c.setTimeout((function(){r.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue");r.quotaExceededErrorRetryTimeout_=null;r.processCallQueue_()}),Jl*1e3)}),true)};e.handleAppendError_=function t(i,e){var r=i.segmentInfo,n=i.type,s=i.bytes;if(!e){return}if(e.code===Yl){this.handleQuotaExceededError_({segmentInfo:r,type:n,bytes:s});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",e);this.error(n+" append of "+s.length+"b failed for segment "+("#"+r.mediaIndex+" in playlist "+r.playlist.id));this.trigger("appenderror")};e.appendToSourceBuffer_=function t(i){var e=i.segmentInfo,r=i.type,n=i.initSegment,s=i.data,a=i.bytes;if(!a){var o=[s];var u=s.byteLength;if(n){o.unshift(n);u+=n.byteLength}a=Ml({bytes:u,segments:o})}this.sourceUpdater_.appendBuffer({segmentInfo:e,type:r,bytes:a},this.handleAppendError_.bind(this,{segmentInfo:e,type:r,bytes:a}))};e.handleSegmentTimingInfo_=function t(i,e,r){if(!this.pendingSegment_||e!==this.pendingSegment_.requestId){return}var n=this.pendingSegment_.segment;var s=i+"TimingInfo";if(!n[s]){n[s]={}}n[s].transmuxerPrependedSeconds=r.prependedContentDuration||0;n[s].transmuxedPresentationStart=r.start.presentation;n[s].transmuxedDecodeStart=r.start.decode;n[s].transmuxedPresentationEnd=r.end.presentation;n[s].transmuxedDecodeEnd=r.end.decode;n[s].baseMediaDecodeTime=r.baseMediaDecodeTime};e.appendData_=function t(i,e){var r=e.type,n=e.data;if(!n||!n.byteLength){return}if(r==="audio"&&this.audioDisabled_){return}var s=this.getInitSegmentAndUpdateState_({type:r,initSegment:e.initSegment,playlist:i.playlist,map:i.isFmp4?i.segment.map:null});this.appendToSourceBuffer_({segmentInfo:i,type:r,initSegment:s,data:n})};e.loadSegment_=function t(i){var e=this;this.state="WAITING";this.pendingSegment_=i;this.trimBackBuffer_(i);if(typeof i.timestampOffset==="number"){if(this.transmuxer_){this.transmuxer_.postMessage({action:"clearAllMp4Captions"})}}if(!this.hasEnoughInfoToLoad_()){this.loadQueue_.push((function(){var t=j({},i,{forceTimestampOffset:true});j(i,e.generateSegmentInfo_(t));e.isPendingTimestampOffset_=false;e.updateTransmuxerAndRequestSegment_(i)}));return}this.updateTransmuxerAndRequestSegment_(i)};e.updateTransmuxerAndRequestSegment_=function t(i){var e=this;if(this.shouldUpdateTransmuxerTimestampOffset_(i.timestampOffset)){this.gopBuffer_.length=0;i.gopsToAlignWith=[];this.timeMapping_=0;this.transmuxer_.postMessage({action:"reset"});this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:i.timestampOffset})}var r=this.createSimplifiedSegmentObj_(i);var n=this.isEndOfStream_(i.mediaIndex,i.playlist,i.partIndex);var s=this.mediaIndex!==null;var a=i.timeline!==this.currentTimeline_&&i.timeline>0;var o=n||s&&a;this.logger_("Requesting "+iv(i));if(r.map&&!r.map.bytes){this.logger_("going to request init segment.");this.appendInitSegment_={video:true,audio:true}}i.abortRequests=ml({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:r,abortFn:this.handleAbort_.bind(this,i),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",i.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",i.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:o,endedTimelineFn:function t(){e.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function t(r){var n=r.message,s=r.level,a=r.stream;e.logger_(iv(i)+" logged from transmuxer stream "+a+" as a "+s+": "+n)}})};e.trimBackBuffer_=function t(i){var e=tv(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);if(e>0){this.remove(0,e)}};e.createSimplifiedSegmentObj_=function t(i){var e=i.segment;var r=i.part;var n={resolvedUri:r?r.resolvedUri:e.resolvedUri,byterange:r?r.byterange:e.byterange,requestId:i.requestId,transmuxer:i.transmuxer,audioAppendStart:i.audioAppendStart,gopsToAlignWith:i.gopsToAlignWith,part:i.part};var s=i.playlist.segments[i.mediaIndex-1];if(s&&s.timeline===e.timeline){if(s.videoTimingInfo){n.baseStartTime=s.videoTimingInfo.transmuxedDecodeEnd}else if(s.audioTimingInfo){n.baseStartTime=s.audioTimingInfo.transmuxedDecodeEnd}}if(e.key){var a=e.key.iv||new Uint32Array([0,0,0,i.mediaIndex+i.playlist.mediaSequence]);n.key=this.segmentKey(e.key);n.key.iv=a}if(e.map){n.map=this.initSegmentForMap(e.map)}return n};e.saveTransferStats_=function t(i){this.mediaRequests+=1;if(i){this.mediaBytesTransferred+=i.bytesReceived;this.mediaTransferDuration+=i.roundTripTime}};e.saveBandwidthRelatedStats_=function t(i,e){this.pendingSegment_.byteLength=e.bytesReceived;if(i<Zl){this.logger_("Ignoring segment's bandwidth because its duration of "+i+(" is less than the min to record "+Zl));return}this.bandwidth=e.bandwidth;this.roundTrip=e.roundTripTime};e.handleTimeout_=function t(){this.mediaRequestsTimedout+=1;this.bandwidth=1;this.roundTrip=NaN;this.trigger("bandwidthupdate");this.trigger("timeout")};e.segmentRequestFinished_=function t(i,e,r){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,i,e,r));return}this.saveTransferStats_(e.stats);if(!this.pendingSegment_){return}if(e.requestId!==this.pendingSegment_.requestId){return}if(i){this.pendingSegment_=null;this.state="READY";if(i.code===tl.ABORTED){return}this.pause();if(i.code===tl.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1;this.error(i);this.trigger("error");return}var n=this.pendingSegment_;this.saveBandwidthRelatedStats_(n.duration,e.stats);n.endOfAllRequests=e.endOfAllRequests;if(r.gopInfo){this.gopBuffer_=zl(this.gopBuffer_,r.gopInfo,this.safeAppend_)}this.state="APPENDING";this.trigger("appending");this.waitForAppendsToComplete_(n)};e.setTimeMapping_=function t(i){var e=this.syncController_.mappingForTimeline(i);if(e!==null){this.timeMapping_=e}};e.updateMediaSecondsLoaded_=function t(i){if(typeof i.start==="number"&&typeof i.end==="number"){this.mediaSecondsLoaded+=i.end-i.start}else{this.mediaSecondsLoaded+=i.duration}};e.shouldUpdateTransmuxerTimestampOffset_=function t(i){if(i===null){return false}if(this.loaderType_==="main"&&i!==this.sourceUpdater_.videoTimestampOffset()){return true}if(!this.audioDisabled_&&i!==this.sourceUpdater_.audioTimestampOffset()){return true}return false};e.trueSegmentStart_=function t(i){var e=i.currentStart,r=i.playlist,n=i.mediaIndex,s=i.firstVideoFrameTimeForData,a=i.currentVideoTimestampOffset,o=i.useVideoTimingInfo,u=i.videoTimingInfo,f=i.audioTimingInfo;if(typeof e!=="undefined"){return e}if(!o){return f.start}var h=r.segments[n-1];if(n===0||!h||typeof h.start==="undefined"||h.end!==s+a){return s}return u.start};e.waitForAppendsToComplete_=function t(i){var e=this.getCurrentMediaInfo_(i);if(!e){this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:Infinity});this.trigger("error");return}var r=e.hasAudio,n=e.hasVideo,s=e.isMuxed;var a=this.loaderType_==="main"&&n;var o=!this.audioDisabled_&&r&&!s;i.waitingOnAppends=0;if(!i.hasAppendedData_){if(!i.timingInfo&&typeof i.timestampOffset==="number"){this.isPendingTimestampOffset_=true}i.timingInfo={start:0};i.waitingOnAppends++;if(!this.isPendingTimestampOffset_){this.updateSourceBufferTimestampOffset_(i);this.processMetadataQueue_()}this.checkAppendsDone_(i);return}if(a){i.waitingOnAppends++}if(o){i.waitingOnAppends++}if(a){this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,i))}if(o){this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,i))}};e.checkAppendsDone_=function t(i){if(this.checkForAbort_(i.requestId)){return}i.waitingOnAppends--;if(i.waitingOnAppends===0){this.handleAppendsDone_()}};e.checkForIllegalMediaSwitch=function t(i){var e=$l(this.loaderType_,this.getCurrentMediaInfo_(),i);if(e){this.error({message:e,blacklistDuration:Infinity});this.trigger("error");return true}return false};e.updateSourceBufferTimestampOffset_=function t(i){if(i.timestampOffset===null||typeof i.timingInfo.start!=="number"||i.changedTimestampOffset||this.loaderType_!=="main"){return}var e=false;i.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:i.segment.videoTimingInfo,audioTimingInfo:i.segment.audioTimingInfo,timingInfo:i.timingInfo});i.changedTimestampOffset=true;if(i.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()){this.sourceUpdater_.videoTimestampOffset(i.timestampOffset);e=true}if(i.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()){this.sourceUpdater_.audioTimestampOffset(i.timestampOffset);e=true}if(e){this.trigger("timestampoffset")}};e.getSegmentStartTimeForTimestampOffsetCalculation_=function t(i){var e=i.videoTimingInfo,r=i.audioTimingInfo,n=i.timingInfo;if(!this.useDtsForTimestampOffset_){return n.start}if(e&&typeof e.transmuxedDecodeStart==="number"){return e.transmuxedDecodeStart}if(r&&typeof r.transmuxedDecodeStart==="number"){return r.transmuxedDecodeStart}return n.start};e.updateTimingInfoEnd_=function t(i){i.timingInfo=i.timingInfo||{};var e=this.getMediaInfo_();var r=this.loaderType_==="main"&&e&&e.hasVideo;var n=r&&i.videoTimingInfo?i.videoTimingInfo:i.audioTimingInfo;if(!n){return}i.timingInfo.end=typeof n.end==="number"?n.end:n.start+i.duration};e.handleAppendsDone_=function t(){if(this.pendingSegment_){this.trigger("appendsdone")}if(!this.pendingSegment_){this.state="READY";if(!this.paused()){this.monitorBuffer_()}return}var i=this.pendingSegment_;this.updateTimingInfoEnd_(i);if(this.shouldSaveSegmentTimingInfo_){this.syncController_.saveSegmentTimingInfo({segmentInfo:i,shouldSaveTimelineMapping:this.loaderType_==="main"})}var e=ov(i,this.sourceType_);if(e){if(e.severity==="warn"){Uf.log.warn(e.message)}else{this.logger_(e.message)}}this.recordThroughput_(i);this.pendingSegment_=null;this.state="READY";if(i.isSyncRequest){this.trigger("syncinfoupdate");if(!i.hasAppendedData_){this.logger_("Throwing away un-appended sync request "+iv(i));return}}this.logger_("Appended "+iv(i));this.addSegmentMetadataCue_(i);this.fetchAtBuffer_=true;if(this.currentTimeline_!==i.timeline){this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:i.timeline});if(this.loaderType_==="main"&&!this.audioDisabled_){this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:i.timeline})}}this.currentTimeline_=i.timeline;this.trigger("syncinfoupdate");var r=i.segment;var n=i.part;var s=r.end&&this.currentTime_()-r.end>i.playlist.targetDuration*3;var a=n&&n.end&&this.currentTime_()-n.end>i.playlist.partTargetDuration*3;if(s||a){this.logger_("bad "+(s?"segment":"part")+" "+iv(i));this.resetEverything();return}var o=this.mediaIndex!==null;if(o){this.trigger("bandwidthupdate")}this.trigger("progress");this.mediaIndex=i.mediaIndex;this.partIndex=i.partIndex;if(this.isEndOfStream_(i.mediaIndex,i.playlist,i.partIndex)){this.endOfStream()}this.trigger("appended");if(i.hasAppendedData_){this.mediaAppends++}if(!this.paused()){this.monitorBuffer_()}};e.recordThroughput_=function t(i){if(i.duration<Zl){this.logger_("Ignoring segment's throughput because its duration of "+i.duration+(" is less than the min to record "+Zl));return}var e=this.throughput.rate;var r=Date.now()-i.endOfAllRequests+1;var n=Math.floor(i.byteLength/r*8*1e3);this.throughput.rate+=(n-e)/++this.throughput.count};e.addSegmentMetadataCue_=function t(i){if(!this.segmentMetadataTrack_){return}var e=i.segment;var r=e.start;var n=e.end;if(!Kl(r)||!Kl(n)){return}_l(r,n,this.segmentMetadataTrack_);var s=c.WebKitDataCue||c.VTTCue;var a={custom:e.custom,dateTimeObject:e.dateTimeObject,dateTimeString:e.dateTimeString,bandwidth:i.playlist.attributes.BANDWIDTH,resolution:i.playlist.attributes.RESOLUTION,codecs:i.playlist.attributes.CODECS,byteLength:i.byteLength,uri:i.uri,timeline:i.timeline,playlist:i.playlist.id,start:r,end:n};var o=JSON.stringify(a);var u=new s(r,n,o);u.value=a;this.segmentMetadataTrack_.addCue(u)};return i}(Uf.EventTarget);function fv(){}var hv=function t(i){if(typeof i!=="string"){return i}return i.replace(/./,(function(t){return t.toUpperCase()}))};var cv=["video","audio"];var lv=function t(i,e){var r=e[i+"Buffer"];return r&&r.updating||e.queuePending[i]};var vv=function t(i,e){for(var r=0;r<e.length;r++){var n=e[r];if(n.type==="mediaSource"){return null}if(n.type===i){return r}}return null};var dv=function t(i,e){if(e.queue.length===0){return}var r=0;var n=e.queue[r];if(n.type==="mediaSource"){if(!e.updating()&&e.mediaSource.readyState!=="closed"){e.queue.shift();n.action(e);if(n.doneFn){n.doneFn()}t("audio",e);t("video",e)}return}if(i==="mediaSource"){return}if(!e.ready()||e.mediaSource.readyState==="closed"||lv(i,e)){return}if(n.type!==i){r=vv(i,e.queue);if(r===null){return}n=e.queue[r]}e.queue.splice(r,1);e.queuePending[i]=n;n.action(i,e);if(!n.doneFn){e.queuePending[i]=null;t(i,e);return}};var pv=function t(i,e){var r=e[i+"Buffer"];var n=hv(i);if(!r){return}r.removeEventListener("updateend",e["on"+n+"UpdateEnd_"]);r.removeEventListener("error",e["on"+n+"Error_"]);e.codecs[i]=null;e[i+"Buffer"]=null};var mv=function t(i,e){return i&&e&&Array.prototype.indexOf.call(i.sourceBuffers,e)!==-1};var gv={appendBuffer:function t(i,e,r){return function(t,n){var s=n[t+"Buffer"];if(!mv(n.mediaSource,s)){return}n.logger_("Appending segment "+e.mediaIndex+"'s "+i.length+" bytes to "+t+"Buffer");try{s.appendBuffer(i)}catch(i){n.logger_("Error with code "+i.code+" "+(i.code===Yl?"(QUOTA_EXCEEDED_ERR) ":"")+("when appending segment "+e.mediaIndex+" to "+t+"Buffer"));n.queuePending[t]=null;r(i)}}},remove:function t(i,e){return function(t,r){var n=r[t+"Buffer"];if(!mv(r.mediaSource,n)){return}r.logger_("Removing "+i+" to "+e+" from "+t+"Buffer");try{n.remove(i,e)}catch(n){r.logger_("Remove "+i+" to "+e+" from "+t+"Buffer failed")}}},timestampOffset:function t(i){return function(t,e){var r=e[t+"Buffer"];if(!mv(e.mediaSource,r)){return}e.logger_("Setting "+t+"timestampOffset to "+i);r.timestampOffset=i}},callback:function t(i){return function(t,e){i()}},endOfStream:function t(i){return function(t){if(t.mediaSource.readyState!=="open"){return}t.logger_("Calling mediaSource endOfStream("+(i||"")+")");try{t.mediaSource.endOfStream(i)}catch(t){Uf.log.warn("Failed to call media source endOfStream",t)}}},duration:function t(i){return function(t){t.logger_("Setting mediaSource duration to "+i);try{t.mediaSource.duration=i}catch(t){Uf.log.warn("Failed to set media source duration",t)}}},abort:function t(){return function(t,i){if(i.mediaSource.readyState!=="open"){return}var e=i[t+"Buffer"];if(!mv(i.mediaSource,e)){return}i.logger_("calling abort on "+t+"Buffer");try{e.abort()}catch(i){Uf.log.warn("Failed to abort on "+t+"Buffer",i)}}},addSourceBuffer:function t(i,e){return function(t){var r=hv(i);var n=Pt(e);t.logger_("Adding "+i+"Buffer with codec "+e+" to mediaSource");var s=t.mediaSource.addSourceBuffer(n);s.addEventListener("updateend",t["on"+r+"UpdateEnd_"]);s.addEventListener("error",t["on"+r+"Error_"]);t.codecs[i]=e;t[i+"Buffer"]=s}},removeSourceBuffer:function t(i){return function(t){var e=t[i+"Buffer"];pv(i,t);if(!mv(t.mediaSource,e)){return}t.logger_("Removing "+i+"Buffer with codec "+t.codecs[i]+" from mediaSource");try{t.mediaSource.removeSourceBuffer(e)}catch(t){Uf.log.warn("Failed to removeSourceBuffer "+i+"Buffer",t)}}},changeType:function t(i){return function(t,e){var r=e[t+"Buffer"];var n=Pt(i);if(!mv(e.mediaSource,r)){return}if(e.codecs[t]===i){return}e.logger_("changing "+t+"Buffer codec from "+e.codecs[t]+" to "+i);try{r.changeType(n);e.codecs[t]=i}catch(i){Uf.log.warn("Failed to changeType on "+t+"Buffer",i)}}}};var bv=function t(i){var e=i.type,r=i.sourceUpdater,n=i.action,s=i.doneFn,a=i.name;r.queue.push({type:e,action:n,doneFn:s,name:a});dv(e,r)};var yv=function t(i,e){return function(t){if(e.queuePending[i]){var r=e.queuePending[i].doneFn;e.queuePending[i]=null;if(r){r(e[i+"Error_"])}}dv(i,e)}};var jv=function(t){D(i,t);function i(i){var e;e=t.call(this)||this;e.mediaSource=i;e.sourceopenListener_=function(){return dv("mediaSource",S(e))};e.mediaSource.addEventListener("sourceopen",e.sourceopenListener_);e.logger_=_f("SourceUpdater");e.audioTimestampOffset_=0;e.videoTimestampOffset_=0;e.queue=[];e.queuePending={audio:null,video:null};e.delayedAudioAppendQueue_=[];e.videoAppendQueued_=false;e.codecs={};e.onVideoUpdateEnd_=yv("video",S(e));e.onAudioUpdateEnd_=yv("audio",S(e));e.onVideoError_=function(t){e.videoError_=t};e.onAudioError_=function(t){e.audioError_=t};e.createdSourceBuffers_=false;e.initializedEme_=false;e.triggeredReady_=false;return e}var e=i.prototype;e.initializedEme=function t(){this.initializedEme_=true;this.triggerReady()};e.hasCreatedSourceBuffers=function t(){return this.createdSourceBuffers_};e.hasInitializedAnyEme=function t(){return this.initializedEme_};e.ready=function t(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()};e.createSourceBuffers=function t(i){if(this.hasCreatedSourceBuffers()){return}this.addOrChangeSourceBuffers(i);this.createdSourceBuffers_=true;this.trigger("createdsourcebuffers");this.triggerReady()};e.triggerReady=function t(){if(this.ready()&&!this.triggeredReady_){this.triggeredReady_=true;this.trigger("ready")}};e.addSourceBuffer=function t(i,e){bv({type:"mediaSource",sourceUpdater:this,action:gv.addSourceBuffer(i,e),name:"addSourceBuffer"})};e.abort=function t(i){bv({type:i,sourceUpdater:this,action:gv.abort(i),name:"abort"})};e.removeSourceBuffer=function t(i){if(!this.canRemoveSourceBuffer()){Uf.log.error("removeSourceBuffer is not supported!");return}bv({type:"mediaSource",sourceUpdater:this,action:gv.removeSourceBuffer(i),name:"removeSourceBuffer"})};e.canRemoveSourceBuffer=function t(){return!Uf.browser.IE_VERSION&&!Uf.browser.IS_FIREFOX&&c.MediaSource&&c.MediaSource.prototype&&typeof c.MediaSource.prototype.removeSourceBuffer==="function"};i.canChangeType=function t(){return c.SourceBuffer&&c.SourceBuffer.prototype&&typeof c.SourceBuffer.prototype.changeType==="function"};e.canChangeType=function t(){return this.constructor.canChangeType()};e.changeType=function t(i,e){if(!this.canChangeType()){Uf.log.error("changeType is not supported!");return}bv({type:i,sourceUpdater:this,action:gv.changeType(e),name:"changeType"})};e.addOrChangeSourceBuffers=function t(i){var e=this;if(!i||typeof i!=="object"||Object.keys(i).length===0){throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs")}Object.keys(i).forEach((function(t){var r=i[t];if(!e.hasCreatedSourceBuffers()){return e.addSourceBuffer(t,r)}if(e.canChangeType()){e.changeType(t,r)}}))};e.appendBuffer=function t(i,e){var r=this;var n=i.segmentInfo,s=i.type,a=i.bytes;this.processedAppend_=true;if(s==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([i,e]);this.logger_("delayed audio append of "+a.length+" until video append");return}var o=e;bv({type:s,sourceUpdater:this,action:gv.appendBuffer(a,n||{mediaIndex:-1},o),doneFn:e,name:"appendBuffer"});if(s==="video"){this.videoAppendQueued_=true;if(!this.delayedAudioAppendQueue_.length){return}var u=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+u.length+" appendBuffers");this.delayedAudioAppendQueue_.length=0;u.forEach((function(t){r.appendBuffer.apply(r,t)}))}};e.audioBuffered=function t(){if(!mv(this.mediaSource,this.audioBuffer)){return Uf.createTimeRange()}return this.audioBuffer.buffered?this.audioBuffer.buffered:Uf.createTimeRange()};e.videoBuffered=function t(){if(!mv(this.mediaSource,this.videoBuffer)){return Uf.createTimeRange()}return this.videoBuffer.buffered?this.videoBuffer.buffered:Uf.createTimeRange()};e.buffered=function t(){var i=mv(this.mediaSource,this.videoBuffer)?this.videoBuffer:null;var e=mv(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;if(e&&!i){return this.audioBuffered()}if(i&&!e){return this.videoBuffered()}return Wf(this.audioBuffered(),this.videoBuffered())};e.setDuration=function t(i,e){if(e===void 0){e=fv}bv({type:"mediaSource",sourceUpdater:this,action:gv.duration(i),name:"duration",doneFn:e})};e.endOfStream=function t(i,e){if(i===void 0){i=null}if(e===void 0){e=fv}if(typeof i!=="string"){i=undefined}bv({type:"mediaSource",sourceUpdater:this,action:gv.endOfStream(i),name:"endOfStream",doneFn:e})};e.removeAudio=function t(i,e,r){if(r===void 0){r=fv}if(!this.audioBuffered().length||this.audioBuffered().end(0)===0){r();return}bv({type:"audio",sourceUpdater:this,action:gv.remove(i,e),doneFn:r,name:"remove"})};e.removeVideo=function t(i,e,r){if(r===void 0){r=fv}if(!this.videoBuffered().length||this.videoBuffered().end(0)===0){r();return}bv({type:"video",sourceUpdater:this,action:gv.remove(i,e),doneFn:r,name:"remove"})};e.updating=function t(){if(lv("audio",this)||lv("video",this)){return true}return false};e.audioTimestampOffset=function t(i){if(typeof i!=="undefined"&&this.audioBuffer&&this.audioTimestampOffset_!==i){bv({type:"audio",sourceUpdater:this,action:gv.timestampOffset(i),name:"timestampOffset"});this.audioTimestampOffset_=i}return this.audioTimestampOffset_};e.videoTimestampOffset=function t(i){if(typeof i!=="undefined"&&this.videoBuffer&&this.videoTimestampOffset!==i){bv({type:"video",sourceUpdater:this,action:gv.timestampOffset(i),name:"timestampOffset"});this.videoTimestampOffset_=i}return this.videoTimestampOffset_};e.audioQueueCallback=function t(i){if(!this.audioBuffer){return}bv({type:"audio",sourceUpdater:this,action:gv.callback(i),name:"callback"})};e.videoQueueCallback=function t(i){if(!this.videoBuffer){return}bv({type:"video",sourceUpdater:this,action:gv.callback(i),name:"callback"})};e.dispose=function t(){var i=this;this.trigger("dispose");cv.forEach((function(t){i.abort(t);if(i.canRemoveSourceBuffer()){i.removeSourceBuffer(t)}else{i[t+"QueueCallback"]((function(){return pv(t,i)}))}}));this.videoAppendQueued_=false;this.delayedAudioAppendQueue_.length=0;if(this.sourceopenListener_){this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_)}this.off()};return i}(Uf.EventTarget);var wv=function t(i){return decodeURIComponent(escape(String.fromCharCode.apply(null,i)))};var Tv=new Uint8Array("\n\n".split("").map((function(t){return t.charCodeAt(0)})));var kv=function(t){D(i,t);function i(){return t.call(this,"Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")||this}return i}(Or(Error));var Av=function(t){D(i,t);function i(i,e){var r;if(e===void 0){e={}}r=t.call(this,i,e)||this;r.mediaSource_=null;r.subtitlesTrack_=null;r.loaderType_="subtitle";r.featuresNativeTextTracks_=i.featuresNativeTextTracks;r.loadVttJs=i.loadVttJs;r.shouldSaveSegmentTimingInfo_=false;return r}var e=i.prototype;e.createTransmuxer_=function t(){return null};e.buffered_=function t(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length){return Uf.createTimeRanges()}var i=this.subtitlesTrack_.cues;var e=i[0].startTime;var r=i[i.length-1].startTime;return Uf.createTimeRanges([[e,r]])};e.initSegmentForMap=function t(i,e){if(e===void 0){e=false}if(!i){return null}var r=nc(i);var n=this.initSegments_[r];if(e&&!n&&i.bytes){var s=Tv.byteLength+i.bytes.byteLength;var a=new Uint8Array(s);a.set(i.bytes);a.set(Tv,i.bytes.byteLength);this.initSegments_[r]=n={resolvedUri:i.resolvedUri,byterange:i.byterange,bytes:a}}return n||i};e.couldBeginLoading_=function t(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()};e.init_=function t(){this.state="READY";this.resetEverything();return this.monitorBuffer_()};e.track=function t(i){if(typeof i==="undefined"){return this.subtitlesTrack_}this.subtitlesTrack_=i;if(this.state==="INIT"&&this.couldBeginLoading_()){this.init_()}return this.subtitlesTrack_};e.remove=function t(i,e){_l(i,e,this.subtitlesTrack_)};e.fillBuffer_=function t(){var i=this;var e=this.chooseNextRequest_();if(!e){return}if(this.syncController_.timestampOffsetForTimeline(e.timeline)===null){var r=function t(){i.state="READY";if(!i.paused()){i.monitorBuffer_()}};this.syncController_.one("timestampoffset",r);this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(e)};e.timestampOffsetForSegment_=function t(){return null};e.chooseNextRequest_=function i(){return this.skipEmptySegments_(t.prototype.chooseNextRequest_.call(this))};e.skipEmptySegments_=function t(i){while(i&&i.segment.empty){if(i.mediaIndex+1>=i.playlist.segments.length){i=null;break}i=this.generateSegmentInfo_({playlist:i.playlist,mediaIndex:i.mediaIndex+1,startOfSegment:i.startOfSegment+i.duration,isSyncRequest:i.isSyncRequest})}return i};e.stopForError=function t(i){this.error(i);this.state="READY";this.pause();this.trigger("error")};e.segmentRequestFinished_=function t(i,e,r){var n=this;if(!this.subtitlesTrack_){this.state="READY";return}this.saveTransferStats_(e.stats);if(!this.pendingSegment_){this.state="READY";this.mediaRequestsAborted+=1;return}if(i){if(i.code===tl.TIMEOUT){this.handleTimeout_()}if(i.code===tl.ABORTED){this.mediaRequestsAborted+=1}else{this.mediaRequestsErrored+=1}this.stopForError(i);return}var s=this.pendingSegment_;this.saveBandwidthRelatedStats_(s.duration,e.stats);if(e.key){this.segmentKey(e.key,true)}this.state="APPENDING";this.trigger("appending");var a=s.segment;if(a.map){a.map.bytes=e.map.bytes}s.bytes=e.bytes;if(typeof c.WebVTT!=="function"&&typeof this.loadVttJs==="function"){this.state="WAITING_ON_VTTJS";this.loadVttJs().then((function(){return n.segmentRequestFinished_(i,e,r)}),(function(){return n.stopForError({message:"Error loading vtt.js"})}));return}a.requested=true;try{this.parseVTTCues_(s)}catch(t){this.stopForError({message:t.message});return}this.updateTimeMapping_(s,this.syncController_.timelines[s.timeline],this.playlist_);if(s.cues.length){s.timingInfo={start:s.cues[0].startTime,end:s.cues[s.cues.length-1].endTime}}else{s.timingInfo={start:s.startOfSegment,end:s.startOfSegment+s.duration}}if(s.isSyncRequest){this.trigger("syncinfoupdate");this.pendingSegment_=null;this.state="READY";return}s.byteLength=s.bytes.byteLength;this.mediaSecondsLoaded+=a.duration;s.cues.forEach((function(t){n.subtitlesTrack_.addCue(n.featuresNativeTextTracks_?new c.VTTCue(t.startTime,t.endTime,t.text):t)}));Vl(this.subtitlesTrack_);this.handleAppendsDone_()};e.handleData_=function t(){};e.updateTimingInfoEnd_=function t(){};e.parseVTTCues_=function t(i){var e;var r=false;if(typeof c.WebVTT!=="function"){throw new kv}if(typeof c.TextDecoder==="function"){e=new c.TextDecoder("utf8")}else{e=c.WebVTT.StringDecoder();r=true}var n=new c.WebVTT.Parser(c,c.vttjs,e);i.cues=[];i.timestampmap={MPEGTS:0,LOCAL:0};n.oncue=i.cues.push.bind(i.cues);n.ontimestampmap=function(t){i.timestampmap=t};n.onparsingerror=function(t){Uf.log.warn("Error encountered when parsing cues: "+t.message)};if(i.segment.map){var s=i.segment.map.bytes;if(r){s=wv(s)}n.parse(s)}var a=i.bytes;if(r){a=wv(a)}n.parse(a);n.flush()};e.updateTimeMapping_=function t(i,e,r){var n=i.segment;if(!e){return}if(!i.cues.length){n.empty=true;return}var s=i.timestampmap;var a=s.MPEGTS/Ir.ONE_SECOND_IN_TS-s.LOCAL+e.mapping;i.cues.forEach((function(t){t.startTime+=a;t.endTime+=a}));if(!r.syncInfo){var o=i.cues[0].startTime;var u=i.cues[i.cues.length-1].startTime;r.syncInfo={mediaSequence:r.mediaSequence+i.mediaIndex,time:Math.min(o,u-n.duration)}}};return i}(uv);var Ev=function t(i,e){var r=i.cues;for(var n=0;n<r.length;n++){var s=r[n];if(e>=s.adStartTime&&e<=s.adEndTime){return s}}return null};var xv=function t(i,e,r){if(r===void 0){r=0}if(!i.segments){return}var n=r;var s;for(var a=0;a<i.segments.length;a++){var o=i.segments[a];if(!s){s=Ev(e,n+o.duration/2)}if(s){if("cueIn"in o){s.endTime=n;s.adEndTime=n;n+=o.duration;s=null;continue}if(n<s.endTime){n+=o.duration;continue}s.endTime+=o.duration}else{if("cueOut"in o){s=new c.VTTCue(n,n+o.duration,o.cueOut);s.adStartTime=n;s.adEndTime=n+parseFloat(o.cueOut);e.addCue(s)}if("cueOutCont"in o){var u=o.cueOutCont.split("/").map(parseFloat),f=u[0],h=u[1];s=new c.VTTCue(n,n+o.duration,"");s.adStartTime=n-f;s.adEndTime=s.adStartTime+h;e.addCue(s)}}n+=o.duration}};var Sv=86400;var Iv=[{name:"VOD",run:function t(i,e,r,n,s){if(r!==Infinity){var a={time:0,segmentIndex:0,partIndex:null};return a}return null}},{name:"ProgramDateTime",run:function t(i,e,r,n,s){if(!Object.keys(i.timelineToDatetimeMappings).length){return null}var a=null;var o=null;var u=rh(e);s=s||0;for(var f=0;f<u.length;f++){var h=e.endList||s===0?f:u.length-(f+1);var c=u[h];var l=c.segment;var v=i.timelineToDatetimeMappings[l.timeline];if(!v||!l.dateTimeObject){continue}var d=l.dateTimeObject.getTime()/1e3;var p=d+v;if(l.parts&&typeof c.partIndex==="number"){for(var m=0;m<c.partIndex;m++){p+=l.parts[m].duration}}var g=Math.abs(s-p);if(o!==null&&(g===0||o<g)){break}o=g;a={time:p,segmentIndex:c.segmentIndex,partIndex:c.partIndex}}return a}},{name:"Segment",run:function t(i,e,r,n,s){var a=null;var o=null;s=s||0;var u=rh(e);for(var f=0;f<u.length;f++){var h=e.endList||s===0?f:u.length-(f+1);var c=u[h];var l=c.segment;var v=c.part&&c.part.start||l&&l.start;if(l.timeline===n&&typeof v!=="undefined"){var d=Math.abs(s-v);if(o!==null&&o<d){break}if(!a||o===null||o>=d){o=d;a={time:v,segmentIndex:c.segmentIndex,partIndex:c.partIndex}}}}return a}},{name:"Discontinuity",run:function t(i,e,r,n,s){var a=null;s=s||0;if(e.discontinuityStarts&&e.discontinuityStarts.length){var o=null;for(var u=0;u<e.discontinuityStarts.length;u++){var f=e.discontinuityStarts[u];var h=e.discontinuitySequence+u+1;var c=i.discontinuities[h];if(c){var l=Math.abs(s-c.time);if(o!==null&&o<l){break}if(!a||o===null||o>=l){o=l;a={time:c.time,segmentIndex:f,partIndex:null}}}}}return a}},{name:"Playlist",run:function t(i,e,r,n,s){if(e.syncInfo){var a={time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence,partIndex:null};return a}return null}}];var Dv=function(t){D(i,t);function i(i){var e;e=t.call(this)||this;e.timelines=[];e.discontinuities=[];e.timelineToDatetimeMappings={};e.logger_=_f("SyncController");return e}var e=i.prototype;e.getSyncPoint=function t(i,e,r,n){var s=this.runStrategies_(i,e,r,n);if(!s.length){return null}return this.selectSyncPoint_(s,{key:"time",value:n})};e.getExpiredTime=function t(i,e){if(!i||!i.segments){return null}var r=this.runStrategies_(i,e,i.discontinuitySequence,0);if(!r.length){return null}var n=this.selectSyncPoint_(r,{key:"segmentIndex",value:0});if(n.segmentIndex>0){n.time*=-1}return Math.abs(n.time+ch({defaultDuration:i.targetDuration,durationList:i.segments,startIndex:n.segmentIndex,endIndex:0}))};e.runStrategies_=function t(i,e,r,n){var s=[];for(var a=0;a<Iv.length;a++){var o=Iv[a];var u=o.run(this,i,e,r,n);if(u){u.strategy=o.name;s.push({strategy:o.name,syncPoint:u})}}return s};e.selectSyncPoint_=function t(i,e){var r=i[0].syncPoint;var n=Math.abs(i[0].syncPoint[e.key]-e.value);var s=i[0].strategy;for(var a=1;a<i.length;a++){var o=Math.abs(i[a].syncPoint[e.key]-e.value);if(o<n){n=o;r=i[a].syncPoint;s=i[a].strategy}}this.logger_("syncPoint for ["+e.key+": "+e.value+"] chosen with strategy"+(" ["+s+"]: [time:"+r.time+",")+(" segmentIndex:"+r.segmentIndex)+(typeof r.partIndex==="number"?",partIndex:"+r.partIndex:"")+"]");return r};e.saveExpiredSegmentInfo=function t(i,e){var r=e.mediaSequence-i.mediaSequence;if(r>Sv){Uf.log.warn("Not saving expired segment info. Media sequence gap "+r+" is too large.");return}for(var n=r-1;n>=0;n--){var s=i.segments[n];if(s&&typeof s.start!=="undefined"){e.syncInfo={mediaSequence:i.mediaSequence+n,time:s.start};this.logger_("playlist refresh sync: [time:"+e.syncInfo.time+","+(" mediaSequence: "+e.syncInfo.mediaSequence+"]"));this.trigger("syncinfoupdate");break}}};e.setDateTimeMappingForStart=function t(i){this.timelineToDatetimeMappings={};if(i.segments&&i.segments.length&&i.segments[0].dateTimeObject){var e=i.segments[0];var r=e.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[e.timeline]=-r}};e.saveSegmentTimingInfo=function t(i){var e=i.segmentInfo,r=i.shouldSaveTimelineMapping;var n=this.calculateSegmentTimeMapping_(e,e.timingInfo,r);var s=e.segment;if(n){this.saveDiscontinuitySyncInfo_(e);if(!e.playlist.syncInfo){e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:s.start}}}var a=s.dateTimeObject;if(s.discontinuity&&r&&a){this.timelineToDatetimeMappings[s.timeline]=-(a.getTime()/1e3)}};e.timestampOffsetForTimeline=function t(i){if(typeof this.timelines[i]==="undefined"){return null}return this.timelines[i].time};e.mappingForTimeline=function t(i){if(typeof this.timelines[i]==="undefined"){return null}return this.timelines[i].mapping};e.calculateSegmentTimeMapping_=function t(i,e,r){var n=i.segment;var s=i.part;var a=this.timelines[i.timeline];var o;var u;if(typeof i.timestampOffset==="number"){a={time:i.startOfSegment,mapping:i.startOfSegment-e.start};if(r){this.timelines[i.timeline]=a;this.trigger("timestampoffset");this.logger_("time mapping for timeline "+i.timeline+": "+("[time: "+a.time+"] [mapping: "+a.mapping+"]"))}o=i.startOfSegment;u=e.end+a.mapping}else if(a){o=e.start+a.mapping;u=e.end+a.mapping}else{return false}if(s){s.start=o;s.end=u}if(!n.start||o<n.start){n.start=o}n.end=u;return true};e.saveDiscontinuitySyncInfo_=function t(i){var e=i.playlist;var r=i.segment;if(r.discontinuity){this.discontinuities[r.timeline]={time:r.start,accuracy:0}}else if(e.discontinuityStarts&&e.discontinuityStarts.length){for(var n=0;n<e.discontinuityStarts.length;n++){var s=e.discontinuityStarts[n];var a=e.discontinuitySequence+n+1;var o=s-i.mediaIndex;var u=Math.abs(o);if(!this.discontinuities[a]||this.discontinuities[a].accuracy>u){var f=void 0;if(o<0){f=r.start-ch({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:i.mediaIndex,endIndex:s})}else{f=r.end+ch({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:i.mediaIndex+1,endIndex:s})}this.discontinuities[a]={time:f,accuracy:u}}}}};e.dispose=function t(){this.trigger("dispose");this.off()};return i}(Uf.EventTarget);var Nv=function(t){D(i,t);function i(){var i;i=t.call(this)||this;i.pendingTimelineChanges_={};i.lastTimelineChanges_={};return i}var e=i.prototype;e.clearPendingTimelineChange=function t(i){this.pendingTimelineChanges_[i]=null;this.trigger("pendingtimelinechange")};e.pendingTimelineChange=function t(i){var e=i.type,r=i.from,n=i.to;if(typeof r==="number"&&typeof n==="number"){this.pendingTimelineChanges_[e]={type:e,from:r,to:n};this.trigger("pendingtimelinechange")}return this.pendingTimelineChanges_[e]};e.lastTimelineChange=function t(i){var e=i.type,r=i.from,n=i.to;if(typeof r==="number"&&typeof n==="number"){this.lastTimelineChanges_[e]={type:e,from:r,to:n};delete this.pendingTimelineChanges_[e];this.trigger("timelinechange")}return this.lastTimelineChanges_[e]};e.dispose=function t(){this.trigger("dispose");this.pendingTimelineChanges_={};this.lastTimelineChanges_={};this.off()};return i}(Uf.EventTarget);var Ov=Bc(Pc((function(){var t=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};function i(t,i,r){return r={path:i,exports:{},require:function t(i,r){return e()}},t(r,r.exports),r.exports}function e(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var r=i((function(t){function i(t,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}function e(t,e,r){if(e)i(t.prototype,e);if(r)i(t,r);return t}t.exports=e;t.exports["default"]=t.exports,t.exports.__esModule=true}));var n=i((function(t){function i(e,r){t.exports=i=Object.setPrototypeOf||function t(i,e){i.__proto__=e;return i};t.exports["default"]=t.exports,t.exports.__esModule=true;return i(e,r)}t.exports=i;t.exports["default"]=t.exports,t.exports.__esModule=true}));var s=i((function(t){function i(t,i){t.prototype=Object.create(i.prototype);t.prototype.constructor=t;n(t,i)}t.exports=i;t.exports["default"]=t.exports,t.exports.__esModule=true}));var a=function(){function t(){this.listeners={}}var i=t.prototype;i.on=function t(i,e){if(!this.listeners[i]){this.listeners[i]=[]}this.listeners[i].push(e)};i.off=function t(i,e){if(!this.listeners[i]){return false}var r=this.listeners[i].indexOf(e);this.listeners[i]=this.listeners[i].slice(0);this.listeners[i].splice(r,1);return r>-1};i.trigger=function t(i){var e=this.listeners[i];if(!e){return}if(arguments.length===2){var r=e.length;for(var n=0;n<r;++n){e[n].call(this,arguments[1])}}else{var s=Array.prototype.slice.call(arguments,1);var a=e.length;for(var o=0;o<a;++o){e[o].apply(this,s)}}};i.dispose=function t(){this.listeners={}};i.pipe=function t(i){this.on("data",(function(t){i.push(t)}))};return t}();
/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function o(t){return t.subarray(0,t.byteLength-t[t.byteLength-1])}
/*! @name aes-decrypter @version 3.1.3 @license Apache-2.0 */var u=function t(){var i=[[[],[],[],[],[]],[[],[],[],[],[]]];var e=i[0];var r=i[1];var n=e[4];var s=r[4];var a;var o;var u;var f=[];var h=[];var c;var l;var v;var d;var p;var m;for(a=0;a<256;a++){h[(f[a]=a<<1^(a>>7)*283)^a]=a}for(o=u=0;!n[o];o^=c||1,u=h[u]||1){d=u^u<<1^u<<2^u<<3^u<<4;d=d>>8^d&255^99;n[o]=d;s[d]=o;v=f[l=f[c=f[o]]];m=v*16843009^l*65537^c*257^o*16843008;p=f[d]*257^d*16843008;for(a=0;a<4;a++){e[a][o]=p=p<<24^p>>>8;r[a][d]=m=m<<24^m>>>8}}for(a=0;a<5;a++){e[a]=e[a].slice(0);r[a]=r[a].slice(0)}return i};var f=null;var h=function(){function t(t){if(!f){f=u()}this._tables=[[f[0][0].slice(),f[0][1].slice(),f[0][2].slice(),f[0][3].slice(),f[0][4].slice()],[f[1][0].slice(),f[1][1].slice(),f[1][2].slice(),f[1][3].slice(),f[1][4].slice()]];var i;var e;var r;var n=this._tables[0][4];var s=this._tables[1];var a=t.length;var o=1;if(a!==4&&a!==6&&a!==8){throw new Error("Invalid aes key size")}var h=t.slice(0);var c=[];this._key=[h,c];for(i=a;i<4*a+28;i++){r=h[i-1];if(i%a===0||a===8&&i%a===4){r=n[r>>>24]<<24^n[r>>16&255]<<16^n[r>>8&255]<<8^n[r&255];if(i%a===0){r=r<<8^r>>>24^o<<24;o=o<<1^(o>>7)*283}}h[i]=h[i-a]^r}for(e=0;i;e++,i--){r=h[e&3?i:i-4];if(i<=4||e<4){c[e]=r}else{c[e]=s[0][n[r>>>24]]^s[1][n[r>>16&255]]^s[2][n[r>>8&255]]^s[3][n[r&255]]}}}var i=t.prototype;i.decrypt=function t(i,e,r,n,s,a){var o=this._key[1];var u=i^o[0];var f=n^o[1];var h=r^o[2];var c=e^o[3];var l;var v;var d;var p=o.length/4-2;var m;var g=4;var b=this._tables[1];var y=b[0];var j=b[1];var w=b[2];var T=b[3];var k=b[4];for(m=0;m<p;m++){l=y[u>>>24]^j[f>>16&255]^w[h>>8&255]^T[c&255]^o[g];v=y[f>>>24]^j[h>>16&255]^w[c>>8&255]^T[u&255]^o[g+1];d=y[h>>>24]^j[c>>16&255]^w[u>>8&255]^T[f&255]^o[g+2];c=y[c>>>24]^j[u>>16&255]^w[f>>8&255]^T[h&255]^o[g+3];g+=4;u=l;f=v;h=d}for(m=0;m<4;m++){s[(3&-m)+a]=k[u>>>24]<<24^k[f>>16&255]<<16^k[h>>8&255]<<8^k[c&255]^o[g++];l=u;u=f;f=h;h=c;c=l}};return t}();var c=function(t){s(i,t);function i(){var i;i=t.call(this,a)||this;i.jobs=[];i.delay=1;i.timeout_=null;return i}var e=i.prototype;e.processJob_=function t(){this.jobs.shift()();if(this.jobs.length){this.timeout_=setTimeout(this.processJob_.bind(this),this.delay)}else{this.timeout_=null}};e.push=function t(i){this.jobs.push(i);if(!this.timeout_){this.timeout_=setTimeout(this.processJob_.bind(this),this.delay)}};return i}(a);var l=function t(i){return i<<24|(i&65280)<<8|(i&16711680)>>8|i>>>24};var v=function t(i,e,r){var n=new Int32Array(i.buffer,i.byteOffset,i.byteLength>>2);var s=new h(Array.prototype.slice.call(e));var a=new Uint8Array(i.byteLength);var o=new Int32Array(a.buffer);var u;var f;var c;var v;var d;var p;var m;var g;var b;u=r[0];f=r[1];c=r[2];v=r[3];for(b=0;b<n.length;b+=4){d=l(n[b]);p=l(n[b+1]);m=l(n[b+2]);g=l(n[b+3]);s.decrypt(d,p,m,g,o,b);o[b]=l(o[b]^u);o[b+1]=l(o[b+1]^f);o[b+2]=l(o[b+2]^c);o[b+3]=l(o[b+3]^v);u=d;f=p;c=m;v=g}return a};var d=function(){function t(i,e,r,n){var s=t.STEP;var a=new Int32Array(i.buffer);var u=new Uint8Array(i.byteLength);var f=0;this.asyncStream_=new c;this.asyncStream_.push(this.decryptChunk_(a.subarray(f,f+s),e,r,u));for(f=s;f<a.length;f+=s){r=new Uint32Array([l(a[f-4]),l(a[f-3]),l(a[f-2]),l(a[f-1])]);this.asyncStream_.push(this.decryptChunk_(a.subarray(f,f+s),e,r,u))}this.asyncStream_.push((function(){n(null,o(u))}))}var i=t.prototype;i.decryptChunk_=function t(i,e,r,n){return function(){var t=v(i,e,r);n.set(t,i.byteOffset)}};r(t,null,[{key:"STEP",get:function t(){return 32e3}}]);return t}();var p;if(typeof window!=="undefined"){p=window}else if(typeof t!=="undefined"){p=t}else if(typeof self!=="undefined"){p=self}else{p={}}var m=p;var g=function t(i){if(ArrayBuffer.isView==="function"){return ArrayBuffer.isView(i)}return i&&i.buffer instanceof ArrayBuffer};var b=m.BigInt||Number;[b("0x1"),b("0x100"),b("0x10000"),b("0x1000000"),b("0x100000000"),b("0x10000000000"),b("0x1000000000000"),b("0x100000000000000"),b("0x10000000000000000")];var y=function t(i){var e={};Object.keys(i).forEach((function(t){var r=i[t];if(g(r)){e[t]={bytes:r.buffer,byteOffset:r.byteOffset,byteLength:r.byteLength}}else{e[t]=r}}));return e};self.onmessage=function(t){var i=t.data;var e=new Uint8Array(i.encrypted.bytes,i.encrypted.byteOffset,i.encrypted.byteLength);var r=new Uint32Array(i.key.bytes,i.key.byteOffset,i.key.byteLength/4);var n=new Uint32Array(i.iv.bytes,i.iv.byteOffset,i.iv.byteLength/4);new d(e,r,n,(function(t,e){self.postMessage(y({source:i.source,decrypted:e}),[e.buffer])}))}})));var Rv=Uc(Ov);var Lv=function t(i){var e=i["default"]?"main":"alternative";if(i.characteristics&&i.characteristics.indexOf("public.accessibility.describes-video")>=0){e="main-desc"}return e};var Cv=function t(i,e){i.abort();i.pause();if(e&&e.activePlaylistLoader){e.activePlaylistLoader.pause();e.activePlaylistLoader=null}};var Mv=function t(i,e){e.activePlaylistLoader=i;i.load()};var Uv=function t(i,e){return function(){var t=e.segmentLoaders,r=t[i],n=t.main,s=e.mediaTypes[i];var a=s.activeTrack();var o=s.getActiveGroup();var u=s.activePlaylistLoader;var f=s.lastGroup_;if(o&&f&&o.id===f.id){return}s.lastGroup_=o;s.lastTrack_=a;Cv(r,s);if(!o||o.isMasterPlaylist){return}if(!o.playlistLoader){if(u){n.resetEverything()}return}r.resyncLoader();Mv(o.playlistLoader,s)}};var Bv=function t(i,e){return function(){var t=e.segmentLoaders[i],r=e.mediaTypes[i];r.lastGroup_=null;t.abort();t.pause()}};var Pv=function t(i,e){return function(){var t=e.masterPlaylistLoader,r=e.segmentLoaders,n=r[i],s=r.main,a=e.mediaTypes[i];var o=a.activeTrack();var u=a.getActiveGroup();var f=a.activePlaylistLoader;var h=a.lastTrack_;if(h&&o&&h.id===o.id){return}a.lastGroup_=u;a.lastTrack_=o;Cv(n,a);if(!u){return}if(u.isMasterPlaylist){if(!o||!h||o.id===h.id){return}var c=e.vhs.masterPlaylistController_;var l=c.selectPlaylist();if(c.media()===l){return}a.logger_("track change. Switching master audio from "+h.id+" to "+o.id);t.pause();s.resetEverything();c.fastQualityChange_(l);return}if(i==="AUDIO"){if(!u.playlistLoader){s.setAudio(true);s.resetEverything();return}n.setAudio(true);s.setAudio(false)}if(f===u.playlistLoader){Mv(u.playlistLoader,a);return}if(n.track){n.track(o)}n.resetEverything();Mv(u.playlistLoader,a)}};var qv={AUDIO:function t(i,e){return function(){var t=e.segmentLoaders[i],r=e.mediaTypes[i],n=e.blacklistCurrentPlaylist;Cv(t,r);var s=r.activeTrack();var a=r.activeGroup();var o=(a.filter((function(t){return t["default"]}))[0]||a[0]).id;var u=r.tracks[o];if(s===u){n({message:"Problem encountered loading the default audio track."});return}Uf.log.warn("Problem encountered loading the alternate audio track."+"Switching back to default.");for(var f in r.tracks){r.tracks[f].enabled=r.tracks[f]===u}r.onTrackChanged()}},SUBTITLES:function t(i,e){return function(){var t=e.segmentLoaders[i],r=e.mediaTypes[i];Uf.log.warn("Problem encountered loading the subtitle track."+"Disabling subtitle track.");Cv(t,r);var n=r.activeTrack();if(n){n.mode="disabled"}r.onTrackChanged()}}};var Fv={AUDIO:function t(i,e,r){if(!e){return}var n=r.tech,s=r.requestOptions,a=r.segmentLoaders[i];e.on("loadedmetadata",(function(){var t=e.media();a.playlist(t,s);if(!n.paused()||t.endList&&n.preload()!=="none"){a.load()}}));e.on("loadedplaylist",(function(){a.playlist(e.media(),s);if(!n.paused()){a.load()}}));e.on("error",qv[i](i,r))},SUBTITLES:function t(i,e,r){var n=r.tech,s=r.requestOptions,a=r.segmentLoaders[i],o=r.mediaTypes[i];e.on("loadedmetadata",(function(){var t=e.media();a.playlist(t,s);a.track(o.activeTrack());if(!n.paused()||t.endList&&n.preload()!=="none"){a.load()}}));e.on("loadedplaylist",(function(){a.playlist(e.media(),s);if(!n.paused()){a.load()}}));e.on("error",qv[i](i,r))}};var _v={AUDIO:function t(i,e){var r=e.vhs,n=e.sourceType,s=e.segmentLoaders[i],a=e.requestOptions,o=e.master.mediaGroups,u=e.mediaTypes[i],f=u.groups,h=u.tracks,c=u.logger_,l=e.masterPlaylistLoader;var v=Eh(l.master);if(!o[i]||Object.keys(o[i]).length===0){o[i]={main:{default:{default:true}}};if(v){o[i].main["default"].playlists=l.master.playlists}}for(var d in o[i]){if(!f[d]){f[d]=[]}for(var p in o[i][d]){var m=o[i][d][p];var g=void 0;if(v){c("AUDIO group '"+d+"' label '"+p+"' is a master playlist");m.isMasterPlaylist=true;g=null}else if(n==="vhs-json"&&m.playlists){g=new Yh(m.playlists[0],r,a)}else if(m.resolvedUri){g=new Yh(m.resolvedUri,r,a)}else if(m.playlists&&n==="dash"){g=new Oc(m.playlists[0],r,a,l)}else{g=null}m=Uf.mergeOptions({id:p,playlistLoader:g},m);Fv[i](i,m.playlistLoader,e);f[d].push(m);if(typeof h[p]==="undefined"){var b=new Uf.AudioTrack({id:p,kind:Lv(m),enabled:false,language:m.language,default:m["default"],label:p});h[p]=b}}}s.on("error",qv[i](i,e))},SUBTITLES:function t(i,e){var r=e.tech,n=e.vhs,s=e.sourceType,a=e.segmentLoaders[i],o=e.requestOptions,u=e.master.mediaGroups,f=e.mediaTypes[i],h=f.groups,c=f.tracks,l=e.masterPlaylistLoader;for(var v in u[i]){if(!h[v]){h[v]=[]}for(var d in u[i][v]){if(u[i][v][d].forced){continue}var p=u[i][v][d];var m=void 0;if(s==="hls"){m=new Yh(p.resolvedUri,n,o)}else if(s==="dash"){var g=p.playlists.filter((function(t){return t.excludeUntil!==Infinity}));if(!g.length){return}m=new Oc(p.playlists[0],n,o,l)}else if(s==="vhs-json"){m=new Yh(p.playlists?p.playlists[0]:p.resolvedUri,n,o)}p=Uf.mergeOptions({id:d,playlistLoader:m},p);Fv[i](i,p.playlistLoader,e);h[v].push(p);if(typeof c[d]==="undefined"){var b=r.addRemoteTextTrack({id:d,kind:"subtitles",default:p["default"]&&p.autoselect,language:p.language,label:d},false).track;c[d]=b}}}a.on("error",qv[i](i,e))},"CLOSED-CAPTIONS":function t(i,e){var r=e.tech,n=e.master.mediaGroups,s=e.mediaTypes[i],a=s.groups,o=s.tracks;for(var u in n[i]){if(!a[u]){a[u]=[]}for(var f in n[i][u]){var h=n[i][u][f];if(!/^(?:CC|SERVICE)/.test(h.instreamId)){continue}var c=r.options_.vhs&&r.options_.vhs.captionServices||{};var l={label:f,language:h.language,instreamId:h.instreamId,default:h["default"]&&h.autoselect};if(c[l.instreamId]){l=Uf.mergeOptions(l,c[l.instreamId])}if(l["default"]===undefined){delete l["default"]}a[u].push(Uf.mergeOptions({id:f},h));if(typeof o[f]==="undefined"){var v=r.addRemoteTextTrack({id:l.instreamId,kind:"captions",default:l["default"],language:l.language,label:l.label},false).track;o[f]=v}}}}};var Vv=function t(i,e){for(var r=0;r<i.length;r++){if(kh(e,i[r])){return true}if(i[r].playlists&&t(i[r].playlists,e)){return true}}return false};var Hv=function t(i,e){return function(t){var r=e.masterPlaylistLoader,n=e.mediaTypes[i].groups;var s=r.media();if(!s){return null}var a=null;if(s.attributes[i]){a=n[s.attributes[i]]}var o=Object.keys(n);if(!a){if(i==="AUDIO"&&o.length>1&&Eh(e.master)){for(var u=0;u<o.length;u++){var f=n[o[u]];if(Vv(f,s)){a=f;break}}}else if(n.main){a=n.main}else if(o.length===1){a=n[o[0]]}}if(typeof t==="undefined"){return a}if(t===null||!a){return null}return a.filter((function(i){return i.id===t.id}))[0]||null}};var zv={AUDIO:function t(i,e){return function(){var t=e.mediaTypes[i].tracks;for(var r in t){if(t[r].enabled){return t[r]}}return null}},SUBTITLES:function t(i,e){return function(){var t=e.mediaTypes[i].tracks;for(var r in t){if(t[r].mode==="showing"||t[r].mode==="hidden"){return t[r]}}return null}}};var Gv=function t(i,e){var r=e.mediaTypes;return function(){var t=r[i].activeTrack();if(!t){return null}return r[i].activeGroup(t)}};var Xv=function t(i){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(t){_v[t](t,i)}));var e=i.mediaTypes,r=i.masterPlaylistLoader,n=i.tech,s=i.vhs,a=i.segmentLoaders,o=a["AUDIO"],u=a.main;["AUDIO","SUBTITLES"].forEach((function(t){e[t].activeGroup=Hv(t,i);e[t].activeTrack=zv[t](t,i);e[t].onGroupChanged=Uv(t,i);e[t].onGroupChanging=Bv(t,i);e[t].onTrackChanged=Pv(t,i);e[t].getActiveGroup=Gv(t,i)}));var f=e.AUDIO.activeGroup();if(f){var h=(f.filter((function(t){return t["default"]}))[0]||f[0]).id;e.AUDIO.tracks[h].enabled=true;e.AUDIO.onGroupChanged();e.AUDIO.onTrackChanged();var c=e.AUDIO.getActiveGroup();if(!c.playlistLoader){u.setAudio(true)}else{u.setAudio(false);o.setAudio(true)}}r.on("mediachange",(function(){["AUDIO","SUBTITLES"].forEach((function(t){return e[t].onGroupChanged()}))}));r.on("mediachanging",(function(){["AUDIO","SUBTITLES"].forEach((function(t){return e[t].onGroupChanging()}))}));var l=function t(){e.AUDIO.onTrackChanged();n.trigger({type:"usage",name:"vhs-audio-change"});n.trigger({type:"usage",name:"hls-audio-change"})};n.audioTracks().addEventListener("change",l);n.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged);s.on("dispose",(function(){n.audioTracks().removeEventListener("change",l);n.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}));n.clearTracks("audio");for(var v in e.AUDIO.tracks){n.audioTracks().addTrack(e.AUDIO.tracks[v])}};var Yv=function t(){var i={};["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((function(t){i[t]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:fv,activeTrack:fv,getActiveGroup:fv,onGroupChanged:fv,onTrackChanged:fv,lastTrack_:null,logger_:_f("MediaGroups["+t+"]")}}));return i};var Wv=60*2;var Jv;var Qv=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"];var Kv=function t(i){return this.audioSegmentLoader_[i]+this.mainSegmentLoader_[i]};var Zv=function t(i){var e=i.currentPlaylist,r=i.buffered,n=i.currentTime,s=i.nextPlaylist,a=i.bufferLowWaterLine,o=i.bufferHighWaterLine,u=i.duration,f=i.experimentalBufferBasedABR,h=i.log;if(!s){Uf.log.warn("We received no playlist to switch to. Please check your stream.");return false}var c="allowing switch "+(e&&e.id||"null")+" -> "+s.id;if(!e){h(c+" as current playlist is not set");return true}if(s.id===e.id){return false}var l=Boolean(Gf(r,n).length);if(!e.endList){if(!l&&typeof e.partTargetDuration==="number"){h("not "+c+" as current playlist is live llhls, but currentTime isn't in buffered.");return false}h(c+" as current playlist is live");return true}var v=th(r,n);var d=f?Rc.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:Rc.MAX_BUFFER_LOW_WATER_LINE;if(u<d){h(c+" as duration < max low water line ("+u+" < "+d+")");return true}var p=s.attributes.BANDWIDTH;var m=e.attributes.BANDWIDTH;if(p<m&&(!f||v<o)){var g=c+" as next bandwidth < current bandwidth ("+p+" < "+m+")";if(f){g+=" and forwardBuffer < bufferHighWaterLine ("+v+" < "+o+")"}h(g);return true}if((!f||p>m)&&v>=a){var b=c+" as forwardBuffer >= bufferLowWaterLine ("+v+" >= "+a+")";if(f){b+=" and next bandwidth > current bandwidth ("+p+" > "+m+")"}h(b);return true}h("not "+c+" as no switching criteria met");return false};var $v=function(t){D(i,t);function i(i){var e;e=t.call(this)||this;var r=i.src,n=i.handleManifestRedirects,s=i.withCredentials,a=i.tech,o=i.bandwidth,u=i.externVhs,f=i.useCueTags,h=i.blacklistDuration,l=i.enableLowInitialPlaylist,v=i.sourceType,d=i.cacheEncryptionKeys,p=i.experimentalBufferBasedABR,m=i.experimentalLeastPixelDiffSelector,g=i.captionServices;if(!r){throw new Error("A non-empty playlist URL or JSON manifest string is required")}var b=i.maxPlaylistRetries;if(b===null||typeof b==="undefined"){b=Infinity}Jv=u;e.experimentalBufferBasedABR=Boolean(p);e.experimentalLeastPixelDiffSelector=Boolean(m);e.withCredentials=s;e.tech_=a;e.vhs_=a.vhs;e.sourceType_=v;e.useCueTags_=f;e.blacklistDuration=h;e.maxPlaylistRetries=b;e.enableLowInitialPlaylist=l;if(e.useCueTags_){e.cueTagsTrack_=e.tech_.addTextTrack("metadata","ad-cues");e.cueTagsTrack_.inBandMetadataTrackDispatchType=""}e.requestOptions_={withCredentials:s,handleManifestRedirects:n,maxPlaylistRetries:b,timeout:null};e.on("error",e.pauseLoading);e.mediaTypes_=Yv();e.mediaSource=new c.MediaSource;e.handleDurationChange_=e.handleDurationChange_.bind(S(e));e.handleSourceOpen_=e.handleSourceOpen_.bind(S(e));e.handleSourceEnded_=e.handleSourceEnded_.bind(S(e));e.mediaSource.addEventListener("durationchange",e.handleDurationChange_);e.mediaSource.addEventListener("sourceopen",e.handleSourceOpen_);e.mediaSource.addEventListener("sourceended",e.handleSourceEnded_);e.seekable_=Uf.createTimeRanges();e.hasPlayed_=false;e.syncController_=new Dv(i);e.segmentMetadataTrack_=a.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},false).track;e.decrypter_=new Rv;e.sourceUpdater_=new jv(e.mediaSource);e.inbandTextTracks_={};e.timelineChangeController_=new Nv;var y={vhs:e.vhs_,parse708captions:i.parse708captions,useDtsForTimestampOffset:i.useDtsForTimestampOffset,captionServices:g,mediaSource:e.mediaSource,currentTime:e.tech_.currentTime.bind(e.tech_),seekable:function t(){return e.seekable()},seeking:function t(){return e.tech_.seeking()},duration:function t(){return e.duration()},hasPlayed:function t(){return e.hasPlayed_},goalBufferLength:function t(){return e.goalBufferLength()},bandwidth:o,syncController:e.syncController_,decrypter:e.decrypter_,sourceType:e.sourceType_,inbandTextTracks:e.inbandTextTracks_,cacheEncryptionKeys:d,sourceUpdater:e.sourceUpdater_,timelineChangeController:e.timelineChangeController_,experimentalExactManifestTimings:i.experimentalExactManifestTimings};e.masterPlaylistLoader_=e.sourceType_==="dash"?new Oc(r,e.vhs_,e.requestOptions_):new Yh(r,e.vhs_,e.requestOptions_);e.setupMasterPlaylistLoaderListeners_();e.mainSegmentLoader_=new uv(Uf.mergeOptions(y,{segmentMetadataTrack:e.segmentMetadataTrack_,loaderType:"main"}),i);e.audioSegmentLoader_=new uv(Uf.mergeOptions(y,{loaderType:"audio"}),i);e.subtitleSegmentLoader_=new Av(Uf.mergeOptions(y,{loaderType:"vtt",featuresNativeTextTracks:e.tech_.featuresNativeTextTracks,loadVttJs:function t(){return new Promise((function(t,i){function e(){a.off("vttjserror",r);t()}function r(){a.off("vttjsloaded",e);i()}a.one("vttjsloaded",e);a.one("vttjserror",r);a.addWebVttScript_()}))}}),i);e.setupSegmentLoaderListeners_();if(e.experimentalBufferBasedABR){e.masterPlaylistLoader_.one("loadedplaylist",(function(){return e.startABRTimer_()}));e.tech_.on("pause",(function(){return e.stopABRTimer_()}));e.tech_.on("play",(function(){return e.startABRTimer_()}))}Qv.forEach((function(t){e[t+"_"]=Kv.bind(S(e),t)}));e.logger_=_f("MPC");e.triggeredFmp4Usage=false;if(e.tech_.preload()==="none"){e.loadOnPlay_=function(){e.loadOnPlay_=null;e.masterPlaylistLoader_.load()};e.tech_.one("play",e.loadOnPlay_)}else{e.masterPlaylistLoader_.load()}e.timeToLoadedData__=-1;e.mainAppendsToLoadedData__=-1;e.audioAppendsToLoadedData__=-1;var j=e.tech_.preload()==="none"?"play":"loadstart";e.tech_.one(j,(function(){var t=Date.now();e.tech_.one("loadeddata",(function(){e.timeToLoadedData__=Date.now()-t;e.mainAppendsToLoadedData__=e.mainSegmentLoader_.mediaAppends;e.audioAppendsToLoadedData__=e.audioSegmentLoader_.mediaAppends}))}));return e}var e=i.prototype;e.mainAppendsToLoadedData_=function t(){return this.mainAppendsToLoadedData__};e.audioAppendsToLoadedData_=function t(){return this.audioAppendsToLoadedData__};e.appendsToLoadedData_=function t(){var i=this.mainAppendsToLoadedData_();var e=this.audioAppendsToLoadedData_();if(i===-1||e===-1){return-1}return i+e};e.timeToLoadedData_=function t(){return this.timeToLoadedData__};e.checkABR_=function t(i){if(i===void 0){i="abr"}var e=this.selectPlaylist();if(e&&this.shouldSwitchToMedia_(e)){this.switchMedia_(e,i)}};e.switchMedia_=function t(i,e,r){var n=this.media();var s=n&&(n.id||n.uri);var a=i.id||i.uri;if(s&&s!==a){this.logger_("switch media "+s+" -> "+a+" from "+e);this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+e})}this.masterPlaylistLoader_.media(i,r)};e.startABRTimer_=function t(){var i=this;this.stopABRTimer_();this.abrTimer_=c.setInterval((function(){return i.checkABR_()}),250)};e.stopABRTimer_=function t(){if(this.tech_.scrubbing&&this.tech_.scrubbing()){return}c.clearInterval(this.abrTimer_);this.abrTimer_=null};e.getAudioTrackPlaylists_=function t(){var i=this.master();var e=i&&i.playlists||[];if(!i||!i.mediaGroups||!i.mediaGroups.AUDIO){return e}var r=i.mediaGroups.AUDIO;var n=Object.keys(r);var s;if(Object.keys(this.mediaTypes_.AUDIO.groups).length){s=this.mediaTypes_.AUDIO.activeTrack()}else{var a=r.main||n.length&&r[n[0]];for(var o in a){if(a[o]["default"]){s={label:o};break}}}if(!s){return e}var u=[];for(var f in r){if(r[f][s.label]){var h=r[f][s.label];if(h.playlists&&h.playlists.length){u.push.apply(u,h.playlists)}else if(h.uri){u.push(h)}else if(i.playlists.length){for(var c=0;c<i.playlists.length;c++){var l=i.playlists[c];if(l.attributes&&l.attributes.AUDIO&&l.attributes.AUDIO===f){u.push(l)}}}}}if(!u.length){return e}return u};e.setupMasterPlaylistLoaderListeners_=function t(){var i=this;this.masterPlaylistLoader_.on("loadedmetadata",(function(){var t=i.masterPlaylistLoader_.media();var e=t.targetDuration*1.5*1e3;if(Th(i.masterPlaylistLoader_.master,i.masterPlaylistLoader_.media())){i.requestOptions_.timeout=0}else{i.requestOptions_.timeout=e}if(t.endList&&i.tech_.preload()!=="none"){i.mainSegmentLoader_.playlist(t,i.requestOptions_);i.mainSegmentLoader_.load()}Xv({sourceType:i.sourceType_,segmentLoaders:{AUDIO:i.audioSegmentLoader_,SUBTITLES:i.subtitleSegmentLoader_,main:i.mainSegmentLoader_},tech:i.tech_,requestOptions:i.requestOptions_,masterPlaylistLoader:i.masterPlaylistLoader_,vhs:i.vhs_,master:i.master(),mediaTypes:i.mediaTypes_,blacklistCurrentPlaylist:i.blacklistCurrentPlaylist.bind(i)});i.triggerPresenceUsage_(i.master(),t);i.setupFirstPlay();if(!i.mediaTypes_.AUDIO.activePlaylistLoader||i.mediaTypes_.AUDIO.activePlaylistLoader.media()){i.trigger("selectedinitialmedia")}else{i.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",(function(){i.trigger("selectedinitialmedia")}))}}));this.masterPlaylistLoader_.on("loadedplaylist",(function(){if(i.loadOnPlay_){i.tech_.off("play",i.loadOnPlay_)}var t=i.masterPlaylistLoader_.media();if(!t){i.excludeUnsupportedVariants_();var e;if(i.enableLowInitialPlaylist){e=i.selectInitialPlaylist()}if(!e){e=i.selectPlaylist()}if(!e||!i.shouldSwitchToMedia_(e)){return}i.initialMedia_=e;i.switchMedia_(i.initialMedia_,"initial");var r=i.sourceType_==="vhs-json"&&i.initialMedia_.segments;if(!r){return}t=i.initialMedia_}i.handleUpdatedMediaPlaylist(t)}));this.masterPlaylistLoader_.on("error",(function(){i.blacklistCurrentPlaylist(i.masterPlaylistLoader_.error)}));this.masterPlaylistLoader_.on("mediachanging",(function(){i.mainSegmentLoader_.abort();i.mainSegmentLoader_.pause()}));this.masterPlaylistLoader_.on("mediachange",(function(){var t=i.masterPlaylistLoader_.media();var e=t.targetDuration*1.5*1e3;if(Th(i.masterPlaylistLoader_.master,i.masterPlaylistLoader_.media())){i.requestOptions_.timeout=0}else{i.requestOptions_.timeout=e}i.masterPlaylistLoader_.load();i.mainSegmentLoader_.playlist(t,i.requestOptions_);i.mainSegmentLoader_.load();i.tech_.trigger({type:"mediachange",bubbles:true})}));this.masterPlaylistLoader_.on("playlistunchanged",(function(){var t=i.masterPlaylistLoader_.media();if(t.lastExcludeReason_==="playlist-unchanged"){return}var e=i.stuckAtPlaylistEnd_(t);if(e){i.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"});i.tech_.trigger("playliststuck")}}));this.masterPlaylistLoader_.on("renditiondisabled",(function(){i.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"});i.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}));this.masterPlaylistLoader_.on("renditionenabled",(function(){i.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"});i.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})}))};e.handleUpdatedMediaPlaylist=function t(i){if(this.useCueTags_){this.updateAdCues_(i)}this.mainSegmentLoader_.playlist(i,this.requestOptions_);this.updateDuration(!i.endList);if(!this.tech_.paused()){this.mainSegmentLoader_.load();if(this.audioSegmentLoader_){this.audioSegmentLoader_.load()}}};e.triggerPresenceUsage_=function t(i,e){var r=i.mediaGroups||{};var n=true;var s=Object.keys(r.AUDIO);for(var a in r.AUDIO){for(var o in r.AUDIO[a]){var u=r.AUDIO[a][o];if(!u.uri){n=false}}}if(n){this.tech_.trigger({type:"usage",name:"vhs-demuxed"});this.tech_.trigger({type:"usage",name:"hls-demuxed"})}if(Object.keys(r.SUBTITLES).length){this.tech_.trigger({type:"usage",name:"vhs-webvtt"});this.tech_.trigger({type:"usage",name:"hls-webvtt"})}if(Jv.Playlist.isAes(e)){this.tech_.trigger({type:"usage",name:"vhs-aes"});this.tech_.trigger({type:"usage",name:"hls-aes"})}if(s.length&&Object.keys(r.AUDIO[s[0]]).length>1){this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"});this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})}if(this.useCueTags_){this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"});this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}};e.shouldSwitchToMedia_=function t(i){var e=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_;var r=this.tech_.currentTime();var n=this.bufferLowWaterLine();var s=this.bufferHighWaterLine();var a=this.tech_.buffered();return Zv({buffered:a,currentTime:r,currentPlaylist:e,nextPlaylist:i,bufferLowWaterLine:n,bufferHighWaterLine:s,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})};e.setupSegmentLoaderListeners_=function t(){var i=this;this.mainSegmentLoader_.on("bandwidthupdate",(function(){i.checkABR_("bandwidthupdate");i.tech_.trigger("bandwidthupdate")}));this.mainSegmentLoader_.on("timeout",(function(){if(i.experimentalBufferBasedABR){i.mainSegmentLoader_.load()}}));if(!this.experimentalBufferBasedABR){this.mainSegmentLoader_.on("progress",(function(){i.trigger("progress")}))}this.mainSegmentLoader_.on("error",(function(){i.blacklistCurrentPlaylist(i.mainSegmentLoader_.error())}));this.mainSegmentLoader_.on("appenderror",(function(){i.error=i.mainSegmentLoader_.error_;i.trigger("error")}));this.mainSegmentLoader_.on("syncinfoupdate",(function(){i.onSyncInfoUpdate_()}));this.mainSegmentLoader_.on("timestampoffset",(function(){i.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"});i.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}));this.audioSegmentLoader_.on("syncinfoupdate",(function(){i.onSyncInfoUpdate_()}));this.audioSegmentLoader_.on("appenderror",(function(){i.error=i.audioSegmentLoader_.error_;i.trigger("error")}));this.mainSegmentLoader_.on("ended",(function(){i.logger_("main segment loader ended");i.onEndOfStream()}));this.mainSegmentLoader_.on("earlyabort",(function(t){if(i.experimentalBufferBasedABR){return}i.delegateLoaders_("all",["abort"]);i.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the "+"request without rebuffering."},Wv)}));var e=function t(){if(!i.sourceUpdater_.hasCreatedSourceBuffers()){return i.tryToCreateSourceBuffers_()}var e=i.getCodecsOrExclude_();if(!e){return}i.sourceUpdater_.addOrChangeSourceBuffers(e)};this.mainSegmentLoader_.on("trackinfo",e);this.audioSegmentLoader_.on("trackinfo",e);this.mainSegmentLoader_.on("fmp4",(function(){if(!i.triggeredFmp4Usage){i.tech_.trigger({type:"usage",name:"vhs-fmp4"});i.tech_.trigger({type:"usage",name:"hls-fmp4"});i.triggeredFmp4Usage=true}}));this.audioSegmentLoader_.on("fmp4",(function(){if(!i.triggeredFmp4Usage){i.tech_.trigger({type:"usage",name:"vhs-fmp4"});i.tech_.trigger({type:"usage",name:"hls-fmp4"});i.triggeredFmp4Usage=true}}));this.audioSegmentLoader_.on("ended",(function(){i.logger_("audioSegmentLoader ended");i.onEndOfStream()}))};e.mediaSecondsLoaded_=function t(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)};e.load=function t(){this.mainSegmentLoader_.load();if(this.mediaTypes_.AUDIO.activePlaylistLoader){this.audioSegmentLoader_.load()}if(this.mediaTypes_.SUBTITLES.activePlaylistLoader){this.subtitleSegmentLoader_.load()}};e.smoothQualityChange_=function t(i){if(i===void 0){i=this.selectPlaylist()}this.fastQualityChange_(i)};e.fastQualityChange_=function t(i){var e=this;if(i===void 0){i=this.selectPlaylist()}if(i===this.masterPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(i,"fast-quality");this.mainSegmentLoader_.resetEverything((function(){if(Uf.browser.IE_VERSION||Uf.browser.IS_EDGE){e.tech_.setCurrentTime(e.tech_.currentTime()+.04)}else{e.tech_.setCurrentTime(e.tech_.currentTime())}}))};e.play=function t(){if(this.setupFirstPlay()){return}if(this.tech_.ended()){this.tech_.setCurrentTime(0)}if(this.hasPlayed_){this.load()}var i=this.tech_.seekable();if(this.tech_.duration()===Infinity){if(this.tech_.currentTime()<i.start(0)){return this.tech_.setCurrentTime(i.end(i.length-1))}}};e.setupFirstPlay=function t(){var i=this;var e=this.masterPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_){return false}if(!e.endList){var r=this.seekable();if(!r.length){return false}if(Uf.browser.IE_VERSION&&this.tech_.readyState()===0){this.tech_.one("loadedmetadata",(function(){i.trigger("firstplay");i.tech_.setCurrentTime(r.end(0));i.hasPlayed_=true}));return false}this.trigger("firstplay");this.tech_.setCurrentTime(r.end(0))}this.hasPlayed_=true;this.load();return true};e.handleSourceOpen_=function t(){this.tryToCreateSourceBuffers_();if(this.tech_.autoplay()){var i=this.tech_.play();if(typeof i!=="undefined"&&typeof i.then==="function"){i.then(null,(function(t){}))}}this.trigger("sourceopen")};e.handleSourceEnded_=function t(){if(!this.inbandTextTracks_.metadataTrack_){return}var i=this.inbandTextTracks_.metadataTrack_.cues;if(!i||!i.length){return}var e=this.duration();i[i.length-1].endTime=isNaN(e)||Math.abs(e)===Infinity?Number.MAX_VALUE:e};e.handleDurationChange_=function t(){this.tech_.trigger("durationchange")};e.onEndOfStream=function t(){var i=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var e=this.mainSegmentLoader_.getCurrentMediaInfo_();if(!e||e.hasVideo){i=i&&this.audioSegmentLoader_.ended_}else{i=this.audioSegmentLoader_.ended_}}if(!i){return}this.stopABRTimer_();this.sourceUpdater_.endOfStream()};e.stuckAtPlaylistEnd_=function t(i){var e=this.seekable();if(!e.length){return false}var r=this.syncController_.getExpiredTime(i,this.duration());if(r===null){return false}var n=Jv.Playlist.playlistEnd(i,r);var s=this.tech_.currentTime();var a=this.tech_.buffered();if(!a.length){return n-s<=Hf}var o=a.end(a.length-1);return o-s<=Hf&&n-o<=Hf};e.blacklistCurrentPlaylist=function t(i,e){if(i===void 0){i={}}var r=i.playlist||this.masterPlaylistLoader_.media();e=e||i.blacklistDuration||this.blacklistDuration;if(!r){this.error=i;if(this.mediaSource.readyState!=="open"){this.trigger("error")}else{this.sourceUpdater_.endOfStream("network")}return}r.playlistErrors_++;var n=this.masterPlaylistLoader_.master.playlists;var s=n.filter(gh);var a=s.length===1&&s[0]===r;if(n.length===1&&e!==Infinity){Uf.log.warn("Problem encountered with playlist "+r.id+". "+"Trying again since it is the only playlist.");this.tech_.trigger("retryplaylist");return this.masterPlaylistLoader_.load(a)}if(a){var o=false;n.forEach((function(t){if(t===r){return}var i=t.excludeUntil;if(typeof i!=="undefined"&&i!==Infinity){o=true;delete t.excludeUntil}}));if(o){Uf.log.warn("Removing other playlists from the exclusion list because the last "+"rendition is about to be excluded.");this.tech_.trigger("retryplaylist")}}var u;if(r.playlistErrors_>this.maxPlaylistRetries){u=Infinity}else{u=Date.now()+e*1e3}r.excludeUntil=u;if(i.reason){r.lastExcludeReason_=i.reason}this.tech_.trigger("blacklistplaylist");this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"});this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var f=this.selectPlaylist();if(!f){this.error="Playback cannot continue. No available working or supported playlists.";this.trigger("error");return}var h=i.internal?this.logger_:Uf.log.warn;var c=i.message?" "+i.message:"";h((i.internal?"Internal problem":"Problem")+" encountered with playlist "+r.id+"."+(c+" Switching to playlist "+f.id+"."));if(f.attributes.AUDIO!==r.attributes.AUDIO){this.delegateLoaders_("audio",["abort","pause"])}if(f.attributes.SUBTITLES!==r.attributes.SUBTITLES){this.delegateLoaders_("subtitle",["abort","pause"])}this.delegateLoaders_("main",["abort","pause"]);var l=f.targetDuration/2*1e3||5*1e3;var v=typeof f.lastRequest==="number"&&Date.now()-f.lastRequest<=l;return this.switchMedia_(f,"exclude",a||v)};e.pauseLoading=function t(){this.delegateLoaders_("all",["abort","pause"]);this.stopABRTimer_()};e.delegateLoaders_=function t(i,e){var r=this;var n=[];var s=i==="all";if(s||i==="main"){n.push(this.masterPlaylistLoader_)}var a=[];if(s||i==="audio"){a.push("AUDIO")}if(s||i==="subtitle"){a.push("CLOSED-CAPTIONS");a.push("SUBTITLES")}a.forEach((function(t){var i=r.mediaTypes_[t]&&r.mediaTypes_[t].activePlaylistLoader;if(i){n.push(i)}}));["main","audio","subtitle"].forEach((function(t){var e=r[t+"SegmentLoader_"];if(e&&(i===t||i==="all")){n.push(e)}}));n.forEach((function(t){return e.forEach((function(i){if(typeof t[i]==="function"){t[i]()}}))}))};e.setCurrentTime=function t(i){var e=Gf(this.tech_.buffered(),i);if(!(this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media())){return 0}if(!this.masterPlaylistLoader_.media().segments){return 0}if(e&&e.length){return i}this.mainSegmentLoader_.resetEverything();this.mainSegmentLoader_.abort();if(this.mediaTypes_.AUDIO.activePlaylistLoader){this.audioSegmentLoader_.resetEverything();this.audioSegmentLoader_.abort()}if(this.mediaTypes_.SUBTITLES.activePlaylistLoader){this.subtitleSegmentLoader_.resetEverything();this.subtitleSegmentLoader_.abort()}this.load()};e.duration=function t(){if(!this.masterPlaylistLoader_){return 0}var i=this.masterPlaylistLoader_.media();if(!i){return 0}if(!i.endList){return Infinity}if(this.mediaSource){return this.mediaSource.duration}return Jv.Playlist.duration(i)};e.seekable=function t(){return this.seekable_};e.onSyncInfoUpdate_=function t(){var i;if(!this.masterPlaylistLoader_){return}var e=this.masterPlaylistLoader_.media();if(!e){return}var r=this.syncController_.getExpiredTime(e,this.duration());if(r===null){return}var n=this.masterPlaylistLoader_.master;var s=Jv.Playlist.seekable(e,r,Jv.Playlist.liveEdgeDelay(n,e));if(s.length===0){return}if(this.mediaTypes_.AUDIO.activePlaylistLoader){e=this.mediaTypes_.AUDIO.activePlaylistLoader.media();r=this.syncController_.getExpiredTime(e,this.duration());if(r===null){return}i=Jv.Playlist.seekable(e,r,Jv.Playlist.liveEdgeDelay(n,e));if(i.length===0){return}}var a;var o;if(this.seekable_&&this.seekable_.length){a=this.seekable_.end(0);o=this.seekable_.start(0)}if(!i){this.seekable_=s}else if(i.start(0)>s.end(0)||s.start(0)>i.end(0)){this.seekable_=s}else{this.seekable_=Uf.createTimeRanges([[i.start(0)>s.start(0)?i.start(0):s.start(0),i.end(0)<s.end(0)?i.end(0):s.end(0)]])}if(this.seekable_&&this.seekable_.length){if(this.seekable_.end(0)===a&&this.seekable_.start(0)===o){return}}this.logger_("seekable updated ["+Jf(this.seekable_)+"]");this.tech_.trigger("seekablechanged")};e.updateDuration=function t(i){if(this.updateDuration_){this.mediaSource.removeEventListener("sourceopen",this.updateDuration_);this.updateDuration_=null}if(this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,i);this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(i){var e=this.seekable();if(!e.length){return}if(isNaN(this.mediaSource.duration)||this.mediaSource.duration<e.end(e.length-1)){this.sourceUpdater_.setDuration(e.end(e.length-1))}return}var r=this.tech_.buffered();var n=Jv.Playlist.duration(this.masterPlaylistLoader_.media());if(r.length>0){n=Math.max(n,r.end(r.length-1))}if(this.mediaSource.duration!==n){this.sourceUpdater_.setDuration(n)}};e.dispose=function t(){var i=this;this.trigger("dispose");this.decrypter_.terminate();this.masterPlaylistLoader_.dispose();this.mainSegmentLoader_.dispose();if(this.loadOnPlay_){this.tech_.off("play",this.loadOnPlay_)}["AUDIO","SUBTITLES"].forEach((function(t){var e=i.mediaTypes_[t].groups;for(var r in e){e[r].forEach((function(t){if(t.playlistLoader){t.playlistLoader.dispose()}}))}}));this.audioSegmentLoader_.dispose();this.subtitleSegmentLoader_.dispose();this.sourceUpdater_.dispose();this.timelineChangeController_.dispose();this.stopABRTimer_();if(this.updateDuration_){this.mediaSource.removeEventListener("sourceopen",this.updateDuration_)}this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_);this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_);this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_);this.off()};e.master=function t(){return this.masterPlaylistLoader_.master};e.media=function t(){return this.masterPlaylistLoader_.media()||this.initialMedia_};e.areMediaTypesKnown_=function t(){var i=!!this.mediaTypes_.AUDIO.activePlaylistLoader;var e=!!this.mainSegmentLoader_.getCurrentMediaInfo_();var r=!i?true:!!this.audioSegmentLoader_.getCurrentMediaInfo_();if(!e||!r){return false}return true};e.getCodecsOrExclude_=function t(){var i=this;var e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}};var r=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;var n=kl(this.master(),r);var s={};var a=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo){s.video=n.video||e.main.videoCodec||Vt}if(e.main.isMuxed){s.video+=","+(n.audio||e.main.audioCodec||_t)}if(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||a){s.audio=n.audio||e.main.audioCodec||e.audio.audioCodec||_t;e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4}if(!s.audio&&!s.video){this.blacklistCurrentPlaylist({playlist:r,message:"Could not determine codecs for playlist.",blacklistDuration:Infinity});return}var o=function t(i,e){return i?qt(e):Ft(e)};var u={};var f;["video","audio"].forEach((function(t){if(s.hasOwnProperty(t)&&!o(e[t].isFmp4,s[t])){var i=e[t].isFmp4?"browser":"muxer";u[i]=u[i]||[];u[i].push(s[t]);if(t==="audio"){f=i}}}));if(a&&f&&r.attributes.AUDIO){var h=r.attributes.AUDIO;this.master().playlists.forEach((function(t){var i=t.attributes&&t.attributes.AUDIO;if(i===h&&t!==r){t.excludeUntil=Infinity}}));this.logger_("excluding audio group "+h+" as "+f+' does not support codec(s): "'+s.audio+'"')}if(Object.keys(u).length){var c=Object.keys(u).reduce((function(t,i){if(t){t+=", "}t+=i+' does not support codec(s): "'+u[i].join(",")+'"';return t}),"")+".";this.blacklistCurrentPlaylist({playlist:r,internal:true,message:c,blacklistDuration:Infinity});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var l=[];["video","audio"].forEach((function(t){var e=(Ct(i.sourceUpdater_.codecs[t]||"")[0]||{}).type;var r=(Ct(s[t]||"")[0]||{}).type;if(e&&r&&e.toLowerCase()!==r.toLowerCase()){l.push('"'+i.sourceUpdater_.codecs[t]+'" -> "'+s[t]+'"')}}));if(l.length){this.blacklistCurrentPlaylist({playlist:r,message:"Codec switching not supported: "+l.join(", ")+".",blacklistDuration:Infinity,internal:true});return}}return s};e.tryToCreateSourceBuffers_=function t(){if(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers()){return}if(!this.areMediaTypesKnown_()){return}var i=this.getCodecsOrExclude_();if(!i){return}this.sourceUpdater_.createSourceBuffers(i);var e=[i.video,i.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(e)};e.excludeUnsupportedVariants_=function t(){var i=this;var e=this.master().playlists;var r=[];Object.keys(e).forEach((function(t){var n=e[t];if(r.indexOf(n.id)!==-1){return}r.push(n.id);var s=kl(i.master,n);var a=[];if(s.audio&&!Ft(s.audio)&&!qt(s.audio)){a.push("audio codec "+s.audio)}if(s.video&&!Ft(s.video)&&!qt(s.video)){a.push("video codec "+s.video)}if(s.text&&s.text==="stpp.ttml.im1t"){a.push("text codec "+s.text)}if(a.length){n.excludeUntil=Infinity;i.logger_("excluding "+n.id+" for unsupported: "+a.join(", "))}}))};e.excludeIncompatibleVariants_=function t(i){var e=this;var r=[];var n=this.master().playlists;var s=wl(Ct(i));var a=Tl(s);var o=s.video&&Ct(s.video)[0]||null;var u=s.audio&&Ct(s.audio)[0]||null;Object.keys(n).forEach((function(t){var i=n[t];if(r.indexOf(i.id)!==-1||i.excludeUntil===Infinity){return}r.push(i.id);var s=[];var f=kl(e.masterPlaylistLoader_.master,i);var h=Tl(f);if(!f.audio&&!f.video){return}if(h!==a){s.push('codec count "'+h+'" !== "'+a+'"')}if(!e.sourceUpdater_.canChangeType()){var c=f.video&&Ct(f.video)[0]||null;var l=f.audio&&Ct(f.audio)[0]||null;if(c&&o&&c.type.toLowerCase()!==o.type.toLowerCase()){s.push('video codec "'+c.type+'" !== "'+o.type+'"')}if(l&&u&&l.type.toLowerCase()!==u.type.toLowerCase()){s.push('audio codec "'+l.type+'" !== "'+u.type+'"')}}if(s.length){i.excludeUntil=Infinity;e.logger_("blacklisting "+i.id+": "+s.join(" && "))}}))};e.updateAdCues_=function t(i){var e=0;var r=this.seekable();if(r.length){e=r.start(0)}xv(i,this.cueTagsTrack_,e)};e.goalBufferLength=function t(){var i=this.tech_.currentTime();var e=Rc.GOAL_BUFFER_LENGTH;var r=Rc.GOAL_BUFFER_LENGTH_RATE;var n=Math.max(e,Rc.MAX_GOAL_BUFFER_LENGTH);return Math.min(e+i*r,n)};e.bufferLowWaterLine=function t(){var i=this.tech_.currentTime();var e=Rc.BUFFER_LOW_WATER_LINE;var r=Rc.BUFFER_LOW_WATER_LINE_RATE;var n=Math.max(e,Rc.MAX_BUFFER_LOW_WATER_LINE);var s=Math.max(e,Rc.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(e+i*r,this.experimentalBufferBasedABR?s:n)};e.bufferHighWaterLine=function t(){return Rc.BUFFER_HIGH_WATER_LINE};return i}(Uf.EventTarget);var td=function t(i,e,r){return function(t){var n=i.master.playlists[e];var s=mh(n);var a=gh(n);if(typeof t==="undefined"){return a}if(t){delete n.disabled}else{n.disabled=true}if(t!==a&&!s){r();if(t){i.trigger("renditionenabled")}else{i.trigger("renditiondisabled")}}return t}};var id=function t(i,e,r){var n=i.masterPlaylistController_,s=i.options_.smoothQualityChange;var a=s?"smooth":"fast";var o=n[a+"QualityChange_"].bind(n);if(e.attributes){var u=e.attributes.RESOLUTION;this.width=u&&u.width;this.height=u&&u.height;this.bandwidth=e.attributes.BANDWIDTH;this.frameRate=e.attributes["FRAME-RATE"]}this.codecs=kl(n.master(),e);this.playlist=e;this.id=r;this.enabled=td(i.playlists,e.id,o)};var ed=function t(i){i.representations=function(){var t=i.masterPlaylistController_.master();var e=Eh(t)?i.masterPlaylistController_.getAudioTrackPlaylists_():t.playlists;if(!e){return[]}return e.filter((function(t){return!mh(t)})).map((function(t,e){return new id(i,t,t.id)}))}};var rd=["seeking","seeked","pause","playing","error"];var nd=function(){function t(t){var i=this;this.masterPlaylistController_=t.masterPlaylistController;this.tech_=t.tech;this.seekable=t.seekable;this.allowSeeksWithinUnsafeLiveWindow=t.allowSeeksWithinUnsafeLiveWindow;this.liveRangeSafeTimeDelta=t.liveRangeSafeTimeDelta;this.media=t.media;this.consecutiveUpdates=0;this.lastRecordedTime=null;this.timer_=null;this.checkCurrentTimeTimeout_=null;this.logger_=_f("PlaybackWatcher");this.logger_("initialize");var e=function t(){return i.monitorCurrentTime_()};var r=function t(){return i.monitorCurrentTime_()};var n=function t(){return i.techWaiting_()};var s=function t(){return i.cancelTimer_()};var a=this.masterPlaylistController_;var o=["main","subtitle","audio"];var u={};o.forEach((function(t){u[t]={reset:function e(){return i.resetSegmentDownloads_(t)},updateend:function e(){return i.checkSegmentDownloads_(t)}};a[t+"SegmentLoader_"].on("appendsdone",u[t].updateend);a[t+"SegmentLoader_"].on("playlistupdate",u[t].reset);i.tech_.on(["seeked","seeking"],u[t].reset)}));var f=function t(e){["main","audio"].forEach((function(t){a[t+"SegmentLoader_"][e]("appended",i.seekingAppendCheck_)}))};this.seekingAppendCheck_=function(){if(i.fixesBadSeeks_()){i.consecutiveUpdates=0;i.lastRecordedTime=i.tech_.currentTime();f("off")}};this.clearSeekingAppendCheck_=function(){return f("off")};this.watchForBadSeeking_=function(){i.clearSeekingAppendCheck_();f("on")};this.tech_.on("seeked",this.clearSeekingAppendCheck_);this.tech_.on("seeking",this.watchForBadSeeking_);this.tech_.on("waiting",n);this.tech_.on(rd,s);this.tech_.on("canplay",r);this.tech_.one("play",e);this.dispose=function(){i.clearSeekingAppendCheck_();i.logger_("dispose");i.tech_.off("waiting",n);i.tech_.off(rd,s);i.tech_.off("canplay",r);i.tech_.off("play",e);i.tech_.off("seeking",i.watchForBadSeeking_);i.tech_.off("seeked",i.clearSeekingAppendCheck_);o.forEach((function(t){a[t+"SegmentLoader_"].off("appendsdone",u[t].updateend);a[t+"SegmentLoader_"].off("playlistupdate",u[t].reset);i.tech_.off(["seeked","seeking"],u[t].reset)}));if(i.checkCurrentTimeTimeout_){c.clearTimeout(i.checkCurrentTimeTimeout_)}i.cancelTimer_()}}var i=t.prototype;i.monitorCurrentTime_=function t(){this.checkCurrentTime_();if(this.checkCurrentTimeTimeout_){c.clearTimeout(this.checkCurrentTimeTimeout_)}this.checkCurrentTimeTimeout_=c.setTimeout(this.monitorCurrentTime_.bind(this),250)};i.resetSegmentDownloads_=function t(i){var e=this.masterPlaylistController_[i+"SegmentLoader_"];if(this[i+"StalledDownloads_"]>0){this.logger_("resetting possible stalled download count for "+i+" loader")}this[i+"StalledDownloads_"]=0;this[i+"Buffered_"]=e.buffered_()};i.checkSegmentDownloads_=function t(i){var e=this.masterPlaylistController_;var r=e[i+"SegmentLoader_"];var n=r.buffered_();var s=Zf(this[i+"Buffered_"],n);this[i+"Buffered_"]=n;if(s){this.resetSegmentDownloads_(i);return}this[i+"StalledDownloads_"]++;this.logger_("found #"+this[i+"StalledDownloads_"]+" "+i+" appends that did not increase buffer (possible stalled download)",{playlistId:r.playlist_&&r.playlist_.id,buffered:Kf(n)});if(this[i+"StalledDownloads_"]<10){return}this.logger_(i+" loader stalled download exclusion");this.resetSegmentDownloads_(i);this.tech_.trigger({type:"usage",name:"vhs-"+i+"-download-exclusion"});if(i==="subtitle"){return}e.blacklistCurrentPlaylist({message:"Excessive "+i+" segment downloading detected."},Infinity)};i.checkCurrentTime_=function t(){if(this.tech_.paused()||this.tech_.seeking()){return}var i=this.tech_.currentTime();var e=this.tech_.buffered();if(this.lastRecordedTime===i&&(!e.length||i+Hf>=e.end(e.length-1))){return this.techWaiting_()}if(this.consecutiveUpdates>=5&&i===this.lastRecordedTime){this.consecutiveUpdates++;this.waiting_()}else if(i===this.lastRecordedTime){this.consecutiveUpdates++}else{this.consecutiveUpdates=0;this.lastRecordedTime=i}};i.cancelTimer_=function t(){this.consecutiveUpdates=0;if(this.timer_){this.logger_("cancelTimer_");clearTimeout(this.timer_)}this.timer_=null};i.fixesBadSeeks_=function t(){var i=this.tech_.seeking();if(!i){return false}var e=this.seekable();var r=this.tech_.currentTime();var n=this.afterSeekableWindow_(e,r,this.media(),this.allowSeeksWithinUnsafeLiveWindow);var s;if(n){var a=e.end(e.length-1);s=a}if(this.beforeSeekableWindow_(e,r)){var o=e.start(0);s=o+(o===e.end(0)?0:Hf)}if(typeof s!=="undefined"){this.logger_("Trying to seek outside of seekable at time "+r+" with "+("seekable range "+Jf(e)+". Seeking to ")+(s+"."));this.tech_.setCurrentTime(s);return true}var u=this.masterPlaylistController_.sourceUpdater_;var f=this.tech_.buffered();var h=u.audioBuffer?u.audioBuffered():null;var c=u.videoBuffer?u.videoBuffered():null;var l=this.media();var v=l.partTargetDuration?l.partTargetDuration:(l.targetDuration-Vf)*2;var d=[h,c];for(var p=0;p<d.length;p++){if(!d[p]){continue}var m=th(d[p],r);if(m<v){return false}}var g=Xf(f,r);if(g.length===0){return false}s=g.start(0)+Hf;this.logger_("Buffered region starts ("+g.start(0)+") "+(" just beyond seek point ("+r+"). Seeking to "+s+"."));this.tech_.setCurrentTime(s);return true};i.waiting_=function t(){if(this.techWaiting_()){return}var i=this.tech_.currentTime();var e=this.tech_.buffered();var r=Gf(e,i);if(r.length&&i+3<=r.end(0)){this.cancelTimer_();this.tech_.setCurrentTime(i);this.logger_("Stopped at "+i+" while inside a buffered region "+("["+r.start(0)+" -> "+r.end(0)+"]. Attempting to resume ")+"playback by seeking to the current time.");this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"});this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"});return}};i.techWaiting_=function t(){var i=this.seekable();var e=this.tech_.currentTime();if(this.tech_.seeking()||this.timer_!==null){return true}if(this.beforeSeekableWindow_(i,e)){var r=i.end(i.length-1);this.logger_("Fell out of live window at time "+e+". Seeking to "+("live point (seekable end) "+r));this.cancelTimer_();this.tech_.setCurrentTime(r);this.tech_.trigger({type:"usage",name:"vhs-live-resync"});this.tech_.trigger({type:"usage",name:"hls-live-resync"});return true}var n=this.tech_.vhs.masterPlaylistController_.sourceUpdater_;var s=this.tech_.buffered();var a=this.videoUnderflow_({audioBuffered:n.audioBuffered(),videoBuffered:n.videoBuffered(),currentTime:e});if(a){this.cancelTimer_();this.tech_.setCurrentTime(e);this.tech_.trigger({type:"usage",name:"vhs-video-underflow"});this.tech_.trigger({type:"usage",name:"hls-video-underflow"});return true}var o=Xf(s,e);if(o.length>0){var u=o.start(0)-e;this.logger_("Stopped at "+e+", setting timer for "+u+", seeking "+("to "+o.start(0)));this.cancelTimer_();this.timer_=setTimeout(this.skipTheGap_.bind(this),u*1e3,e);return true}return false};i.afterSeekableWindow_=function t(i,e,r,n){if(n===void 0){n=false}if(!i.length){return false}var s=i.end(i.length-1)+Hf;var a=!r.endList;if(a&&n){s=i.end(i.length-1)+r.targetDuration*3}if(e>s){return true}return false};i.beforeSeekableWindow_=function t(i,e){if(i.length&&i.start(0)>0&&e<i.start(0)-this.liveRangeSafeTimeDelta){return true}return false};i.videoUnderflow_=function t(i){var e=i.videoBuffered,r=i.audioBuffered,n=i.currentTime;if(!e){return}var s;if(e.length&&r.length){var a=Gf(e,n-3);var o=Gf(e,n);var u=Gf(r,n);if(u.length&&!o.length&&a.length){s={start:a.end(0),end:u.end(0)}}}else{var f=Xf(e,n);if(!f.length){s=this.gapFromVideoUnderflow_(e,n)}}if(s){this.logger_("Encountered a gap in video from "+s.start+" to "+s.end+". "+("Seeking to current time "+n));return true}return false};i.skipTheGap_=function t(i){var e=this.tech_.buffered();var r=this.tech_.currentTime();var n=Xf(e,r);this.cancelTimer_();if(n.length===0||r!==i){return}this.logger_("skipTheGap_:","currentTime:",r,"scheduled currentTime:",i,"nextRange start:",n.start(0));this.tech_.setCurrentTime(n.start(0)+Vf);this.tech_.trigger({type:"usage",name:"vhs-gap-skip"});this.tech_.trigger({type:"usage",name:"hls-gap-skip"})};i.gapFromVideoUnderflow_=function t(i,e){var r=Yf(i);for(var n=0;n<r.length;n++){var s=r.start(n);var a=r.end(n);if(e-s<4&&e-s>2){return{start:s,end:a}}}return null};return t}();var sd={errorInterval:30,getSource:function t(i){var e=this.tech({IWillNotUseThisInPlugins:true});var r=e.currentSource_||this.currentSource();return i(r)}};var ad=function t(i,e){var r=0;var n=0;var s=Uf.mergeOptions(sd,e);i.ready((function(){i.trigger({type:"usage",name:"vhs-error-reload-initialized"});i.trigger({type:"usage",name:"hls-error-reload-initialized"})}));var a=function t(){if(n){i.currentTime(n)}};var o=function t(e){if(e===null||e===undefined){return}n=i.duration()!==Infinity&&i.currentTime()||0;i.one("loadedmetadata",a);i.src(e);i.trigger({type:"usage",name:"vhs-error-reload"});i.trigger({type:"usage",name:"hls-error-reload"});i.play()};var u=function t(){if(Date.now()-r<s.errorInterval*1e3){i.trigger({type:"usage",name:"vhs-error-reload-canceled"});i.trigger({type:"usage",name:"hls-error-reload-canceled"});return}if(!s.getSource||typeof s.getSource!=="function"){Uf.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}r=Date.now();return s.getSource.call(i,o)};var f=function t(){i.off("loadedmetadata",a);i.off("error",u);i.off("dispose",t)};var h=function e(r){f();t(i,r)};i.on("error",u);i.on("dispose",f);i.reloadSourceOnError=h};var od=function t(i){ad(this,i)};var ud="2.16.3";var fd="6.0.1";var hd="0.22.1";var cd="4.8.0";var ld="3.1.3";var vd={PlaylistLoader:Yh,Playlist:xh,utils:fc,STANDARD_PLAYLIST_SELECTOR:Ol,INITIAL_PLAYLIST_SELECTOR:Cl,lastBandwidthSelector:Ol,movingAverageBandwidthSelector:Rl,comparePlaylistBandwidth:Il,comparePlaylistResolution:Dl,xhr:Kh()};Object.keys(Rc).forEach((function(t){Object.defineProperty(vd,t,{get:function i(){Uf.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing");return Rc[t]},set:function i(e){Uf.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing");if(typeof e!=="number"||e<0){Uf.log.warn("value of Vhs."+t+" must be greater than or equal to 0");return}Rc[t]=e}})}));var dd="videojs-vhs";var pd=function t(i,e){var r=e.media();var n=-1;for(var s=0;s<i.length;s++){if(i[s].id===r.id){n=s;break}}i.selectedIndex_=n;i.trigger({selectedIndex:n,type:"change"})};var md=function t(i,e){e.representations().forEach((function(t){i.addQualityLevel(t)}));pd(i,e.playlists)};vd.canPlaySource=function(){return Uf.log.warn("HLS is no longer a tech. Please remove it from "+"your player's techOrder.")};var gd=function t(i,e,r){if(!i){return i}var n={};if(e&&e.attributes&&e.attributes.CODECS){n=wl(Ct(e.attributes.CODECS))}if(r&&r.attributes&&r.attributes.CODECS){n.audio=r.attributes.CODECS}var s=Pt(n.video);var a=Pt(n.audio);var o={};for(var u in i){o[u]={};if(a){o[u].audioContentType=a}if(s){o[u].videoContentType=s}if(e.contentProtection&&e.contentProtection[u]&&e.contentProtection[u].pssh){o[u].pssh=e.contentProtection[u].pssh}if(typeof i[u]==="string"){o[u].url=i[u]}}return Uf.mergeOptions(i,o)};var bd=function t(i,e){return i.reduce((function(t,i){if(!i.contentProtection){return t}var r=e.reduce((function(t,e){var r=i.contentProtection[e];if(r&&r.pssh){t[e]={pssh:r.pssh}}return t}),{});if(Object.keys(r).length){t.push(r)}return t}),[])};var yd=function t(i){var e=i.player,r=i.sourceKeySystems,n=i.audioMedia,s=i.mainPlaylists;if(!e.eme.initializeMediaKeys){return Promise.resolve()}var a=n?s.concat([n]):s;var o=bd(a,Object.keys(r));var u=[];var f=[];o.forEach((function(t){f.push(new Promise((function(t,i){e.tech_.one("keysessioncreated",t)})));u.push(new Promise((function(i,r){e.eme.initializeMediaKeys({keySystems:t},(function(t){if(t){r(t);return}i()}))})))}));return Promise.race([Promise.all(u),Promise.race(f)])};var jd=function t(i){var e=i.player,r=i.sourceKeySystems,n=i.media,s=i.audioMedia;var a=gd(r,n,s);if(!a){return false}e.currentSource().keySystems=a;if(a&&!e.eme){Uf.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin");return false}return true};var wd=function t(){if(!c.localStorage){return null}var i=c.localStorage.getItem(dd);if(!i){return null}try{return JSON.parse(i)}catch(t){return null}};var Td=function t(i){if(!c.localStorage){return false}var e=wd();e=e?Uf.mergeOptions(e,i):i;try{c.localStorage.setItem(dd,JSON.stringify(e))}catch(t){return false}return e};var kd=function t(i){if(i.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0){return JSON.parse(i.substring(i.indexOf(",")+1))}return i};vd.supportsNativeHls=function(){if(!y||!y.createElement){return false}var t=y.createElement("video");if(!Uf.getTech("Html5").isSupported()){return false}var i=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return i.some((function(i){return/maybe|probably/i.test(t.canPlayType(i))}))}();vd.supportsNativeDash=function(){if(!y||!y.createElement||!Uf.getTech("Html5").isSupported()){return false}return/maybe|probably/i.test(y.createElement("video").canPlayType("application/dash+xml"))}();vd.supportsTypeNatively=function(t){if(t==="hls"){return vd.supportsNativeHls}if(t==="dash"){return vd.supportsNativeDash}return false};vd.isSupported=function(){return Uf.log.warn("HLS is no longer a tech. Please remove it from "+"your player's techOrder.")};var Ad=Uf.getComponent("Component");var Ed=function(t){D(i,t);function i(i,e,r){var n;n=t.call(this,e,Uf.mergeOptions(r.hls,r.vhs))||this;if(r.hls&&Object.keys(r.hls).length){Uf.log.warn("Using hls options is deprecated. Please rename `hls` to `vhs` in your options object.")}if(typeof r.initialBandwidth==="number"){n.options_.bandwidth=r.initialBandwidth}n.logger_=_f("VhsHandler");if(e.options_&&e.options_.playerId){var s=Uf(e.options_.playerId);if(!s.hasOwnProperty("hls")){Object.defineProperty(s,"hls",{get:function t(){Uf.log.warn("player.hls is deprecated. Use player.tech().vhs instead.");e.trigger({type:"usage",name:"hls-player-access"});return S(n)},configurable:true})}if(!s.hasOwnProperty("vhs")){Object.defineProperty(s,"vhs",{get:function t(){Uf.log.warn("player.vhs is deprecated. Use player.tech().vhs instead.");e.trigger({type:"usage",name:"vhs-player-access"});return S(n)},configurable:true})}if(!s.hasOwnProperty("dash")){Object.defineProperty(s,"dash",{get:function t(){Uf.log.warn("player.dash is deprecated. Use player.tech().vhs instead.");return S(n)},configurable:true})}n.player_=s}n.tech_=e;n.source_=i;n.stats={};n.ignoreNextSeekingEvent_=false;n.setOptions_();if(n.options_.overrideNative&&e.overrideNativeAudioTracks&&e.overrideNativeVideoTracks){e.overrideNativeAudioTracks(true);e.overrideNativeVideoTracks(true)}else if(n.options_.overrideNative&&(e.featuresNativeVideoTracks||e.featuresNativeAudioTracks)){throw new Error("Overriding native HLS requires emulated tracks. "+"See https://git.io/vMpjB")}n.on(y,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],(function(t){var i=y.fullscreenElement||y.webkitFullscreenElement||y.mozFullScreenElement||y.msFullscreenElement;if(i&&i.contains(n.tech_.el())){n.masterPlaylistController_.fastQualityChange_()}else{n.masterPlaylistController_.checkABR_()}}));n.on(n.tech_,"seeking",(function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=false;return}this.setCurrentTime(this.tech_.currentTime())}));n.on(n.tech_,"error",(function(){if(this.tech_.error()&&this.masterPlaylistController_){this.masterPlaylistController_.pauseLoading()}}));n.on(n.tech_,"play",n.play);return n}var e=i.prototype;e.setOptions_=function t(){var i=this;this.options_.withCredentials=this.options_.withCredentials||false;this.options_.handleManifestRedirects=this.options_.handleManifestRedirects===false?false:true;this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions===false?false:true;this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||false;this.options_.smoothQualityChange=this.options_.smoothQualityChange||false;this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage!=="undefined"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||false;this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||false;this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||false;this.options_.customTagParsers=this.options_.customTagParsers||[];this.options_.customTagMappers=this.options_.customTagMappers||[];this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||false;if(typeof this.options_.blacklistDuration!=="number"){this.options_.blacklistDuration=5*60}if(typeof this.options_.bandwidth!=="number"){if(this.options_.useBandwidthFromLocalStorage){var e=wd();if(e&&e.bandwidth){this.options_.bandwidth=e.bandwidth;this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"});this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})}if(e&&e.throughput){this.options_.throughput=e.throughput;this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"});this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"})}}}if(typeof this.options_.bandwidth!=="number"){this.options_.bandwidth=Rc.INITIAL_BANDWIDTH}this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Rc.INITIAL_BANDWIDTH;["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","useDtsForTimestampOffset","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach((function(t){if(typeof i.source_[t]!=="undefined"){i.options_[t]=i.source_[t]}}));this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions;this.useDevicePixelRatio=this.options_.useDevicePixelRatio};e.src=function t(i,e){var r=this;if(!i){return}this.setOptions_();this.options_.src=kd(this.source_.src);this.options_.tech=this.tech_;this.options_.externVhs=vd;this.options_.sourceType=Gt(e);this.options_.seekTo=function(t){r.tech_.setCurrentTime(t)};if(this.options_.smoothQualityChange){Uf.log.warn("smoothQualityChange is deprecated and will be removed in the next major version")}this.masterPlaylistController_=new $v(this.options_);var n=Uf.mergeOptions({liveRangeSafeTimeDelta:Hf},this.options_,{seekable:function t(){return r.seekable()},media:function t(){return r.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new nd(n);this.masterPlaylistController_.on("error",(function(){var t=Uf.players[r.tech_.options_.playerId];var i=r.masterPlaylistController_.error;if(typeof i==="object"&&!i.code){i.code=3}else if(typeof i==="string"){i={message:i,code:3}}t.error(i)}));var s=this.options_.experimentalBufferBasedABR?vd.movingAverageBandwidthSelector(.55):vd.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):s.bind(this);this.masterPlaylistController_.selectInitialPlaylist=vd.INITIAL_PLAYLIST_SELECTOR.bind(this);this.playlists=this.masterPlaylistController_.masterPlaylistLoader_;this.mediaSource=this.masterPlaylistController_.mediaSource;Object.defineProperties(this,{selectPlaylist:{get:function t(){return this.masterPlaylistController_.selectPlaylist},set:function t(i){this.masterPlaylistController_.selectPlaylist=i.bind(this)}},throughput:{get:function t(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function t(i){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=i;this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function t(){var i=this.masterPlaylistController_.mainSegmentLoader_.bandwidth;var e=c.navigator.connection||c.navigator.mozConnection||c.navigator.webkitConnection;var r=1e7;if(this.options_.useNetworkInformationApi&&e){var n=e.downlink*1e3*1e3;if(n>=r&&i>=r){i=Math.max(i,n)}else{i=n}}return i},set:function t(i){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=i;this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function t(){var i=1/(this.bandwidth||1);var e;if(this.throughput>0){e=1/this.throughput}else{e=0}var r=Math.floor(1/(i+e));return r},set:function t(){Uf.log.error('The "systemBandwidth" property is read-only')}}});if(this.options_.bandwidth){this.bandwidth=this.options_.bandwidth}if(this.options_.throughput){this.throughput=this.options_.throughput}Object.defineProperties(this.stats,{bandwidth:{get:function t(){return r.bandwidth||0},enumerable:true},mediaRequests:{get:function t(){return r.masterPlaylistController_.mediaRequests_()||0},enumerable:true},mediaRequestsAborted:{get:function t(){return r.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:true},mediaRequestsTimedout:{get:function t(){return r.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:true},mediaRequestsErrored:{get:function t(){return r.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:true},mediaTransferDuration:{get:function t(){return r.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:true},mediaBytesTransferred:{get:function t(){return r.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:true},mediaSecondsLoaded:{get:function t(){return r.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:true},mediaAppends:{get:function t(){return r.masterPlaylistController_.mediaAppends_()||0},enumerable:true},mainAppendsToLoadedData:{get:function t(){return r.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:true},audioAppendsToLoadedData:{get:function t(){return r.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:true},appendsToLoadedData:{get:function t(){return r.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:true},timeToLoadedData:{get:function t(){return r.masterPlaylistController_.timeToLoadedData_()||0},enumerable:true},buffered:{get:function t(){return Kf(r.tech_.buffered())},enumerable:true},currentTime:{get:function t(){return r.tech_.currentTime()},enumerable:true},currentSource:{get:function t(){return r.tech_.currentSource_},enumerable:true},currentTech:{get:function t(){return r.tech_.name_},enumerable:true},duration:{get:function t(){return r.tech_.duration()},enumerable:true},master:{get:function t(){return r.playlists.master},enumerable:true},playerDimensions:{get:function t(){return r.tech_.currentDimensions()},enumerable:true},seekable:{get:function t(){return Kf(r.tech_.seekable())},enumerable:true},timestamp:{get:function t(){return Date.now()},enumerable:true},videoPlaybackQuality:{get:function t(){return r.tech_.getVideoPlaybackQuality()},enumerable:true}});this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_));this.tech_.on("bandwidthupdate",(function(){if(r.options_.useBandwidthFromLocalStorage){Td({bandwidth:r.bandwidth,throughput:Math.round(r.throughput)})}}));this.masterPlaylistController_.on("selectedinitialmedia",(function(){ed(r)}));this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",(function(){r.setupEme_()}));this.on(this.masterPlaylistController_,"progress",(function(){this.tech_.trigger("progress")}));this.on(this.masterPlaylistController_,"firstplay",(function(){this.ignoreNextSeekingEvent_=true}));this.setupQualityLevels_();if(!this.tech_.el()){return}this.mediaSourceUrl_=c.URL.createObjectURL(this.masterPlaylistController_.mediaSource);this.tech_.src(this.mediaSourceUrl_)};e.createKeySessions_=function t(){var i=this;var e=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation");yd({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.master.playlists}).then((function(){i.logger_("created EME key session");i.masterPlaylistController_.sourceUpdater_.initializedEme()}))["catch"]((function(t){i.logger_("error while creating EME key session",t);i.player_.error({message:"Failed to initialize media keys for EME",code:3})}))};e.handleWaitingForKey_=function t(){this.logger_("waitingforkey fired, attempting to create any new key sessions");this.createKeySessions_()};e.setupEme_=function t(){var i=this;var e=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;var r=jd({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});this.player_.tech_.on("keystatuschange",(function(t){if(t.status!=="output-restricted"){return}var e=i.masterPlaylistController_.master();if(!e||!e.playlists){return}var r=[];e.playlists.forEach((function(t){if(t&&t.attributes&&t.attributes.RESOLUTION&&t.attributes.RESOLUTION.height>=720){if(!t.excludeUntil||t.excludeUntil<Infinity){t.excludeUntil=Infinity;r.push(t)}}}));if(r.length){var n;(n=Uf.log).warn.apply(n,['DRM keystatus changed to "output-restricted." Removing the following HD playlists '+"that will most likely fail to play and clearing the buffer. "+"This may be due to HDCP restrictions on the stream and the capabilities of the current device."].concat(r));i.masterPlaylistController_.fastQualityChange_()}}));this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this);this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_);if(Uf.browser.IE_VERSION===11||!r){this.masterPlaylistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()};e.setupQualityLevels_=function t(){var i=this;var e=Uf.players[this.tech_.options_.playerId];if(!e||!e.qualityLevels||this.qualityLevels_){return}this.qualityLevels_=e.qualityLevels();this.masterPlaylistController_.on("selectedinitialmedia",(function(){md(i.qualityLevels_,i)}));this.playlists.on("mediachange",(function(){pd(i.qualityLevels_,i.playlists)}))};i.version=function t(){return{"@videojs/http-streaming":ud,"mux.js":fd,"mpd-parser":hd,"m3u8-parser":cd,"aes-decrypter":ld}};e.version=function t(){return this.constructor.version()};e.canChangeType=function t(){return jv.canChangeType()};e.play=function t(){this.masterPlaylistController_.play()};e.setCurrentTime=function t(i){this.masterPlaylistController_.setCurrentTime(i)};e.duration=function t(){return this.masterPlaylistController_.duration()};e.seekable=function t(){return this.masterPlaylistController_.seekable()};e.dispose=function i(){if(this.playbackWatcher_){this.playbackWatcher_.dispose()}if(this.masterPlaylistController_){this.masterPlaylistController_.dispose()}if(this.qualityLevels_){this.qualityLevels_.dispose()}if(this.player_){delete this.player_.vhs;delete this.player_.dash;delete this.player_.hls}if(this.tech_&&this.tech_.vhs){delete this.tech_.vhs}if(this.tech_){delete this.tech_.hls}if(this.mediaSourceUrl_&&c.URL.revokeObjectURL){c.URL.revokeObjectURL(this.mediaSourceUrl_);this.mediaSourceUrl_=null}if(this.tech_){this.tech_.off("waitingforkey",this.handleWaitingForKey_)}t.prototype.dispose.call(this)};e.convertToProgramTime=function t(i,e){return gc({playlist:this.masterPlaylistController_.media(),time:i,callback:e})};e.seekToProgramTime=function t(i,e,r,n){if(r===void 0){r=true}if(n===void 0){n=2}return bc({programTime:i,playlist:this.masterPlaylistController_.media(),retryCount:n,pauseAfterSeek:r,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:e})};return i}(Ad);var xd={name:"videojs-http-streaming",VERSION:ud,canHandleSource:function t(i,e){if(e===void 0){e={}}var r=Uf.mergeOptions(Uf.options,e);return xd.canPlayType(i.type,r)},handleSource:function t(i,e,r){if(r===void 0){r={}}var n=Uf.mergeOptions(Uf.options,r);e.vhs=new Ed(i,e,n);if(!Uf.hasOwnProperty("hls")){Object.defineProperty(e,"hls",{get:function t(){Uf.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead.");return e.vhs},configurable:true})}e.vhs.xhr=Kh();e.vhs.src(i.src,i.type);return e.vhs},canPlayType:function t(i,e){var r=Gt(i);if(!r){return""}var n=xd.getOverrideNative(e);var s=vd.supportsTypeNatively(r);var a=!s||n;return a?"maybe":""},getOverrideNative:function t(i){if(i===void 0){i={}}var e=i,r=e.vhs,n=r===void 0?{}:r,s=e.hls,a=s===void 0?{}:s;var o=!(Uf.browser.IS_ANY_SAFARI||Uf.browser.IS_IOS);var u=n.overrideNative,f=u===void 0?o:u;var h=a.overrideNative,c=h===void 0?false:h;return c||f}};var Sd=function t(){return qt("avc1.4d400d,mp4a.40.2")};if(Sd()){Uf.getTech("Html5").registerSourceHandler(xd,0)}Uf.VhsHandler=Ed;Object.defineProperty(Uf,"HlsHandler",{get:function t(){Uf.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead.");return Ed},configurable:true});Uf.VhsSourceHandler=xd;Object.defineProperty(Uf,"HlsSourceHandler",{get:function t(){Uf.log.warn("videojs.HlsSourceHandler is deprecated. "+"Use videojs.VhsSourceHandler instead.");return xd},configurable:true});Uf.Vhs=vd;Object.defineProperty(Uf,"Hls",{get:function t(){Uf.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead.");return vd},configurable:true});if(!Uf.use){Uf.registerComponent("Hls",vd);Uf.registerComponent("Vhs",vd)}Uf.options.vhs=Uf.options.vhs||{};Uf.options.hls=Uf.options.hls||{};if(!Uf.getPlugin||!Uf.getPlugin("reloadSourceOnError")){var Id=Uf.registerPlugin||Uf.plugin;Id("reloadSourceOnError",od)}const Dd='@charset "UTF-8";.vjs-modal-dialog .vjs-modal-dialog-content,.video-js .vjs-modal-dialog,.vjs-button>.vjs-icon-placeholder:before,.video-js .vjs-big-play-button .vjs-icon-placeholder:before{position:absolute;top:0;left:0;width:100%;height:100%}.vjs-button>.vjs-icon-placeholder:before,.video-js .vjs-big-play-button .vjs-icon-placeholder:before{text-align:center}@font-face{font-family:VideoJS;src:url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAABDkAAsAAAAAG6gAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAAPgAAAFZRiV3hY21hcAAAAYQAAADaAAADPv749/pnbHlmAAACYAAAC3AAABHQZg6OcWhlYWQAAA3QAAAAKwAAADYZw251aGhlYQAADfwAAAAdAAAAJA+RCLFobXR4AAAOHAAAABMAAACM744AAGxvY2EAAA4wAAAASAAAAEhF6kqubWF4cAAADngAAAAfAAAAIAE0AIFuYW1lAAAOmAAAASUAAAIK1cf1oHBvc3QAAA/AAAABJAAAAdPExYuNeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGS7wTiBgZWBgaWQ5RkDA8MvCM0cwxDOeI6BgYmBlZkBKwhIc01hcPjI+FGJHcRdyA4RZgQRADK3CxEAAHic7dFZbsMgAEXRS0ycyZnnOeG7y+qC8pU1dHusIOXxuoxaOlwZYWQB0Aea4quIEN4E9LzKbKjzDeM6H/mua6Lmc/p8yhg0lvdYx15ZG8uOLQOGjMp3EzqmzJizYMmKNRu27Nhz4MiJMxeu3Ljz4Ekqm7T8P52G8PP3lnTOVk++Z6iN6QZzNN1F7ptuN7eGOjDUoaGODHVsuvU8MdTO9Hd5aqgzQ50b6sJQl4a6MtS1oW4MdWuoO0PdG+rBUI+GejLUs6FeDPVqqDdDvRvqw1CfhpqM9At0iFLaAAB4nJ1YDXBTVRZ+5/22TUlJ8we0pHlJm7RJf5O8F2j6EymlSPkpxaL8U2xpa3DKj0CBhc2IW4eWKSokIoLsuMqssM64f+jA4HSdWXXXscBq67IOs3FXZ1ZYWVyRFdo899yXtIBQZ90k7717zz3v3HPPOfd854YCCj9cL9dL0RQFOqCbGJnrHb5EayiKIWN8iA/hWBblo6hUWm8TtCDwE80WMJus/irwyxOdxeB0MDb14VNJHnXYoLLSl6FfCUYO9nYPTA8Epg9090LprfbBbZ2hY0UlJUXHQp3/vtWkS6EBv8+rPMq5u9692f/dNxJNiqwC1xPE9TCUgCsSdQWgE3XQD25lkG4CN2xmTcOXWBOyser6RN6KnGbKSbmQ3+d0OI1m2W8QzLLkI2sykrWAgJJEtA8vGGW/2Q+CmT3n8zS9wZwu2DCvtuZKZN3xkrLh36yCZuUomQSqGpY8t/25VfHVhw8z4ebGBtfLb0ya9PCaDc+8dGTvk2dsh6z7WzvowlXKUSWo9MJ15a3KrEP2loOr2Ojhw6iW6hf2BDdEccQvZGpaAy7YovSwq8kr7HGllxpd71rkS6G0Sf11sl9OvMK1+jwPPODxjUwkOim9CU3ix1wNjXDfmJSEn618Bs6lpWwUpU+8PCqLMY650zjq8VhCIP17NEKTx3eaLL+s5Pi6yJWaWjTHLR1jYzPSV9VF/6Ojdb/1kO3Mk3uhHC0x6gc1BjlKQ+nQFxTYdaJkZ7ySVxLBbhR1dsboNXp1tCYKW2LRaEzpYcIx2BKNxaL0ZaUnSqfFoiNhHKR/GkX6PWUSAaJelQaqZL1EpoHNsajSEyPSoJ9IjhIxTdjHLmwZvhRDOiFTY/YeQnvrVZmiTQtGncECXtFTBZLOVwwMRgoXHAkXzMzPn1nAJJ8jYSbMDaqN2waGLzNhih/bZynUBMpIWSg7VYi7DRx2m8ALkIdRCJwI6ArJx2EI8kaDWeTQKeAFk9fjl/1AvwktjQ1P7NjyMGQyfd4vjipX6M/i52D7Cq80kqlcxEcGXRr/FEcgs0u5uGgB4VWuMFfpdn2Re6Hi3PqzmxWKsz6+ae2Pn9hXXw/fqM859UiGC0oKYYILJBqJrsn1Z1E5qOs9rQCiUQRREjm8yJcbHF5cUJufX1vAHlefw0XgUoboS3ETfQlTxBC4SOtuE8VPRJTBSCQSjZCpk7Gqzu+masaZ2y7Zjehho4F3g82BNDkAHpORG4+OCS+f6JTPmtRn/PH1kch6d04sp7AQb25aQ/pqUyXeQ8vrebG8OYQdXOQ+585u0sdW9rqalzRURiJ+9F4MweRFrKUjl1GUYhH1A27WOHw5cTFSFPMo9EeUIGnQTZHIaJ7AHLaOKsOODaNF9jkBjYG2QEsQ2xjMUAx2bBEbeTBWMHwskBjngq56S/yfgkBnWBa4K9sqKtq2t1UI8S9He5XuBRbawAdatrQEAi30Aks2+LM8WeCbalVZkWNylvJ+dqJnzVb+OHlSoKW8nPCP7Rd+CcZ2DdWAGqJ2CBFOphgywFFCFBNtfAbGtNPBCwxvygHeYMZMY9ZboBqwq/pVrsbgN5tkv152ODlbMfiqwGMBgxa4Exz3QhovRIUp6acqZmQzRq0ypDXS2TPLT02YIkQETnOE445oOGxOmXAqUJNNG7XgupMjPq2ua9asrj5yY/yuKteO1Kx0YNJTufrirLe1mZnat7OL6rnUdCWenpW6I8mAnbsY8KWs1PuSovCW9A/Z25PQ24a7cNOqgmTkLmBMgh4THgc4b9k2IVv1/g/F5nGljwPLfOgHAzJzh45V/4+WenTzmMtR5Z7us2Tys909UHqrPY7KbckoxRvRHhmVc3cJGE97uml0R1S0jdULVl7EvZtDFVBF35N9cEdjpgmAiOlFZ+Dtoh93+D3zzHr8RRNZQhnCNMNbcegOvpEwZoL+06cJQ07h+th3fZ/7PVbVC6ngTAV/KoLFuO6+2KFcU651gEb5ugPSIb1D+Xp8V4+k3sEIGnw5mYe4If4k1lFYr6SCzmM2EQ8iWtmwjnBI9kTwe1TlfAmXh7H02by9fW2gsjKwtv0aaURKil4OdV7rDL1MXIFNrhdxohcZXYTnq47WisrKitaObbf5+yvkLi5J6lCNZZ+B6GC38VNBZBDidSS/+mSvh6s+srgC8pyKMvDtt+de3c9fU76ZPfuM8ud4Kv0fyP/LqfepMT/3oZxSqpZaTa1DaQYLY8TFsHYbWYsPoRhRWfL5eSSQbhUGgGC3YLbVMk6PitTFNGpAsNrC6D1VNBKgBHMejaiuRWEWGgsSDBTJjqWIl8kJLlsaLJ2tXDr6xGfT85bM2Q06a46x2HTgvdnV8z5YDy/27J4zt6x2VtkzjoYpkq36kaBr4eQSg7tyiVweWubXZugtadl58ydapfbORfKsDTuZ0OBgx4cfdjCf5tbWNITnL120fdOi1RV1C3uKGzNdwYLcMvZ3BxoPyTOCD1XvXTp7U10gWCVmTV9b3r2z0SkGWovb2hp9I89O8a2smlyaO8muMU+dRmtzp60IzAoFpjLr1n388boLyf0dRvxhsHZ0qbWqDkwqvvpkj4l0fY6EIXRi5sQSrAvsVYwXRy4qJ2EVtD1AN7a0HWth9ymvL1xc3WTUKK/TAHA/bXDVtVWfOMfuGxGZv4Ln/jVr9jc3j1yMv0tndmyt9Vq88Y9gH1wtLX3KWjot5++jWHgAoZZkQ14wGQ20Fli71UmKJAy4xKMSTGbVdybW7FDDAut9XpD5AzWrYO7zQ8qffqF8+Ynd/clrHcdyxGy3a/3+mfNnzC/cBsveTjnTvXf1o6vzOlZw7WtqtdmPK/Errz/6NNtD72zmNOZfbmYdTGHfoofqI79Oc+R2n1lrnL6pOm0Up7kwxhTW12Amm7WYkXR2qYrF2AmgmbAsxZjwy1xpg/m1Je2vrp8v/nz2xpmlBg4E9hrMU341wVpTOh/OfmGvAnra8q6uctr60ZQHV3Q+WMQJykMj8ZsWn2QBOmmHMB+m5pDIpTFonYigiaKAhGEiAHF7EliVnQkjoLVIMPtJpBKHYd3A8GYH9jJzrWwmHx5Qjp7vDAX0suGRym1vtm/9W1/HyR8vczfMs6Sk8DSv855/5dlX9oQq52hT8syyp2rx5Id17IAyAM3wIjQPMOHzytEB64q6D5zT91yNbnx3V/nqnd017S9Y0605k3izoXLpsxde2n38yoOV9s1LcjwzNjbdX6asnBVaBj/6/DwKwPkpcqbDG7BnsXoSqWnUAmottYF6jMSdVyYZh3zVXCjwTiwwHH6sGuRiEHQGzuRX6whZkp123oy1BWE2mEfJ/tvIRtM4ZM5bDXiMsPMaAKOTyc5uL57rqyyc5y5JE5pm1i2S2iUX0CcaQ6lC6Zog7JqSqZmYlosl2K6pwNA84zRnQW6SaALYZQGW5lhCtU/W34N6o+bKfZ8cf3/Cl/+iTX3wBzpOY4mRkeNf3rptycGSshQWgGbYt5jFc2e0+DglIrwl6DVWQ7BuwaJ3Xk1J4VL5urnLl/Wf+gHU/hZoZdKNym6lG+I34FaNeZKcSpJIo2IeCVvpdsDGfKvzJnAwmeD37Ow65ZWwSowpgwX5T69s/rB55dP5BcpgDKFV8p7q2sn/1uc93bVzT/w6UrCqDTWvfCq/oCD/qZXNoUj8BL5Kp6GU017frfNXkAtiiyf/SOCEeLqnd8R/Ql9GlCRfctS6k5chvIBuQ1zCCjoCHL2DHNHIXxMJ3kQeO8lbsUXONeSfA5EjcG6/E+KdhN4bP04vBhdi883+BFBzQbxFbvZzQeY9LNBZc0FNfn5NwfDn6rCTnTw6R8o+gfpf5hCom33cRuiTlss3KHmZjD+BPN+5gXuA2ziS/Q73mLxUkpbKN/eqwz5uK0X9F3h2d1V4nGNgZGBgAOJd776+iue3+crAzc4AAje5Bfcg0xz9YHEOBiYQBQA8FQlFAHicY2BkYGBnAAGOPgaG//85+hkYGVCBMgBGGwNYAAAAeJxjYGBgYB8EmKOPgQEAQ04BfgAAAAAAAA4AaAB+AMwA4AECAUIBbAGYAcICGAJYArQC4AMwA7AD3gQwBJYE3AUkBWYFigYgBmYGtAbqB1gIEghYCG4IhAi2COh4nGNgZGBgUGYoZWBnAAEmIOYCQgaG/2A+AwAYCQG2AHicXZBNaoNAGIZfE5PQCKFQ2lUps2oXBfOzzAESyDKBQJdGR2NQR3QSSE/QE/QEPUUPUHqsvsrXjTMw83zPvPMNCuAWP3DQDAejdm1GjzwS7pMmwi75XngAD4/CQ/oX4TFe4Qt7uMMbOzjuDc0EmXCP/C7cJ38Iu+RP4QEe8CU8pP8WHmOPX2EPz87TPo202ey2OjlnQSXV/6arOjWFmvszMWtd6CqwOlKHq6ovycLaWMWVydXKFFZnmVFlZU46tP7R2nI5ncbi/dDkfDtFBA2DDXbYkhKc+V0Bqs5Zt9JM1HQGBRTm/EezTmZNKtpcAMs9Yu6AK9caF76zoLWIWcfMGOSkVduvSWechqZsz040Ib2PY3urxBJTzriT95lipz+TN1fmAAAAeJxtkMl2wjAMRfOAhABlKm2h80C3+ajgCKKDY6cegP59TYBzukAL+z1Zsq8ctaJTTKPrsUQLbXQQI0EXKXroY4AbDDHCGBNMcYsZ7nCPB8yxwCOe8IwXvOIN7/jAJ76wxHfUqWX+OzgumWAjJMV17i0Ndlr6irLKO+qftdT7i6y4uFSUvCknay+lFYZIZaQcmfH/xIFdYn98bqhra1aKTM/6lWMnyaYirx1rFUQZFBkb2zJUtoXeJCeg0WnLtHeSFc3OtrnozNwqi0TkSpBMDB1nSde5oJXW23hTS2/T0LilglXX7dmFVxLnq5U0vYATHFk3zX3BOisoQHNDFDeZnqKDy9hRNawN7Vh727hFzcJ5c8TILrKZfH7tIPxAFP0BpLeJPA==) format("woff");font-weight:normal;font-style:normal}.vjs-icon-play,.video-js .vjs-play-control .vjs-icon-placeholder,.video-js .vjs-big-play-button .vjs-icon-placeholder:before{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-play:before,.video-js .vjs-play-control .vjs-icon-placeholder:before,.video-js .vjs-big-play-button .vjs-icon-placeholder:before{content:"\\f101"}.vjs-icon-play-circle{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-play-circle:before{content:"\\f102"}.vjs-icon-pause,.video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-pause:before,.video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder:before{content:"\\f103"}.vjs-icon-volume-mute,.video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-volume-mute:before,.video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder:before{content:"\\f104"}.vjs-icon-volume-low,.video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-volume-low:before,.video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder:before{content:"\\f105"}.vjs-icon-volume-mid,.video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-volume-mid:before,.video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder:before{content:"\\f106"}.vjs-icon-volume-high,.video-js .vjs-mute-control .vjs-icon-placeholder{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-volume-high:before,.video-js .vjs-mute-control .vjs-icon-placeholder:before{content:"\\f107"}.vjs-icon-fullscreen-enter,.video-js .vjs-fullscreen-control .vjs-icon-placeholder{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-fullscreen-enter:before,.video-js .vjs-fullscreen-control .vjs-icon-placeholder:before{content:"\\f108"}.vjs-icon-fullscreen-exit,.video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-fullscreen-exit:before,.video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder:before{content:"\\f109"}.vjs-icon-square{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-square:before{content:"\\f10a"}.vjs-icon-spinner{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-spinner:before{content:"\\f10b"}.vjs-icon-subtitles,.video-js .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js .vjs-subtitles-button .vjs-icon-placeholder{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-subtitles:before,.video-js .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js .vjs-subtitles-button .vjs-icon-placeholder:before{content:"\\f10c"}.vjs-icon-captions,.video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js .vjs-captions-button .vjs-icon-placeholder{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-captions:before,.video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js .vjs-captions-button .vjs-icon-placeholder:before{content:"\\f10d"}.vjs-icon-chapters,.video-js .vjs-chapters-button .vjs-icon-placeholder{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-chapters:before,.video-js .vjs-chapters-button .vjs-icon-placeholder:before{content:"\\f10e"}.vjs-icon-share{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-share:before{content:"\\f10f"}.vjs-icon-cog{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-cog:before{content:"\\f110"}.vjs-icon-circle,.vjs-seek-to-live-control .vjs-icon-placeholder,.video-js .vjs-volume-level,.video-js .vjs-play-progress{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-circle:before,.vjs-seek-to-live-control .vjs-icon-placeholder:before,.video-js .vjs-volume-level:before,.video-js .vjs-play-progress:before{content:"\\f111"}.vjs-icon-circle-outline{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-circle-outline:before{content:"\\f112"}.vjs-icon-circle-inner-circle{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-circle-inner-circle:before{content:"\\f113"}.vjs-icon-hd{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-hd:before{content:"\\f114"}.vjs-icon-cancel,.video-js .vjs-control.vjs-close-button .vjs-icon-placeholder{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-cancel:before,.video-js .vjs-control.vjs-close-button .vjs-icon-placeholder:before{content:"\\f115"}.vjs-icon-replay,.video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-replay:before,.video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder:before{content:"\\f116"}.vjs-icon-facebook{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-facebook:before{content:"\\f117"}.vjs-icon-gplus{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-gplus:before{content:"\\f118"}.vjs-icon-linkedin{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-linkedin:before{content:"\\f119"}.vjs-icon-twitter{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-twitter:before{content:"\\f11a"}.vjs-icon-tumblr{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-tumblr:before{content:"\\f11b"}.vjs-icon-pinterest{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-pinterest:before{content:"\\f11c"}.vjs-icon-audio-description,.video-js .vjs-descriptions-button .vjs-icon-placeholder{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-audio-description:before,.video-js .vjs-descriptions-button .vjs-icon-placeholder:before{content:"\\f11d"}.vjs-icon-audio,.video-js .vjs-audio-button .vjs-icon-placeholder{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-audio:before,.video-js .vjs-audio-button .vjs-icon-placeholder:before{content:"\\f11e"}.vjs-icon-next-item{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-next-item:before{content:"\\f11f"}.vjs-icon-previous-item{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-previous-item:before{content:"\\f120"}.vjs-icon-picture-in-picture-enter,.video-js .vjs-picture-in-picture-control .vjs-icon-placeholder{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-picture-in-picture-enter:before,.video-js .vjs-picture-in-picture-control .vjs-icon-placeholder:before{content:"\\f121"}.vjs-icon-picture-in-picture-exit,.video-js.vjs-picture-in-picture .vjs-picture-in-picture-control .vjs-icon-placeholder{font-family:VideoJS;font-weight:normal;font-style:normal}.vjs-icon-picture-in-picture-exit:before,.video-js.vjs-picture-in-picture .vjs-picture-in-picture-control .vjs-icon-placeholder:before{content:"\\f122"}.video-js{display:block;vertical-align:top;box-sizing:border-box;color:#fff;background-color:#000;position:relative;padding:0;font-size:10px;line-height:1;font-weight:normal;font-style:normal;font-family:Arial, Helvetica, sans-serif;word-break:initial}.video-js:-moz-full-screen{position:absolute}.video-js:-webkit-full-screen{width:100% !important;height:100% !important}.video-js[tabindex="-1"]{outline:none}.video-js *,.video-js *:before,.video-js *:after{box-sizing:inherit}.video-js ul{font-family:inherit;font-size:inherit;line-height:inherit;list-style-position:outside;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.video-js.vjs-fluid,.video-js.vjs-16-9,.video-js.vjs-4-3,.video-js.vjs-9-16,.video-js.vjs-1-1{width:100%;max-width:100%}.video-js.vjs-fluid:not(.vjs-audio-only-mode),.video-js.vjs-16-9:not(.vjs-audio-only-mode),.video-js.vjs-4-3:not(.vjs-audio-only-mode),.video-js.vjs-9-16:not(.vjs-audio-only-mode),.video-js.vjs-1-1:not(.vjs-audio-only-mode){height:0}.video-js.vjs-16-9:not(.vjs-audio-only-mode){padding-top:56.25%}.video-js.vjs-4-3:not(.vjs-audio-only-mode){padding-top:75%}.video-js.vjs-9-16:not(.vjs-audio-only-mode){padding-top:177.7777777778%}.video-js.vjs-1-1:not(.vjs-audio-only-mode){padding-top:100%}.video-js.vjs-fill:not(.vjs-audio-only-mode){width:100%;height:100%}.video-js .vjs-tech{position:absolute;top:0;left:0;width:100%;height:100%}.video-js.vjs-audio-only-mode .vjs-tech{display:none}body.vjs-full-window{padding:0;margin:0;height:100%}.vjs-full-window .video-js.vjs-fullscreen{position:fixed;overflow:hidden;z-index:1000;left:0;top:0;bottom:0;right:0}.video-js.vjs-fullscreen:not(.vjs-ios-native-fs){width:100% !important;height:100% !important;padding-top:0 !important}.video-js.vjs-fullscreen.vjs-user-inactive{cursor:none}.vjs-hidden{display:none !important}.vjs-disabled{opacity:0.5;cursor:default}.video-js .vjs-offscreen{height:1px;left:-9999px;position:absolute;top:0;width:1px}.vjs-lock-showing{display:block !important;opacity:1 !important;visibility:visible !important}.vjs-no-js{padding:20px;color:#fff;background-color:#000;font-size:18px;font-family:Arial, Helvetica, sans-serif;text-align:center;width:300px;height:150px;margin:0px auto}.vjs-no-js a,.vjs-no-js a:visited{color:#66A8CC}.video-js .vjs-big-play-button{font-size:3em;line-height:1.5em;height:1.63332em;width:3em;display:block;position:absolute;top:10px;left:10px;padding:0;cursor:pointer;opacity:1;border:0.06666em solid #fff;background-color:#2B333F;background-color:rgba(43, 51, 63, 0.7);border-radius:0.3em;transition:all 0.4s}.vjs-big-play-centered .vjs-big-play-button{top:50%;left:50%;margin-top:-0.81666em;margin-left:-1.5em}.video-js:hover .vjs-big-play-button,.video-js .vjs-big-play-button:focus{border-color:#fff;background-color:#73859f;background-color:rgba(115, 133, 159, 0.5);transition:all 0s}.vjs-controls-disabled .vjs-big-play-button,.vjs-has-started .vjs-big-play-button,.vjs-using-native-controls .vjs-big-play-button,.vjs-error .vjs-big-play-button{display:none}.vjs-has-started.vjs-paused.vjs-show-big-play-button-on-pause .vjs-big-play-button{display:block}.video-js button{background:none;border:none;color:inherit;display:inline-block;font-size:inherit;line-height:inherit;text-transform:none;text-decoration:none;transition:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.vjs-control .vjs-button{width:100%;height:100%}.video-js .vjs-control.vjs-close-button{cursor:pointer;height:3em;position:absolute;right:0;top:0.5em;z-index:2}.video-js .vjs-modal-dialog{background:rgba(0, 0, 0, 0.8);background:linear-gradient(180deg, rgba(0, 0, 0, 0.8), rgba(255, 255, 255, 0));overflow:auto}.video-js .vjs-modal-dialog>*{box-sizing:border-box}.vjs-modal-dialog .vjs-modal-dialog-content{font-size:1.2em;line-height:1.5;padding:20px 24px;z-index:1}.vjs-menu-button{cursor:pointer}.vjs-menu-button.vjs-disabled{cursor:default}.vjs-workinghover .vjs-menu-button.vjs-disabled:hover .vjs-menu{display:none}.vjs-menu .vjs-menu-content{display:block;padding:0;margin:0;font-family:Arial, Helvetica, sans-serif;overflow:auto}.vjs-menu .vjs-menu-content>*{box-sizing:border-box}.vjs-scrubbing .vjs-control.vjs-menu-button:hover .vjs-menu{display:none}.vjs-menu li{list-style:none;margin:0;padding:0.2em 0;line-height:1.4em;font-size:1.2em;text-align:center;text-transform:lowercase}.vjs-menu li.vjs-menu-item:focus,.vjs-menu li.vjs-menu-item:hover,.js-focus-visible .vjs-menu li.vjs-menu-item:hover{background-color:#73859f;background-color:rgba(115, 133, 159, 0.5)}.vjs-menu li.vjs-selected,.vjs-menu li.vjs-selected:focus,.vjs-menu li.vjs-selected:hover,.js-focus-visible .vjs-menu li.vjs-selected:hover{background-color:#fff;color:#2B333F}.video-js .vjs-menu *:not(.vjs-selected):focus:not(:focus-visible),.js-focus-visible .vjs-menu *:not(.vjs-selected):focus:not(.focus-visible){background:none}.vjs-menu li.vjs-menu-title{text-align:center;text-transform:uppercase;font-size:1em;line-height:2em;padding:0;margin:0 0 0.3em 0;font-weight:bold;cursor:default}.vjs-menu-button-popup .vjs-menu{display:none;position:absolute;bottom:0;width:10em;left:-3em;height:0em;margin-bottom:1.5em;border-top-color:rgba(43, 51, 63, 0.7)}.vjs-menu-button-popup .vjs-menu .vjs-menu-content{background-color:#2B333F;background-color:rgba(43, 51, 63, 0.7);position:absolute;width:100%;bottom:1.5em;max-height:15em}.vjs-layout-tiny .vjs-menu-button-popup .vjs-menu .vjs-menu-content,.vjs-layout-x-small .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:5em}.vjs-layout-small .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:10em}.vjs-layout-medium .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:14em}.vjs-layout-large .vjs-menu-button-popup .vjs-menu .vjs-menu-content,.vjs-layout-x-large .vjs-menu-button-popup .vjs-menu .vjs-menu-content,.vjs-layout-huge .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:25em}.vjs-workinghover .vjs-menu-button-popup.vjs-hover .vjs-menu,.vjs-menu-button-popup .vjs-menu.vjs-lock-showing{display:block}.video-js .vjs-menu-button-inline{transition:all 0.4s;overflow:hidden}.video-js .vjs-menu-button-inline:before{width:2.222222222em}.video-js .vjs-menu-button-inline:hover,.video-js .vjs-menu-button-inline:focus,.video-js .vjs-menu-button-inline.vjs-slider-active,.video-js.vjs-no-flex .vjs-menu-button-inline{width:12em}.vjs-menu-button-inline .vjs-menu{opacity:0;height:100%;width:auto;position:absolute;left:4em;top:0;padding:0;margin:0;transition:all 0.4s}.vjs-menu-button-inline:hover .vjs-menu,.vjs-menu-button-inline:focus .vjs-menu,.vjs-menu-button-inline.vjs-slider-active .vjs-menu{display:block;opacity:1}.vjs-no-flex .vjs-menu-button-inline .vjs-menu{display:block;opacity:1;position:relative;width:auto}.vjs-no-flex .vjs-menu-button-inline:hover .vjs-menu,.vjs-no-flex .vjs-menu-button-inline:focus .vjs-menu,.vjs-no-flex .vjs-menu-button-inline.vjs-slider-active .vjs-menu{width:auto}.vjs-menu-button-inline .vjs-menu-content{width:auto;height:100%;margin:0;overflow:hidden}.video-js .vjs-control-bar{display:none;width:100%;position:absolute;bottom:0;left:0;right:0;height:3em;background-color:#2B333F;background-color:rgba(43, 51, 63, 0.7)}.vjs-has-started .vjs-control-bar,.vjs-audio-only-mode .vjs-control-bar{display:flex;visibility:visible;opacity:1;transition:visibility 0.1s, opacity 0.1s}.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{visibility:visible;opacity:0;pointer-events:none;transition:visibility 1s, opacity 1s}.vjs-controls-disabled .vjs-control-bar,.vjs-using-native-controls .vjs-control-bar,.vjs-error .vjs-control-bar{display:none !important}.vjs-audio.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar,.vjs-audio-only-mode.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{opacity:1;visibility:visible}.vjs-has-started.vjs-no-flex .vjs-control-bar{display:table}.video-js .vjs-control{position:relative;text-align:center;margin:0;padding:0;height:100%;width:4em;flex:none}.video-js .vjs-control.vjs-visible-text{width:auto;padding-left:1em;padding-right:1em}.vjs-button>.vjs-icon-placeholder:before{font-size:1.8em;line-height:1.67}.vjs-button>.vjs-icon-placeholder{display:block}.video-js .vjs-control:focus:before,.video-js .vjs-control:hover:before,.video-js .vjs-control:focus{text-shadow:0em 0em 1em white}.video-js *:not(.vjs-visible-text)>.vjs-control-text{border:0;clip:rect(0 0 0 0);height:1px;overflow:hidden;padding:0;position:absolute;width:1px}.vjs-no-flex .vjs-control{display:table-cell;vertical-align:middle}.video-js .vjs-custom-control-spacer{display:none}.video-js .vjs-progress-control{cursor:pointer;flex:auto;display:flex;align-items:center;min-width:4em;touch-action:none}.video-js .vjs-progress-control.disabled{cursor:default}.vjs-live .vjs-progress-control{display:none}.vjs-liveui .vjs-progress-control{display:flex;align-items:center}.vjs-no-flex .vjs-progress-control{width:auto}.video-js .vjs-progress-holder{flex:auto;transition:all 0.2s;height:0.3em}.video-js .vjs-progress-control .vjs-progress-holder{margin:0 10px}.video-js .vjs-progress-control:hover .vjs-progress-holder{font-size:1.6666666667em}.video-js .vjs-progress-control:hover .vjs-progress-holder.disabled{font-size:1em}.video-js .vjs-progress-holder .vjs-play-progress,.video-js .vjs-progress-holder .vjs-load-progress,.video-js .vjs-progress-holder .vjs-load-progress div{position:absolute;display:block;height:100%;margin:0;padding:0;width:0}.video-js .vjs-play-progress{background-color:#fff}.video-js .vjs-play-progress:before{font-size:0.9em;position:absolute;right:-0.5em;top:-0.3333333333em;z-index:1}.video-js .vjs-load-progress{background:rgba(115, 133, 159, 0.5)}.video-js .vjs-load-progress div{background:rgba(115, 133, 159, 0.75)}.video-js .vjs-time-tooltip{background-color:#fff;background-color:rgba(255, 255, 255, 0.8);border-radius:0.3em;color:#000;float:right;font-family:Arial, Helvetica, sans-serif;font-size:1em;padding:6px 8px 8px 8px;pointer-events:none;position:absolute;top:-3.4em;visibility:hidden;z-index:1}.video-js .vjs-progress-holder:focus .vjs-time-tooltip{display:none}.video-js .vjs-progress-control:hover .vjs-time-tooltip,.video-js .vjs-progress-control:hover .vjs-progress-holder:focus .vjs-time-tooltip{display:block;font-size:0.6em;visibility:visible}.video-js .vjs-progress-control.disabled:hover .vjs-time-tooltip{font-size:1em}.video-js .vjs-progress-control .vjs-mouse-display{display:none;position:absolute;width:1px;height:100%;background-color:#000;z-index:1}.vjs-no-flex .vjs-progress-control .vjs-mouse-display{z-index:0}.video-js .vjs-progress-control:hover .vjs-mouse-display{display:block}.video-js.vjs-user-inactive .vjs-progress-control .vjs-mouse-display{visibility:hidden;opacity:0;transition:visibility 1s, opacity 1s}.video-js.vjs-user-inactive.vjs-no-flex .vjs-progress-control .vjs-mouse-display{display:none}.vjs-mouse-display .vjs-time-tooltip{color:#fff;background-color:#000;background-color:rgba(0, 0, 0, 0.8)}.video-js .vjs-slider{position:relative;cursor:pointer;padding:0;margin:0 0.45em 0 0.45em;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:#73859f;background-color:rgba(115, 133, 159, 0.5)}.video-js .vjs-slider.disabled{cursor:default}.video-js .vjs-slider:focus{text-shadow:0em 0em 1em white;box-shadow:0 0 1em #fff}.video-js .vjs-mute-control{cursor:pointer;flex:none}.video-js .vjs-volume-control{cursor:pointer;margin-right:1em;display:flex}.video-js .vjs-volume-control.vjs-volume-horizontal{width:5em}.video-js .vjs-volume-panel .vjs-volume-control{visibility:visible;opacity:0;width:1px;height:1px;margin-left:-1px}.video-js .vjs-volume-panel{transition:width 1s}.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control,.video-js .vjs-volume-panel:active .vjs-volume-control,.video-js .vjs-volume-panel:focus .vjs-volume-control,.video-js .vjs-volume-panel .vjs-volume-control:active,.video-js .vjs-volume-panel.vjs-hover .vjs-mute-control~.vjs-volume-control,.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active{visibility:visible;opacity:1;position:relative;transition:visibility 0.1s, opacity 0.1s, height 0.1s, width 0.1s, left 0s, top 0s}.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel:active .vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel .vjs-volume-control:active.vjs-volume-horizontal,.video-js .vjs-volume-panel.vjs-hover .vjs-mute-control~.vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-horizontal{width:5em;height:3em;margin-right:0}.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel:active .vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel .vjs-volume-control:active.vjs-volume-vertical,.video-js .vjs-volume-panel.vjs-hover .vjs-mute-control~.vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-vertical{left:-3.5em;transition:left 0s}.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover,.video-js .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active{width:10em;transition:width 0.1s}.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-mute-toggle-only{width:4em}.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical{height:8em;width:3em;left:-3000em;transition:visibility 1s, opacity 1s, height 1s 1s, width 1s 1s, left 1s 1s, top 1s 1s}.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-horizontal{transition:visibility 1s, opacity 1s, height 1s 1s, width 1s, left 1s 1s, top 1s 1s}.video-js.vjs-no-flex .vjs-volume-panel .vjs-volume-control.vjs-volume-horizontal{width:5em;height:3em;visibility:visible;opacity:1;position:relative;transition:none}.video-js.vjs-no-flex .vjs-volume-control.vjs-volume-vertical,.video-js.vjs-no-flex .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical{position:absolute;bottom:3em;left:0.5em}.video-js .vjs-volume-panel{display:flex}.video-js .vjs-volume-bar{margin:1.35em 0.45em}.vjs-volume-bar.vjs-slider-horizontal{width:5em;height:0.3em}.vjs-volume-bar.vjs-slider-vertical{width:0.3em;height:5em;margin:1.35em auto}.video-js .vjs-volume-level{position:absolute;bottom:0;left:0;background-color:#fff}.video-js .vjs-volume-level:before{position:absolute;font-size:0.9em;z-index:1}.vjs-slider-vertical .vjs-volume-level{width:0.3em}.vjs-slider-vertical .vjs-volume-level:before{top:-0.5em;left:-0.3em;z-index:1}.vjs-slider-horizontal .vjs-volume-level{height:0.3em}.vjs-slider-horizontal .vjs-volume-level:before{top:-0.3em;right:-0.5em}.video-js .vjs-volume-panel.vjs-volume-panel-vertical{width:4em}.vjs-volume-bar.vjs-slider-vertical .vjs-volume-level{height:100%}.vjs-volume-bar.vjs-slider-horizontal .vjs-volume-level{width:100%}.video-js .vjs-volume-vertical{width:3em;height:8em;bottom:8em;background-color:#2B333F;background-color:rgba(43, 51, 63, 0.7)}.video-js .vjs-volume-horizontal .vjs-menu{left:-2em}.video-js .vjs-volume-tooltip{background-color:#fff;background-color:rgba(255, 255, 255, 0.8);border-radius:0.3em;color:#000;float:right;font-family:Arial, Helvetica, sans-serif;font-size:1em;padding:6px 8px 8px 8px;pointer-events:none;position:absolute;top:-3.4em;visibility:hidden;z-index:1}.video-js .vjs-volume-control:hover .vjs-volume-tooltip,.video-js .vjs-volume-control:hover .vjs-progress-holder:focus .vjs-volume-tooltip{display:block;font-size:1em;visibility:visible}.video-js .vjs-volume-vertical:hover .vjs-volume-tooltip,.video-js .vjs-volume-vertical:hover .vjs-progress-holder:focus .vjs-volume-tooltip{left:1em;top:-12px}.video-js .vjs-volume-control.disabled:hover .vjs-volume-tooltip{font-size:1em}.video-js .vjs-volume-control .vjs-mouse-display{display:none;position:absolute;width:100%;height:1px;background-color:#000;z-index:1}.video-js .vjs-volume-horizontal .vjs-mouse-display{width:1px;height:100%}.vjs-no-flex .vjs-volume-control .vjs-mouse-display{z-index:0}.video-js .vjs-volume-control:hover .vjs-mouse-display{display:block}.video-js.vjs-user-inactive .vjs-volume-control .vjs-mouse-display{visibility:hidden;opacity:0;transition:visibility 1s, opacity 1s}.video-js.vjs-user-inactive.vjs-no-flex .vjs-volume-control .vjs-mouse-display{display:none}.vjs-mouse-display .vjs-volume-tooltip{color:#fff;background-color:#000;background-color:rgba(0, 0, 0, 0.8)}.vjs-poster{display:inline-block;vertical-align:middle;background-repeat:no-repeat;background-position:50% 50%;background-size:contain;background-color:#000000;cursor:pointer;margin:0;padding:0;position:absolute;top:0;right:0;bottom:0;left:0;height:100%}.vjs-has-started .vjs-poster,.vjs-using-native-controls .vjs-poster{display:none}.vjs-audio.vjs-has-started .vjs-poster,.vjs-has-started.vjs-audio-poster-mode .vjs-poster{display:block}.video-js .vjs-live-control{display:flex;align-items:flex-start;flex:auto;font-size:1em;line-height:3em}.vjs-no-flex .vjs-live-control{display:table-cell;width:auto;text-align:left}.video-js:not(.vjs-live) .vjs-live-control,.video-js.vjs-liveui .vjs-live-control{display:none}.video-js .vjs-seek-to-live-control{align-items:center;cursor:pointer;flex:none;display:inline-flex;height:100%;padding-left:0.5em;padding-right:0.5em;font-size:1em;line-height:3em;width:auto;min-width:4em}.vjs-no-flex .vjs-seek-to-live-control{display:table-cell;width:auto;text-align:left}.video-js.vjs-live:not(.vjs-liveui) .vjs-seek-to-live-control,.video-js:not(.vjs-live) .vjs-seek-to-live-control{display:none}.vjs-seek-to-live-control.vjs-control.vjs-at-live-edge{cursor:auto}.vjs-seek-to-live-control .vjs-icon-placeholder{margin-right:0.5em;color:#888}.vjs-seek-to-live-control.vjs-control.vjs-at-live-edge .vjs-icon-placeholder{color:red}.video-js .vjs-time-control{flex:none;font-size:1em;line-height:3em;min-width:2em;width:auto;padding-left:1em;padding-right:1em}.vjs-live .vjs-time-control{display:none}.video-js .vjs-current-time,.vjs-no-flex .vjs-current-time{display:none}.video-js .vjs-duration,.vjs-no-flex .vjs-duration{display:none}.vjs-time-divider{display:none;line-height:3em}.vjs-live .vjs-time-divider{display:none}.video-js .vjs-play-control{cursor:pointer}.video-js .vjs-play-control .vjs-icon-placeholder{flex:none}.vjs-text-track-display{position:absolute;bottom:3em;left:0;right:0;top:0;pointer-events:none}.video-js.vjs-controls-disabled .vjs-text-track-display,.video-js.vjs-user-inactive.vjs-playing .vjs-text-track-display{bottom:1em}.video-js .vjs-text-track{font-size:1.4em;text-align:center;margin-bottom:0.1em}.vjs-subtitles{color:#fff}.vjs-captions{color:#fc6}.vjs-tt-cue{display:block}video::-webkit-media-text-track-display{transform:translateY(-3em)}.video-js.vjs-controls-disabled video::-webkit-media-text-track-display,.video-js.vjs-user-inactive.vjs-playing video::-webkit-media-text-track-display{transform:translateY(-1.5em)}.video-js .vjs-picture-in-picture-control{cursor:pointer;flex:none}.video-js.vjs-audio-only-mode .vjs-picture-in-picture-control{display:none}.video-js .vjs-fullscreen-control{cursor:pointer;flex:none}.video-js.vjs-audio-only-mode .vjs-fullscreen-control{display:none}.vjs-playback-rate>.vjs-menu-button,.vjs-playback-rate .vjs-playback-rate-value{position:absolute;top:0;left:0;width:100%;height:100%}.vjs-playback-rate .vjs-playback-rate-value{pointer-events:none;font-size:1.5em;line-height:2;text-align:center}.vjs-playback-rate .vjs-menu{width:4em;left:0em}.vjs-error .vjs-error-display .vjs-modal-dialog-content{font-size:1.4em;text-align:center}.vjs-error .vjs-error-display:before{color:#fff;content:"X";font-family:Arial, Helvetica, sans-serif;font-size:4em;left:0;line-height:1;margin-top:-0.5em;position:absolute;text-shadow:0.05em 0.05em 0.1em #000;text-align:center;top:50%;vertical-align:middle;width:100%}.vjs-loading-spinner{display:none;position:absolute;top:50%;left:50%;margin:-25px 0 0 -25px;opacity:0.85;text-align:left;border:6px solid rgba(43, 51, 63, 0.7);box-sizing:border-box;background-clip:padding-box;width:50px;height:50px;border-radius:25px;visibility:hidden}.vjs-seeking .vjs-loading-spinner,.vjs-waiting .vjs-loading-spinner{display:block;-webkit-animation:vjs-spinner-show 0s linear 0.3s forwards;animation:vjs-spinner-show 0s linear 0.3s forwards}.vjs-loading-spinner:before,.vjs-loading-spinner:after{content:"";position:absolute;margin:-6px;box-sizing:inherit;width:inherit;height:inherit;border-radius:inherit;opacity:1;border:inherit;border-color:transparent;border-top-color:white}.vjs-seeking .vjs-loading-spinner:before,.vjs-seeking .vjs-loading-spinner:after,.vjs-waiting .vjs-loading-spinner:before,.vjs-waiting .vjs-loading-spinner:after{-webkit-animation:vjs-spinner-spin 1.1s cubic-bezier(0.6, 0.2, 0, 0.8) infinite, vjs-spinner-fade 1.1s linear infinite;animation:vjs-spinner-spin 1.1s cubic-bezier(0.6, 0.2, 0, 0.8) infinite, vjs-spinner-fade 1.1s linear infinite}.vjs-seeking .vjs-loading-spinner:before,.vjs-waiting .vjs-loading-spinner:before{border-top-color:white}.vjs-seeking .vjs-loading-spinner:after,.vjs-waiting .vjs-loading-spinner:after{border-top-color:white;-webkit-animation-delay:0.44s;animation-delay:0.44s}@keyframes vjs-spinner-show{to{visibility:visible}}@-webkit-keyframes vjs-spinner-show{to{visibility:visible}}@keyframes vjs-spinner-spin{100%{transform:rotate(360deg)}}@-webkit-keyframes vjs-spinner-spin{100%{-webkit-transform:rotate(360deg)}}@keyframes vjs-spinner-fade{0%{border-top-color:#73859f}20%{border-top-color:#73859f}35%{border-top-color:white}60%{border-top-color:#73859f}100%{border-top-color:#73859f}}@-webkit-keyframes vjs-spinner-fade{0%{border-top-color:#73859f}20%{border-top-color:#73859f}35%{border-top-color:white}60%{border-top-color:#73859f}100%{border-top-color:#73859f}}.video-js.vjs-audio-only-mode .vjs-captions-button{display:none}.vjs-chapters-button .vjs-menu ul{width:24em}.video-js.vjs-audio-only-mode .vjs-descriptions-button{display:none}.video-js .vjs-subs-caps-button+.vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder{vertical-align:middle;display:inline-block;margin-bottom:-0.1em}.video-js .vjs-subs-caps-button+.vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder:before{font-family:VideoJS;content:"";font-size:1.5em;line-height:inherit}.video-js.vjs-audio-only-mode .vjs-subs-caps-button{display:none}.video-js .vjs-audio-button+.vjs-menu .vjs-main-desc-menu-item .vjs-menu-item-text .vjs-icon-placeholder{vertical-align:middle;display:inline-block;margin-bottom:-0.1em}.video-js .vjs-audio-button+.vjs-menu .vjs-main-desc-menu-item .vjs-menu-item-text .vjs-icon-placeholder:before{font-family:VideoJS;content:" ";font-size:1.5em;line-height:inherit}.video-js.vjs-layout-small .vjs-current-time,.video-js.vjs-layout-small .vjs-time-divider,.video-js.vjs-layout-small .vjs-duration,.video-js.vjs-layout-small .vjs-remaining-time,.video-js.vjs-layout-small .vjs-playback-rate,.video-js.vjs-layout-small .vjs-volume-control,.video-js.vjs-layout-x-small .vjs-current-time,.video-js.vjs-layout-x-small .vjs-time-divider,.video-js.vjs-layout-x-small .vjs-duration,.video-js.vjs-layout-x-small .vjs-remaining-time,.video-js.vjs-layout-x-small .vjs-playback-rate,.video-js.vjs-layout-x-small .vjs-volume-control,.video-js.vjs-layout-tiny .vjs-current-time,.video-js.vjs-layout-tiny .vjs-time-divider,.video-js.vjs-layout-tiny .vjs-duration,.video-js.vjs-layout-tiny .vjs-remaining-time,.video-js.vjs-layout-tiny .vjs-playback-rate,.video-js.vjs-layout-tiny .vjs-volume-control{display:none}.video-js.vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal:hover,.video-js.vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js.vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js.vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover,.video-js.vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal:hover,.video-js.vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js.vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js.vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover,.video-js.vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal:hover,.video-js.vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js.vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js.vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover{width:auto;width:initial}.video-js.vjs-layout-x-small .vjs-progress-control,.video-js.vjs-layout-tiny .vjs-progress-control{display:none}.video-js.vjs-layout-x-small .vjs-custom-control-spacer{flex:auto;display:block}.video-js.vjs-layout-x-small.vjs-no-flex .vjs-custom-control-spacer{width:auto}.vjs-modal-dialog.vjs-text-track-settings{background-color:#2B333F;background-color:rgba(43, 51, 63, 0.75);color:#fff;height:70%}.vjs-text-track-settings .vjs-modal-dialog-content{display:table}.vjs-text-track-settings .vjs-track-settings-colors,.vjs-text-track-settings .vjs-track-settings-font,.vjs-text-track-settings .vjs-track-settings-controls{display:table-cell}.vjs-text-track-settings .vjs-track-settings-controls{text-align:right;vertical-align:bottom}@supports (display: grid){.vjs-text-track-settings .vjs-modal-dialog-content{display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr;padding:20px 24px 0px 24px}.vjs-track-settings-controls .vjs-default-button{margin-bottom:20px}.vjs-text-track-settings .vjs-track-settings-controls{grid-column:1/-1}.vjs-layout-small .vjs-text-track-settings .vjs-modal-dialog-content,.vjs-layout-x-small .vjs-text-track-settings .vjs-modal-dialog-content,.vjs-layout-tiny .vjs-text-track-settings .vjs-modal-dialog-content{grid-template-columns:1fr}}.vjs-track-setting>select{margin-right:1em;margin-bottom:0.5em}.vjs-text-track-settings fieldset{margin:5px;padding:3px;border:none}.vjs-text-track-settings fieldset span{display:inline-block}.vjs-text-track-settings fieldset span>select{max-width:7.3em}.vjs-text-track-settings legend{color:#fff;margin:0 0 5px 0}.vjs-text-track-settings .vjs-label{position:absolute;clip:rect(1px 1px 1px 1px);clip:rect(1px, 1px, 1px, 1px);display:block;margin:0 0 5px 0;padding:0;border:0;height:1px;width:1px;overflow:hidden}.vjs-track-settings-controls button:focus,.vjs-track-settings-controls button:active{outline-style:solid;outline-width:medium;background-image:linear-gradient(0deg, #fff 88%, #73859f 100%)}.vjs-track-settings-controls button:hover{color:rgba(43, 51, 63, 0.75)}.vjs-track-settings-controls button{background-color:#fff;background-image:linear-gradient(-180deg, #fff 88%, #73859f 100%);color:#2B333F;cursor:pointer;border-radius:2px}.vjs-track-settings-controls .vjs-default-button{margin-right:1em}@media print{.video-js>*:not(.vjs-tech):not(.vjs-poster){visibility:hidden}}.vjs-resize-manager{position:absolute;top:0;left:0;width:100%;height:100%;border:none;z-index:-1000}.js-focus-visible .video-js *:focus:not(.focus-visible){outline:none}.video-js *:focus:not(:focus-visible){outline:none}';const Nd=class{constructor(e){t(this,e);this.change=i(this,"change")}dataSet;autoplay=false;loop=false;url;reTime=false;videoRef;video;change;removeVideo(){this.video.dispose()}playVideo(){this.video.play()}componentDidRender(){if(!this.url&&!this.dataSet?.url)return;this.video=Uf(this.videoRef,{controls:true,sources:[{src:this.url?this.url:this.dataSet?.url}],poster:this.dataSet?.poster,autoplay:this.autoplay,loop:this.loop});this.video.on("ended",(()=>{this.change.emit("ended")}))}render(){return e(r,{key:"b561015b298b176795f726d411b22fb05e5da5b1"},e("video",{key:"9f15433b08023a2b68bc22c6ea4c3c5d1c8ee63d",class:"video-js vjs-big-play-centered",ref:t=>this.videoRef=t}))}};Nd.style=Dd;export{Nd as storm_video};
//# sourceMappingURL=p-7dc8e79f.entry.js.map