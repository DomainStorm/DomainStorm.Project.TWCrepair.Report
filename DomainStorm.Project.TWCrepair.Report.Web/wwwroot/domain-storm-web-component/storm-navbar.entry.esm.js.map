{"version":3,"file":"storm-navbar.entry.esm.js","sources":["src/components/storm-navbar/storm-navbar.css?tag=storm-navbar","src/components/storm-navbar/storm-navbar.tsx"],"sourcesContent":["@import '../../../vendor/material-icons-round/material-icons-round.css';\r\n\r\n.pinned .sidenav-toggler-inner .sidenav-toggler-line:first-child,\r\n.pinned .sidenav-toggler-inner .sidenav-toggler-line:last-child {\r\n  width: 13px;\r\n  transform: translateX(5px);\r\n}\r\n\r\n.navbar .sidenav-toggler-inner {\r\n  width: 18px;\r\n}\r\n\r\n/* .navbar .sidenav-toggler-inner .sidenav-toggler-line:first-child,\r\n.navbar .sidenav-toggler-inner .sidenav-toggler-line:last-child {\r\n  width: 13px;\r\n  transform: translateX(5px);\r\n} */\r\n","import { Component, Event, EventEmitter, h, Listen, Method, Prop } from '@stencil/core';\r\nimport type { NavbarItemInterface } from './interface';\r\n\r\n@Component({\r\n  tag: 'storm-navbar',\r\n  styleUrl: 'storm-navbar.css',\r\n  shadow: false,\r\n})\r\nexport class StormNavbar {\r\n  private navbarRef: HTMLElement;\r\n  private toggleInnerRef: HTMLElement;\r\n  // private checked: boolean = false\r\n  private ticking: boolean = false;\r\n  private scrollY: number;\r\n\r\n  @Prop() position: string[];\r\n  @Prop() searchable: boolean;\r\n  @Prop() dataSet: NavbarItemInterface[];\r\n  @Prop({ mutable: true }) checked: boolean = false;\r\n\r\n  // @Event() toggleClick: EventEmitter<boolean>\r\n  @Event() toggleClick: EventEmitter;\r\n  @Event() navbarClick: EventEmitter<string>;\r\n\r\n  @Method()\r\n  async toggle() {\r\n    this.checked = !this.checked;\r\n    this.toggleInnerRef.classList.toggle('pinned');\r\n\r\n    const sidenavShow = document.getElementsByClassName('g-sidenav-show')[0];\r\n\r\n    if (this.checked) {\r\n      sidenavShow.classList.remove('g-sidenav-pinned');\r\n      sidenavShow.classList.add('g-sidenav-hidden');\r\n    } else {\r\n      sidenavShow.classList.remove('g-sidenav-hidden');\r\n      sidenavShow.classList.add('g-sidenav-pinned');\r\n    }\r\n  }\r\n\r\n  // @Method()\r\n  // async getChecked() {\r\n  //   return this.checked\r\n  // }\r\n\r\n  @Listen('scroll', { target: 'document' })\r\n  listenScroll(e) {\r\n    this.scrollY = e.detail | window.scrollY;\r\n\r\n    if (!this.ticking) {\r\n      requestAnimationFrame(() => {\r\n        if (this.scrollY > 5) {\r\n          if (this.navbarRef.classList.contains('shadow-none')) {\r\n            this.navbarRef.classList.remove('shadow-none');\r\n            this.navbarRef.classList.add('blur', 'shadow-blur', 'left-auto');\r\n          }\r\n        } else {\r\n          this.navbarRef.classList.remove('blur', 'shadow-blur', 'left-auto');\r\n          this.navbarRef.classList.add('shadow-none');\r\n        }\r\n        this.ticking = false;\r\n      });\r\n      this.ticking = true;\r\n    }\r\n\r\n    e.stopPropagation();\r\n  }\r\n\r\n  SetPosition = () => {\r\n    return this.position?.map(elem => {\r\n      return (\r\n        <li class=\"breadcrumb-item text-sm text-dark active\" aria-current=\"page\">\r\n          {elem}\r\n        </li>\r\n      );\r\n    });\r\n  };\r\n\r\n  SetSearch = () => {\r\n    if (!this.searchable) return;\r\n    return <storm-input-group class=\"me-3\" label=\"搜尋\" outline={true}></storm-input-group>;\r\n  };\r\n\r\n  SetIcon = () => {\r\n    return this.dataSet?.map(elem => {\r\n      if (elem.href) {\r\n        return (\r\n          <li class=\"nav-item\">\r\n            <storm-tooltip title={elem.title} placement=\"bottom\">\r\n              <a role=\"button\" href={elem.href} class=\"nav-link text-body font-weight-bold px-2\">\r\n                <i class=\"material-icons me-sm-1\">{elem.icon}</i>\r\n              </a>\r\n            </storm-tooltip>\r\n          </li>\r\n        );\r\n      } else {\r\n        return (\r\n          <li class=\"nav-item\">\r\n            <storm-tooltip title={elem.title} placement=\"bottom\">\r\n              <a role=\"button\" class=\"nav-link text-body font-weight-bold px-2\" onClick={e => this.handleClick(e, elem.id)}>\r\n                <i class=\"material-icons me-sm-1\">{elem.icon}</i>\r\n              </a>\r\n            </storm-tooltip>\r\n          </li>\r\n        );\r\n      }\r\n    });\r\n  };\r\n\r\n  handleToggleClick = (e: Event) => {\r\n    e.preventDefault();\r\n    // this.toggle()\r\n    // this.toggleClick.emit(this.checked)\r\n    this.toggleClick.emit();\r\n  };\r\n\r\n  handleClick = (e: Event, id: string) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.navbarClick.emit(id);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <nav\r\n        class=\"navbar navbar-main navbar-expand-lg position-sticky mt-4 top-1 px-0 mx-4 border-radius-xl z-index-sticky shadow-none\"\r\n        /*id=\"navbarBlur\" data-scroll=\"true\"*/ ref={e => (this.navbarRef = e)}\r\n      >\r\n        {/* <nav slot=\"item-nav\" class=\"navbar navbar-main navbar-expand-lg px-0 mx-4 shadow-none border-radius-xl\" id=\"navbarBlur\" data-scroll=\"true\" navbar-scroll=\"true\" ref={e => this.navbarRef = e}> */}\r\n        <div class=\"container-fluid py-1 px-3\">\r\n          <nav aria-label=\"breadcrumb\">\r\n            <ol class=\"breadcrumb bg-transparent mb-0 pb-0 pt-1 px-0 me-sm-6 me-5\">\r\n              <li class=\"breadcrumb-item text-sm\">\r\n                <a class=\"opacity-5 text-dark\" href=\"/\">\r\n                  <i class=\"material-icons opacity-10\">home</i>\r\n                </a>\r\n              </li>\r\n              {this.SetPosition()}\r\n            </ol>\r\n            <h6 class=\"font-weight-bolder mb-0\">{this.position ? this.position[this.position?.length - 1] : ''}</h6>\r\n          </nav>\r\n          {/* <div class=\"sidenav-toggler sidenav-toggler-inner d-xl-block d-none \"> 伸縮隱藏*/}\r\n          <div class=\"sidenav-toggler sidenav-toggler-inner pinned\" ref={e => (this.toggleInnerRef = e)}>\r\n            <a href=\"javascript:;\" class=\"nav-link text-body p-0\" onClick={e => this.handleToggleClick(e)}>\r\n              <div class=\"sidenav-toggler-inner\">\r\n                <i class=\"sidenav-toggler-line\"></i>\r\n                <i class=\"sidenav-toggler-line\"></i>\r\n                <i class=\"sidenav-toggler-line\"></i>\r\n              </div>\r\n            </a>\r\n          </div>\r\n          <div class=\"collapse navbar-collapse mt-sm-0 mt-2 me-md-0 me-sm-4\" id=\"navbar\">\r\n            <div class=\"ms-md-auto d-flex align-items-center\">\r\n              {this.SetSearch()}\r\n              <ul class=\"navbar-nav  justify-content-end\">{this.SetIcon()}</ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}