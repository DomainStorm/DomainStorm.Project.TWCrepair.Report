import{r as t,c as e,h as n,a as i,H as o}from"./p-CQNG65Br.js";import{F as s,d as r}from"./p-tR-hyYiS.js";import{m as a,p as l,d as c,g as d,q as h,f as u,h as f,i as m,b as p,r as g}from"./p-CH__wnBt.js";import"./p-9Du3dL5x.js";import"./p-E-ZsRS8r.js";const b=class{constructor(n){t(this,n),this.buttonClick=e(this,"buttonClick")}buttonStyle;active;disabled;size="";icon;label;type="button";form;rounded;tooltip;class;buttonClick;handleClick=t=>{"button"===this.type&&(t.stopPropagation(),this.buttonClick.emit())};iconRender(){if(this.icon)return n("span",{class:"btn-inner--icon"},n(s,null,this.icon))}labelRender(){if(this.label)return n("span",{class:{"btn-inner--text":!!this.icon,"storm-button-label":!0}},this.label)}buttonRender(){const t=a({"m-1":!0,btn:!0,active:!0===this.active,disabled:!0===this.disabled,"btn-icon-only":!!this.icon&&!this.label,"btn-rounded":!0===this.rounded,"d-inline-flex":!0,"align-items-center":!0,"justify-content-center":!0},l(this.class));return this.size&&(t["btn-"+this.size]=!0),this.buttonStyle&&this.buttonStyle.startsWith("gradient-")?t["bg-"+this.buttonStyle]=!0:t["btn-"+(this.buttonStyle??"primary")]=!0,n("button",{type:this.type,class:t,form:this.form,disabled:this.disabled,onClick:this.handleClick},this.iconRender(),this.labelRender(),n("slot",null))}render(){return this.tooltip?n("storm-tooltip",{heading:this.tooltip},this.buttonRender()):this.buttonRender()}};b.style=":host{display:block}:host .btn:focus{outline:none !important;box-shadow:none !important}:host .btn-group-sm>.btn i,:host .btn.btn-sm i{font-size:1rem !important;margin-top:-0.2rem !important;margin-bottom:-0.15rem !important;margin-left:-0.2rem !important;margin-right:-0.15rem !important}:host .btn i{padding-left:0.25rem;padding-right:0.25rem}";const w=Math.min,y=Math.max,v=Math.round,x=Math.floor,k=t=>({x:t,y:t}),S={left:"right",right:"left",bottom:"top",top:"bottom"},A={start:"end",end:"start"};function C(t,e,n){return y(t,w(e,n))}function R(t,e){return"function"==typeof t?t(e):t}function M(t){return t.split("-")[0]}function z(t){return t.split("-")[1]}function _(t){return"x"===t?"y":"x"}function T(t){return"y"===t?"height":"width"}const H=new Set(["top","bottom"]);function D(t){return H.has(M(t))?"y":"x"}function F(t){return _(D(t))}function I(t){return t.replace(/start|end/g,(t=>A[t]))}const L=["left","right"],P=["right","left"],B=["top","bottom"],j=["bottom","top"];function W(t){return t.replace(/left|right|bottom|top/g,(t=>S[t]))}function O(t){const{x:e,y:n,width:i,height:o}=t;return{width:i,height:o,top:n,left:e,right:e+i,bottom:n+o,x:e,y:n}}function $(t,e,n){let{reference:i,floating:o}=t;const s=D(e),r=F(e),a=T(r),l=M(e),c="y"===s,d=i.x+i.width/2-o.width/2,h=i.y+i.height/2-o.height/2,u=i[a]/2-o[a]/2;let f;switch(l){case"top":f={x:d,y:i.y-o.height};break;case"bottom":f={x:d,y:i.y+i.height};break;case"right":f={x:i.x+i.width,y:h};break;case"left":f={x:i.x-o.width,y:h};break;default:f={x:i.x,y:i.y}}switch(z(e)){case"start":f[r]-=u*(n&&c?-1:1);break;case"end":f[r]+=u*(n&&c?-1:1)}return f}async function E(t,e){var n;void 0===e&&(e={});const{x:i,y:o,platform:s,rects:r,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:u=!1,padding:f=0}=R(e,t),m=function(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}(f),p=a[u?"floating"===h?"reference":"floating":h],g=O(await s.getClippingRect({element:null==(n=await(null==s.isElement?void 0:s.isElement(p)))||n?p:p.contextElement||await(null==s.getDocumentElement?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),b="floating"===h?{x:i,y:o,width:r.floating.width,height:r.floating.height}:r.reference,w=await(null==s.getOffsetParent?void 0:s.getOffsetParent(a.floating)),y=await(null==s.isElement?void 0:s.isElement(w))&&await(null==s.getScale?void 0:s.getScale(w))||{x:1,y:1},v=O(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:b,offsetParent:w,strategy:l}):b);return{top:(g.top-v.top+m.top)/y.y,bottom:(v.bottom-g.bottom+m.bottom)/y.y,left:(g.left-v.left+m.left)/y.x,right:(v.right-g.right+m.right)/y.x}}const q=new Set(["left","top"]);function N(){return"undefined"!=typeof window}function U(t){return Y(t)?(t.nodeName||"").toLowerCase():"#document"}function V(t){var e;return(null==t||null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function G(t){var e;return null==(e=(Y(t)?t.ownerDocument:t.document)||window.document)?void 0:e.documentElement}function Y(t){return!!N()&&(t instanceof Node||t instanceof V(t).Node)}function Q(t){return!!N()&&(t instanceof Element||t instanceof V(t).Element)}function X(t){return!!N()&&(t instanceof HTMLElement||t instanceof V(t).HTMLElement)}function Z(t){return!(!N()||"undefined"==typeof ShadowRoot)&&(t instanceof ShadowRoot||t instanceof V(t).ShadowRoot)}const J=new Set(["inline","contents"]);function K(t){const{overflow:e,overflowX:n,overflowY:i,display:o}=ht(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!J.has(o)}const tt=new Set(["table","td","th"]);function et(t){return tt.has(U(t))}const nt=[":popover-open",":modal"];function it(t){return nt.some((e=>{try{return t.matches(e)}catch(t){return!1}}))}const ot=["transform","translate","scale","rotate","perspective"],st=["transform","translate","scale","rotate","perspective","filter"],rt=["paint","layout","strict","content"];function at(t){const e=lt(),n=Q(t)?ht(t):t;return ot.some((t=>!!n[t]&&"none"!==n[t]))||!!n.containerType&&"normal"!==n.containerType||!e&&!!n.backdropFilter&&"none"!==n.backdropFilter||!e&&!!n.filter&&"none"!==n.filter||st.some((t=>(n.willChange||"").includes(t)))||rt.some((t=>(n.contain||"").includes(t)))}function lt(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const ct=new Set(["html","body","#document"]);function dt(t){return ct.has(U(t))}function ht(t){return V(t).getComputedStyle(t)}function ut(t){return Q(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ft(t){if("html"===U(t))return t;const e=t.assignedSlot||t.parentNode||Z(t)&&t.host||G(t);return Z(e)?e.host:e}function mt(t){const e=ft(t);return dt(e)?t.ownerDocument?t.ownerDocument.body:t.body:X(e)&&K(e)?e:mt(e)}function pt(t,e,n){var i;void 0===e&&(e=[]),void 0===n&&(n=!0);const o=mt(t),s=o===(null==(i=t.ownerDocument)?void 0:i.body),r=V(o);if(s){const t=gt(r);return e.concat(r,r.visualViewport||[],K(o)?o:[],t&&n?pt(t):[])}return e.concat(o,pt(o,[],n))}function gt(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function bt(t){const e=ht(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const o=X(t),s=o?t.offsetWidth:n,r=o?t.offsetHeight:i,a=v(n)!==s||v(i)!==r;return a&&(n=s,i=r),{width:n,height:i,$:a}}function wt(t){return Q(t)?t:t.contextElement}function yt(t){const e=wt(t);if(!X(e))return k(1);const n=e.getBoundingClientRect(),{width:i,height:o,$:s}=bt(e);let r=(s?v(n.width):n.width)/i,a=(s?v(n.height):n.height)/o;return r&&Number.isFinite(r)||(r=1),a&&Number.isFinite(a)||(a=1),{x:r,y:a}}const vt=k(0);function xt(t){const e=V(t);return lt()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:vt}function kt(t,e,n,i){void 0===e&&(e=!1),void 0===n&&(n=!1);const o=t.getBoundingClientRect(),s=wt(t);let r=k(1);e&&(i?Q(i)&&(r=yt(i)):r=yt(t));const a=function(t,e,n){return void 0===e&&(e=!1),!(!n||e&&n!==V(t))&&e}(s,n,i)?xt(s):k(0);let l=(o.left+a.x)/r.x,c=(o.top+a.y)/r.y,d=o.width/r.x,h=o.height/r.y;if(s){const t=V(s),e=i&&Q(i)?V(i):i;let n=t,o=gt(n);for(;o&&i&&e!==n;){const t=yt(o),e=o.getBoundingClientRect(),i=ht(o),s=e.left+(o.clientLeft+parseFloat(i.paddingLeft))*t.x,r=e.top+(o.clientTop+parseFloat(i.paddingTop))*t.y;l*=t.x,c*=t.y,d*=t.x,h*=t.y,l+=s,c+=r,n=V(o),o=gt(n)}}return O({width:d,height:h,x:l,y:c})}function St(t,e){const n=ut(t).scrollLeft;return e?e.left+n:kt(G(t)).left+n}function At(t,e){const n=t.getBoundingClientRect();return{x:n.left+e.scrollLeft-St(t,n),y:n.top+e.scrollTop}}const Ct=new Set(["absolute","fixed"]);function Rt(t,e,n){let i;if("viewport"===e)i=function(t,e){const n=V(t),i=G(t),o=n.visualViewport;let s=i.clientWidth,r=i.clientHeight,a=0,l=0;if(o){s=o.width,r=o.height;const t=lt();(!t||t&&"fixed"===e)&&(a=o.offsetLeft,l=o.offsetTop)}const c=St(i);if(c<=0){const t=i.ownerDocument,e=t.body,n=getComputedStyle(e),o="CSS1Compat"===t.compatMode&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,r=Math.abs(i.clientWidth-e.clientWidth-o);r<=25&&(s-=r)}else c<=25&&(s+=c);return{width:s,height:r,x:a,y:l}}(t,n);else if("document"===e)i=function(t){const e=G(t),n=ut(t),i=t.ownerDocument.body,o=y(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=y(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let r=-n.scrollLeft+St(t);const a=-n.scrollTop;return"rtl"===ht(i).direction&&(r+=y(e.clientWidth,i.clientWidth)-o),{width:o,height:s,x:r,y:a}}(G(t));else if(Q(e))i=function(t,e){const n=kt(t,!0,"fixed"===e),i=n.top+t.clientTop,o=n.left+t.clientLeft,s=X(t)?yt(t):k(1);return{width:t.clientWidth*s.x,height:t.clientHeight*s.y,x:o*s.x,y:i*s.y}}(e,n);else{const n=xt(t);i={x:e.x-n.x,y:e.y-n.y,width:e.width,height:e.height}}return O(i)}function Mt(t,e){const n=ft(t);return!(n===e||!Q(n)||dt(n))&&("fixed"===ht(n).position||Mt(n,e))}function zt(t,e,n){const i=X(e),o=G(e),s="fixed"===n,r=kt(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=k(0);function c(){l.x=St(o)}if(i||!i&&!s)if(("body"!==U(e)||K(o))&&(a=ut(e)),i){const t=kt(e,!0,s,e);l.x=t.x+e.clientLeft,l.y=t.y+e.clientTop}else o&&c();s&&!i&&o&&c();const d=!o||i||s?k(0):At(o,a);return{x:r.left+a.scrollLeft-l.x-d.x,y:r.top+a.scrollTop-l.y-d.y,width:r.width,height:r.height}}function _t(t){return"static"===ht(t).position}function Tt(t,e){if(!X(t)||"fixed"===ht(t).position)return null;if(e)return e(t);let n=t.offsetParent;return G(t)===n&&(n=n.ownerDocument.body),n}function Ht(t,e){const n=V(t);if(it(t))return n;if(!X(t)){let e=ft(t);for(;e&&!dt(e);){if(Q(e)&&!_t(e))return e;e=ft(e)}return n}let i=Tt(t,e);for(;i&&et(i)&&_t(i);)i=Tt(i,e);return i&&dt(i)&&_t(i)&&!at(i)?n:i||function(t){let e=ft(t);for(;X(e)&&!dt(e);){if(at(e))return e;if(it(e))return null;e=ft(e)}return null}(t)||n}const Dt={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{elements:e,rect:n,offsetParent:i,strategy:o}=t;const s="fixed"===o,r=G(i),a=!!e&&it(e.floating);if(i===r||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=k(1);const d=k(0),h=X(i);if((h||!h&&!s)&&(("body"!==U(i)||K(r))&&(l=ut(i)),X(i))){const t=kt(i);c=yt(i),d.x=t.x+i.clientLeft,d.y=t.y+i.clientTop}const u=!r||h||s?k(0):At(r,l);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+u.x,y:n.y*c.y-l.scrollTop*c.y+d.y+u.y}},getDocumentElement:G,getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:i,strategy:o}=t;const s=[..."clippingAncestors"===n?it(e)?[]:function(t,e){const n=e.get(t);if(n)return n;let i=pt(t,[],!1).filter((t=>Q(t)&&"body"!==U(t))),o=null;const s="fixed"===ht(t).position;let r=s?ft(t):t;for(;Q(r)&&!dt(r);){const e=ht(r),n=at(r);n||"fixed"!==e.position||(o=null),(s?!n&&!o:!n&&"static"===e.position&&o&&Ct.has(o.position)||K(r)&&!n&&Mt(t,r))?i=i.filter((t=>t!==r)):o=e,r=ft(r)}return e.set(t,i),i}(e,this._c):[].concat(n),i],r=s.reduce(((t,n)=>{const i=Rt(e,n,o);return t.top=y(i.top,t.top),t.right=w(i.right,t.right),t.bottom=w(i.bottom,t.bottom),t.left=y(i.left,t.left),t}),Rt(e,s[0],o));return{width:r.right-r.left,height:r.bottom-r.top,x:r.left,y:r.top}},getOffsetParent:Ht,getElementRects:async function(t){const e=this.getOffsetParent||Ht,n=this.getDimensions,i=await n(t.floating);return{reference:zt(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}},getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){const{width:e,height:n}=bt(t);return{width:e,height:n}},getScale:yt,isElement:Q,isRTL:function(t){return"rtl"===ht(t).direction}};function Ft(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}const It=function(t){return void 0===t&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:o}=e,{mainAxis:s=!0,crossAxis:r=!1,limiter:a={fn:t=>{let{x:e,y:n}=t;return{x:e,y:n}}},...l}=R(t,e),c={x:n,y:i},d=await E(e,l),h=D(M(o)),u=_(h);let f=c[u],m=c[h];s&&(f=C(f+d["y"===u?"top":"left"],f,f-d["y"===u?"bottom":"right"])),r&&(m=C(m+d["y"===h?"top":"left"],m,m-d["y"===h?"bottom":"right"]));const p=a.fn({...e,[u]:f,[h]:m});return{...p,data:{x:p.x-n,y:p.y-i,enabled:{[u]:s,[h]:r}}}}}},Lt=function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:o,middlewareData:s,rects:r,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:u,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:p=!0,...g}=R(t,e);if(null!=(n=s.arrow)&&n.alignmentOffset)return{};const b=M(o),w=D(a),y=M(a)===a,v=await(null==l.isRTL?void 0:l.isRTL(c.floating)),x=u||(y||!p?[W(a)]:function(t){const e=W(t);return[I(t),e,I(e)]}(a)),k="none"!==m;!u&&k&&x.push(...function(t,e,n,i){const o=z(t);let s=function(t,e,n){switch(t){case"top":case"bottom":return n?e?P:L:e?L:P;case"left":case"right":return e?B:j;default:return[]}}(M(t),"start"===n,i);return o&&(s=s.map((t=>t+"-"+o)),e&&(s=s.concat(s.map(I)))),s}(a,p,m,v));const S=[a,...x],A=await E(e,g),C=[];let _=(null==(i=s.flip)?void 0:i.overflows)||[];if(d&&C.push(A[b]),h){const t=function(t,e,n){void 0===n&&(n=!1);const i=z(t),o=F(t),s=T(o);let r="x"===o?i===(n?"end":"start")?"right":"left":"start"===i?"bottom":"top";return e.reference[s]>e.floating[s]&&(r=W(r)),[r,W(r)]}(o,r,v);C.push(A[t[0]],A[t[1]])}if(_=[..._,{placement:o,overflows:C}],!C.every((t=>t<=0))){var H,O;const t=((null==(H=s.flip)?void 0:H.index)||0)+1,e=S[t];if(e&&("alignment"!==h||w===D(e)||_.every((t=>D(t.placement)!==w||t.overflows[0]>0))))return{data:{index:t,overflows:_},reset:{placement:e}};let n=null==(O=_.filter((t=>t.overflows[0]<=0)).sort(((t,e)=>t.overflows[1]-e.overflows[1]))[0])?void 0:O.placement;if(!n)switch(f){case"bestFit":{var $;const t=null==($=_.filter((t=>{if(k){const e=D(t.placement);return e===w||"y"===e}return!0})).map((t=>[t.placement,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])?void 0:$[0];t&&(n=t);break}case"initialPlacement":n=a}if(o!==n)return{reset:{placement:n}}}return{}}}},Pt=function(t){return void 0===t&&(t={}),{name:"size",options:t,async fn(e){var n,i;const{placement:o,rects:s,platform:r,elements:a}=e,{apply:l=()=>{},...c}=R(t,e),d=await E(e,c),h=M(o),u=z(o),f="y"===D(o),{width:m,height:p}=s.floating;let g,b;"top"===h||"bottom"===h?(g=h,b=u===(await(null==r.isRTL?void 0:r.isRTL(a.floating))?"start":"end")?"left":"right"):(b=h,g="end"===u?"top":"bottom");const v=p-d.top-d.bottom,x=m-d.left-d.right;let k=w(p-d[g],v),S=w(m-d[b],x);if(null!=(n=e.middlewareData.shift)&&n.enabled.x&&(S=x),null!=(i=e.middlewareData.shift)&&i.enabled.y&&(k=v),!e.middlewareData.shift&&!u){const t=y(d.left,0),e=y(d.right,0),n=y(d.top,0),i=y(d.bottom,0);f?S=m-2*(0!==t||0!==e?t+e:y(d.left,d.right)):k=p-2*(0!==n||0!==i?n+i:y(d.top,d.bottom))}await l({...e,availableWidth:S,availableHeight:k});const A=await r.getDimensions(a.floating);return m!==A.width||p!==A.height?{reset:{rects:!0}}:{}}}},Bt=class{constructor(n){t(this,n),this.valueChanged=e(this,"valueChanged"),this.itemClick=e(this,"itemClick"),this.selectChange=e(this,"selectChange"),this.unselectedAll=e(this,"unselectedAll"),this.showMenu=e(this,"showMenu"),this.hideMenu=e(this,"hideMenu")}_dropdownRef;_dropdownToggleRef;_dropdownMenuRef;_cleanupAutoUpdate;_listGroupRef;_dropdownClasses="dropdown";_toggleClasses="storm-dropdown-toggle";get host(){return i(this)}heading;label;icon;text;value;dataSet;disabled;showSelected=!0;searchText;searchable=!1;valid;required;buttonStyle;selection="single";trigger="click";toggleIcon="expand_more";placement="bottom-start";type="btn";class;dropdownClass;toggleClass;headingClass;nullable=!1;autoHideMenu=!0;timeStamp;isFocused=!1;isValid;valueChanged;itemClick;selectChange;unselectedAll;showMenu;hideMenu;valueWatcher(t,e){c(t,e)||(this.setSelectedItems(),this.valueChanged.emit(t),this.validate())}dataSetWatcher(){this.initDataSet(),this.setSelectedItems(),this.showSelected&&(this.text=void 0)}async itemClickHandler(t){if("none"!=this.selection){const e=t.detail;e.selected?this.unselect(e):this.select(e),this.selectChange.emit(e)}this.autoHideMenu&&await this.hide()}async showMenuHandler(t){this.isFocused=!0,this.updatePosition(),this._listGroupRef&&requestAnimationFrame((async()=>{await this._listGroupRef.setSearchFocus()}))}hideMenuHandler(t){this.isFocused=!1}searchChangedHandler(t){this.searchText=t.detail}keydownHandler(t){if(this.dataSet&&0!==this.dataSet.length)switch(t.key){case"ArrowDown":this.select(this.getNextItem());break;case"ArrowUp":this.select(this.getPrevItem())}}async show(){this.showMenu.emit()}async hide(){this.hideMenu.emit()}async selectById(t){for(const e of this.dataSet.filter((e=>t.includes(e.id))))this.select(e)}async unselectAll(){this.value=null,this.text=void 0,this.unselectedAll.emit()}select(t){if(!t.selected)switch(t.selected=!0,this.selection){case"single":this.value=t.id;break;case"multiple":{const e=Array.isArray(this.value)?this.value:this.value?[this.value]:[];e.includes(t.id)||(this.value=[...e,t.id]);break}default:console.warn(`Unknown selection mode: ${this.selection}`)}}unselect(t){if(t.selected)switch(t.selected=!1,this.selection){case"single":this.value===t.id&&(this.value=null);break;case"multiple":{const e=Array.isArray(this.value)?this.value:this.value?[this.value]:[];e.includes(t.id)&&(this.value=e.filter((e=>e!==t.id)));break}default:console.warn(`Unknown selection mode: ${this.selection}`)}}initDataSet(){Array.isArray(this.dataSet)&&this.dataSet.forEach((t=>{t.id=t.id||d("ilist-item")}))}setSelectedItems(){if(!Array.isArray(this.dataSet))return;const t=Array.isArray(this.value)?this.value:this.value?[this.value]:[],e=new Set(t);this.dataSet.forEach((t=>{t.selected=e.has(t.id)}))}validate(){void 0===this.valid&&!0===this.required&&(this.isValid=h(this.value))}getNextItem(){const t=this.dataSet.findIndex((t=>t.selected));return this.dataSet[t+1]??this.dataSet[0]}getPrevItem(){const t=this.dataSet.findIndex((t=>t.selected));return this.dataSet[t-1]??this.dataSet[this.dataSet.length-1]}renderDropdownHeading(){return n("div",{class:a({"storm-dropdown-input-group":!0,"align-middle":!0,"me-auto":!0,"nav-link-text":!0,"text-truncate":!0,"m-1":"select"!==this.type,"px-0":"select"===this.type},this.headingClass)},this.renderSelectedText(),this.renderHeadingText())}renderSelectedText(){return null!=this.text&&""!=this.text?n("span",{class:"inline-block"},this.text):this.showSelected&&this.dataSet?!0===this.disabled||"single"===this.selection||"btn"===this.type?n("span",{class:"inline-block"},this.dataSet.filter((t=>t.selected)).map((t=>t.title)).join("ã€")):this.dataSet.filter((t=>t.selected)).map((t=>n(r,{label:t.title,onClickCancel:()=>this.unselect(t)}))):void 0}renderHeadingText(){if(this.heading)return n("span",{class:"inline-block"},this.heading)}renderHeadingIcon(){if(this.showSelected&&this.dataSet){const t=this.dataSet.filter((t=>t.selected&&t.icon)),e=t.length?t[0].icon:this.icon;return n(s,{class:l(this.headingClass)},e)}return n(s,{class:l(this.headingClass)},this.icon)}renderMenus(){return this.dataSet?n("storm-list-group",{ref:t=>this._listGroupRef=t,dataSet:this.dataSet,value:this.value,searchable:this.searchable,selection:this.selection,nullable:this.nullable,itemClass:"border-0 rounded-0",onValueChanged:t=>{t.stopPropagation(),this.value=t.detail},onItemClick:async t=>{t.stopPropagation(),this.autoHideMenu&&await this.hide()}}):n("slot",null)}renderItemText(t){return n("span",{class:{"nav-link-text":!0},innerHTML:this.searchText&&t?u(t,this.searchText):t})}renderLabel(){if(this.label)return n("div",{class:"storm-label d-flex"},n("label",null,this.label))}renderClearButton(){if(!0!==this.disabled&&this.nullable&&null!=this.value&&""!==this.value&&"none"!==this.selection&&(!Array.isArray(this.value)||0!==this.value.length))return n("div",{role:"button",tabindex:"0","aria-label":"Clear Button",class:{"dropdown-clearable":!0,"p-2":!0},onClick:async t=>{t.stopPropagation(),await this.unselectAll()}},n(s,null,"cancel"))}componentWillLoad(){this.initDataSet(),(!this.value||Array.isArray(this.value)&&0===this.value.length)&&(this.value=f(this.dataSet,this.nullable,this.selection)),this.setSelectedItems(),this.validate()}componentWillRender(){this._dropdownClasses=a(this.dropdownClass,this._dropdownClasses),this._toggleClasses=a(this.toggleClass,this._toggleClasses),"none"!==this.type&&(this.dropdownClass||(this._dropdownClasses["d-flex"]=!0,"select"===this.type&&(this._dropdownClasses["dropdown-select"]=!0,this._toggleClasses["w-100"]=!0,this._toggleClasses["p-0"]=!0)),this.toggleClass||(this._toggleClasses["d-flex"]=!0,this._toggleClasses["justify-content-end"]=!0,this._toggleClasses["align-items-center"]=!0,"btn"===this.type&&(this._toggleClasses.btn=!0,this._toggleClasses["bg-gradient-"+(this.buttonStyle??"primary")]=!0))),this._dropdownClasses.disabled=!0===this.disabled}render(){return n(o,{key:"5f4640399ab84e9dafce590ecbbdd45a2e507689",tabindex:"0"},n("div",{key:"fc893d4079a1aa2a67ec7d8019a0bfc213066742",class:a(this.class,{"align-middle":!0,disabled:!0===this.disabled,"is-focused":this.isFocused,"storm-dropdown-select":"select"===this.type,"storm-dropdown-multiple":"multiple"===this.selection,"storm-is-valid":!0!==this.disabled&&(!0===this.valid||!0===this.isValid),"storm-is-invalid":!0!==this.disabled&&!1===this.valid||!1===this.isValid})},this.renderLabel(),n("div",{key:"9949fb5cf57595f6afbf61c6422c9bd82c76f33d",class:this._dropdownClasses,ref:t=>this._dropdownRef=t},n("a",{key:"61b7512f23ea5d366cdd98e84de7e1af12b9fc0f",href:"javascript:void(0);",class:this._toggleClasses,ref:t=>{this._dropdownToggleRef=t},"aria-describedby":"tooltip"},this.renderHeadingIcon(),this.renderDropdownHeading(),this.renderClearButton(),!0!==this.disabled?n(s,{class:"toggle"},this.toggleIcon):null),n("div",{key:"d6d0034888572e9adb60f7c93c792e97bdfa71ed",role:"tooltip",tabindex:"-1",class:{"storm-dropdown-menu":!0,"p-1":!0},ref:t=>this._dropdownMenuRef=t},this.renderMenus()))))}componentDidRender(){!0!==this.disabled&&(this._cleanupAutoUpdate&&(this._cleanupAutoUpdate(),this._cleanupAutoUpdate=void 0),this._dropdownToggleRef&&this._dropdownMenuRef&&(this._cleanupAutoUpdate=function(t,e,n,i){void 0===i&&(i={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:r="function"==typeof ResizeObserver,layoutShift:a="function"==typeof IntersectionObserver,animationFrame:l=!1}=i,c=wt(t),d=o||s?[...c?pt(c):[],...pt(e)]:[];d.forEach((t=>{o&&t.addEventListener("scroll",n,{passive:!0}),s&&t.addEventListener("resize",n)}));const h=c&&a?function(t,e){let n,i=null;const o=G(t);function s(){var t;clearTimeout(n),null==(t=i)||t.disconnect(),i=null}return function r(a,l){void 0===a&&(a=!1),void 0===l&&(l=1),s();const c=t.getBoundingClientRect(),{left:d,top:h,width:u,height:f}=c;if(a||e(),!u||!f)return;const m={rootMargin:-x(h)+"px "+-x(o.clientWidth-(d+u))+"px "+-x(o.clientHeight-(h+f))+"px "+-x(d)+"px",threshold:y(0,w(1,l))||1};let p=!0;function g(e){const i=e[0].intersectionRatio;if(i!==l){if(!p)return r();i?r(!1,i):n=setTimeout((()=>{r(!1,1e-7)}),1e3)}1!==i||Ft(c,t.getBoundingClientRect())||r(),p=!1}try{i=new IntersectionObserver(g,{...m,root:o.ownerDocument})}catch(t){i=new IntersectionObserver(g,m)}i.observe(t)}(!0),s}(c,n):null;let u,f=-1,m=null;r&&(m=new ResizeObserver((t=>{let[i]=t;i&&i.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame((()=>{var t;null==(t=m)||t.observe(e)}))),n()})),c&&!l&&m.observe(c),m.observe(e));let p=l?kt(t):null;return l&&function e(){const i=kt(t);p&&!Ft(p,i)&&n(),p=i,u=requestAnimationFrame(e)}(),n(),()=>{var t;d.forEach((t=>{o&&t.removeEventListener("scroll",n),s&&t.removeEventListener("resize",n)})),null==h||h(),null==(t=m)||t.disconnect(),m=null,l&&cancelAnimationFrame(u)}}(this._dropdownToggleRef,this._dropdownMenuRef,(()=>this.updatePosition()))),"hover"===this.trigger?(["mouseenter","focus"].forEach((t=>{this.host.removeEventListener(t,this.handleShow),this.host.addEventListener(t,this.handleShow)})),["mouseleave","focusout"].forEach((t=>{this.host.removeEventListener(t,this.handleHide),this.host.addEventListener(t,this.handleHide)}))):(this._dropdownToggleRef.removeEventListener("click",this.handleClick),this._dropdownToggleRef.addEventListener("click",this.handleClick),this.host.removeEventListener("focus",this.handleShow),this.host.addEventListener("focus",this.handleShow),this.host.removeEventListener("focusout",this.handleHide),this.host.addEventListener("focusout",this.handleHide)),this.isFocused?(this._dropdownRef.setAttribute("data-show",""),this.updatePosition()):this._dropdownRef.removeAttribute("data-show"))}componentDidLoad(){("string"==typeof this.value&&""!==this.value.trim()||Array.isArray(this.value)&&this.value.length>0)&&this.valueChanged.emit(this.value)}disconnectedCallback(){this._cleanupAutoUpdate&&(this._cleanupAutoUpdate(),this._cleanupAutoUpdate=void 0)}async updatePosition(){if(!this._dropdownToggleRef||!this._dropdownMenuRef)return;const t=[(i=3,void 0===i&&(i=0),{name:"offset",options:i,async fn(t){var e,n;const{x:o,y:s,placement:r,middlewareData:a}=t,l=await async function(t,e){const{placement:n,platform:i,elements:o}=t,s=await(null==i.isRTL?void 0:i.isRTL(o.floating)),r=M(n),a=z(n),l="y"===D(n),c=q.has(r)?-1:1,d=s&&l?-1:1,h=R(e,t);let{mainAxis:u,crossAxis:f,alignmentAxis:m}="number"==typeof h?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&"number"==typeof m&&(f="end"===a?-1*m:m),l?{x:f*d,y:u*c}:{x:u*c,y:f*d}}(t,i);return r===(null==(e=a.offset)?void 0:e.placement)&&null!=(n=a.arrow)&&n.alignmentOffset?{}:{x:o+l.x,y:s+l.y,data:{...l,placement:r}}}}),Lt({fallbackPlacements:["top-start","bottom-start"]}),It(),Pt({apply:({availableWidth:t,availableHeight:e,elements:n})=>{Object.assign(n.floating.style,{maxWidth:`${t}px`,maxHeight:`${e}px`}),n.floating.style.minWidth=`${n.reference.getBoundingClientRect().width}px`}})],{x:e,y:n}=await((t,e,n)=>{const i=new Map,o={platform:Dt,...n},s={...o.platform,_c:i};return(async(t,e,n)=>{const{placement:i="bottom",strategy:o="absolute",middleware:s=[],platform:r}=n,a=s.filter(Boolean),l=await(null==r.isRTL?void 0:r.isRTL(e));let c=await r.getElementRects({reference:t,floating:e,strategy:o}),{x:d,y:h}=$(c,i,l),u=i,f={},m=0;for(let n=0;n<a.length;n++){const{name:s,fn:p}=a[n],{x:g,y:b,data:w,reset:y}=await p({x:d,y:h,initialPlacement:i,placement:u,strategy:o,middlewareData:f,rects:c,platform:r,elements:{reference:t,floating:e}});d=null!=g?g:d,h=null!=b?b:h,f={...f,[s]:{...f[s],...w}},y&&m<=50&&(m++,"object"==typeof y&&(y.placement&&(u=y.placement),y.rects&&(c=!0===y.rects?await r.getElementRects({reference:t,floating:e,strategy:o}):y.rects),({x:d,y:h}=$(c,u,l))),n=-1)}return{x:d,y:h,placement:u,strategy:o,middlewareData:f}})(t,e,{...o,platform:s})})(this._dropdownToggleRef,this._dropdownMenuRef,{placement:this.placement,middleware:t});var i;Object.assign(this._dropdownMenuRef.style,{left:`${e}px`,top:`${n}px`,position:"fixed"})}handleClick=t=>{t.stopPropagation(),this.isFocused?(this.host.blur(),this.hideMenu.emit()):this.host.focus()};handleHide=t=>{t.stopPropagation();const e=t?.relatedTarget;e&&this.host.contains(e)||this.hideMenu.emit()};handleShow=t=>{t.stopPropagation(),this.showMenu.emit()};static get watchers(){return{value:[{valueWatcher:0}],dataSet:[{dataSetWatcher:0}]}}};Bt.style=":host{display:block}storm-dropdown .dropdown{-webkit-user-select:none;user-select:none;font-size:0.875rem}storm-dropdown .nav-link-text{white-space:pre-wrap !important}storm-dropdown .storm-dropdown-menu{display:none;z-index:2000;overflow:auto;background-color:white;border:1px solid rgba(0, 0, 0, 0.125)}storm-dropdown .storm-dropdown-menu i{min-width:1.5rem;font-size:1.2rem;line-height:1.2rem}storm-dropdown .storm-dropdown-menu .list-group-item{margin-right:0;border:none}storm-dropdown .dropdown[data-show] .storm-dropdown-menu{display:block}storm-dropdown .dropdown-select a.storm-dropdown-toggle{background:no-repeat bottom, 50% calc(100% - 1px);background-size:0 100%, 100% 100%;transition:0.2s ease;background-image:linear-gradient(0deg, #e91e63 2px, rgba(156, 39, 176, 0) 0), linear-gradient(0deg, #d2d2d2 1px, rgba(209, 209, 209, 0) 0)}storm-dropdown .is-focused label{color:#e91e63}storm-dropdown .storm-is-valid .dropdown-select a.storm-dropdown-toggle{background-image:linear-gradient(0deg, #4caf50 2px, rgba(156, 39, 176, 0) 0), linear-gradient(0deg, #d2d2d2 1px, rgba(209, 209, 209, 0) 0)}storm-dropdown .storm-is-valid.is-focused label{color:#4caf50}storm-dropdown .storm-is-invalid .dropdown-select a.storm-dropdown-toggle{background-image:linear-gradient(0deg, #fd5c70 2px, rgba(156, 39, 176, 0) 0), linear-gradient(0deg, #d2d2d2 1px, rgba(209, 209, 209, 0) 0)}storm-dropdown .storm-is-invalid.is-focused label{color:#fd5c70}storm-dropdown .storm-is-valid .storm-label{border-color:#66d432;padding-right:unset;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 10 8'%3e%3cpath fill='%2366d432' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-position:right 0.25rem center;background-size:1rem 1rem}storm-dropdown .storm-is-invalid .storm-label{border-color:#fd5c70;padding-right:unset;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' stroke='%23fd5c70' viewBox='0 0 12 12'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23fd5c70' stroke='none'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-position:right 0.25rem center;background-size:1rem 1rem}storm-dropdown .dropdown[data-show].dropdown-select a{background-size:100% 100%, 100% 100%}storm-dropdown .dropdown-select{background-color:white}storm-dropdown .dropdown .dropdown-clearable,storm-dropdown .storm-dropdown-toggle:has(.dropdown-clearable:hover){cursor:pointer;color:#344767;-webkit-user-select:none;user-select:none;display:none}storm-dropdown .dropdown .dropdown-clearable:hover{color:#e91e63}storm-dropdown:hover .dropdown-clearable{display:block}storm-dropdown .search{min-width:50px}storm-dropdown .btn{margin-bottom:0 !important}storm-dropdown .nav-link-tex.text-truncate{white-space:nowrap}storm-dropdown label{margin:0}storm-dropdown i.toggle{padding-left:.25rem;padding-right:.25rem;transition:transform 0.5s ease}storm-dropdown .is-focused i.toggle{transform:rotate(180deg)}storm-dropdown .storm-dropdown-select .storm-dropdown-toggle{padding-top:.5rem;padding-bottom:.5rem;min-height:2.4rem}storm-dropdown .storm-dropdown-select.storm-dropdown-multiple .storm-dropdown-input-group{padding:0 !important}storm-dropdown .disabled,storm-dropdown .disabled label,storm-dropdown .disabled .storm-dropdown-toggle{cursor:not-allowed;-webkit-user-select:none;-ms-user-select:none;user-select:none}storm-dropdown .disabled .storm-dropdown-toggle{color:#344767 !important;background-color:#e9ecef !important}";const jt=class{constructor(n){t(this,n),this.toolbarAction=e(this,"toolbarAction")}dataSet;timeStamp;class;toolbarAction;renderToolbarItem(t){if(("function"!=typeof t.visible||t.visible())&&("boolean"!=typeof t.visible||t.visible))return"group"===t.type?this.renderDropdown(t):"divider"===t.type?n("div",{class:"d-inline-flex align-middle mx-2"},n("div",{class:"vr"})):n("storm-toolbar-item",{dataSet:t,onToolbarAction:e=>{this.handleAction(e,t)}})}handleAction(t,e,n=null){if(e.click){if("string"==typeof e.click){if(!m(e.click))throw new Error("Invalid function string");e.click=p(e.click)}e.click(e,n),this.toolbarAction.emit(n?n.id:e.id)}}renderDropdown(t){if(t&&t.items&&0!==t.items.length)return n("div",{class:"d-inline-flex align-middle"},n("storm-dropdown",{dataSet:t.items,trigger:"click",toggleIcon:"more_vert",type:"none",selection:"none",nullable:!0,showSelected:!1,onItemClick:e=>{this.handleAction(e,t,e.detail)}}))}render(){if(this.dataSet)return n("div",{class:"w-100"},n("div",{class:{"d-flex":!0,...l(this.class)}},this.dataSet.map((t=>this.renderToolbarItem(t)))))}};jt.style=":host{display:block}";const Wt=class{constructor(n){t(this,n),this.toolbarAction=e(this,"toolbarAction")}uid;dataSet;toolbarAction;_active;_disabled;handleToolbarAction(t){t.stopPropagation(),this.toolbarAction.emit(this.dataSet.id)}initDataSet(){this.dataSet.id?this.uid=this.dataSet.id:this.uid||(this.dataSet.id=this.uid=d("storm-toolbar-item"))}componentWillLoad(){this.initDataSet()}async componentWillRender(){const t=[];this.dataSet.active&&t.push(this.resolveActive().then((t=>this._active=t))),this.dataSet.disabled&&t.push(this.resolveDisabled().then((t=>this._disabled=t))),t.length>0&&await Promise.all(t)}async resolveActive(){const t=g(this.dataSet,"active");return t instanceof Promise?await t:t}async resolveDisabled(){const t=g(this.dataSet,"disabled");return t instanceof Promise?await t:t}render(){return n(o,{key:"dc3e95776156a7926116fbb560b3a51f2908bef8",class:l(this.dataSet.class)},n("storm-button",{key:"4294bb8079e439987095353bc3ee1fd06c6e2064",type:this.dataSet.buttonType,label:this.dataSet.label,tooltip:this.dataSet.tooltip,icon:this.dataSet.icon,buttonStyle:this.dataSet.buttonStyle,size:this.dataSet.size,active:this._active,disabled:this._disabled,onButtonClick:t=>this.handleToolbarAction(t),rounded:this.dataSet.rounded}))}};Wt.style=":host{display:block}";export{b as storm_button,Bt as storm_dropdown,jt as storm_toolbar,Wt as storm_toolbar_item}