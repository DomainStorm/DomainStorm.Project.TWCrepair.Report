{"version":3,"names":["stormCardCss","StormCard","_cardBodyRef","_slotCardHeader","_slotTitle","_slotHeader","_slotFooter","_slotBody","_perfectScrollbar","_scrollListener","class","icon","headline","bodyClass","scrollable","cardStyle","innerScroll","_observer","MutationObserver","mutationsList","this","checkSlots","mutation","type","console","log","slots","cardHeader","title","header","footer","body","children","host","targetSlots","Set","foundCount","i","length","child","slot","getAttribute","has","nodeType","Node","ELEMENT_NODE","componentWillRender","observe","childList","subtree","componentDidRender","initScrollbar","disposeScrollbar","_cardClassesCache","_lastCardProps","buildCardClasses","currentProps","baseClasses","card","classes","mergeClasses","hasMarginTop","Object","keys","some","key","test","_bodyClassesCache","_lastBodyProps","buildBodyClasses","PerfectScrollbar","lastKnownScrollPosition","frameId","ev","stopPropagation","currentScrollPosition","scrollTop","Math","abs","cancelAnimationFrame","requestAnimationFrame","emit","addEventListener","passive","removeEventListener","destroy","disconnectedCallback","_iconCache","_titleCache","disconnect","_lastIconProps","renderIcon","h","FnIcon","_lastHeadline","renderCardTitle","renderTitleSlot","name","renderHeader","renderHeaderSlot","renderBody","FnHr","ref","elm","renderFooterSlot","render","Host","HOOKS","defaults","_disable","allowInput","allowInvalidPreload","altFormat","altInput","altInputClass","animate","window","navigator","userAgent","indexOf","ariaDateFormat","autoFillDefaultTime","clickOpens","closeOnSelect","conjunction","dateFormat","defaultHour","defaultMinute","defaultSeconds","disable","disableMobile","enableSeconds","enableTime","errorHandler","err","warn","getWeek","givenDate","date","Date","getTime","setHours","setDate","getDate","getDay","week1","getFullYear","round","hourIncrement","ignoredFocusElements","inline","locale","minuteIncrement","mode","monthSelectorType","nextArrow","noCalendar","now","onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition","plugins","position","positionElement","undefined","prevArrow","shorthandCurrentMonth","showMonths","static","time_24hr","weekNumbers","wrap","english","weekdays","shorthand","longhand","months","daysInMonth","firstDayOfWeek","ordinal","nth","s","rangeSeparator","weekAbbreviation","scrollTitle","toggleTitle","amPM","yearAriaLabel","monthAriaLabel","hourAriaLabel","minuteAriaLabel","pad","number","slice","int","bool","debounce","fn","wait","t","_this","args","arguments","clearTimeout","setTimeout","apply","arrayify","obj","Array","toggleClass","elem","className","classList","add","remove","createElement","tag","content","e","document","textContent","clearNode","node","firstChild","removeChild","findParent","condition","parentNode","createNumberInput","inputClassName","opts","wrapper","numInput","arrowUp","arrowDown","pattern","setAttribute","appendChild","getEventTarget","event","composedPath","path","target","error","doNothing","monthToStr","monthNumber","revFormat","D","F","dateObj","monthName","setMonth","G","hour","getHours","parseFloat","H","J","day","K","RegExp","M","shortMonth","S","seconds","setSeconds","U","_","unixSeconds","W","weekNum","weekNumber","parseInt","Y","year","setFullYear","Z","ISODate","d","minutes","setMinutes","j","l","m","month","n","u","unixMillSeconds","w","y","tokenRegex","formats","toISOString","options","getMonth","getSeconds","getMinutes","String","substring","createDateFormatter","_a","_b","config","_c","l10n","_d","isMobile","frmt","overrideLocale","formatDate","split","map","c","arr","join","createDateParser","givenFormat","timeless","customLocale","parsedDate","dateOrig","toFixed","format","datestr","trim","parseDate","matched","ops","matchIndex","regexStr","token","isBackSlash","escaped","match","exec","val","forEach","isNaN","Error","compareDates","date1","date2","isBetween","ts","ts1","ts2","min","max","calculateSecondsSinceMidnight","hours","parseSeconds","secondsSinceMidnight","floor","duration","DAY","getDefaultHours","minDate","minHour","minMinutes","minSeconds","maxDate","maxHr","maxMinutes","assign","_i","TypeError","_loop_1","source","args_1","__assign","p","prototype","hasOwnProperty","call","__spreadArrays","il","r","k","a","jl","DEBOUNCED_CHANGE_MS","FlatpickrInstance","element","instanceConfig","self","defaultOptions","flatpickr","defaultConfig","English","_handlers","pluginElements","loadedPlugins","_bind","bind","_setHoursFromDate","setHoursFromDate","_positionCalendar","positionCalendar","changeMonth","changeYear","clear","close","onMouseOver","_createElement","createDay","isEnabled","jumpToDate","updateValue","open","redraw","set","toggle","setupHelperFunctions","utils","getDaysInMonth","yr","currentMonth","currentYear","init","input","isOpen","parseConfig","setupLocale","setupInputs","setupDates","build","bindEvents","selectedDates","latestSelectedDateObj","setCalendarWidth","isSafari","triggerEvent","getClosestActiveElement","calendarContainer","getRootNode","activeElement","bindToInstance","style","visibility","display","daysContainer","daysWidth","days","offsetWidth","width","weekWrapper","removeProperty","updateTime","defaultDate","getMilliseconds","timeWrapper","prevValue","_input","value","setHoursFromInputs","_debouncedChange","ampm2military","military2ampm","hourElement","minuteElement","secondElement","limitMinHours","minTime","minDateHasTime","limitMaxHours","maxTime","maxDateHasTime","minBound","maxBound","currentTime","result","onYearInput","eventTarget","delta","toString","handler","el","push","triggerChange","evt","querySelectorAll","setupMobile","debouncedResize","onResize","ontouchstart","documentClick","capture","monthNav","onMonthNavClick","selectDate","timeContainer","selText","select","timeIncrement","onBlur","jumpDate","jumpTo","oldYear","oldMonth","message","buildMonthSwitch","incrementNumInput","contains","inputElem","createEvent","dispatchEvent","fragment","createDocumentFragment","tabIndex","buildMonthNav","innerContainer","buildWeeks","rContainer","buildWeekdays","buildDays","buildTime","customAppend","appendTo","insertBefore","nextSibling","_dayNumber","dateIsEnabled","dayElement","$i","todayDateElem","isDateSelected","selectedDateElem","isDateInRange","insertAdjacentHTML","focusOnDayElem","targetNode","focus","getFirstAvailableDay","startMonth","endMonth","startIndex","endIndex","getNextAvailableDay","current","givenMonth","loopDelta","numMonthDays","focusOnDay","offset","dayFocused","isInView","startElem","buildMonthDays","firstOfMonth","prevMonthDays","isMultiMonth","prevMonthDayClass","nextMonthDayClass","dayNumber","dayIndex","dayNum","dayContainer","frag","shouldBuildMonth","monthsDropdownContainer","innerHTML","selected","buildMonth","container","monthNavFragment","monthElement","selectedMonth","yearInput","tabindex","yearElement","getElementsByTagName","disabled","buildMonths","prevMonthNav","yearElements","monthElements","nextMonthNav","defineProperty","get","__hidePrevMonthArrow","__hideNextMonthArrow","currentYearElement","updateNavigationCurrentMonth","separator","hourInput","minuteInput","secondInput","weekdayContainer","updateWeekdays","splice","isOffset","_hidePrevMonthArrow","_hideNextMonthArrow","triggerChangeEvent","toInitial","mobileInput","_initialDate","lastChild","_type","removeAttribute","isCalendarElem","eventTarget_1","isCalendarElement","isInput","lostFocus","relatedTarget","isIgnored","newYear","newYearNum","isNewYear","dateToCheck","enable","array","parsed","from","to","valueChanged","trimEnd","getDateStr","allowKeydown","allowInlineKeydown","keyCode","blur","isTimeObj","preventDefault","focusAndClose","delta_1","ctrlKey","elems","concat","filter","x","shiftKey","charAt","toLowerCase","cellClass","hoverDate","firstElementChild","initialDate","rangeStartDate","rangeEndDate","containsDisabled","minRange","maxRange","hoverableCells","dayElem","timestamp","outOfRange","_positionElement","click","wasOpen","minMaxDateSetter","inverseDateObj","boolOpts","userConfig","JSON","parse","stringify","dataset","_enable","dates","parseDateRules","timeMode","defaultDateFormat","defaultAltFormat","_minDate","_maxDate","minMaxTimeSetter","_minTime","_maxTime","hook","pluginConf","getInputElem","querySelector","l10ns","default","customPositionElement","calendarHeight","reduce","acc","offsetHeight","calendarWidth","configPos","configPosVertical","configPosHorizontal","inputBounds","getBoundingClientRect","distanceFromBottom","innerHeight","bottom","showOnTop","top","pageYOffset","left","pageXOffset","isCenter","isRight","right","rightMost","centerMost","doc","getDocumentStyleSheet","bodyWidth","centerLeft","centerBefore","centerAfter","centerIndex","cssRules","centerStyle","insertRule","editableSheet","styleSheets","sheet","createStyleSheet","head","msMaxTouchPoints","isSelectable","selectedDate","shouldChangeMonth","selectedIndex","sort","b","single","range","CALLBACKS","updatePositionElement","option","setSelectedDate","inputDate","rule","preloadedDate","nodeName","placeholder","required","inputType","mobileFormatStr","defaultValue","step","data","hooks","initEvent","specificFormat","dObj","isPrevMonth","isNextMonth","isKeyDown","curValue","which","newValue","isHourElem","isMinuteElem","_flatpickr","nodeList","nodes","HTMLElement","instances","HTMLCollection","NodeList","selector","en","localize","setDefaults","jQuery","fp_incr","global","factory","exports","fp","MandarinTraditional","zh_tw","zhTw","module","theme","monthSelectPlugin","pluginConfig","monthsContainer","clearUnnecessaryDOMElements","index","selectMonth","selectYear","setCurrentlySelected","currentlySelected","targetMonth","Element","shifts","__","___","shouldMove","closeHook","stubCurrentMonth","_stubbedCurrentMonth","unstubCurrentMonth","destroyPluginInstance","stormInputGroupCss","StormInputGroup","_textInputRef","_cancelRef","_groupRef","_flatpickrInstance","InputType","Text","label","clearable","inputStyle","size","appendIcon","prependIcon","multiple","valid","isDynamic","outline","isValid","valueWatcher","oldValue","arrayEqual","updateFlatpickr","validate","setFocus","_debouncedFocusTextInput","setValue","vlaue","_debouncedUpdateValue","isNonEmptyValue","handleFocus","handleFocusout","refreshInputStatus","handleTagCancel","isArray","handleKeyDown","inputValue","valueArray","includes","handleInput","hasValue","clearValue","getClasses","getInputClasses","componentWillLoad","appendRender","prependRender","renderClearButton","role","onClick","labelRender","tagRender","FnTag","lable","onClickCancel","Number","onFocus","onInput","getDefaultTime","componentDidLoad","lastIndexOf","stormListGroupCss","StormListGroup","_itemRefs","_searchRef","dataSet","searchText","searchable","selection","nullable","itemClass","itemClick","selectChange","searchChanged","setSelectedItems","dataSetWatcher","initDataSet","itemClickHandler","item","detail","unselect","searchChangedHandler","setSearchFocus","async","handleSearchChanged","id","currentValue","generateUid","valueSet","renderListGroup","renderItems","itmes","calculateObjectValue","visible","renderItem","href","active","renderItemLabel","renderSearch","appendHighlight","FnSearchInput","onValueChanged","getSelectedItemIds","hasValidValue","stormSplitViewCss","StormSplitView","_splitBarMove","_splitBarRef","_stormContainerRef","_secondPaneRef","splitPercent","fixedSize","fixedPane","direction","firstPaneVisible","secondPaneVisible","firstPaneName","secondPaneName","viewToggle","force","renderPane","styles","staticBackdrop","setProperty","offsetX","offsetY","percent","ticking","stormVerticalSplitViewCss","StormVerticalSplitView","_splitViewRef","leftPaneVisible","rightPaneVisible"],"sources":["src/components/storm-card/storm-card.css?tag=storm-card","src/components/storm-card/storm-card.tsx","node_modules/flatpickr/dist/esm/types/options.js","node_modules/flatpickr/dist/esm/l10n/default.js","node_modules/flatpickr/dist/esm/utils/index.js","node_modules/flatpickr/dist/esm/utils/dom.js","node_modules/flatpickr/dist/esm/utils/formatting.js","node_modules/flatpickr/dist/esm/utils/dates.js","node_modules/flatpickr/dist/esm/utils/polyfills.js","node_modules/flatpickr/dist/esm/index.js","node_modules/flatpickr/dist/l10n/zh-tw.js","node_modules/flatpickr/dist/plugins/monthSelect/index.js","src/components/storm-input-group/storm-input-group.css?tag=storm-input-group","src/components/storm-input-group/storm-input-group.tsx","src/components/storm-list-group/storm-list-group.scss?tag=storm-list-group","src/components/storm-list-group/storm-list-group.tsx","src/layouts/storm-split-view/storm-split-view.css?tag=storm-split-view","src/layouts/storm-split-view/storm-split-view.tsx","src/layouts/storm-vertical-split-view/storm-vertical-split-view.css?tag=storm-vertical-split-view","src/layouts/storm-vertical-split-view/storm-vertical-split-view.tsx"],"sourcesContent":[":host {\r\n  display: block;\r\n}\r\n\r\n.vh-75 {\r\n  height: 75vh !important;\r\n}\r\n\r\n.card-header:first-child {\r\n  border-radius: .75rem !important;\r\n}","import { Component, Element, Event, EventEmitter, h, Host, Prop, State } from '@stencil/core';\r\nimport PerfectScrollbar from 'perfect-scrollbar';\r\nimport { FnHr, FnIcon } from '../../utils/functional/functional';\r\nimport { mergeClasses } from '../../utils/utils';\r\n\r\n@Component({\r\n  tag: 'storm-card',\r\n  styleUrl: 'storm-card.css',\r\n  shadow: false,\r\n})\r\nexport class StormCard {\r\n  private _cardBodyRef: HTMLElement;\r\n\r\n  @State() _slotCardHeader: boolean = false;\r\n  @State() _slotTitle: boolean = false;\r\n  @State() _slotHeader: boolean = false;\r\n  @State() _slotFooter: boolean = false;\r\n  @State() _slotBody: boolean = false;\r\n\r\n  private _perfectScrollbar: PerfectScrollbar;\r\n  private _scrollListener: (ev: Event) => void = null;\r\n\r\n  @Element() host: HTMLElement;\r\n  @Prop() class: string;\r\n  @Prop() icon?: string;\r\n  @Prop() headline?: string;\r\n  @Prop() bodyClass: string;\r\n  @Prop({ reflect: true }) scrollable: boolean = false;\r\n  @Prop() cardStyle: 'info' | 'dark' | 'primary' | 'success' | 'warning' | 'danger' = 'info';\r\n\r\n  @Event() innerScroll: EventEmitter<number>;\r\n\r\n  private _observer = new MutationObserver(mutationsList => {\r\n    this.checkSlots();\r\n    for (const mutation of mutationsList) {\r\n      if (mutation.type === 'childList') {\r\n        console.log('Children changed:', mutation);\r\n      }\r\n    }\r\n  });\r\n\r\n  private readonly checkSlots = () => {\r\n    const slots = { cardHeader: this._slotCardHeader, title: this._slotTitle, header: this._slotHeader, footer: this._slotFooter, body: this._slotBody };\r\n    const children = this.host.children;\r\n    const targetSlots = new Set(['card-header', 'title', 'header', 'body', 'footer']);\r\n    let foundCount = 0;\r\n\r\n    for (let i = 0; i < children.length; i++) {\r\n      const child = children[i];\r\n      const slot = child.getAttribute('slot');\r\n\r\n      if (slot && targetSlots.has(slot)) {\r\n        switch (slot) {\r\n          case 'card-header':\r\n            if (!slots.cardHeader) {\r\n              slots.cardHeader = true;\r\n              foundCount++;\r\n            }\r\n            break;\r\n          case 'title':\r\n            if (!slots.title) {\r\n              slots.title = true;\r\n              foundCount++;\r\n            }\r\n            break;\r\n          case 'header':\r\n            if (!slots.header) {\r\n              slots.header = true;\r\n              foundCount++;\r\n            }\r\n            break;\r\n          case 'footer':\r\n            if (!slots.footer) {\r\n              slots.footer = true;\r\n              foundCount++;\r\n            }\r\n            break;\r\n        }\r\n      } else if (!slot && child.nodeType === Node.ELEMENT_NODE && !slots.body) {\r\n        slots.body = true;\r\n        foundCount++;\r\n      }\r\n\r\n      if (foundCount === 5) break;\r\n    }\r\n\r\n    this._slotCardHeader = slots.cardHeader;\r\n    this._slotTitle = slots.title;\r\n    this._slotHeader = slots.header;\r\n    this._slotFooter = slots.footer;\r\n    this._slotBody = slots.body;\r\n  };\r\n\r\n  componentWillRender() {\r\n    this._observer.observe(this.host, {\r\n      childList: true, // 偵測子節點新增或刪除\r\n      subtree: false, // 若要監聽所有後代節點，設為 true\r\n    });\r\n  }\r\n\r\n  componentDidRender() {\r\n    if (!this._cardBodyRef) return;\r\n\r\n    this.scrollable ? this.initScrollbar() : this.disposeScrollbar();\r\n  }\r\n\r\n  private _cardClassesCache: Record<string, boolean> | null = null;\r\n  private _lastCardProps: string = '';\r\n\r\n  private buildCardClasses() {\r\n    const currentProps = `${this.class || ''}-${this.icon || ''}`;\r\n    if (this._cardClassesCache && this._lastCardProps === currentProps) {\r\n      return this._cardClassesCache;\r\n    }\r\n\r\n    const baseClasses = { card: true };\r\n    const classes: Record<string, boolean> = this.class ? mergeClasses(baseClasses, this.class) : baseClasses;\r\n\r\n    const hasMarginTop = Object.keys(classes).some(key => /^mt-[0-5]|mt-auto$/.test(key));\r\n\r\n    if (!hasMarginTop) {\r\n      classes[this.icon ? 'mt-4' : 'mt-3'] = true;\r\n    }\r\n\r\n    this._cardClassesCache = classes;\r\n    this._lastCardProps = currentProps;\r\n    return classes;\r\n  }\r\n\r\n  private _bodyClassesCache: Record<string, boolean> | null = null;\r\n  private _lastBodyProps: string = '';\r\n\r\n  private buildBodyClasses() {\r\n    const currentProps = `${this.bodyClass || ''}-${this.scrollable}`;\r\n    if (this._bodyClassesCache && this._lastBodyProps === currentProps) {\r\n      return this._bodyClassesCache;\r\n    }\r\n\r\n    const baseClasses = {\r\n      'card-body': true,\r\n      'py-2': true,\r\n      'overflow-auto': this.scrollable,\r\n    };\r\n    const classes = this.bodyClass ? mergeClasses(baseClasses, this.bodyClass) : baseClasses;\r\n\r\n    this._bodyClassesCache = classes;\r\n    this._lastBodyProps = currentProps;\r\n    return classes;\r\n  }\r\n\r\n  private initScrollbar() {\r\n    this.disposeScrollbar();\r\n\r\n    this._perfectScrollbar = new PerfectScrollbar(this._cardBodyRef);\r\n\r\n    let lastKnownScrollPosition = 0;\r\n    let frameId: number | null = null;\r\n\r\n    this._scrollListener = (ev: Event) => {\r\n      ev.stopPropagation();\r\n      const currentScrollPosition = this._cardBodyRef.scrollTop;\r\n\r\n      if (Math.abs(currentScrollPosition - lastKnownScrollPosition) < 1) return;\r\n\r\n      lastKnownScrollPosition = currentScrollPosition;\r\n\r\n      if (frameId) {\r\n        cancelAnimationFrame(frameId);\r\n      }\r\n\r\n      frameId = requestAnimationFrame(() => {\r\n        this.innerScroll.emit(lastKnownScrollPosition);\r\n        frameId = null;\r\n      });\r\n    };\r\n\r\n    this._cardBodyRef?.addEventListener('scroll', this._scrollListener, { passive: true });\r\n  }\r\n\r\n  private disposeScrollbar() {\r\n    if (this._scrollListener) {\r\n      this._cardBodyRef?.removeEventListener('scroll', this._scrollListener);\r\n      this._scrollListener = null;\r\n    }\r\n\r\n    if (this._perfectScrollbar) {\r\n      this._perfectScrollbar.destroy();\r\n      this._perfectScrollbar = null;\r\n    }\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    this.disposeScrollbar();\r\n    this._cardClassesCache = null;\r\n    this._bodyClassesCache = null;\r\n    this._iconCache = null;\r\n    this._titleCache = null;\r\n\r\n    this._observer.disconnect();\r\n  }\r\n\r\n  private _iconCache: any = null;\r\n  private _lastIconProps = '';\r\n\r\n  renderIcon() {\r\n    if (!this.icon) return;\r\n\r\n    const currentProps = `${this.icon}-${this.cardStyle}`;\r\n    if (this._iconCache && this._lastIconProps === currentProps) {\r\n      return this._iconCache;\r\n    }\r\n\r\n    const classes: Record<string, boolean> = {\r\n      icon: true,\r\n      'icon-lg': true,\r\n      'icon-shape': true,\r\n      'text-center': true,\r\n      'border-radius-xl': true,\r\n      'mt-n4': true,\r\n      'me-3': true,\r\n      'mb-2': true,\r\n    };\r\n    classes['bg-gradient-' + this.cardStyle] = true;\r\n    classes['shadow-' + this.cardStyle] = true;\r\n\r\n    this._iconCache = (\r\n      <div class={classes}>\r\n        <FnIcon class=\"opacity-10\">{this.icon}</FnIcon>\r\n      </div>\r\n    );\r\n    this._lastIconProps = currentProps;\r\n    return this._iconCache;\r\n  }\r\n\r\n  private _titleCache: any = null;\r\n  private _lastHeadline = '';\r\n\r\n  renderCardTitle() {\r\n    if (!this.headline) return;\r\n\r\n    if (this._titleCache && this._lastHeadline === this.headline) {\r\n      return this._titleCache;\r\n    }\r\n\r\n    this._titleCache = <h5 class=\"mt-3 me-auto\">{this.headline}</h5>;\r\n    this._lastHeadline = this.headline;\r\n    return this._titleCache;\r\n  }\r\n\r\n  renderTitleSlot() {\r\n    if (!this._slotTitle) return;\r\n    return <slot name=\"title\" />;\r\n  }\r\n\r\n  renderHeader() {\r\n    if (this._slotCardHeader) return <slot name=\"card-header\" />;\r\n    if (!this._slotHeader && !this._slotTitle && !this.icon && !this.headline) return;\r\n    return (\r\n      <div\r\n        class={{\r\n          'card-header': true,\r\n          'py-2': true,\r\n        }}\r\n      >\r\n        <div class=\"title-header d-flex\">\r\n          {this.renderIcon()}\r\n          {this.renderCardTitle()}\r\n          {this.renderTitleSlot()}\r\n        </div>\r\n        {this.renderHeaderSlot()}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderHeaderSlot() {\r\n    if (!this._slotHeader) return;\r\n    return <slot name=\"header\" />;\r\n  }\r\n\r\n  renderBody() {\r\n    if (!this._slotBody) return;\r\n    return [\r\n      <FnHr />,\r\n      <div class={this.buildBodyClasses()} ref={elm => (this._cardBodyRef = elm)}>\r\n        <slot name=\"body\" />\r\n      </div>,\r\n    ];\r\n  }\r\n\r\n  renderFooterSlot() {\r\n    if (!this._slotFooter) return;\r\n    return [\r\n      <FnHr />,\r\n      <div class=\"card-footer py-2\">\r\n        <slot name=\"footer\" />\r\n      </div>,\r\n    ];\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <div class={this.buildCardClasses()}>\r\n          {this.renderHeader()}\r\n          {this.renderBody()}\r\n          {this.renderFooterSlot()}\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n","export var HOOKS = [\n    \"onChange\",\n    \"onClose\",\n    \"onDayCreate\",\n    \"onDestroy\",\n    \"onKeyDown\",\n    \"onMonthChange\",\n    \"onOpen\",\n    \"onParseConfig\",\n    \"onReady\",\n    \"onValueUpdate\",\n    \"onYearChange\",\n    \"onPreCalendarPosition\",\n];\nexport var defaults = {\n    _disable: [],\n    allowInput: false,\n    allowInvalidPreload: false,\n    altFormat: \"F j, Y\",\n    altInput: false,\n    altInputClass: \"form-control input\",\n    animate: typeof window === \"object\" &&\n        window.navigator.userAgent.indexOf(\"MSIE\") === -1,\n    ariaDateFormat: \"F j, Y\",\n    autoFillDefaultTime: true,\n    clickOpens: true,\n    closeOnSelect: true,\n    conjunction: \", \",\n    dateFormat: \"Y-m-d\",\n    defaultHour: 12,\n    defaultMinute: 0,\n    defaultSeconds: 0,\n    disable: [],\n    disableMobile: false,\n    enableSeconds: false,\n    enableTime: false,\n    errorHandler: function (err) {\n        return typeof console !== \"undefined\" && console.warn(err);\n    },\n    getWeek: function (givenDate) {\n        var date = new Date(givenDate.getTime());\n        date.setHours(0, 0, 0, 0);\n        date.setDate(date.getDate() + 3 - ((date.getDay() + 6) % 7));\n        var week1 = new Date(date.getFullYear(), 0, 4);\n        return (1 +\n            Math.round(((date.getTime() - week1.getTime()) / 86400000 -\n                3 +\n                ((week1.getDay() + 6) % 7)) /\n                7));\n    },\n    hourIncrement: 1,\n    ignoredFocusElements: [],\n    inline: false,\n    locale: \"default\",\n    minuteIncrement: 5,\n    mode: \"single\",\n    monthSelectorType: \"dropdown\",\n    nextArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>\",\n    noCalendar: false,\n    now: new Date(),\n    onChange: [],\n    onClose: [],\n    onDayCreate: [],\n    onDestroy: [],\n    onKeyDown: [],\n    onMonthChange: [],\n    onOpen: [],\n    onParseConfig: [],\n    onReady: [],\n    onValueUpdate: [],\n    onYearChange: [],\n    onPreCalendarPosition: [],\n    plugins: [],\n    position: \"auto\",\n    positionElement: undefined,\n    prevArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>\",\n    shorthandCurrentMonth: false,\n    showMonths: 1,\n    static: false,\n    time_24hr: false,\n    weekNumbers: false,\n    wrap: false,\n};\n","export var english = {\n    weekdays: {\n        shorthand: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n        longhand: [\n            \"Sunday\",\n            \"Monday\",\n            \"Tuesday\",\n            \"Wednesday\",\n            \"Thursday\",\n            \"Friday\",\n            \"Saturday\",\n        ],\n    },\n    months: {\n        shorthand: [\n            \"Jan\",\n            \"Feb\",\n            \"Mar\",\n            \"Apr\",\n            \"May\",\n            \"Jun\",\n            \"Jul\",\n            \"Aug\",\n            \"Sep\",\n            \"Oct\",\n            \"Nov\",\n            \"Dec\",\n        ],\n        longhand: [\n            \"January\",\n            \"February\",\n            \"March\",\n            \"April\",\n            \"May\",\n            \"June\",\n            \"July\",\n            \"August\",\n            \"September\",\n            \"October\",\n            \"November\",\n            \"December\",\n        ],\n    },\n    daysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\n    firstDayOfWeek: 0,\n    ordinal: function (nth) {\n        var s = nth % 100;\n        if (s > 3 && s < 21)\n            return \"th\";\n        switch (s % 10) {\n            case 1:\n                return \"st\";\n            case 2:\n                return \"nd\";\n            case 3:\n                return \"rd\";\n            default:\n                return \"th\";\n        }\n    },\n    rangeSeparator: \" to \",\n    weekAbbreviation: \"Wk\",\n    scrollTitle: \"Scroll to increment\",\n    toggleTitle: \"Click to toggle\",\n    amPM: [\"AM\", \"PM\"],\n    yearAriaLabel: \"Year\",\n    monthAriaLabel: \"Month\",\n    hourAriaLabel: \"Hour\",\n    minuteAriaLabel: \"Minute\",\n    time_24hr: false,\n};\nexport default english;\n","export var pad = function (number, length) {\n    if (length === void 0) { length = 2; }\n    return (\"000\" + number).slice(length * -1);\n};\nexport var int = function (bool) { return (bool === true ? 1 : 0); };\nexport function debounce(fn, wait) {\n    var t;\n    return function () {\n        var _this = this;\n        var args = arguments;\n        clearTimeout(t);\n        t = setTimeout(function () { return fn.apply(_this, args); }, wait);\n    };\n}\nexport var arrayify = function (obj) {\n    return obj instanceof Array ? obj : [obj];\n};\n","export function toggleClass(elem, className, bool) {\n    if (bool === true)\n        return elem.classList.add(className);\n    elem.classList.remove(className);\n}\nexport function createElement(tag, className, content) {\n    var e = window.document.createElement(tag);\n    className = className || \"\";\n    content = content || \"\";\n    e.className = className;\n    if (content !== undefined)\n        e.textContent = content;\n    return e;\n}\nexport function clearNode(node) {\n    while (node.firstChild)\n        node.removeChild(node.firstChild);\n}\nexport function findParent(node, condition) {\n    if (condition(node))\n        return node;\n    else if (node.parentNode)\n        return findParent(node.parentNode, condition);\n    return undefined;\n}\nexport function createNumberInput(inputClassName, opts) {\n    var wrapper = createElement(\"div\", \"numInputWrapper\"), numInput = createElement(\"input\", \"numInput \" + inputClassName), arrowUp = createElement(\"span\", \"arrowUp\"), arrowDown = createElement(\"span\", \"arrowDown\");\n    if (navigator.userAgent.indexOf(\"MSIE 9.0\") === -1) {\n        numInput.type = \"number\";\n    }\n    else {\n        numInput.type = \"text\";\n        numInput.pattern = \"\\\\d*\";\n    }\n    if (opts !== undefined)\n        for (var key in opts)\n            numInput.setAttribute(key, opts[key]);\n    wrapper.appendChild(numInput);\n    wrapper.appendChild(arrowUp);\n    wrapper.appendChild(arrowDown);\n    return wrapper;\n}\nexport function getEventTarget(event) {\n    try {\n        if (typeof event.composedPath === \"function\") {\n            var path = event.composedPath();\n            return path[0];\n        }\n        return event.target;\n    }\n    catch (error) {\n        return event.target;\n    }\n}\n","import { int, pad } from \"../utils\";\nvar doNothing = function () { return undefined; };\nexport var monthToStr = function (monthNumber, shorthand, locale) { return locale.months[shorthand ? \"shorthand\" : \"longhand\"][monthNumber]; };\nexport var revFormat = {\n    D: doNothing,\n    F: function (dateObj, monthName, locale) {\n        dateObj.setMonth(locale.months.longhand.indexOf(monthName));\n    },\n    G: function (dateObj, hour) {\n        dateObj.setHours((dateObj.getHours() >= 12 ? 12 : 0) + parseFloat(hour));\n    },\n    H: function (dateObj, hour) {\n        dateObj.setHours(parseFloat(hour));\n    },\n    J: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    K: function (dateObj, amPM, locale) {\n        dateObj.setHours((dateObj.getHours() % 12) +\n            12 * int(new RegExp(locale.amPM[1], \"i\").test(amPM)));\n    },\n    M: function (dateObj, shortMonth, locale) {\n        dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth));\n    },\n    S: function (dateObj, seconds) {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    U: function (_, unixSeconds) { return new Date(parseFloat(unixSeconds) * 1000); },\n    W: function (dateObj, weekNum, locale) {\n        var weekNumber = parseInt(weekNum);\n        var date = new Date(dateObj.getFullYear(), 0, 2 + (weekNumber - 1) * 7, 0, 0, 0, 0);\n        date.setDate(date.getDate() - date.getDay() + locale.firstDayOfWeek);\n        return date;\n    },\n    Y: function (dateObj, year) {\n        dateObj.setFullYear(parseFloat(year));\n    },\n    Z: function (_, ISODate) { return new Date(ISODate); },\n    d: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    h: function (dateObj, hour) {\n        dateObj.setHours((dateObj.getHours() >= 12 ? 12 : 0) + parseFloat(hour));\n    },\n    i: function (dateObj, minutes) {\n        dateObj.setMinutes(parseFloat(minutes));\n    },\n    j: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    l: doNothing,\n    m: function (dateObj, month) {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    n: function (dateObj, month) {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    s: function (dateObj, seconds) {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    u: function (_, unixMillSeconds) {\n        return new Date(parseFloat(unixMillSeconds));\n    },\n    w: doNothing,\n    y: function (dateObj, year) {\n        dateObj.setFullYear(2000 + parseFloat(year));\n    },\n};\nexport var tokenRegex = {\n    D: \"\",\n    F: \"\",\n    G: \"(\\\\d\\\\d|\\\\d)\",\n    H: \"(\\\\d\\\\d|\\\\d)\",\n    J: \"(\\\\d\\\\d|\\\\d)\\\\w+\",\n    K: \"\",\n    M: \"\",\n    S: \"(\\\\d\\\\d|\\\\d)\",\n    U: \"(.+)\",\n    W: \"(\\\\d\\\\d|\\\\d)\",\n    Y: \"(\\\\d{4})\",\n    Z: \"(.+)\",\n    d: \"(\\\\d\\\\d|\\\\d)\",\n    h: \"(\\\\d\\\\d|\\\\d)\",\n    i: \"(\\\\d\\\\d|\\\\d)\",\n    j: \"(\\\\d\\\\d|\\\\d)\",\n    l: \"\",\n    m: \"(\\\\d\\\\d|\\\\d)\",\n    n: \"(\\\\d\\\\d|\\\\d)\",\n    s: \"(\\\\d\\\\d|\\\\d)\",\n    u: \"(.+)\",\n    w: \"(\\\\d\\\\d|\\\\d)\",\n    y: \"(\\\\d{2})\",\n};\nexport var formats = {\n    Z: function (date) { return date.toISOString(); },\n    D: function (date, locale, options) {\n        return locale.weekdays.shorthand[formats.w(date, locale, options)];\n    },\n    F: function (date, locale, options) {\n        return monthToStr(formats.n(date, locale, options) - 1, false, locale);\n    },\n    G: function (date, locale, options) {\n        return pad(formats.h(date, locale, options));\n    },\n    H: function (date) { return pad(date.getHours()); },\n    J: function (date, locale) {\n        return locale.ordinal !== undefined\n            ? date.getDate() + locale.ordinal(date.getDate())\n            : date.getDate();\n    },\n    K: function (date, locale) { return locale.amPM[int(date.getHours() > 11)]; },\n    M: function (date, locale) {\n        return monthToStr(date.getMonth(), true, locale);\n    },\n    S: function (date) { return pad(date.getSeconds()); },\n    U: function (date) { return date.getTime() / 1000; },\n    W: function (date, _, options) {\n        return options.getWeek(date);\n    },\n    Y: function (date) { return pad(date.getFullYear(), 4); },\n    d: function (date) { return pad(date.getDate()); },\n    h: function (date) { return (date.getHours() % 12 ? date.getHours() % 12 : 12); },\n    i: function (date) { return pad(date.getMinutes()); },\n    j: function (date) { return date.getDate(); },\n    l: function (date, locale) {\n        return locale.weekdays.longhand[date.getDay()];\n    },\n    m: function (date) { return pad(date.getMonth() + 1); },\n    n: function (date) { return date.getMonth() + 1; },\n    s: function (date) { return date.getSeconds(); },\n    u: function (date) { return date.getTime(); },\n    w: function (date) { return date.getDay(); },\n    y: function (date) { return String(date.getFullYear()).substring(2); },\n};\n","import { tokenRegex, revFormat, formats, } from \"./formatting\";\nimport { defaults } from \"../types/options\";\nimport { english } from \"../l10n/default\";\nexport var createDateFormatter = function (_a) {\n    var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c, _d = _a.isMobile, isMobile = _d === void 0 ? false : _d;\n    return function (dateObj, frmt, overrideLocale) {\n        var locale = overrideLocale || l10n;\n        if (config.formatDate !== undefined && !isMobile) {\n            return config.formatDate(dateObj, frmt, locale);\n        }\n        return frmt\n            .split(\"\")\n            .map(function (c, i, arr) {\n            return formats[c] && arr[i - 1] !== \"\\\\\"\n                ? formats[c](dateObj, locale, config)\n                : c !== \"\\\\\"\n                    ? c\n                    : \"\";\n        })\n            .join(\"\");\n    };\n};\nexport var createDateParser = function (_a) {\n    var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c;\n    return function (date, givenFormat, timeless, customLocale) {\n        if (date !== 0 && !date)\n            return undefined;\n        var locale = customLocale || l10n;\n        var parsedDate;\n        var dateOrig = date;\n        if (date instanceof Date)\n            parsedDate = new Date(date.getTime());\n        else if (typeof date !== \"string\" &&\n            date.toFixed !== undefined)\n            parsedDate = new Date(date);\n        else if (typeof date === \"string\") {\n            var format = givenFormat || (config || defaults).dateFormat;\n            var datestr = String(date).trim();\n            if (datestr === \"today\") {\n                parsedDate = new Date();\n                timeless = true;\n            }\n            else if (config && config.parseDate) {\n                parsedDate = config.parseDate(date, format);\n            }\n            else if (/Z$/.test(datestr) ||\n                /GMT$/.test(datestr)) {\n                parsedDate = new Date(date);\n            }\n            else {\n                var matched = void 0, ops = [];\n                for (var i = 0, matchIndex = 0, regexStr = \"\"; i < format.length; i++) {\n                    var token = format[i];\n                    var isBackSlash = token === \"\\\\\";\n                    var escaped = format[i - 1] === \"\\\\\" || isBackSlash;\n                    if (tokenRegex[token] && !escaped) {\n                        regexStr += tokenRegex[token];\n                        var match = new RegExp(regexStr).exec(date);\n                        if (match && (matched = true)) {\n                            ops[token !== \"Y\" ? \"push\" : \"unshift\"]({\n                                fn: revFormat[token],\n                                val: match[++matchIndex],\n                            });\n                        }\n                    }\n                    else if (!isBackSlash)\n                        regexStr += \".\";\n                }\n                parsedDate =\n                    !config || !config.noCalendar\n                        ? new Date(new Date().getFullYear(), 0, 1, 0, 0, 0, 0)\n                        : new Date(new Date().setHours(0, 0, 0, 0));\n                ops.forEach(function (_a) {\n                    var fn = _a.fn, val = _a.val;\n                    return (parsedDate = fn(parsedDate, val, locale) || parsedDate);\n                });\n                parsedDate = matched ? parsedDate : undefined;\n            }\n        }\n        if (!(parsedDate instanceof Date && !isNaN(parsedDate.getTime()))) {\n            config.errorHandler(new Error(\"Invalid date provided: \" + dateOrig));\n            return undefined;\n        }\n        if (timeless === true)\n            parsedDate.setHours(0, 0, 0, 0);\n        return parsedDate;\n    };\n};\nexport function compareDates(date1, date2, timeless) {\n    if (timeless === void 0) { timeless = true; }\n    if (timeless !== false) {\n        return (new Date(date1.getTime()).setHours(0, 0, 0, 0) -\n            new Date(date2.getTime()).setHours(0, 0, 0, 0));\n    }\n    return date1.getTime() - date2.getTime();\n}\nexport function compareTimes(date1, date2) {\n    return (3600 * (date1.getHours() - date2.getHours()) +\n        60 * (date1.getMinutes() - date2.getMinutes()) +\n        date1.getSeconds() -\n        date2.getSeconds());\n}\nexport var isBetween = function (ts, ts1, ts2) {\n    return ts > Math.min(ts1, ts2) && ts < Math.max(ts1, ts2);\n};\nexport var calculateSecondsSinceMidnight = function (hours, minutes, seconds) {\n    return hours * 3600 + minutes * 60 + seconds;\n};\nexport var parseSeconds = function (secondsSinceMidnight) {\n    var hours = Math.floor(secondsSinceMidnight / 3600), minutes = (secondsSinceMidnight - hours * 3600) / 60;\n    return [hours, minutes, secondsSinceMidnight - hours * 3600 - minutes * 60];\n};\nexport var duration = {\n    DAY: 86400000,\n};\nexport function getDefaultHours(config) {\n    var hours = config.defaultHour;\n    var minutes = config.defaultMinute;\n    var seconds = config.defaultSeconds;\n    if (config.minDate !== undefined) {\n        var minHour = config.minDate.getHours();\n        var minMinutes = config.minDate.getMinutes();\n        var minSeconds = config.minDate.getSeconds();\n        if (hours < minHour) {\n            hours = minHour;\n        }\n        if (hours === minHour && minutes < minMinutes) {\n            minutes = minMinutes;\n        }\n        if (hours === minHour && minutes === minMinutes && seconds < minSeconds)\n            seconds = config.minDate.getSeconds();\n    }\n    if (config.maxDate !== undefined) {\n        var maxHr = config.maxDate.getHours();\n        var maxMinutes = config.maxDate.getMinutes();\n        hours = Math.min(hours, maxHr);\n        if (hours === maxHr)\n            minutes = Math.min(maxMinutes, minutes);\n        if (hours === maxHr && minutes === maxMinutes)\n            seconds = config.maxDate.getSeconds();\n    }\n    return { hours: hours, minutes: minutes, seconds: seconds };\n}\n","\"use strict\";\nif (typeof Object.assign !== \"function\") {\n    Object.assign = function (target) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (!target) {\n            throw TypeError(\"Cannot convert undefined or null to object\");\n        }\n        var _loop_1 = function (source) {\n            if (source) {\n                Object.keys(source).forEach(function (key) { return (target[key] = source[key]); });\n            }\n        };\n        for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\n            var source = args_1[_a];\n            _loop_1(source);\n        }\n        return target;\n    };\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { defaults as defaultOptions, HOOKS, } from \"./types/options\";\nimport English from \"./l10n/default\";\nimport { arrayify, debounce, int, pad } from \"./utils\";\nimport { clearNode, createElement, createNumberInput, findParent, toggleClass, getEventTarget, } from \"./utils/dom\";\nimport { compareDates, createDateParser, createDateFormatter, duration, isBetween, getDefaultHours, calculateSecondsSinceMidnight, parseSeconds, } from \"./utils/dates\";\nimport { tokenRegex, monthToStr } from \"./utils/formatting\";\nimport \"./utils/polyfills\";\nvar DEBOUNCED_CHANGE_MS = 300;\nfunction FlatpickrInstance(element, instanceConfig) {\n    var self = {\n        config: __assign(__assign({}, defaultOptions), flatpickr.defaultConfig),\n        l10n: English,\n    };\n    self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    self._handlers = [];\n    self.pluginElements = [];\n    self.loadedPlugins = [];\n    self._bind = bind;\n    self._setHoursFromDate = setHoursFromDate;\n    self._positionCalendar = positionCalendar;\n    self.changeMonth = changeMonth;\n    self.changeYear = changeYear;\n    self.clear = clear;\n    self.close = close;\n    self.onMouseOver = onMouseOver;\n    self._createElement = createElement;\n    self.createDay = createDay;\n    self.destroy = destroy;\n    self.isEnabled = isEnabled;\n    self.jumpToDate = jumpToDate;\n    self.updateValue = updateValue;\n    self.open = open;\n    self.redraw = redraw;\n    self.set = set;\n    self.setDate = setDate;\n    self.toggle = toggle;\n    function setupHelperFunctions() {\n        self.utils = {\n            getDaysInMonth: function (month, yr) {\n                if (month === void 0) { month = self.currentMonth; }\n                if (yr === void 0) { yr = self.currentYear; }\n                if (month === 1 && ((yr % 4 === 0 && yr % 100 !== 0) || yr % 400 === 0))\n                    return 29;\n                return self.l10n.daysInMonth[month];\n            },\n        };\n    }\n    function init() {\n        self.element = self.input = element;\n        self.isOpen = false;\n        parseConfig();\n        setupLocale();\n        setupInputs();\n        setupDates();\n        setupHelperFunctions();\n        if (!self.isMobile)\n            build();\n        bindEvents();\n        if (self.selectedDates.length || self.config.noCalendar) {\n            if (self.config.enableTime) {\n                setHoursFromDate(self.config.noCalendar ? self.latestSelectedDateObj : undefined);\n            }\n            updateValue(false);\n        }\n        setCalendarWidth();\n        var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n        if (!self.isMobile && isSafari) {\n            positionCalendar();\n        }\n        triggerEvent(\"onReady\");\n    }\n    function getClosestActiveElement() {\n        var _a;\n        return (((_a = self.calendarContainer) === null || _a === void 0 ? void 0 : _a.getRootNode())\n            .activeElement || document.activeElement);\n    }\n    function bindToInstance(fn) {\n        return fn.bind(self);\n    }\n    function setCalendarWidth() {\n        var config = self.config;\n        if (config.weekNumbers === false && config.showMonths === 1) {\n            return;\n        }\n        else if (config.noCalendar !== true) {\n            window.requestAnimationFrame(function () {\n                if (self.calendarContainer !== undefined) {\n                    self.calendarContainer.style.visibility = \"hidden\";\n                    self.calendarContainer.style.display = \"block\";\n                }\n                if (self.daysContainer !== undefined) {\n                    var daysWidth = (self.days.offsetWidth + 1) * config.showMonths;\n                    self.daysContainer.style.width = daysWidth + \"px\";\n                    self.calendarContainer.style.width =\n                        daysWidth +\n                            (self.weekWrapper !== undefined\n                                ? self.weekWrapper.offsetWidth\n                                : 0) +\n                            \"px\";\n                    self.calendarContainer.style.removeProperty(\"visibility\");\n                    self.calendarContainer.style.removeProperty(\"display\");\n                }\n            });\n        }\n    }\n    function updateTime(e) {\n        if (self.selectedDates.length === 0) {\n            var defaultDate = self.config.minDate === undefined ||\n                compareDates(new Date(), self.config.minDate) >= 0\n                ? new Date()\n                : new Date(self.config.minDate.getTime());\n            var defaults = getDefaultHours(self.config);\n            defaultDate.setHours(defaults.hours, defaults.minutes, defaults.seconds, defaultDate.getMilliseconds());\n            self.selectedDates = [defaultDate];\n            self.latestSelectedDateObj = defaultDate;\n        }\n        if (e !== undefined && e.type !== \"blur\") {\n            timeWrapper(e);\n        }\n        var prevValue = self._input.value;\n        setHoursFromInputs();\n        updateValue();\n        if (self._input.value !== prevValue) {\n            self._debouncedChange();\n        }\n    }\n    function ampm2military(hour, amPM) {\n        return (hour % 12) + 12 * int(amPM === self.l10n.amPM[1]);\n    }\n    function military2ampm(hour) {\n        switch (hour % 24) {\n            case 0:\n            case 12:\n                return 12;\n            default:\n                return hour % 12;\n        }\n    }\n    function setHoursFromInputs() {\n        if (self.hourElement === undefined || self.minuteElement === undefined)\n            return;\n        var hours = (parseInt(self.hourElement.value.slice(-2), 10) || 0) % 24, minutes = (parseInt(self.minuteElement.value, 10) || 0) % 60, seconds = self.secondElement !== undefined\n            ? (parseInt(self.secondElement.value, 10) || 0) % 60\n            : 0;\n        if (self.amPM !== undefined) {\n            hours = ampm2military(hours, self.amPM.textContent);\n        }\n        var limitMinHours = self.config.minTime !== undefined ||\n            (self.config.minDate &&\n                self.minDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.minDate, true) ===\n                    0);\n        var limitMaxHours = self.config.maxTime !== undefined ||\n            (self.config.maxDate &&\n                self.maxDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.maxDate, true) ===\n                    0);\n        if (self.config.maxTime !== undefined &&\n            self.config.minTime !== undefined &&\n            self.config.minTime > self.config.maxTime) {\n            var minBound = calculateSecondsSinceMidnight(self.config.minTime.getHours(), self.config.minTime.getMinutes(), self.config.minTime.getSeconds());\n            var maxBound = calculateSecondsSinceMidnight(self.config.maxTime.getHours(), self.config.maxTime.getMinutes(), self.config.maxTime.getSeconds());\n            var currentTime = calculateSecondsSinceMidnight(hours, minutes, seconds);\n            if (currentTime > maxBound && currentTime < minBound) {\n                var result = parseSeconds(minBound);\n                hours = result[0];\n                minutes = result[1];\n                seconds = result[2];\n            }\n        }\n        else {\n            if (limitMaxHours) {\n                var maxTime = self.config.maxTime !== undefined\n                    ? self.config.maxTime\n                    : self.config.maxDate;\n                hours = Math.min(hours, maxTime.getHours());\n                if (hours === maxTime.getHours())\n                    minutes = Math.min(minutes, maxTime.getMinutes());\n                if (minutes === maxTime.getMinutes())\n                    seconds = Math.min(seconds, maxTime.getSeconds());\n            }\n            if (limitMinHours) {\n                var minTime = self.config.minTime !== undefined\n                    ? self.config.minTime\n                    : self.config.minDate;\n                hours = Math.max(hours, minTime.getHours());\n                if (hours === minTime.getHours() && minutes < minTime.getMinutes())\n                    minutes = minTime.getMinutes();\n                if (minutes === minTime.getMinutes())\n                    seconds = Math.max(seconds, minTime.getSeconds());\n            }\n        }\n        setHours(hours, minutes, seconds);\n    }\n    function setHoursFromDate(dateObj) {\n        var date = dateObj || self.latestSelectedDateObj;\n        if (date && date instanceof Date) {\n            setHours(date.getHours(), date.getMinutes(), date.getSeconds());\n        }\n    }\n    function setHours(hours, minutes, seconds) {\n        if (self.latestSelectedDateObj !== undefined) {\n            self.latestSelectedDateObj.setHours(hours % 24, minutes, seconds || 0, 0);\n        }\n        if (!self.hourElement || !self.minuteElement || self.isMobile)\n            return;\n        self.hourElement.value = pad(!self.config.time_24hr\n            ? ((12 + hours) % 12) + 12 * int(hours % 12 === 0)\n            : hours);\n        self.minuteElement.value = pad(minutes);\n        if (self.amPM !== undefined)\n            self.amPM.textContent = self.l10n.amPM[int(hours >= 12)];\n        if (self.secondElement !== undefined)\n            self.secondElement.value = pad(seconds);\n    }\n    function onYearInput(event) {\n        var eventTarget = getEventTarget(event);\n        var year = parseInt(eventTarget.value) + (event.delta || 0);\n        if (year / 1000 > 1 ||\n            (event.key === \"Enter\" && !/[^\\d]/.test(year.toString()))) {\n            changeYear(year);\n        }\n    }\n    function bind(element, event, handler, options) {\n        if (event instanceof Array)\n            return event.forEach(function (ev) { return bind(element, ev, handler, options); });\n        if (element instanceof Array)\n            return element.forEach(function (el) { return bind(el, event, handler, options); });\n        element.addEventListener(event, handler, options);\n        self._handlers.push({\n            remove: function () { return element.removeEventListener(event, handler, options); },\n        });\n    }\n    function triggerChange() {\n        triggerEvent(\"onChange\");\n    }\n    function bindEvents() {\n        if (self.config.wrap) {\n            [\"open\", \"close\", \"toggle\", \"clear\"].forEach(function (evt) {\n                Array.prototype.forEach.call(self.element.querySelectorAll(\"[data-\" + evt + \"]\"), function (el) {\n                    return bind(el, \"click\", self[evt]);\n                });\n            });\n        }\n        if (self.isMobile) {\n            setupMobile();\n            return;\n        }\n        var debouncedResize = debounce(onResize, 50);\n        self._debouncedChange = debounce(triggerChange, DEBOUNCED_CHANGE_MS);\n        if (self.daysContainer && !/iPhone|iPad|iPod/i.test(navigator.userAgent))\n            bind(self.daysContainer, \"mouseover\", function (e) {\n                if (self.config.mode === \"range\")\n                    onMouseOver(getEventTarget(e));\n            });\n        bind(self._input, \"keydown\", onKeyDown);\n        if (self.calendarContainer !== undefined) {\n            bind(self.calendarContainer, \"keydown\", onKeyDown);\n        }\n        if (!self.config.inline && !self.config.static)\n            bind(window, \"resize\", debouncedResize);\n        if (window.ontouchstart !== undefined)\n            bind(window.document, \"touchstart\", documentClick);\n        else\n            bind(window.document, \"mousedown\", documentClick);\n        bind(window.document, \"focus\", documentClick, { capture: true });\n        if (self.config.clickOpens === true) {\n            bind(self._input, \"focus\", self.open);\n            bind(self._input, \"click\", self.open);\n        }\n        if (self.daysContainer !== undefined) {\n            bind(self.monthNav, \"click\", onMonthNavClick);\n            bind(self.monthNav, [\"keyup\", \"increment\"], onYearInput);\n            bind(self.daysContainer, \"click\", selectDate);\n        }\n        if (self.timeContainer !== undefined &&\n            self.minuteElement !== undefined &&\n            self.hourElement !== undefined) {\n            var selText = function (e) {\n                return getEventTarget(e).select();\n            };\n            bind(self.timeContainer, [\"increment\"], updateTime);\n            bind(self.timeContainer, \"blur\", updateTime, { capture: true });\n            bind(self.timeContainer, \"click\", timeIncrement);\n            bind([self.hourElement, self.minuteElement], [\"focus\", \"click\"], selText);\n            if (self.secondElement !== undefined)\n                bind(self.secondElement, \"focus\", function () { return self.secondElement && self.secondElement.select(); });\n            if (self.amPM !== undefined) {\n                bind(self.amPM, \"click\", function (e) {\n                    updateTime(e);\n                });\n            }\n        }\n        if (self.config.allowInput) {\n            bind(self._input, \"blur\", onBlur);\n        }\n    }\n    function jumpToDate(jumpDate, triggerChange) {\n        var jumpTo = jumpDate !== undefined\n            ? self.parseDate(jumpDate)\n            : self.latestSelectedDateObj ||\n                (self.config.minDate && self.config.minDate > self.now\n                    ? self.config.minDate\n                    : self.config.maxDate && self.config.maxDate < self.now\n                        ? self.config.maxDate\n                        : self.now);\n        var oldYear = self.currentYear;\n        var oldMonth = self.currentMonth;\n        try {\n            if (jumpTo !== undefined) {\n                self.currentYear = jumpTo.getFullYear();\n                self.currentMonth = jumpTo.getMonth();\n            }\n        }\n        catch (e) {\n            e.message = \"Invalid date supplied: \" + jumpTo;\n            self.config.errorHandler(e);\n        }\n        if (triggerChange && self.currentYear !== oldYear) {\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        if (triggerChange &&\n            (self.currentYear !== oldYear || self.currentMonth !== oldMonth)) {\n            triggerEvent(\"onMonthChange\");\n        }\n        self.redraw();\n    }\n    function timeIncrement(e) {\n        var eventTarget = getEventTarget(e);\n        if (~eventTarget.className.indexOf(\"arrow\"))\n            incrementNumInput(e, eventTarget.classList.contains(\"arrowUp\") ? 1 : -1);\n    }\n    function incrementNumInput(e, delta, inputElem) {\n        var target = e && getEventTarget(e);\n        var input = inputElem ||\n            (target && target.parentNode && target.parentNode.firstChild);\n        var event = createEvent(\"increment\");\n        event.delta = delta;\n        input && input.dispatchEvent(event);\n    }\n    function build() {\n        var fragment = window.document.createDocumentFragment();\n        self.calendarContainer = createElement(\"div\", \"flatpickr-calendar\");\n        self.calendarContainer.tabIndex = -1;\n        if (!self.config.noCalendar) {\n            fragment.appendChild(buildMonthNav());\n            self.innerContainer = createElement(\"div\", \"flatpickr-innerContainer\");\n            if (self.config.weekNumbers) {\n                var _a = buildWeeks(), weekWrapper = _a.weekWrapper, weekNumbers = _a.weekNumbers;\n                self.innerContainer.appendChild(weekWrapper);\n                self.weekNumbers = weekNumbers;\n                self.weekWrapper = weekWrapper;\n            }\n            self.rContainer = createElement(\"div\", \"flatpickr-rContainer\");\n            self.rContainer.appendChild(buildWeekdays());\n            if (!self.daysContainer) {\n                self.daysContainer = createElement(\"div\", \"flatpickr-days\");\n                self.daysContainer.tabIndex = -1;\n            }\n            buildDays();\n            self.rContainer.appendChild(self.daysContainer);\n            self.innerContainer.appendChild(self.rContainer);\n            fragment.appendChild(self.innerContainer);\n        }\n        if (self.config.enableTime) {\n            fragment.appendChild(buildTime());\n        }\n        toggleClass(self.calendarContainer, \"rangeMode\", self.config.mode === \"range\");\n        toggleClass(self.calendarContainer, \"animate\", self.config.animate === true);\n        toggleClass(self.calendarContainer, \"multiMonth\", self.config.showMonths > 1);\n        self.calendarContainer.appendChild(fragment);\n        var customAppend = self.config.appendTo !== undefined &&\n            self.config.appendTo.nodeType !== undefined;\n        if (self.config.inline || self.config.static) {\n            self.calendarContainer.classList.add(self.config.inline ? \"inline\" : \"static\");\n            if (self.config.inline) {\n                if (!customAppend && self.element.parentNode)\n                    self.element.parentNode.insertBefore(self.calendarContainer, self._input.nextSibling);\n                else if (self.config.appendTo !== undefined)\n                    self.config.appendTo.appendChild(self.calendarContainer);\n            }\n            if (self.config.static) {\n                var wrapper = createElement(\"div\", \"flatpickr-wrapper\");\n                if (self.element.parentNode)\n                    self.element.parentNode.insertBefore(wrapper, self.element);\n                wrapper.appendChild(self.element);\n                if (self.altInput)\n                    wrapper.appendChild(self.altInput);\n                wrapper.appendChild(self.calendarContainer);\n            }\n        }\n        if (!self.config.static && !self.config.inline)\n            (self.config.appendTo !== undefined\n                ? self.config.appendTo\n                : window.document.body).appendChild(self.calendarContainer);\n    }\n    function createDay(className, date, _dayNumber, i) {\n        var dateIsEnabled = isEnabled(date, true), dayElement = createElement(\"span\", className, date.getDate().toString());\n        dayElement.dateObj = date;\n        dayElement.$i = i;\n        dayElement.setAttribute(\"aria-label\", self.formatDate(date, self.config.ariaDateFormat));\n        if (className.indexOf(\"hidden\") === -1 &&\n            compareDates(date, self.now) === 0) {\n            self.todayDateElem = dayElement;\n            dayElement.classList.add(\"today\");\n            dayElement.setAttribute(\"aria-current\", \"date\");\n        }\n        if (dateIsEnabled) {\n            dayElement.tabIndex = -1;\n            if (isDateSelected(date)) {\n                dayElement.classList.add(\"selected\");\n                self.selectedDateElem = dayElement;\n                if (self.config.mode === \"range\") {\n                    toggleClass(dayElement, \"startRange\", self.selectedDates[0] &&\n                        compareDates(date, self.selectedDates[0], true) === 0);\n                    toggleClass(dayElement, \"endRange\", self.selectedDates[1] &&\n                        compareDates(date, self.selectedDates[1], true) === 0);\n                    if (className === \"nextMonthDay\")\n                        dayElement.classList.add(\"inRange\");\n                }\n            }\n        }\n        else {\n            dayElement.classList.add(\"flatpickr-disabled\");\n        }\n        if (self.config.mode === \"range\") {\n            if (isDateInRange(date) && !isDateSelected(date))\n                dayElement.classList.add(\"inRange\");\n        }\n        if (self.weekNumbers &&\n            self.config.showMonths === 1 &&\n            className !== \"prevMonthDay\" &&\n            i % 7 === 6) {\n            self.weekNumbers.insertAdjacentHTML(\"beforeend\", \"<span class='flatpickr-day'>\" + self.config.getWeek(date) + \"</span>\");\n        }\n        triggerEvent(\"onDayCreate\", dayElement);\n        return dayElement;\n    }\n    function focusOnDayElem(targetNode) {\n        targetNode.focus();\n        if (self.config.mode === \"range\")\n            onMouseOver(targetNode);\n    }\n    function getFirstAvailableDay(delta) {\n        var startMonth = delta > 0 ? 0 : self.config.showMonths - 1;\n        var endMonth = delta > 0 ? self.config.showMonths : -1;\n        for (var m = startMonth; m != endMonth; m += delta) {\n            var month = self.daysContainer.children[m];\n            var startIndex = delta > 0 ? 0 : month.children.length - 1;\n            var endIndex = delta > 0 ? month.children.length : -1;\n            for (var i = startIndex; i != endIndex; i += delta) {\n                var c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 && isEnabled(c.dateObj))\n                    return c;\n            }\n        }\n        return undefined;\n    }\n    function getNextAvailableDay(current, delta) {\n        var givenMonth = current.className.indexOf(\"Month\") === -1\n            ? current.dateObj.getMonth()\n            : self.currentMonth;\n        var endMonth = delta > 0 ? self.config.showMonths : -1;\n        var loopDelta = delta > 0 ? 1 : -1;\n        for (var m = givenMonth - self.currentMonth; m != endMonth; m += loopDelta) {\n            var month = self.daysContainer.children[m];\n            var startIndex = givenMonth - self.currentMonth === m\n                ? current.$i + delta\n                : delta < 0\n                    ? month.children.length - 1\n                    : 0;\n            var numMonthDays = month.children.length;\n            for (var i = startIndex; i >= 0 && i < numMonthDays && i != (delta > 0 ? numMonthDays : -1); i += loopDelta) {\n                var c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 &&\n                    isEnabled(c.dateObj) &&\n                    Math.abs(current.$i - i) >= Math.abs(delta))\n                    return focusOnDayElem(c);\n            }\n        }\n        self.changeMonth(loopDelta);\n        focusOnDay(getFirstAvailableDay(loopDelta), 0);\n        return undefined;\n    }\n    function focusOnDay(current, offset) {\n        var activeElement = getClosestActiveElement();\n        var dayFocused = isInView(activeElement || document.body);\n        var startElem = current !== undefined\n            ? current\n            : dayFocused\n                ? activeElement\n                : self.selectedDateElem !== undefined && isInView(self.selectedDateElem)\n                    ? self.selectedDateElem\n                    : self.todayDateElem !== undefined && isInView(self.todayDateElem)\n                        ? self.todayDateElem\n                        : getFirstAvailableDay(offset > 0 ? 1 : -1);\n        if (startElem === undefined) {\n            self._input.focus();\n        }\n        else if (!dayFocused) {\n            focusOnDayElem(startElem);\n        }\n        else {\n            getNextAvailableDay(startElem, offset);\n        }\n    }\n    function buildMonthDays(year, month) {\n        var firstOfMonth = (new Date(year, month, 1).getDay() - self.l10n.firstDayOfWeek + 7) % 7;\n        var prevMonthDays = self.utils.getDaysInMonth((month - 1 + 12) % 12, year);\n        var daysInMonth = self.utils.getDaysInMonth(month, year), days = window.document.createDocumentFragment(), isMultiMonth = self.config.showMonths > 1, prevMonthDayClass = isMultiMonth ? \"prevMonthDay hidden\" : \"prevMonthDay\", nextMonthDayClass = isMultiMonth ? \"nextMonthDay hidden\" : \"nextMonthDay\";\n        var dayNumber = prevMonthDays + 1 - firstOfMonth, dayIndex = 0;\n        for (; dayNumber <= prevMonthDays; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day \" + prevMonthDayClass, new Date(year, month - 1, dayNumber), dayNumber, dayIndex));\n        }\n        for (dayNumber = 1; dayNumber <= daysInMonth; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day\", new Date(year, month, dayNumber), dayNumber, dayIndex));\n        }\n        for (var dayNum = daysInMonth + 1; dayNum <= 42 - firstOfMonth &&\n            (self.config.showMonths === 1 || dayIndex % 7 !== 0); dayNum++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day \" + nextMonthDayClass, new Date(year, month + 1, dayNum % daysInMonth), dayNum, dayIndex));\n        }\n        var dayContainer = createElement(\"div\", \"dayContainer\");\n        dayContainer.appendChild(days);\n        return dayContainer;\n    }\n    function buildDays() {\n        if (self.daysContainer === undefined) {\n            return;\n        }\n        clearNode(self.daysContainer);\n        if (self.weekNumbers)\n            clearNode(self.weekNumbers);\n        var frag = document.createDocumentFragment();\n        for (var i = 0; i < self.config.showMonths; i++) {\n            var d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            frag.appendChild(buildMonthDays(d.getFullYear(), d.getMonth()));\n        }\n        self.daysContainer.appendChild(frag);\n        self.days = self.daysContainer.firstChild;\n        if (self.config.mode === \"range\" && self.selectedDates.length === 1) {\n            onMouseOver();\n        }\n    }\n    function buildMonthSwitch() {\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType !== \"dropdown\")\n            return;\n        var shouldBuildMonth = function (month) {\n            if (self.config.minDate !== undefined &&\n                self.currentYear === self.config.minDate.getFullYear() &&\n                month < self.config.minDate.getMonth()) {\n                return false;\n            }\n            return !(self.config.maxDate !== undefined &&\n                self.currentYear === self.config.maxDate.getFullYear() &&\n                month > self.config.maxDate.getMonth());\n        };\n        self.monthsDropdownContainer.tabIndex = -1;\n        self.monthsDropdownContainer.innerHTML = \"\";\n        for (var i = 0; i < 12; i++) {\n            if (!shouldBuildMonth(i))\n                continue;\n            var month = createElement(\"option\", \"flatpickr-monthDropdown-month\");\n            month.value = new Date(self.currentYear, i).getMonth().toString();\n            month.textContent = monthToStr(i, self.config.shorthandCurrentMonth, self.l10n);\n            month.tabIndex = -1;\n            if (self.currentMonth === i) {\n                month.selected = true;\n            }\n            self.monthsDropdownContainer.appendChild(month);\n        }\n    }\n    function buildMonth() {\n        var container = createElement(\"div\", \"flatpickr-month\");\n        var monthNavFragment = window.document.createDocumentFragment();\n        var monthElement;\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType === \"static\") {\n            monthElement = createElement(\"span\", \"cur-month\");\n        }\n        else {\n            self.monthsDropdownContainer = createElement(\"select\", \"flatpickr-monthDropdown-months\");\n            self.monthsDropdownContainer.setAttribute(\"aria-label\", self.l10n.monthAriaLabel);\n            bind(self.monthsDropdownContainer, \"change\", function (e) {\n                var target = getEventTarget(e);\n                var selectedMonth = parseInt(target.value, 10);\n                self.changeMonth(selectedMonth - self.currentMonth);\n                triggerEvent(\"onMonthChange\");\n            });\n            buildMonthSwitch();\n            monthElement = self.monthsDropdownContainer;\n        }\n        var yearInput = createNumberInput(\"cur-year\", { tabindex: \"-1\" });\n        var yearElement = yearInput.getElementsByTagName(\"input\")[0];\n        yearElement.setAttribute(\"aria-label\", self.l10n.yearAriaLabel);\n        if (self.config.minDate) {\n            yearElement.setAttribute(\"min\", self.config.minDate.getFullYear().toString());\n        }\n        if (self.config.maxDate) {\n            yearElement.setAttribute(\"max\", self.config.maxDate.getFullYear().toString());\n            yearElement.disabled =\n                !!self.config.minDate &&\n                    self.config.minDate.getFullYear() === self.config.maxDate.getFullYear();\n        }\n        var currentMonth = createElement(\"div\", \"flatpickr-current-month\");\n        currentMonth.appendChild(monthElement);\n        currentMonth.appendChild(yearInput);\n        monthNavFragment.appendChild(currentMonth);\n        container.appendChild(monthNavFragment);\n        return {\n            container: container,\n            yearElement: yearElement,\n            monthElement: monthElement,\n        };\n    }\n    function buildMonths() {\n        clearNode(self.monthNav);\n        self.monthNav.appendChild(self.prevMonthNav);\n        if (self.config.showMonths) {\n            self.yearElements = [];\n            self.monthElements = [];\n        }\n        for (var m = self.config.showMonths; m--;) {\n            var month = buildMonth();\n            self.yearElements.push(month.yearElement);\n            self.monthElements.push(month.monthElement);\n            self.monthNav.appendChild(month.container);\n        }\n        self.monthNav.appendChild(self.nextMonthNav);\n    }\n    function buildMonthNav() {\n        self.monthNav = createElement(\"div\", \"flatpickr-months\");\n        self.yearElements = [];\n        self.monthElements = [];\n        self.prevMonthNav = createElement(\"span\", \"flatpickr-prev-month\");\n        self.prevMonthNav.innerHTML = self.config.prevArrow;\n        self.nextMonthNav = createElement(\"span\", \"flatpickr-next-month\");\n        self.nextMonthNav.innerHTML = self.config.nextArrow;\n        buildMonths();\n        Object.defineProperty(self, \"_hidePrevMonthArrow\", {\n            get: function () { return self.__hidePrevMonthArrow; },\n            set: function (bool) {\n                if (self.__hidePrevMonthArrow !== bool) {\n                    toggleClass(self.prevMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hidePrevMonthArrow = bool;\n                }\n            },\n        });\n        Object.defineProperty(self, \"_hideNextMonthArrow\", {\n            get: function () { return self.__hideNextMonthArrow; },\n            set: function (bool) {\n                if (self.__hideNextMonthArrow !== bool) {\n                    toggleClass(self.nextMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hideNextMonthArrow = bool;\n                }\n            },\n        });\n        self.currentYearElement = self.yearElements[0];\n        updateNavigationCurrentMonth();\n        return self.monthNav;\n    }\n    function buildTime() {\n        self.calendarContainer.classList.add(\"hasTime\");\n        if (self.config.noCalendar)\n            self.calendarContainer.classList.add(\"noCalendar\");\n        var defaults = getDefaultHours(self.config);\n        self.timeContainer = createElement(\"div\", \"flatpickr-time\");\n        self.timeContainer.tabIndex = -1;\n        var separator = createElement(\"span\", \"flatpickr-time-separator\", \":\");\n        var hourInput = createNumberInput(\"flatpickr-hour\", {\n            \"aria-label\": self.l10n.hourAriaLabel,\n        });\n        self.hourElement = hourInput.getElementsByTagName(\"input\")[0];\n        var minuteInput = createNumberInput(\"flatpickr-minute\", {\n            \"aria-label\": self.l10n.minuteAriaLabel,\n        });\n        self.minuteElement = minuteInput.getElementsByTagName(\"input\")[0];\n        self.hourElement.tabIndex = self.minuteElement.tabIndex = -1;\n        self.hourElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getHours()\n            : self.config.time_24hr\n                ? defaults.hours\n                : military2ampm(defaults.hours));\n        self.minuteElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getMinutes()\n            : defaults.minutes);\n        self.hourElement.setAttribute(\"step\", self.config.hourIncrement.toString());\n        self.minuteElement.setAttribute(\"step\", self.config.minuteIncrement.toString());\n        self.hourElement.setAttribute(\"min\", self.config.time_24hr ? \"0\" : \"1\");\n        self.hourElement.setAttribute(\"max\", self.config.time_24hr ? \"23\" : \"12\");\n        self.hourElement.setAttribute(\"maxlength\", \"2\");\n        self.minuteElement.setAttribute(\"min\", \"0\");\n        self.minuteElement.setAttribute(\"max\", \"59\");\n        self.minuteElement.setAttribute(\"maxlength\", \"2\");\n        self.timeContainer.appendChild(hourInput);\n        self.timeContainer.appendChild(separator);\n        self.timeContainer.appendChild(minuteInput);\n        if (self.config.time_24hr)\n            self.timeContainer.classList.add(\"time24hr\");\n        if (self.config.enableSeconds) {\n            self.timeContainer.classList.add(\"hasSeconds\");\n            var secondInput = createNumberInput(\"flatpickr-second\");\n            self.secondElement = secondInput.getElementsByTagName(\"input\")[0];\n            self.secondElement.value = pad(self.latestSelectedDateObj\n                ? self.latestSelectedDateObj.getSeconds()\n                : defaults.seconds);\n            self.secondElement.setAttribute(\"step\", self.minuteElement.getAttribute(\"step\"));\n            self.secondElement.setAttribute(\"min\", \"0\");\n            self.secondElement.setAttribute(\"max\", \"59\");\n            self.secondElement.setAttribute(\"maxlength\", \"2\");\n            self.timeContainer.appendChild(createElement(\"span\", \"flatpickr-time-separator\", \":\"));\n            self.timeContainer.appendChild(secondInput);\n        }\n        if (!self.config.time_24hr) {\n            self.amPM = createElement(\"span\", \"flatpickr-am-pm\", self.l10n.amPM[int((self.latestSelectedDateObj\n                ? self.hourElement.value\n                : self.config.defaultHour) > 11)]);\n            self.amPM.title = self.l10n.toggleTitle;\n            self.amPM.tabIndex = -1;\n            self.timeContainer.appendChild(self.amPM);\n        }\n        return self.timeContainer;\n    }\n    function buildWeekdays() {\n        if (!self.weekdayContainer)\n            self.weekdayContainer = createElement(\"div\", \"flatpickr-weekdays\");\n        else\n            clearNode(self.weekdayContainer);\n        for (var i = self.config.showMonths; i--;) {\n            var container = createElement(\"div\", \"flatpickr-weekdaycontainer\");\n            self.weekdayContainer.appendChild(container);\n        }\n        updateWeekdays();\n        return self.weekdayContainer;\n    }\n    function updateWeekdays() {\n        if (!self.weekdayContainer) {\n            return;\n        }\n        var firstDayOfWeek = self.l10n.firstDayOfWeek;\n        var weekdays = __spreadArrays(self.l10n.weekdays.shorthand);\n        if (firstDayOfWeek > 0 && firstDayOfWeek < weekdays.length) {\n            weekdays = __spreadArrays(weekdays.splice(firstDayOfWeek, weekdays.length), weekdays.splice(0, firstDayOfWeek));\n        }\n        for (var i = self.config.showMonths; i--;) {\n            self.weekdayContainer.children[i].innerHTML = \"\\n      <span class='flatpickr-weekday'>\\n        \" + weekdays.join(\"</span><span class='flatpickr-weekday'>\") + \"\\n      </span>\\n      \";\n        }\n    }\n    function buildWeeks() {\n        self.calendarContainer.classList.add(\"hasWeeks\");\n        var weekWrapper = createElement(\"div\", \"flatpickr-weekwrapper\");\n        weekWrapper.appendChild(createElement(\"span\", \"flatpickr-weekday\", self.l10n.weekAbbreviation));\n        var weekNumbers = createElement(\"div\", \"flatpickr-weeks\");\n        weekWrapper.appendChild(weekNumbers);\n        return {\n            weekWrapper: weekWrapper,\n            weekNumbers: weekNumbers,\n        };\n    }\n    function changeMonth(value, isOffset) {\n        if (isOffset === void 0) { isOffset = true; }\n        var delta = isOffset ? value : value - self.currentMonth;\n        if ((delta < 0 && self._hidePrevMonthArrow === true) ||\n            (delta > 0 && self._hideNextMonthArrow === true))\n            return;\n        self.currentMonth += delta;\n        if (self.currentMonth < 0 || self.currentMonth > 11) {\n            self.currentYear += self.currentMonth > 11 ? 1 : -1;\n            self.currentMonth = (self.currentMonth + 12) % 12;\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        buildDays();\n        triggerEvent(\"onMonthChange\");\n        updateNavigationCurrentMonth();\n    }\n    function clear(triggerChangeEvent, toInitial) {\n        if (triggerChangeEvent === void 0) { triggerChangeEvent = true; }\n        if (toInitial === void 0) { toInitial = true; }\n        self.input.value = \"\";\n        if (self.altInput !== undefined)\n            self.altInput.value = \"\";\n        if (self.mobileInput !== undefined)\n            self.mobileInput.value = \"\";\n        self.selectedDates = [];\n        self.latestSelectedDateObj = undefined;\n        if (toInitial === true) {\n            self.currentYear = self._initialDate.getFullYear();\n            self.currentMonth = self._initialDate.getMonth();\n        }\n        if (self.config.enableTime === true) {\n            var _a = getDefaultHours(self.config), hours = _a.hours, minutes = _a.minutes, seconds = _a.seconds;\n            setHours(hours, minutes, seconds);\n        }\n        self.redraw();\n        if (triggerChangeEvent)\n            triggerEvent(\"onChange\");\n    }\n    function close() {\n        self.isOpen = false;\n        if (!self.isMobile) {\n            if (self.calendarContainer !== undefined) {\n                self.calendarContainer.classList.remove(\"open\");\n            }\n            if (self._input !== undefined) {\n                self._input.classList.remove(\"active\");\n            }\n        }\n        triggerEvent(\"onClose\");\n    }\n    function destroy() {\n        if (self.config !== undefined)\n            triggerEvent(\"onDestroy\");\n        for (var i = self._handlers.length; i--;) {\n            self._handlers[i].remove();\n        }\n        self._handlers = [];\n        if (self.mobileInput) {\n            if (self.mobileInput.parentNode)\n                self.mobileInput.parentNode.removeChild(self.mobileInput);\n            self.mobileInput = undefined;\n        }\n        else if (self.calendarContainer && self.calendarContainer.parentNode) {\n            if (self.config.static && self.calendarContainer.parentNode) {\n                var wrapper = self.calendarContainer.parentNode;\n                wrapper.lastChild && wrapper.removeChild(wrapper.lastChild);\n                if (wrapper.parentNode) {\n                    while (wrapper.firstChild)\n                        wrapper.parentNode.insertBefore(wrapper.firstChild, wrapper);\n                    wrapper.parentNode.removeChild(wrapper);\n                }\n            }\n            else\n                self.calendarContainer.parentNode.removeChild(self.calendarContainer);\n        }\n        if (self.altInput) {\n            self.input.type = \"text\";\n            if (self.altInput.parentNode)\n                self.altInput.parentNode.removeChild(self.altInput);\n            delete self.altInput;\n        }\n        if (self.input) {\n            self.input.type = self.input._type;\n            self.input.classList.remove(\"flatpickr-input\");\n            self.input.removeAttribute(\"readonly\");\n        }\n        [\n            \"_showTimeInput\",\n            \"latestSelectedDateObj\",\n            \"_hideNextMonthArrow\",\n            \"_hidePrevMonthArrow\",\n            \"__hideNextMonthArrow\",\n            \"__hidePrevMonthArrow\",\n            \"isMobile\",\n            \"isOpen\",\n            \"selectedDateElem\",\n            \"minDateHasTime\",\n            \"maxDateHasTime\",\n            \"days\",\n            \"daysContainer\",\n            \"_input\",\n            \"_positionElement\",\n            \"innerContainer\",\n            \"rContainer\",\n            \"monthNav\",\n            \"todayDateElem\",\n            \"calendarContainer\",\n            \"weekdayContainer\",\n            \"prevMonthNav\",\n            \"nextMonthNav\",\n            \"monthsDropdownContainer\",\n            \"currentMonthElement\",\n            \"currentYearElement\",\n            \"navigationCurrentMonth\",\n            \"selectedDateElem\",\n            \"config\",\n        ].forEach(function (k) {\n            try {\n                delete self[k];\n            }\n            catch (_) { }\n        });\n    }\n    function isCalendarElem(elem) {\n        return self.calendarContainer.contains(elem);\n    }\n    function documentClick(e) {\n        if (self.isOpen && !self.config.inline) {\n            var eventTarget_1 = getEventTarget(e);\n            var isCalendarElement = isCalendarElem(eventTarget_1);\n            var isInput = eventTarget_1 === self.input ||\n                eventTarget_1 === self.altInput ||\n                self.element.contains(eventTarget_1) ||\n                (e.path &&\n                    e.path.indexOf &&\n                    (~e.path.indexOf(self.input) ||\n                        ~e.path.indexOf(self.altInput)));\n            var lostFocus = !isInput &&\n                !isCalendarElement &&\n                !isCalendarElem(e.relatedTarget);\n            var isIgnored = !self.config.ignoredFocusElements.some(function (elem) {\n                return elem.contains(eventTarget_1);\n            });\n            if (lostFocus && isIgnored) {\n                if (self.config.allowInput) {\n                    self.setDate(self._input.value, false, self.config.altInput\n                        ? self.config.altFormat\n                        : self.config.dateFormat);\n                }\n                if (self.timeContainer !== undefined &&\n                    self.minuteElement !== undefined &&\n                    self.hourElement !== undefined &&\n                    self.input.value !== \"\" &&\n                    self.input.value !== undefined) {\n                    updateTime();\n                }\n                self.close();\n                if (self.config &&\n                    self.config.mode === \"range\" &&\n                    self.selectedDates.length === 1)\n                    self.clear(false);\n            }\n        }\n    }\n    function changeYear(newYear) {\n        if (!newYear ||\n            (self.config.minDate && newYear < self.config.minDate.getFullYear()) ||\n            (self.config.maxDate && newYear > self.config.maxDate.getFullYear()))\n            return;\n        var newYearNum = newYear, isNewYear = self.currentYear !== newYearNum;\n        self.currentYear = newYearNum || self.currentYear;\n        if (self.config.maxDate &&\n            self.currentYear === self.config.maxDate.getFullYear()) {\n            self.currentMonth = Math.min(self.config.maxDate.getMonth(), self.currentMonth);\n        }\n        else if (self.config.minDate &&\n            self.currentYear === self.config.minDate.getFullYear()) {\n            self.currentMonth = Math.max(self.config.minDate.getMonth(), self.currentMonth);\n        }\n        if (isNewYear) {\n            self.redraw();\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n    }\n    function isEnabled(date, timeless) {\n        var _a;\n        if (timeless === void 0) { timeless = true; }\n        var dateToCheck = self.parseDate(date, undefined, timeless);\n        if ((self.config.minDate &&\n            dateToCheck &&\n            compareDates(dateToCheck, self.config.minDate, timeless !== undefined ? timeless : !self.minDateHasTime) < 0) ||\n            (self.config.maxDate &&\n                dateToCheck &&\n                compareDates(dateToCheck, self.config.maxDate, timeless !== undefined ? timeless : !self.maxDateHasTime) > 0))\n            return false;\n        if (!self.config.enable && self.config.disable.length === 0)\n            return true;\n        if (dateToCheck === undefined)\n            return false;\n        var bool = !!self.config.enable, array = (_a = self.config.enable) !== null && _a !== void 0 ? _a : self.config.disable;\n        for (var i = 0, d = void 0; i < array.length; i++) {\n            d = array[i];\n            if (typeof d === \"function\" &&\n                d(dateToCheck))\n                return bool;\n            else if (d instanceof Date &&\n                dateToCheck !== undefined &&\n                d.getTime() === dateToCheck.getTime())\n                return bool;\n            else if (typeof d === \"string\") {\n                var parsed = self.parseDate(d, undefined, true);\n                return parsed && parsed.getTime() === dateToCheck.getTime()\n                    ? bool\n                    : !bool;\n            }\n            else if (typeof d === \"object\" &&\n                dateToCheck !== undefined &&\n                d.from &&\n                d.to &&\n                dateToCheck.getTime() >= d.from.getTime() &&\n                dateToCheck.getTime() <= d.to.getTime())\n                return bool;\n        }\n        return !bool;\n    }\n    function isInView(elem) {\n        if (self.daysContainer !== undefined)\n            return (elem.className.indexOf(\"hidden\") === -1 &&\n                elem.className.indexOf(\"flatpickr-disabled\") === -1 &&\n                self.daysContainer.contains(elem));\n        return false;\n    }\n    function onBlur(e) {\n        var isInput = e.target === self._input;\n        var valueChanged = self._input.value.trimEnd() !== getDateStr();\n        if (isInput &&\n            valueChanged &&\n            !(e.relatedTarget && isCalendarElem(e.relatedTarget))) {\n            self.setDate(self._input.value, true, e.target === self.altInput\n                ? self.config.altFormat\n                : self.config.dateFormat);\n        }\n    }\n    function onKeyDown(e) {\n        var eventTarget = getEventTarget(e);\n        var isInput = self.config.wrap\n            ? element.contains(eventTarget)\n            : eventTarget === self._input;\n        var allowInput = self.config.allowInput;\n        var allowKeydown = self.isOpen && (!allowInput || !isInput);\n        var allowInlineKeydown = self.config.inline && isInput && !allowInput;\n        if (e.keyCode === 13 && isInput) {\n            if (allowInput) {\n                self.setDate(self._input.value, true, eventTarget === self.altInput\n                    ? self.config.altFormat\n                    : self.config.dateFormat);\n                self.close();\n                return eventTarget.blur();\n            }\n            else {\n                self.open();\n            }\n        }\n        else if (isCalendarElem(eventTarget) ||\n            allowKeydown ||\n            allowInlineKeydown) {\n            var isTimeObj = !!self.timeContainer &&\n                self.timeContainer.contains(eventTarget);\n            switch (e.keyCode) {\n                case 13:\n                    if (isTimeObj) {\n                        e.preventDefault();\n                        updateTime();\n                        focusAndClose();\n                    }\n                    else\n                        selectDate(e);\n                    break;\n                case 27:\n                    e.preventDefault();\n                    focusAndClose();\n                    break;\n                case 8:\n                case 46:\n                    if (isInput && !self.config.allowInput) {\n                        e.preventDefault();\n                        self.clear();\n                    }\n                    break;\n                case 37:\n                case 39:\n                    if (!isTimeObj && !isInput) {\n                        e.preventDefault();\n                        var activeElement = getClosestActiveElement();\n                        if (self.daysContainer !== undefined &&\n                            (allowInput === false ||\n                                (activeElement && isInView(activeElement)))) {\n                            var delta_1 = e.keyCode === 39 ? 1 : -1;\n                            if (!e.ctrlKey)\n                                focusOnDay(undefined, delta_1);\n                            else {\n                                e.stopPropagation();\n                                changeMonth(delta_1);\n                                focusOnDay(getFirstAvailableDay(1), 0);\n                            }\n                        }\n                    }\n                    else if (self.hourElement)\n                        self.hourElement.focus();\n                    break;\n                case 38:\n                case 40:\n                    e.preventDefault();\n                    var delta = e.keyCode === 40 ? 1 : -1;\n                    if ((self.daysContainer &&\n                        eventTarget.$i !== undefined) ||\n                        eventTarget === self.input ||\n                        eventTarget === self.altInput) {\n                        if (e.ctrlKey) {\n                            e.stopPropagation();\n                            changeYear(self.currentYear - delta);\n                            focusOnDay(getFirstAvailableDay(1), 0);\n                        }\n                        else if (!isTimeObj)\n                            focusOnDay(undefined, delta * 7);\n                    }\n                    else if (eventTarget === self.currentYearElement) {\n                        changeYear(self.currentYear - delta);\n                    }\n                    else if (self.config.enableTime) {\n                        if (!isTimeObj && self.hourElement)\n                            self.hourElement.focus();\n                        updateTime(e);\n                        self._debouncedChange();\n                    }\n                    break;\n                case 9:\n                    if (isTimeObj) {\n                        var elems = [\n                            self.hourElement,\n                            self.minuteElement,\n                            self.secondElement,\n                            self.amPM,\n                        ]\n                            .concat(self.pluginElements)\n                            .filter(function (x) { return x; });\n                        var i = elems.indexOf(eventTarget);\n                        if (i !== -1) {\n                            var target = elems[i + (e.shiftKey ? -1 : 1)];\n                            e.preventDefault();\n                            (target || self._input).focus();\n                        }\n                    }\n                    else if (!self.config.noCalendar &&\n                        self.daysContainer &&\n                        self.daysContainer.contains(eventTarget) &&\n                        e.shiftKey) {\n                        e.preventDefault();\n                        self._input.focus();\n                    }\n                    break;\n                default:\n                    break;\n            }\n        }\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            switch (e.key) {\n                case self.l10n.amPM[0].charAt(0):\n                case self.l10n.amPM[0].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[0];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n                case self.l10n.amPM[1].charAt(0):\n                case self.l10n.amPM[1].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[1];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n            }\n        }\n        if (isInput || isCalendarElem(eventTarget)) {\n            triggerEvent(\"onKeyDown\", e);\n        }\n    }\n    function onMouseOver(elem, cellClass) {\n        if (cellClass === void 0) { cellClass = \"flatpickr-day\"; }\n        if (self.selectedDates.length !== 1 ||\n            (elem &&\n                (!elem.classList.contains(cellClass) ||\n                    elem.classList.contains(\"flatpickr-disabled\"))))\n            return;\n        var hoverDate = elem\n            ? elem.dateObj.getTime()\n            : self.days.firstElementChild.dateObj.getTime(), initialDate = self.parseDate(self.selectedDates[0], undefined, true).getTime(), rangeStartDate = Math.min(hoverDate, self.selectedDates[0].getTime()), rangeEndDate = Math.max(hoverDate, self.selectedDates[0].getTime());\n        var containsDisabled = false;\n        var minRange = 0, maxRange = 0;\n        for (var t = rangeStartDate; t < rangeEndDate; t += duration.DAY) {\n            if (!isEnabled(new Date(t), true)) {\n                containsDisabled =\n                    containsDisabled || (t > rangeStartDate && t < rangeEndDate);\n                if (t < initialDate && (!minRange || t > minRange))\n                    minRange = t;\n                else if (t > initialDate && (!maxRange || t < maxRange))\n                    maxRange = t;\n            }\n        }\n        var hoverableCells = Array.from(self.rContainer.querySelectorAll(\"*:nth-child(-n+\" + self.config.showMonths + \") > .\" + cellClass));\n        hoverableCells.forEach(function (dayElem) {\n            var date = dayElem.dateObj;\n            var timestamp = date.getTime();\n            var outOfRange = (minRange > 0 && timestamp < minRange) ||\n                (maxRange > 0 && timestamp > maxRange);\n            if (outOfRange) {\n                dayElem.classList.add(\"notAllowed\");\n                [\"inRange\", \"startRange\", \"endRange\"].forEach(function (c) {\n                    dayElem.classList.remove(c);\n                });\n                return;\n            }\n            else if (containsDisabled && !outOfRange)\n                return;\n            [\"startRange\", \"inRange\", \"endRange\", \"notAllowed\"].forEach(function (c) {\n                dayElem.classList.remove(c);\n            });\n            if (elem !== undefined) {\n                elem.classList.add(hoverDate <= self.selectedDates[0].getTime()\n                    ? \"startRange\"\n                    : \"endRange\");\n                if (initialDate < hoverDate && timestamp === initialDate)\n                    dayElem.classList.add(\"startRange\");\n                else if (initialDate > hoverDate && timestamp === initialDate)\n                    dayElem.classList.add(\"endRange\");\n                if (timestamp >= minRange &&\n                    (maxRange === 0 || timestamp <= maxRange) &&\n                    isBetween(timestamp, initialDate, hoverDate))\n                    dayElem.classList.add(\"inRange\");\n            }\n        });\n    }\n    function onResize() {\n        if (self.isOpen && !self.config.static && !self.config.inline)\n            positionCalendar();\n    }\n    function open(e, positionElement) {\n        if (positionElement === void 0) { positionElement = self._positionElement; }\n        if (self.isMobile === true) {\n            if (e) {\n                e.preventDefault();\n                var eventTarget = getEventTarget(e);\n                if (eventTarget) {\n                    eventTarget.blur();\n                }\n            }\n            if (self.mobileInput !== undefined) {\n                self.mobileInput.focus();\n                self.mobileInput.click();\n            }\n            triggerEvent(\"onOpen\");\n            return;\n        }\n        else if (self._input.disabled || self.config.inline) {\n            return;\n        }\n        var wasOpen = self.isOpen;\n        self.isOpen = true;\n        if (!wasOpen) {\n            self.calendarContainer.classList.add(\"open\");\n            self._input.classList.add(\"active\");\n            triggerEvent(\"onOpen\");\n            positionCalendar(positionElement);\n        }\n        if (self.config.enableTime === true && self.config.noCalendar === true) {\n            if (self.config.allowInput === false &&\n                (e === undefined ||\n                    !self.timeContainer.contains(e.relatedTarget))) {\n                setTimeout(function () { return self.hourElement.select(); }, 50);\n            }\n        }\n    }\n    function minMaxDateSetter(type) {\n        return function (date) {\n            var dateObj = (self.config[\"_\" + type + \"Date\"] = self.parseDate(date, self.config.dateFormat));\n            var inverseDateObj = self.config[\"_\" + (type === \"min\" ? \"max\" : \"min\") + \"Date\"];\n            if (dateObj !== undefined) {\n                self[type === \"min\" ? \"minDateHasTime\" : \"maxDateHasTime\"] =\n                    dateObj.getHours() > 0 ||\n                        dateObj.getMinutes() > 0 ||\n                        dateObj.getSeconds() > 0;\n            }\n            if (self.selectedDates) {\n                self.selectedDates = self.selectedDates.filter(function (d) { return isEnabled(d); });\n                if (!self.selectedDates.length && type === \"min\")\n                    setHoursFromDate(dateObj);\n                updateValue();\n            }\n            if (self.daysContainer) {\n                redraw();\n                if (dateObj !== undefined)\n                    self.currentYearElement[type] = dateObj.getFullYear().toString();\n                else\n                    self.currentYearElement.removeAttribute(type);\n                self.currentYearElement.disabled =\n                    !!inverseDateObj &&\n                        dateObj !== undefined &&\n                        inverseDateObj.getFullYear() === dateObj.getFullYear();\n            }\n        };\n    }\n    function parseConfig() {\n        var boolOpts = [\n            \"wrap\",\n            \"weekNumbers\",\n            \"allowInput\",\n            \"allowInvalidPreload\",\n            \"clickOpens\",\n            \"time_24hr\",\n            \"enableTime\",\n            \"noCalendar\",\n            \"altInput\",\n            \"shorthandCurrentMonth\",\n            \"inline\",\n            \"static\",\n            \"enableSeconds\",\n            \"disableMobile\",\n        ];\n        var userConfig = __assign(__assign({}, JSON.parse(JSON.stringify(element.dataset || {}))), instanceConfig);\n        var formats = {};\n        self.config.parseDate = userConfig.parseDate;\n        self.config.formatDate = userConfig.formatDate;\n        Object.defineProperty(self.config, \"enable\", {\n            get: function () { return self.config._enable; },\n            set: function (dates) {\n                self.config._enable = parseDateRules(dates);\n            },\n        });\n        Object.defineProperty(self.config, \"disable\", {\n            get: function () { return self.config._disable; },\n            set: function (dates) {\n                self.config._disable = parseDateRules(dates);\n            },\n        });\n        var timeMode = userConfig.mode === \"time\";\n        if (!userConfig.dateFormat && (userConfig.enableTime || timeMode)) {\n            var defaultDateFormat = flatpickr.defaultConfig.dateFormat || defaultOptions.dateFormat;\n            formats.dateFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"H:i\" + (userConfig.enableSeconds ? \":S\" : \"\")\n                    : defaultDateFormat + \" H:i\" + (userConfig.enableSeconds ? \":S\" : \"\");\n        }\n        if (userConfig.altInput &&\n            (userConfig.enableTime || timeMode) &&\n            !userConfig.altFormat) {\n            var defaultAltFormat = flatpickr.defaultConfig.altFormat || defaultOptions.altFormat;\n            formats.altFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"h:i\" + (userConfig.enableSeconds ? \":S K\" : \" K\")\n                    : defaultAltFormat + (\" h:i\" + (userConfig.enableSeconds ? \":S\" : \"\") + \" K\");\n        }\n        Object.defineProperty(self.config, \"minDate\", {\n            get: function () { return self.config._minDate; },\n            set: minMaxDateSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxDate\", {\n            get: function () { return self.config._maxDate; },\n            set: minMaxDateSetter(\"max\"),\n        });\n        var minMaxTimeSetter = function (type) { return function (val) {\n            self.config[type === \"min\" ? \"_minTime\" : \"_maxTime\"] = self.parseDate(val, \"H:i:S\");\n        }; };\n        Object.defineProperty(self.config, \"minTime\", {\n            get: function () { return self.config._minTime; },\n            set: minMaxTimeSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxTime\", {\n            get: function () { return self.config._maxTime; },\n            set: minMaxTimeSetter(\"max\"),\n        });\n        if (userConfig.mode === \"time\") {\n            self.config.noCalendar = true;\n            self.config.enableTime = true;\n        }\n        Object.assign(self.config, formats, userConfig);\n        for (var i = 0; i < boolOpts.length; i++)\n            self.config[boolOpts[i]] =\n                self.config[boolOpts[i]] === true ||\n                    self.config[boolOpts[i]] === \"true\";\n        HOOKS.filter(function (hook) { return self.config[hook] !== undefined; }).forEach(function (hook) {\n            self.config[hook] = arrayify(self.config[hook] || []).map(bindToInstance);\n        });\n        self.isMobile =\n            !self.config.disableMobile &&\n                !self.config.inline &&\n                self.config.mode === \"single\" &&\n                !self.config.disable.length &&\n                !self.config.enable &&\n                !self.config.weekNumbers &&\n                /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n        for (var i = 0; i < self.config.plugins.length; i++) {\n            var pluginConf = self.config.plugins[i](self) || {};\n            for (var key in pluginConf) {\n                if (HOOKS.indexOf(key) > -1) {\n                    self.config[key] = arrayify(pluginConf[key])\n                        .map(bindToInstance)\n                        .concat(self.config[key]);\n                }\n                else if (typeof userConfig[key] === \"undefined\")\n                    self.config[key] = pluginConf[key];\n            }\n        }\n        if (!userConfig.altInputClass) {\n            self.config.altInputClass =\n                getInputElem().className + \" \" + self.config.altInputClass;\n        }\n        triggerEvent(\"onParseConfig\");\n    }\n    function getInputElem() {\n        return self.config.wrap\n            ? element.querySelector(\"[data-input]\")\n            : element;\n    }\n    function setupLocale() {\n        if (typeof self.config.locale !== \"object\" &&\n            typeof flatpickr.l10ns[self.config.locale] === \"undefined\")\n            self.config.errorHandler(new Error(\"flatpickr: invalid locale \" + self.config.locale));\n        self.l10n = __assign(__assign({}, flatpickr.l10ns.default), (typeof self.config.locale === \"object\"\n            ? self.config.locale\n            : self.config.locale !== \"default\"\n                ? flatpickr.l10ns[self.config.locale]\n                : undefined));\n        tokenRegex.D = \"(\" + self.l10n.weekdays.shorthand.join(\"|\") + \")\";\n        tokenRegex.l = \"(\" + self.l10n.weekdays.longhand.join(\"|\") + \")\";\n        tokenRegex.M = \"(\" + self.l10n.months.shorthand.join(\"|\") + \")\";\n        tokenRegex.F = \"(\" + self.l10n.months.longhand.join(\"|\") + \")\";\n        tokenRegex.K = \"(\" + self.l10n.amPM[0] + \"|\" + self.l10n.amPM[1] + \"|\" + self.l10n.amPM[0].toLowerCase() + \"|\" + self.l10n.amPM[1].toLowerCase() + \")\";\n        var userConfig = __assign(__assign({}, instanceConfig), JSON.parse(JSON.stringify(element.dataset || {})));\n        if (userConfig.time_24hr === undefined &&\n            flatpickr.defaultConfig.time_24hr === undefined) {\n            self.config.time_24hr = self.l10n.time_24hr;\n        }\n        self.formatDate = createDateFormatter(self);\n        self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    }\n    function positionCalendar(customPositionElement) {\n        if (typeof self.config.position === \"function\") {\n            return void self.config.position(self, customPositionElement);\n        }\n        if (self.calendarContainer === undefined)\n            return;\n        triggerEvent(\"onPreCalendarPosition\");\n        var positionElement = customPositionElement || self._positionElement;\n        var calendarHeight = Array.prototype.reduce.call(self.calendarContainer.children, (function (acc, child) { return acc + child.offsetHeight; }), 0), calendarWidth = self.calendarContainer.offsetWidth, configPos = self.config.position.split(\" \"), configPosVertical = configPos[0], configPosHorizontal = configPos.length > 1 ? configPos[1] : null, inputBounds = positionElement.getBoundingClientRect(), distanceFromBottom = window.innerHeight - inputBounds.bottom, showOnTop = configPosVertical === \"above\" ||\n            (configPosVertical !== \"below\" &&\n                distanceFromBottom < calendarHeight &&\n                inputBounds.top > calendarHeight);\n        var top = window.pageYOffset +\n            inputBounds.top +\n            (!showOnTop ? positionElement.offsetHeight + 2 : -calendarHeight - 2);\n        toggleClass(self.calendarContainer, \"arrowTop\", !showOnTop);\n        toggleClass(self.calendarContainer, \"arrowBottom\", showOnTop);\n        if (self.config.inline)\n            return;\n        var left = window.pageXOffset + inputBounds.left;\n        var isCenter = false;\n        var isRight = false;\n        if (configPosHorizontal === \"center\") {\n            left -= (calendarWidth - inputBounds.width) / 2;\n            isCenter = true;\n        }\n        else if (configPosHorizontal === \"right\") {\n            left -= calendarWidth - inputBounds.width;\n            isRight = true;\n        }\n        toggleClass(self.calendarContainer, \"arrowLeft\", !isCenter && !isRight);\n        toggleClass(self.calendarContainer, \"arrowCenter\", isCenter);\n        toggleClass(self.calendarContainer, \"arrowRight\", isRight);\n        var right = window.document.body.offsetWidth -\n            (window.pageXOffset + inputBounds.right);\n        var rightMost = left + calendarWidth > window.document.body.offsetWidth;\n        var centerMost = right + calendarWidth > window.document.body.offsetWidth;\n        toggleClass(self.calendarContainer, \"rightMost\", rightMost);\n        if (self.config.static)\n            return;\n        self.calendarContainer.style.top = top + \"px\";\n        if (!rightMost) {\n            self.calendarContainer.style.left = left + \"px\";\n            self.calendarContainer.style.right = \"auto\";\n        }\n        else if (!centerMost) {\n            self.calendarContainer.style.left = \"auto\";\n            self.calendarContainer.style.right = right + \"px\";\n        }\n        else {\n            var doc = getDocumentStyleSheet();\n            if (doc === undefined)\n                return;\n            var bodyWidth = window.document.body.offsetWidth;\n            var centerLeft = Math.max(0, bodyWidth / 2 - calendarWidth / 2);\n            var centerBefore = \".flatpickr-calendar.centerMost:before\";\n            var centerAfter = \".flatpickr-calendar.centerMost:after\";\n            var centerIndex = doc.cssRules.length;\n            var centerStyle = \"{left:\" + inputBounds.left + \"px;right:auto;}\";\n            toggleClass(self.calendarContainer, \"rightMost\", false);\n            toggleClass(self.calendarContainer, \"centerMost\", true);\n            doc.insertRule(centerBefore + \",\" + centerAfter + centerStyle, centerIndex);\n            self.calendarContainer.style.left = centerLeft + \"px\";\n            self.calendarContainer.style.right = \"auto\";\n        }\n    }\n    function getDocumentStyleSheet() {\n        var editableSheet = null;\n        for (var i = 0; i < document.styleSheets.length; i++) {\n            var sheet = document.styleSheets[i];\n            if (!sheet.cssRules)\n                continue;\n            try {\n                sheet.cssRules;\n            }\n            catch (err) {\n                continue;\n            }\n            editableSheet = sheet;\n            break;\n        }\n        return editableSheet != null ? editableSheet : createStyleSheet();\n    }\n    function createStyleSheet() {\n        var style = document.createElement(\"style\");\n        document.head.appendChild(style);\n        return style.sheet;\n    }\n    function redraw() {\n        if (self.config.noCalendar || self.isMobile)\n            return;\n        buildMonthSwitch();\n        updateNavigationCurrentMonth();\n        buildDays();\n    }\n    function focusAndClose() {\n        self._input.focus();\n        if (window.navigator.userAgent.indexOf(\"MSIE\") !== -1 ||\n            navigator.msMaxTouchPoints !== undefined) {\n            setTimeout(self.close, 0);\n        }\n        else {\n            self.close();\n        }\n    }\n    function selectDate(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var isSelectable = function (day) {\n            return day.classList &&\n                day.classList.contains(\"flatpickr-day\") &&\n                !day.classList.contains(\"flatpickr-disabled\") &&\n                !day.classList.contains(\"notAllowed\");\n        };\n        var t = findParent(getEventTarget(e), isSelectable);\n        if (t === undefined)\n            return;\n        var target = t;\n        var selectedDate = (self.latestSelectedDateObj = new Date(target.dateObj.getTime()));\n        var shouldChangeMonth = (selectedDate.getMonth() < self.currentMonth ||\n            selectedDate.getMonth() >\n                self.currentMonth + self.config.showMonths - 1) &&\n            self.config.mode !== \"range\";\n        self.selectedDateElem = target;\n        if (self.config.mode === \"single\")\n            self.selectedDates = [selectedDate];\n        else if (self.config.mode === \"multiple\") {\n            var selectedIndex = isDateSelected(selectedDate);\n            if (selectedIndex)\n                self.selectedDates.splice(parseInt(selectedIndex), 1);\n            else\n                self.selectedDates.push(selectedDate);\n        }\n        else if (self.config.mode === \"range\") {\n            if (self.selectedDates.length === 2) {\n                self.clear(false, false);\n            }\n            self.latestSelectedDateObj = selectedDate;\n            self.selectedDates.push(selectedDate);\n            if (compareDates(selectedDate, self.selectedDates[0], true) !== 0)\n                self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n        }\n        setHoursFromInputs();\n        if (shouldChangeMonth) {\n            var isNewYear = self.currentYear !== selectedDate.getFullYear();\n            self.currentYear = selectedDate.getFullYear();\n            self.currentMonth = selectedDate.getMonth();\n            if (isNewYear) {\n                triggerEvent(\"onYearChange\");\n                buildMonthSwitch();\n            }\n            triggerEvent(\"onMonthChange\");\n        }\n        updateNavigationCurrentMonth();\n        buildDays();\n        updateValue();\n        if (!shouldChangeMonth &&\n            self.config.mode !== \"range\" &&\n            self.config.showMonths === 1)\n            focusOnDayElem(target);\n        else if (self.selectedDateElem !== undefined &&\n            self.hourElement === undefined) {\n            self.selectedDateElem && self.selectedDateElem.focus();\n        }\n        if (self.hourElement !== undefined)\n            self.hourElement !== undefined && self.hourElement.focus();\n        if (self.config.closeOnSelect) {\n            var single = self.config.mode === \"single\" && !self.config.enableTime;\n            var range = self.config.mode === \"range\" &&\n                self.selectedDates.length === 2 &&\n                !self.config.enableTime;\n            if (single || range) {\n                focusAndClose();\n            }\n        }\n        triggerChange();\n    }\n    var CALLBACKS = {\n        locale: [setupLocale, updateWeekdays],\n        showMonths: [buildMonths, setCalendarWidth, buildWeekdays],\n        minDate: [jumpToDate],\n        maxDate: [jumpToDate],\n        positionElement: [updatePositionElement],\n        clickOpens: [\n            function () {\n                if (self.config.clickOpens === true) {\n                    bind(self._input, \"focus\", self.open);\n                    bind(self._input, \"click\", self.open);\n                }\n                else {\n                    self._input.removeEventListener(\"focus\", self.open);\n                    self._input.removeEventListener(\"click\", self.open);\n                }\n            },\n        ],\n    };\n    function set(option, value) {\n        if (option !== null && typeof option === \"object\") {\n            Object.assign(self.config, option);\n            for (var key in option) {\n                if (CALLBACKS[key] !== undefined)\n                    CALLBACKS[key].forEach(function (x) { return x(); });\n            }\n        }\n        else {\n            self.config[option] = value;\n            if (CALLBACKS[option] !== undefined)\n                CALLBACKS[option].forEach(function (x) { return x(); });\n            else if (HOOKS.indexOf(option) > -1)\n                self.config[option] = arrayify(value);\n        }\n        self.redraw();\n        updateValue(true);\n    }\n    function setSelectedDate(inputDate, format) {\n        var dates = [];\n        if (inputDate instanceof Array)\n            dates = inputDate.map(function (d) { return self.parseDate(d, format); });\n        else if (inputDate instanceof Date || typeof inputDate === \"number\")\n            dates = [self.parseDate(inputDate, format)];\n        else if (typeof inputDate === \"string\") {\n            switch (self.config.mode) {\n                case \"single\":\n                case \"time\":\n                    dates = [self.parseDate(inputDate, format)];\n                    break;\n                case \"multiple\":\n                    dates = inputDate\n                        .split(self.config.conjunction)\n                        .map(function (date) { return self.parseDate(date, format); });\n                    break;\n                case \"range\":\n                    dates = inputDate\n                        .split(self.l10n.rangeSeparator)\n                        .map(function (date) { return self.parseDate(date, format); });\n                    break;\n                default:\n                    break;\n            }\n        }\n        else\n            self.config.errorHandler(new Error(\"Invalid date supplied: \" + JSON.stringify(inputDate)));\n        self.selectedDates = (self.config.allowInvalidPreload\n            ? dates\n            : dates.filter(function (d) { return d instanceof Date && isEnabled(d, false); }));\n        if (self.config.mode === \"range\")\n            self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n    }\n    function setDate(date, triggerChange, format) {\n        if (triggerChange === void 0) { triggerChange = false; }\n        if (format === void 0) { format = self.config.dateFormat; }\n        if ((date !== 0 && !date) || (date instanceof Array && date.length === 0))\n            return self.clear(triggerChange);\n        setSelectedDate(date, format);\n        self.latestSelectedDateObj =\n            self.selectedDates[self.selectedDates.length - 1];\n        self.redraw();\n        jumpToDate(undefined, triggerChange);\n        setHoursFromDate();\n        if (self.selectedDates.length === 0) {\n            self.clear(false);\n        }\n        updateValue(triggerChange);\n        if (triggerChange)\n            triggerEvent(\"onChange\");\n    }\n    function parseDateRules(arr) {\n        return arr\n            .slice()\n            .map(function (rule) {\n            if (typeof rule === \"string\" ||\n                typeof rule === \"number\" ||\n                rule instanceof Date) {\n                return self.parseDate(rule, undefined, true);\n            }\n            else if (rule &&\n                typeof rule === \"object\" &&\n                rule.from &&\n                rule.to)\n                return {\n                    from: self.parseDate(rule.from, undefined),\n                    to: self.parseDate(rule.to, undefined),\n                };\n            return rule;\n        })\n            .filter(function (x) { return x; });\n    }\n    function setupDates() {\n        self.selectedDates = [];\n        self.now = self.parseDate(self.config.now) || new Date();\n        var preloadedDate = self.config.defaultDate ||\n            ((self.input.nodeName === \"INPUT\" ||\n                self.input.nodeName === \"TEXTAREA\") &&\n                self.input.placeholder &&\n                self.input.value === self.input.placeholder\n                ? null\n                : self.input.value);\n        if (preloadedDate)\n            setSelectedDate(preloadedDate, self.config.dateFormat);\n        self._initialDate =\n            self.selectedDates.length > 0\n                ? self.selectedDates[0]\n                : self.config.minDate &&\n                    self.config.minDate.getTime() > self.now.getTime()\n                    ? self.config.minDate\n                    : self.config.maxDate &&\n                        self.config.maxDate.getTime() < self.now.getTime()\n                        ? self.config.maxDate\n                        : self.now;\n        self.currentYear = self._initialDate.getFullYear();\n        self.currentMonth = self._initialDate.getMonth();\n        if (self.selectedDates.length > 0)\n            self.latestSelectedDateObj = self.selectedDates[0];\n        if (self.config.minTime !== undefined)\n            self.config.minTime = self.parseDate(self.config.minTime, \"H:i\");\n        if (self.config.maxTime !== undefined)\n            self.config.maxTime = self.parseDate(self.config.maxTime, \"H:i\");\n        self.minDateHasTime =\n            !!self.config.minDate &&\n                (self.config.minDate.getHours() > 0 ||\n                    self.config.minDate.getMinutes() > 0 ||\n                    self.config.minDate.getSeconds() > 0);\n        self.maxDateHasTime =\n            !!self.config.maxDate &&\n                (self.config.maxDate.getHours() > 0 ||\n                    self.config.maxDate.getMinutes() > 0 ||\n                    self.config.maxDate.getSeconds() > 0);\n    }\n    function setupInputs() {\n        self.input = getInputElem();\n        if (!self.input) {\n            self.config.errorHandler(new Error(\"Invalid input element specified\"));\n            return;\n        }\n        self.input._type = self.input.type;\n        self.input.type = \"text\";\n        self.input.classList.add(\"flatpickr-input\");\n        self._input = self.input;\n        if (self.config.altInput) {\n            self.altInput = createElement(self.input.nodeName, self.config.altInputClass);\n            self._input = self.altInput;\n            self.altInput.placeholder = self.input.placeholder;\n            self.altInput.disabled = self.input.disabled;\n            self.altInput.required = self.input.required;\n            self.altInput.tabIndex = self.input.tabIndex;\n            self.altInput.type = \"text\";\n            self.input.setAttribute(\"type\", \"hidden\");\n            if (!self.config.static && self.input.parentNode)\n                self.input.parentNode.insertBefore(self.altInput, self.input.nextSibling);\n        }\n        if (!self.config.allowInput)\n            self._input.setAttribute(\"readonly\", \"readonly\");\n        updatePositionElement();\n    }\n    function updatePositionElement() {\n        self._positionElement = self.config.positionElement || self._input;\n    }\n    function setupMobile() {\n        var inputType = self.config.enableTime\n            ? self.config.noCalendar\n                ? \"time\"\n                : \"datetime-local\"\n            : \"date\";\n        self.mobileInput = createElement(\"input\", self.input.className + \" flatpickr-mobile\");\n        self.mobileInput.tabIndex = 1;\n        self.mobileInput.type = inputType;\n        self.mobileInput.disabled = self.input.disabled;\n        self.mobileInput.required = self.input.required;\n        self.mobileInput.placeholder = self.input.placeholder;\n        self.mobileFormatStr =\n            inputType === \"datetime-local\"\n                ? \"Y-m-d\\\\TH:i:S\"\n                : inputType === \"date\"\n                    ? \"Y-m-d\"\n                    : \"H:i:S\";\n        if (self.selectedDates.length > 0) {\n            self.mobileInput.defaultValue = self.mobileInput.value = self.formatDate(self.selectedDates[0], self.mobileFormatStr);\n        }\n        if (self.config.minDate)\n            self.mobileInput.min = self.formatDate(self.config.minDate, \"Y-m-d\");\n        if (self.config.maxDate)\n            self.mobileInput.max = self.formatDate(self.config.maxDate, \"Y-m-d\");\n        if (self.input.getAttribute(\"step\"))\n            self.mobileInput.step = String(self.input.getAttribute(\"step\"));\n        self.input.type = \"hidden\";\n        if (self.altInput !== undefined)\n            self.altInput.type = \"hidden\";\n        try {\n            if (self.input.parentNode)\n                self.input.parentNode.insertBefore(self.mobileInput, self.input.nextSibling);\n        }\n        catch (_a) { }\n        bind(self.mobileInput, \"change\", function (e) {\n            self.setDate(getEventTarget(e).value, false, self.mobileFormatStr);\n            triggerEvent(\"onChange\");\n            triggerEvent(\"onClose\");\n        });\n    }\n    function toggle(e) {\n        if (self.isOpen === true)\n            return self.close();\n        self.open(e);\n    }\n    function triggerEvent(event, data) {\n        if (self.config === undefined)\n            return;\n        var hooks = self.config[event];\n        if (hooks !== undefined && hooks.length > 0) {\n            for (var i = 0; hooks[i] && i < hooks.length; i++)\n                hooks[i](self.selectedDates, self.input.value, self, data);\n        }\n        if (event === \"onChange\") {\n            self.input.dispatchEvent(createEvent(\"change\"));\n            self.input.dispatchEvent(createEvent(\"input\"));\n        }\n    }\n    function createEvent(name) {\n        var e = document.createEvent(\"Event\");\n        e.initEvent(name, true, true);\n        return e;\n    }\n    function isDateSelected(date) {\n        for (var i = 0; i < self.selectedDates.length; i++) {\n            var selectedDate = self.selectedDates[i];\n            if (selectedDate instanceof Date &&\n                compareDates(selectedDate, date) === 0)\n                return \"\" + i;\n        }\n        return false;\n    }\n    function isDateInRange(date) {\n        if (self.config.mode !== \"range\" || self.selectedDates.length < 2)\n            return false;\n        return (compareDates(date, self.selectedDates[0]) >= 0 &&\n            compareDates(date, self.selectedDates[1]) <= 0);\n    }\n    function updateNavigationCurrentMonth() {\n        if (self.config.noCalendar || self.isMobile || !self.monthNav)\n            return;\n        self.yearElements.forEach(function (yearElement, i) {\n            var d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            if (self.config.showMonths > 1 ||\n                self.config.monthSelectorType === \"static\") {\n                self.monthElements[i].textContent =\n                    monthToStr(d.getMonth(), self.config.shorthandCurrentMonth, self.l10n) + \" \";\n            }\n            else {\n                self.monthsDropdownContainer.value = d.getMonth().toString();\n            }\n            yearElement.value = d.getFullYear().toString();\n        });\n        self._hidePrevMonthArrow =\n            self.config.minDate !== undefined &&\n                (self.currentYear === self.config.minDate.getFullYear()\n                    ? self.currentMonth <= self.config.minDate.getMonth()\n                    : self.currentYear < self.config.minDate.getFullYear());\n        self._hideNextMonthArrow =\n            self.config.maxDate !== undefined &&\n                (self.currentYear === self.config.maxDate.getFullYear()\n                    ? self.currentMonth + 1 > self.config.maxDate.getMonth()\n                    : self.currentYear > self.config.maxDate.getFullYear());\n    }\n    function getDateStr(specificFormat) {\n        var format = specificFormat ||\n            (self.config.altInput ? self.config.altFormat : self.config.dateFormat);\n        return self.selectedDates\n            .map(function (dObj) { return self.formatDate(dObj, format); })\n            .filter(function (d, i, arr) {\n            return self.config.mode !== \"range\" ||\n                self.config.enableTime ||\n                arr.indexOf(d) === i;\n        })\n            .join(self.config.mode !== \"range\"\n            ? self.config.conjunction\n            : self.l10n.rangeSeparator);\n    }\n    function updateValue(triggerChange) {\n        if (triggerChange === void 0) { triggerChange = true; }\n        if (self.mobileInput !== undefined && self.mobileFormatStr) {\n            self.mobileInput.value =\n                self.latestSelectedDateObj !== undefined\n                    ? self.formatDate(self.latestSelectedDateObj, self.mobileFormatStr)\n                    : \"\";\n        }\n        self.input.value = getDateStr(self.config.dateFormat);\n        if (self.altInput !== undefined) {\n            self.altInput.value = getDateStr(self.config.altFormat);\n        }\n        if (triggerChange !== false)\n            triggerEvent(\"onValueUpdate\");\n    }\n    function onMonthNavClick(e) {\n        var eventTarget = getEventTarget(e);\n        var isPrevMonth = self.prevMonthNav.contains(eventTarget);\n        var isNextMonth = self.nextMonthNav.contains(eventTarget);\n        if (isPrevMonth || isNextMonth) {\n            changeMonth(isPrevMonth ? -1 : 1);\n        }\n        else if (self.yearElements.indexOf(eventTarget) >= 0) {\n            eventTarget.select();\n        }\n        else if (eventTarget.classList.contains(\"arrowUp\")) {\n            self.changeYear(self.currentYear + 1);\n        }\n        else if (eventTarget.classList.contains(\"arrowDown\")) {\n            self.changeYear(self.currentYear - 1);\n        }\n    }\n    function timeWrapper(e) {\n        e.preventDefault();\n        var isKeyDown = e.type === \"keydown\", eventTarget = getEventTarget(e), input = eventTarget;\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            self.amPM.textContent =\n                self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n        }\n        var min = parseFloat(input.getAttribute(\"min\")), max = parseFloat(input.getAttribute(\"max\")), step = parseFloat(input.getAttribute(\"step\")), curValue = parseInt(input.value, 10), delta = e.delta ||\n            (isKeyDown ? (e.which === 38 ? 1 : -1) : 0);\n        var newValue = curValue + step * delta;\n        if (typeof input.value !== \"undefined\" && input.value.length === 2) {\n            var isHourElem = input === self.hourElement, isMinuteElem = input === self.minuteElement;\n            if (newValue < min) {\n                newValue =\n                    max +\n                        newValue +\n                        int(!isHourElem) +\n                        (int(isHourElem) && int(!self.amPM));\n                if (isMinuteElem)\n                    incrementNumInput(undefined, -1, self.hourElement);\n            }\n            else if (newValue > max) {\n                newValue =\n                    input === self.hourElement ? newValue - max - int(!self.amPM) : min;\n                if (isMinuteElem)\n                    incrementNumInput(undefined, 1, self.hourElement);\n            }\n            if (self.amPM &&\n                isHourElem &&\n                (step === 1\n                    ? newValue + curValue === 23\n                    : Math.abs(newValue - curValue) > step)) {\n                self.amPM.textContent =\n                    self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n            }\n            input.value = pad(newValue);\n        }\n    }\n    init();\n    return self;\n}\nfunction _flatpickr(nodeList, config) {\n    var nodes = Array.prototype.slice\n        .call(nodeList)\n        .filter(function (x) { return x instanceof HTMLElement; });\n    var instances = [];\n    for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        try {\n            if (node.getAttribute(\"data-fp-omit\") !== null)\n                continue;\n            if (node._flatpickr !== undefined) {\n                node._flatpickr.destroy();\n                node._flatpickr = undefined;\n            }\n            node._flatpickr = FlatpickrInstance(node, config || {});\n            instances.push(node._flatpickr);\n        }\n        catch (e) {\n            console.error(e);\n        }\n    }\n    return instances.length === 1 ? instances[0] : instances;\n}\nif (typeof HTMLElement !== \"undefined\" &&\n    typeof HTMLCollection !== \"undefined\" &&\n    typeof NodeList !== \"undefined\") {\n    HTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n    HTMLElement.prototype.flatpickr = function (config) {\n        return _flatpickr([this], config);\n    };\n}\nvar flatpickr = function (selector, config) {\n    if (typeof selector === \"string\") {\n        return _flatpickr(window.document.querySelectorAll(selector), config);\n    }\n    else if (selector instanceof Node) {\n        return _flatpickr([selector], config);\n    }\n    else {\n        return _flatpickr(selector, config);\n    }\n};\nflatpickr.defaultConfig = {};\nflatpickr.l10ns = {\n    en: __assign({}, English),\n    default: __assign({}, English),\n};\nflatpickr.localize = function (l10n) {\n    flatpickr.l10ns.default = __assign(__assign({}, flatpickr.l10ns.default), l10n);\n};\nflatpickr.setDefaults = function (config) {\n    flatpickr.defaultConfig = __assign(__assign({}, flatpickr.defaultConfig), config);\n};\nflatpickr.parseDate = createDateParser({});\nflatpickr.formatDate = createDateFormatter({});\nflatpickr.compareDates = compareDates;\nif (typeof jQuery !== \"undefined\" && typeof jQuery.fn !== \"undefined\") {\n    jQuery.fn.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n}\nDate.prototype.fp_incr = function (days) {\n    return new Date(this.getFullYear(), this.getMonth(), this.getDate() + (typeof days === \"string\" ? parseInt(days, 10) : days));\n};\nif (typeof window !== \"undefined\") {\n    window.flatpickr = flatpickr;\n}\nexport default flatpickr;\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global['zh-tw'] = {}));\n}(this, (function (exports) { 'use strict';\n\n  var fp = typeof window !== \"undefined\" && window.flatpickr !== undefined\n      ? window.flatpickr\n      : {\n          l10ns: {},\n      };\n  var MandarinTraditional = {\n      weekdays: {\n          shorthand: [\"週日\", \"週一\", \"週二\", \"週三\", \"週四\", \"週五\", \"週六\"],\n          longhand: [\n              \"星期日\",\n              \"星期一\",\n              \"星期二\",\n              \"星期三\",\n              \"星期四\",\n              \"星期五\",\n              \"星期六\",\n          ],\n      },\n      months: {\n          shorthand: [\n              \"一月\",\n              \"二月\",\n              \"三月\",\n              \"四月\",\n              \"五月\",\n              \"六月\",\n              \"七月\",\n              \"八月\",\n              \"九月\",\n              \"十月\",\n              \"十一月\",\n              \"十二月\",\n          ],\n          longhand: [\n              \"一月\",\n              \"二月\",\n              \"三月\",\n              \"四月\",\n              \"五月\",\n              \"六月\",\n              \"七月\",\n              \"八月\",\n              \"九月\",\n              \"十月\",\n              \"十一月\",\n              \"十二月\",\n          ],\n      },\n      rangeSeparator: \" 至 \",\n      weekAbbreviation: \"週\",\n      scrollTitle: \"滾動切換\",\n      toggleTitle: \"點擊切換 12/24 小時時制\",\n  };\n  fp.l10ns.zh_tw = MandarinTraditional;\n  var zhTw = fp.l10ns;\n\n  exports.MandarinTraditional = MandarinTraditional;\n  exports.default = zhTw;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.monthSelectPlugin = factory());\n}(this, (function () { 'use strict';\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation.\r\n\r\n    Permission to use, copy, modify, and/or distribute this software for any\r\n    purpose with or without fee is hereby granted.\r\n\r\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n    PERFORMANCE OF THIS SOFTWARE.\r\n    ***************************************************************************** */\r\n\r\n    var __assign = function() {\r\n        __assign = Object.assign || function __assign(t) {\r\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n                s = arguments[i];\r\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n            }\r\n            return t;\r\n        };\r\n        return __assign.apply(this, arguments);\r\n    };\n\n    var monthToStr = function (monthNumber, shorthand, locale) { return locale.months[shorthand ? \"shorthand\" : \"longhand\"][monthNumber]; };\n\n    function clearNode(node) {\n        while (node.firstChild)\n            node.removeChild(node.firstChild);\n    }\n    function getEventTarget(event) {\n        try {\n            if (typeof event.composedPath === \"function\") {\n                var path = event.composedPath();\n                return path[0];\n            }\n            return event.target;\n        }\n        catch (error) {\n            return event.target;\n        }\n    }\n\n    var defaultConfig = {\n        shorthand: false,\n        dateFormat: \"F Y\",\n        altFormat: \"F Y\",\n        theme: \"light\",\n    };\n    function monthSelectPlugin(pluginConfig) {\n        var config = __assign(__assign({}, defaultConfig), pluginConfig);\n        return function (fp) {\n            fp.config.dateFormat = config.dateFormat;\n            fp.config.altFormat = config.altFormat;\n            var self = { monthsContainer: null };\n            function clearUnnecessaryDOMElements() {\n                if (!fp.rContainer)\n                    return;\n                clearNode(fp.rContainer);\n                for (var index = 0; index < fp.monthElements.length; index++) {\n                    var element = fp.monthElements[index];\n                    if (!element.parentNode)\n                        continue;\n                    element.parentNode.removeChild(element);\n                }\n            }\n            function build() {\n                if (!fp.rContainer)\n                    return;\n                self.monthsContainer = fp._createElement(\"div\", \"flatpickr-monthSelect-months\");\n                self.monthsContainer.tabIndex = -1;\n                buildMonths();\n                fp.rContainer.appendChild(self.monthsContainer);\n                fp.calendarContainer.classList.add(\"flatpickr-monthSelect-theme-\" + config.theme);\n            }\n            function buildMonths() {\n                if (!self.monthsContainer)\n                    return;\n                clearNode(self.monthsContainer);\n                var frag = document.createDocumentFragment();\n                for (var i = 0; i < 12; i++) {\n                    var month = fp.createDay(\"flatpickr-monthSelect-month\", new Date(fp.currentYear, i), 0, i);\n                    if (month.dateObj.getMonth() === new Date().getMonth() &&\n                        month.dateObj.getFullYear() === new Date().getFullYear())\n                        month.classList.add(\"today\");\n                    month.textContent = monthToStr(i, config.shorthand, fp.l10n);\n                    month.addEventListener(\"click\", selectMonth);\n                    frag.appendChild(month);\n                }\n                self.monthsContainer.appendChild(frag);\n                if (fp.config.minDate &&\n                    fp.currentYear === fp.config.minDate.getFullYear())\n                    fp.prevMonthNav.classList.add(\"flatpickr-disabled\");\n                else\n                    fp.prevMonthNav.classList.remove(\"flatpickr-disabled\");\n                if (fp.config.maxDate &&\n                    fp.currentYear === fp.config.maxDate.getFullYear())\n                    fp.nextMonthNav.classList.add(\"flatpickr-disabled\");\n                else\n                    fp.nextMonthNav.classList.remove(\"flatpickr-disabled\");\n            }\n            function bindEvents() {\n                fp._bind(fp.prevMonthNav, \"click\", function (e) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                    fp.changeYear(fp.currentYear - 1);\n                    selectYear();\n                    buildMonths();\n                });\n                fp._bind(fp.nextMonthNav, \"click\", function (e) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                    fp.changeYear(fp.currentYear + 1);\n                    selectYear();\n                    buildMonths();\n                });\n                fp._bind(self.monthsContainer, \"mouseover\", function (e) {\n                    if (fp.config.mode === \"range\")\n                        fp.onMouseOver(getEventTarget(e), \"flatpickr-monthSelect-month\");\n                });\n            }\n            function setCurrentlySelected() {\n                if (!fp.rContainer)\n                    return;\n                if (!fp.selectedDates.length)\n                    return;\n                var currentlySelected = fp.rContainer.querySelectorAll(\".flatpickr-monthSelect-month.selected\");\n                for (var index = 0; index < currentlySelected.length; index++) {\n                    currentlySelected[index].classList.remove(\"selected\");\n                }\n                var targetMonth = fp.selectedDates[0].getMonth();\n                var month = fp.rContainer.querySelector(\".flatpickr-monthSelect-month:nth-child(\" + (targetMonth + 1) + \")\");\n                if (month) {\n                    month.classList.add(\"selected\");\n                }\n            }\n            function selectYear() {\n                var selectedDate = fp.selectedDates[0];\n                if (selectedDate) {\n                    selectedDate = new Date(selectedDate);\n                    selectedDate.setFullYear(fp.currentYear);\n                    if (fp.config.minDate && selectedDate < fp.config.minDate) {\n                        selectedDate = fp.config.minDate;\n                    }\n                    if (fp.config.maxDate && selectedDate > fp.config.maxDate) {\n                        selectedDate = fp.config.maxDate;\n                    }\n                    fp.currentYear = selectedDate.getFullYear();\n                }\n                fp.currentYearElement.value = String(fp.currentYear);\n                if (fp.rContainer) {\n                    var months = fp.rContainer.querySelectorAll(\".flatpickr-monthSelect-month\");\n                    months.forEach(function (month) {\n                        month.dateObj.setFullYear(fp.currentYear);\n                        if ((fp.config.minDate && month.dateObj < fp.config.minDate) ||\n                            (fp.config.maxDate && month.dateObj > fp.config.maxDate)) {\n                            month.classList.add(\"flatpickr-disabled\");\n                        }\n                        else {\n                            month.classList.remove(\"flatpickr-disabled\");\n                        }\n                    });\n                }\n                setCurrentlySelected();\n            }\n            function selectMonth(e) {\n                e.preventDefault();\n                e.stopPropagation();\n                var eventTarget = getEventTarget(e);\n                if (!(eventTarget instanceof Element))\n                    return;\n                if (eventTarget.classList.contains(\"flatpickr-disabled\"))\n                    return;\n                if (eventTarget.classList.contains(\"notAllowed\"))\n                    return; // necessary??\n                setMonth(eventTarget.dateObj);\n                if (fp.config.closeOnSelect) {\n                    var single = fp.config.mode === \"single\";\n                    var range = fp.config.mode === \"range\" && fp.selectedDates.length === 2;\n                    if (single || range)\n                        fp.close();\n                }\n            }\n            function setMonth(date) {\n                var selectedDate = new Date(fp.currentYear, date.getMonth(), date.getDate());\n                var selectedDates = [];\n                switch (fp.config.mode) {\n                    case \"single\":\n                        selectedDates = [selectedDate];\n                        break;\n                    case \"multiple\":\n                        selectedDates.push(selectedDate);\n                        break;\n                    case \"range\":\n                        if (fp.selectedDates.length === 2) {\n                            selectedDates = [selectedDate];\n                        }\n                        else {\n                            selectedDates = fp.selectedDates.concat([selectedDate]);\n                            selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n                        }\n                        break;\n                }\n                fp.setDate(selectedDates, true);\n                setCurrentlySelected();\n            }\n            var shifts = {\n                37: -1,\n                39: 1,\n                40: 3,\n                38: -3,\n            };\n            function onKeyDown(_, __, ___, e) {\n                var shouldMove = shifts[e.keyCode] !== undefined;\n                if (!shouldMove && e.keyCode !== 13) {\n                    return;\n                }\n                if (!fp.rContainer || !self.monthsContainer)\n                    return;\n                var currentlySelected = fp.rContainer.querySelector(\".flatpickr-monthSelect-month.selected\");\n                var index = Array.prototype.indexOf.call(self.monthsContainer.children, document.activeElement);\n                if (index === -1) {\n                    var target = currentlySelected || self.monthsContainer.firstElementChild;\n                    target.focus();\n                    index = target.$i;\n                }\n                if (shouldMove) {\n                    self.monthsContainer.children[(12 + index + shifts[e.keyCode]) % 12].focus();\n                }\n                else if (e.keyCode === 13 &&\n                    self.monthsContainer.contains(document.activeElement)) {\n                    setMonth(document.activeElement.dateObj);\n                }\n            }\n            function closeHook() {\n                var _a;\n                if (((_a = fp.config) === null || _a === void 0 ? void 0 : _a.mode) === \"range\" && fp.selectedDates.length === 1)\n                    fp.clear(false);\n                if (!fp.selectedDates.length)\n                    buildMonths();\n            }\n            // Help the prev/next year nav honor config.minDate (see 3fa5a69)\n            function stubCurrentMonth() {\n                config._stubbedCurrentMonth = fp._initialDate.getMonth();\n                fp._initialDate.setMonth(config._stubbedCurrentMonth);\n                fp.currentMonth = config._stubbedCurrentMonth;\n            }\n            function unstubCurrentMonth() {\n                if (!config._stubbedCurrentMonth)\n                    return;\n                fp._initialDate.setMonth(config._stubbedCurrentMonth);\n                fp.currentMonth = config._stubbedCurrentMonth;\n                delete config._stubbedCurrentMonth;\n            }\n            function destroyPluginInstance() {\n                if (self.monthsContainer !== null) {\n                    var months = self.monthsContainer.querySelectorAll(\".flatpickr-monthSelect-month\");\n                    for (var index = 0; index < months.length; index++) {\n                        months[index].removeEventListener(\"click\", selectMonth);\n                    }\n                }\n            }\n            return {\n                onParseConfig: function () {\n                    fp.config.enableTime = false;\n                },\n                onValueUpdate: setCurrentlySelected,\n                onKeyDown: onKeyDown,\n                onReady: [\n                    stubCurrentMonth,\n                    clearUnnecessaryDOMElements,\n                    build,\n                    bindEvents,\n                    setCurrentlySelected,\n                    function () {\n                        fp.config.onClose.push(closeHook);\n                        fp.loadedPlugins.push(\"monthSelect\");\n                    },\n                ],\n                onDestroy: [\n                    unstubCurrentMonth,\n                    destroyPluginInstance,\n                    function () {\n                        fp.config.onClose = fp.config.onClose.filter(function (hook) { return hook !== closeHook; });\n                    },\n                ],\n            };\n        };\n    }\n\n    return monthSelectPlugin;\n\n})));\n",":host {\r\n    display: block;\r\n}\r\n\r\nstorm-input-group .input-group.input-group-static.is-valid label,\r\nstorm-input-group .input-group.input-group-dynamic.is-valid .form-label {\r\n    background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 10 8'%3E%3Cpath fill='%2366d432' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3E%3C/svg%3E\");\r\n    background-repeat: no-repeat;\r\n    background-position: right .65rem center;\r\n    background-size: 1rem 1rem;\r\n    width: 100%;\r\n}\r\n\r\nstorm-input-group .input-group.input-group-static.is-invalid label,\r\nstorm-input-group .input-group.input-group-dynamic.is-invalid .form-label {\r\n    color: #f44335;\r\n    background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' stroke='%23fd5c70' viewBox='0 0 12 12'%3E%3Ccircle cx='6' cy='6' r='4.5'/%3E%3Cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3E%3Ccircle cx='6' cy='8.2' r='.6' fill='%23fd5c70' stroke='none'/%3E%3C/svg%3E\");\r\n    background-repeat: no-repeat;\r\n    background-position: right .65rem center;\r\n    background-size: 1rem 1rem;\r\n    width: 100%;\r\n}\r\n\r\nstorm-input-group .input-group.input-group-outline .form-label {\r\n    width: 100%;\r\n    height: 100%;\r\n    font-size: .6875rem !important;\r\n    display: flex;\r\n    line-height: 1.25 !important;\r\n}\r\n\r\nstorm-input-group .input-group.input-group-outline:has(.form-label),\r\nstorm-input-group .input-group.input-group-dynamic {\r\n    margin-top: .6875rem\r\n}\r\n\r\nstorm-input-group .input-group.input-group-dynamic.is-focused .form-label,\r\nstorm-input-group .input-group.input-group-dynamic.is-filled .form-label,\r\nstorm-input-group .input-group.input-group-static.is-focused .form-label,\r\nstorm-input-group .input-group.input-group-static.is-filled .form-label {\r\n    top: -.7rem !important;\r\n}\r\n\r\nstorm-input-group .input-group .input-group-text {\r\n    padding-top: .6rem !important;\r\n}\r\n\r\nstorm-input-group .input-group-outline.is-invalid .input-group-text,\r\nstorm-input-group .input-group-outline.is-valid .input-group-text {\r\n    padding-right: 2.25rem;\r\n}\r\n\r\nstorm-input-group .input-group-prepend {\r\n    margin-right: -1px;\r\n    position: absolute;\r\n    padding: .5rem .4rem !important;\r\n    bottom: 0;\r\n}\r\n\r\nstorm-input-group .input-group-append,\r\nstorm-input-group .input-group-prepend,\r\nstorm-input-group:hover .input-group-clearable {\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n}\r\n\r\nstorm-input-group .input-group-clearable:hover {\r\n    color: #e91e63;\r\n}\r\n\r\nstorm-input-group .input-group-clearable {\r\n    position: absolute;\r\n    right: 0;\r\n    bottom: .1rem;\r\n    color: #344767;\r\n    -webkit-user-select: none;\r\n    user-select: none;\r\n    z-index: 9;\r\n    display: none;\r\n    cursor: pointer;\r\n}\r\n\r\nstorm-input-group .input-group-outline.is-invalid>.input-group-clearable,\r\nstorm-input-group .input-group-outline.is-valid>.input-group-clearable {\r\n    padding: .5rem .3rem !important;\r\n    right: 2rem;\r\n}\r\n\r\nstorm-input-group .input-group-outline.is-invalid .form-control,\r\nstorm-input-group .input-group-outline.is-valid .form-control,\r\nstorm-input-group .input-group:is(:has(.input-group-clearable)) .form-control {\r\n    padding-right: 2rem !important;\r\n}\r\n\r\nstorm-input-group .input-group-outline.is-invalid:is(:has(.input-group-clearable)) .form-control,\r\nstorm-input-group .input-group-outline.is-valid:is(:has(.input-group-clearable)) .form-control {\r\n    padding-right: 4rem !important;\r\n}\r\n\r\nstorm-input-group .input-group:is(:has(.input-group-prepend)) .form-control {\r\n    padding-left: 2rem !important;\r\n}\r\n\r\nstorm-input-group .input-group.input-group-dynamic:is(:has(.input-group-prepend)) .form-label {\r\n    left: 2rem;\r\n}\r\n\r\nstorm-input-group .input-group.input-group-dynamic.is-filled:is(:has(.input-group-prepend)) .form-label,\r\nstorm-input-group .input-group.input-group-dynamic.is-focused:is(:has(.input-group-prepend)) .form-label {\r\n    left: 0;\r\n}\r\n\r\nstorm-input-group .input-group.input-group-outline.is-filled:not(:has(.form-label)) .form-control,\r\nstorm-input-group .input-group.input-group-outline.is-focused:not(:has(.form-label)) .form-control {\r\n    border-color: #e91e63 !important;\r\n    box-shadow: inset 1px 0 #e91e63, inset -1px 0 #e91e63, inset 0 -1px #e91e63, inset 0 1px #e91e63;\r\n}\r\n\r\nstorm-input-group .input-group:not(.has-validation)> :not(:last-child):not(.dropdown-toggle):not(.dropdown-menu) {\r\n    border-top-right-radius: .375rem !important;\r\n    border-bottom-right-radius: .375rem !important;\r\n}","import { Component, Element, Event, EventEmitter, h, Host, Method, Prop, State, Watch } from '@stencil/core';\r\nimport flatpickr from 'flatpickr';\r\nimport { MandarinTraditional } from 'flatpickr/dist/l10n/zh-tw.js';\r\nimport monthSelectPlugin from 'flatpickr/dist/plugins/monthSelect';\r\nimport { FnIcon, FnTag } from '../../utils/functional/functional';\r\nimport { arrayEqual, debounce, isNonEmptyValue, mergeClasses } from '../../utils/utils';\r\n\r\n@Component({\r\n  tag: 'storm-input-group',\r\n  styleUrl: 'storm-input-group.css',\r\n  shadow: false,\r\n})\r\nexport class StormInputGroup {\r\n  private _textInputRef: HTMLInputElement;\r\n  private _cancelRef: HTMLDivElement;\r\n  private _groupRef: HTMLDivElement;\r\n  private _flatpickrInstance: any;\r\n\r\n  @Element() host: HTMLElement;\r\n\r\n  @Prop({ mutable: true }) value: string | string[];\r\n  @Prop() type: string = InputType.Text;\r\n  @Prop() label: string;\r\n\r\n  // Date picker\r\n  @Prop() enableTime: boolean = false;\r\n  @Prop() noCalendar: boolean = false;\r\n  @Prop() dateFormat: string = 'Y-m-d';\r\n  @Prop() mode: 'single' | 'multiple' | 'range' = 'single';\r\n\r\n  @Prop() name: string;\r\n  @Prop() disabled: boolean = false;\r\n  @Prop() clearable: boolean = true;\r\n  @Prop() inputStyle: 'outline' | 'dynamic' | 'static' = 'static';\r\n  @Prop() size?: 'lg' | 'sm';\r\n  @Prop() placeholder: string;\r\n  @Prop() appendIcon: string;\r\n  @Prop() prependIcon: string;\r\n  @Prop() class: Record<string, boolean> | string;\r\n  @Prop() multiple?: boolean;\r\n\r\n  @Prop({ mutable: true }) valid?: boolean;\r\n  @Prop() required?: boolean;\r\n  @Prop() isDynamic?: boolean;\r\n  @Prop() outline?: boolean;\r\n\r\n  @State() isValid?: boolean;\r\n\r\n  @Event() valueChanged: EventEmitter<string | string[]>;\r\n\r\n  @Watch('value')\r\n  valueWatcher(newValue: string | string[], oldValue: string | string[]) {\r\n    if (arrayEqual(newValue, oldValue)) return;\r\n\r\n    this.updateFlatpickr();\r\n\r\n    this.valueChanged.emit(newValue);\r\n    this.validate();\r\n  }\r\n\r\n  @Method()\r\n  async setFocus() {\r\n    this._debouncedFocusTextInput();\r\n  }\r\n\r\n  @Method()\r\n  async setValue(vlaue: string | string[]) {\r\n    this._debouncedUpdateValue(vlaue);\r\n  }\r\n\r\n  validate(): void {\r\n    if (this.valid !== undefined || !this.required) return;\r\n    this.isValid = isNonEmptyValue(this.value);\r\n  }\r\n\r\n  handleFocus(_: FocusEvent) {\r\n    this._groupRef.classList.add('is-focused');\r\n  }\r\n\r\n  handleFocusout(_: FocusEvent) {\r\n    if (!this._groupRef || !this._textInputRef) return;\r\n\r\n    this.refreshInputStatus(this._textInputRef.value);\r\n    this._groupRef.classList.remove('is-focused');\r\n  }\r\n\r\n  handleTagCancel(ev: MouseEvent, value: string) {\r\n    if (!Array.isArray(this.value)) return;\r\n    ev.stopPropagation();\r\n    this._debouncedUpdateValue(this.value.filter(x => x.toString() !== value));\r\n  }\r\n\r\n  handleKeyDown(ev: KeyboardEvent): void {\r\n    if (!this._textInputRef) return;\r\n    if (this.multiple && ev.key === 'Enter') {\r\n      ev.preventDefault();\r\n\r\n      const inputValue = this._textInputRef.value.trim();\r\n      if (!inputValue) return;\r\n      const valueArray = Array.isArray(this.value) ? this.value : [];\r\n\r\n      if (!valueArray.includes(inputValue)) {\r\n        this._debouncedUpdateValue([...valueArray, inputValue]);\r\n      }\r\n\r\n      this._textInputRef.value = '';\r\n      this.refreshInputStatus(this._textInputRef.value);\r\n    } else if (ev.key === 'Backspace' && (this._textInputRef.value == '' || this._textInputRef.value == null)) {\r\n      const valueArray = Array.isArray(this.value) ? this.value : [];\r\n      if (valueArray.length > 0) {\r\n        this._debouncedUpdateValue(valueArray.slice(0, -1));\r\n      }\r\n    }\r\n  }\r\n\r\n  handleInput(_: InputEvent) {\r\n    if (this.multiple) {\r\n      this.refreshInputStatus(this._textInputRef.value);\r\n    } else {\r\n      this._debouncedUpdateValue(this._textInputRef.value);\r\n    }\r\n  }\r\n\r\n  refreshInputStatus(value?: string) {\r\n    const hasValue = value != '' && value != null;\r\n    if (this._cancelRef) {\r\n      this._cancelRef.classList.toggle('d-none', !hasValue);\r\n    }\r\n    if (this._groupRef) {\r\n      this._groupRef.classList.toggle('is-filled', this.inputStyle !== 'static' && hasValue);\r\n    }\r\n  }\r\n\r\n  clearValue() {\r\n    this._textInputRef.value = '';\r\n    if (!this.multiple) {\r\n      this._debouncedUpdateValue('');\r\n    }\r\n    this.refreshInputStatus(this._textInputRef.value);\r\n  }\r\n\r\n  getClasses(): Record<string, boolean> {\r\n    return mergeClasses(this.class, {\r\n      'input-group': true,\r\n      'input-group-lg': this.size === 'lg',\r\n      'input-group-sm': this.size === 'sm',\r\n      'input-group-outline': this.inputStyle === 'outline',\r\n      'input-group-dynamic': this.inputStyle === 'dynamic',\r\n      'input-group-static': this.inputStyle === 'static',\r\n      'is-valid': this.valid === true || this.isValid === true,\r\n      'is-invalid': this.valid === false || this.isValid === false,\r\n      'is-filled': this.value != '' && ((this.disabled === true && this.inputStyle === 'dynamic') || (!this.disabled && this.inputStyle !== 'static')),\r\n    });\r\n  }\r\n\r\n  getInputClasses(): Record<string, boolean> {\r\n    const classes = { 'form-control': true, 'multisteps-form__input': true };\r\n    if (this.type == InputType.Date) classes['datetimepicker'] = true;\r\n    return classes;\r\n  }\r\n\r\n  componentWillLoad() {\r\n    if (this.isDynamic != undefined || this.outline != undefined) {\r\n      if (this.outline === true) {\r\n        this.inputStyle = 'outline';\r\n      } else if (this.isDynamic === true) {\r\n        this.inputStyle = 'dynamic';\r\n      } else {\r\n        this.inputStyle = 'static';\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillRender() {\r\n    this.validate();\r\n  }\r\n\r\n  appendRender() {\r\n    if (!this.appendIcon) return;\r\n    return (\r\n      <span class=\"input-group-text\">\r\n        <FnIcon>{this.appendIcon}</FnIcon>\r\n      </span>\r\n    );\r\n  }\r\n\r\n  prependRender() {\r\n    if (!this.prependIcon) return;\r\n    return (\r\n      <span class=\"input-group-prepend\">\r\n        <FnIcon>{this.prependIcon}</FnIcon>\r\n      </span>\r\n    );\r\n  }\r\n\r\n  renderClearButton() {\r\n    if (this.disabled || this.clearable === false) return;\r\n    return (\r\n      <div\r\n        ref={elm => (this._cancelRef = elm)}\r\n        role=\"button\"\r\n        tabindex=\"0\"\r\n        aria-label=\"Clear input\"\r\n        class={{\r\n          'input-group-clearable': true,\r\n          'p-2': true,\r\n          'd-none': true,\r\n        }}\r\n        onClick={ev => {\r\n          ev.stopPropagation();\r\n          this.clearValue();\r\n          this._debouncedFocusTextInput();\r\n        }}\r\n      >\r\n        <FnIcon>cancel</FnIcon>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  labelRender() {\r\n    if (!this.label) return;\r\n    return <label class={{ 'form-label': this.inputStyle != 'static' }}>{this.label}</label>;\r\n  }\r\n\r\n  tagRender() {\r\n    if (!Array.isArray(this.value)) return;\r\n    return this.value.map(x => <FnTag lable={x} onClickCancel={ev => this.handleTagCancel(ev, x)}></FnTag>);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <div ref={elm => (this._groupRef = elm)} class={this.getClasses()}>\r\n          {this.labelRender()}\r\n          <input\r\n            ref={elm => (this._textInputRef = elm)}\r\n            class={this.getInputClasses()}\r\n            type={this.type != InputType.Number ? 'text' : InputType.Number}\r\n            value={Array.isArray(this.value) ? '' : this.value}\r\n            name={this.name}\r\n            disabled={this.disabled}\r\n            onFocus={ev => this.handleFocus(ev)}\r\n            onBlur={ev => this.handleFocusout(ev)}\r\n            onKeyDown={ev => this.handleKeyDown(ev)}\r\n            onInput={ev => this.handleInput(ev)}\r\n            placeholder={this.placeholder}\r\n          />\r\n          {this.prependRender()}\r\n          {this.appendRender()}\r\n          {this.renderClearButton()}\r\n        </div>\r\n        {this.tagRender()}\r\n      </Host>\r\n    );\r\n  }\r\n\r\n  updateFlatpickr() {\r\n    if (this._flatpickrInstance && this.value && this.type === InputType.Date) {\r\n      const parsedDate = new Date(this.value as string);\r\n      if (!isNaN(parsedDate.getTime())) {\r\n        this._flatpickrInstance.setDate(parsedDate, true);\r\n      }\r\n    }\r\n  }\r\n\r\n  private getDefaultTime(): { defaultHour: number; defaultMinute: number } {\r\n    const now = new Date();\r\n    let defaultHour = now.getHours();\r\n    let defaultMinute = now.getMinutes();\r\n\r\n    if (this.value && this.enableTime) {\r\n      const parsedDate = new Date(this.value as string);\r\n      if (!isNaN(parsedDate.getTime())) {\r\n        defaultHour = parsedDate.getHours();\r\n        defaultMinute = parsedDate.getMinutes();\r\n      }\r\n    }\r\n\r\n    return { defaultHour, defaultMinute };\r\n  }\r\n\r\n  componentDidLoad() {\r\n    if (this.type == InputType.Date) {\r\n      const { defaultHour, defaultMinute } = this.getDefaultTime();\r\n      const options = {\r\n        allowInput: false,\r\n        enableTime: this.enableTime,\r\n        noCalendar: this.noCalendar,\r\n        dateFormat: this.dateFormat,\r\n        mode: this.mode,\r\n        time_24hr: true,\r\n        locale: MandarinTraditional,\r\n        plugins: [],\r\n        defaultHour: defaultHour,\r\n        defaultMinute: defaultMinute,\r\n      };\r\n\r\n      if (this.dateFormat.lastIndexOf('d') == -1 && this.dateFormat.lastIndexOf('H') == -1 && this.dateFormat.lastIndexOf('h') == -1) {\r\n        options.plugins = [\r\n          monthSelectPlugin({\r\n            // shorthand: false, //defaults to false\r\n            dateFormat: this.dateFormat, //defaults to \"F Y\"\r\n            // altFormat: \"Y-M\", //defaults to \"F Y\"\r\n            // theme: \"light\" // defaults to \"light\"\r\n          }),\r\n        ];\r\n      }\r\n      this._flatpickrInstance = flatpickr(this._textInputRef, options);\r\n    }\r\n  }\r\n\r\n  componentDidRender() {\r\n    this.refreshInputStatus(this._textInputRef.value);\r\n  }\r\n\r\n  private readonly _debouncedFocusTextInput = debounce(() => {\r\n    this._textInputRef.focus();\r\n  }, 100);\r\n\r\n  private readonly _debouncedUpdateValue = debounce((value: string | string[]) => {\r\n    if (arrayEqual(this.value, value)) return;\r\n    this.value = value;\r\n  }, 250);\r\n}\r\n\r\nenum InputType {\r\n  Text = 'text',\r\n  Date = 'date',\r\n  Number = 'number',\r\n}\r\n",":host {\r\n  display: block;\r\n}","import { Component, Element, Event, EventEmitter, h, Host, Listen, Method, Prop, Watch } from '@stencil/core';\r\nimport { FnIcon, FnSearchInput } from '../../utils/functional/functional';\r\nimport type { ListItemInterface } from '../../utils/interface';\r\nimport { appendHighlight, arrayEqual, calculateObjectValue, generateUid, getSelectedItemIds, mergeClasses } from '../../utils/utils';\r\n\r\n@Component({\r\n  tag: 'storm-list-group',\r\n  styleUrl: 'storm-list-group.scss',\r\n  shadow: false,\r\n})\r\nexport class StormListGroup {\r\n  private _itemRefs: Record<string, HTMLElement>;\r\n  private _searchRef: HTMLStormInputGroupElement;\r\n\r\n  @Element() host: HTMLElement;\r\n\r\n  @Prop({ mutable: true }) dataSet: ListItemInterface[];\r\n  @Prop() headline?: string;\r\n  @Prop({ mutable: true }) searchText?: string;\r\n  @Prop() searchable: boolean = false;\r\n  @Prop() selection: 'single' | 'multiple' | 'none' = 'single';\r\n  @Prop() nullable: boolean = false;\r\n  @Prop({ mutable: true }) value?: string | string[];\r\n  @Prop() class: Record<string, boolean> | string;\r\n  @Prop() itemClass: Record<string, boolean> | string;\r\n\r\n  @Event() valueChanged: EventEmitter<string | string[]>;\r\n  @Event() itemClick: EventEmitter<ListItemInterface>;\r\n  @Event() selectChange: EventEmitter<ListItemInterface>;\r\n  @Event() searchChanged: EventEmitter<string>;\r\n\r\n  @Watch('value')\r\n  valueWatcher(newValue: string | string[], oldValue: string | string[]) {\r\n    if (arrayEqual(newValue, oldValue)) return;\r\n\r\n    this.setSelectedItems();\r\n\r\n    this.valueChanged.emit(newValue);\r\n  }\r\n\r\n  @Watch('dataSet')\r\n  dataSetWatcher() {\r\n    this.initDataSet();\r\n    this.setSelectedItems();\r\n  }\r\n\r\n  @Listen('itemClick')\r\n  itemClickHandler(event: CustomEvent<ListItemInterface>) {\r\n    if (this.selection === 'none') return;\r\n    const item = event.detail;\r\n    item.selected ? this.unselect(item) : this.select(item);\r\n  }\r\n\r\n  @Listen('searchChanged')\r\n  searchChangedHandler(ev: CustomEvent<string>) {\r\n    this.searchText = ev.detail;\r\n  }\r\n\r\n  @Method()\r\n  async setSearchFocus() {\r\n    if (this.searchable && this._searchRef) {\r\n      requestAnimationFrame(async () => {\r\n        await this._searchRef.setFocus();\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSearchChanged(ev: CustomEvent<string>) {\r\n    ev.stopPropagation();\r\n    const value = ev.detail?.trim();\r\n    if (this.searchText === value) return;\r\n    this.searchChanged.emit(value);\r\n  }\r\n\r\n  select(item: ListItemInterface) {\r\n    if (item.selected) return;\r\n    switch (this.selection) {\r\n      case 'single':\r\n        this.value = item.id;\r\n        break;\r\n      case 'multiple': {\r\n        const currentValue = Array.isArray(this.value) ? this.value : this.value ? [this.value] : [];\r\n        if (!currentValue.includes(item.id)) this.value = [...currentValue, item.id];\r\n        break;\r\n      }\r\n      default:\r\n        console.warn(`Unknown selection mode: ${this.selection}`);\r\n    }\r\n    this.selectChange.emit(item);\r\n  }\r\n\r\n  unselect(item: ListItemInterface) {\r\n    if (!item.selected) return;\r\n    switch (this.selection) {\r\n      case 'single':\r\n        if (!this.nullable) return;\r\n        this.value = null;\r\n        break;\r\n      case 'multiple': {\r\n        const currentValue = Array.isArray(this.value) ? this.value : this.value ? [this.value] : [];\r\n        if (currentValue.length === 1) return;\r\n        if (currentValue.includes(item.id)) this.value = currentValue.filter(id => id !== item.id);\r\n        break;\r\n      }\r\n      default:\r\n        console.warn(`Unknown selection mode: ${this.selection}`);\r\n    }\r\n    this.selectChange.emit(item);\r\n  }\r\n\r\n  initDataSet() {\r\n    if (!Array.isArray(this.dataSet)) return;\r\n    this.dataSet.forEach(item => {\r\n      item.id = item.id || generateUid('ilist-item');\r\n    });\r\n  }\r\n\r\n  setSelectedItems() {\r\n    if (!Array.isArray(this.dataSet)) return;\r\n    const valueArray = Array.isArray(this.value) ? this.value : this.value ? [this.value] : [];\r\n    const valueSet = new Set<string>(valueArray);\r\n    this.dataSet.forEach(item => {\r\n      item.selected = valueSet.has(item.id);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    if (this.headline) {\r\n      return (\r\n        <Host>\r\n          <storm-card scrollable={true} class=\"mt-4\" bodyClass=\"p-0\">\r\n            <div slot=\"card-header\">\r\n              <div class=\"border-radius-xl mt-n4 mx-4 mb-2 bg-gradient-dark shadow-dark p-1\">\r\n                <h6 class=\"text-white font-weight-bolder text-center m-1\">{this.headline}</h6>\r\n              </div>\r\n            </div>\r\n            <div slot=\"body\">{this.renderListGroup()}</div>\r\n          </storm-card>\r\n        </Host>\r\n      );\r\n    } else {\r\n      return <Host>{this.renderListGroup()}</Host>;\r\n    }\r\n  }\r\n\r\n  renderItems() {\r\n    this._itemRefs = {};\r\n    if (!Array.isArray(this.dataSet) || this.dataSet.length === 0) {\r\n      return <div class=\"disabled list-group-item align-middle text-center p-4 h6\">沒有找到符合的結果</div>;\r\n    }\r\n    let itmes = this.dataSet.filter(item => calculateObjectValue(this, item.visible) ?? true);\r\n    if (this.searchable && this.searchText) {\r\n      itmes = itmes.filter(x => x.title.toLowerCase().includes(this.searchText));\r\n    }\r\n    return itmes.map(item => this.renderItem(item));\r\n  }\r\n\r\n  renderItem(item: ListItemInterface) {\r\n    const disabled = calculateObjectValue(this, item.disabled) ?? false;\r\n    return (\r\n      <a\r\n        href=\"javascript:void(0);\"\r\n        class={mergeClasses(\r\n          {\r\n            'list-group-item': true,\r\n            'list-group-item-action': true,\r\n            disabled: disabled,\r\n            active: item.selected,\r\n            'px-2': true,\r\n            'py-1': true,\r\n          },\r\n          this.itemClass,\r\n        )}\r\n        onClick={ev => {\r\n          ev.stopPropagation();\r\n          this.itemClick.emit(item);\r\n        }}\r\n        ref={elm => (this._itemRefs[item.id] = elm)}\r\n      >\r\n        <FnIcon>{item.icon}</FnIcon>\r\n        <FnIcon class={{ 'float-end': true }}>{item.selected && this.selection === 'multiple' ? 'check_circle' : ''}</FnIcon>\r\n        {this.renderItemLabel(item.title)}\r\n      </a>\r\n    );\r\n  }\r\n\r\n  renderListGroup() {\r\n    return (\r\n      <div class={mergeClasses({ 'list-group': true, 'list-group-flush': !!this.headline }, this.class)}>\r\n        {this.renderSearch()}\r\n        {this.renderItems()}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderItemLabel(value: string) {\r\n    return <span class={{ 'nav-link-text': true }} innerHTML={!this.searchText || !value ? value : appendHighlight(value, this.searchText)}></span>;\r\n  }\r\n\r\n  renderSearch() {\r\n    if (!this.searchable) return;\r\n    return (\r\n      <div class=\"search\">\r\n        <FnSearchInput ref={elm => (this._searchRef = elm)} value={this.searchText} onValueChanged={ev => this.handleSearchChanged(ev)} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  componentWillLoad() {\r\n    this.initDataSet();\r\n    if (!this.value || (Array.isArray(this.value) && this.value.length === 0)) {\r\n      this.value = getSelectedItemIds(this.dataSet, this.nullable, this.selection);\r\n    }\r\n    this.setSelectedItems();\r\n  }\r\n\r\n  componentDidLoad() {\r\n    const hasValidValue = (typeof this.value === 'string' && this.value.trim() !== '') || (Array.isArray(this.value) && this.value.length > 0);\r\n\r\n    if (hasValidValue) {\r\n      this.valueChanged.emit(this.value);\r\n    }\r\n  }\r\n}\r\n","@import '../../../node_modules/perfect-scrollbar/css/perfect-scrollbar.css';\r\n\r\n:host {\r\n  display: block;\r\n}\r\n\r\n.storm-container,\r\n.storm-vertical-static-backdrop,\r\n.storm-horizontal-static-backdrop {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n}\r\n\r\n.storm-first-pane-d-none>.first-second-pane,\r\n.storm-second-pane-d-none>.storm-second-pane {\r\n  display: none !important;\r\n}\r\n\r\n.storm-pane {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  overflow: auto;\r\n  /* overflow: hidden; */\r\n}\r\n\r\n.storm-split-percent:has(.storm-first-pane-AD-none, .storm-second-pane-d-none)>.split-bar {\r\n  display: none;\r\n}\r\n\r\n.storm-split-percent:not(.storm-first-pane-d-none):not(.storm-second-pane-d-none)>.split-bar {\r\n  -webkit-background-clip: padding-box;\r\n  /* for Safari */\r\n  background-clip: padding-box;\r\n  /* for IE9+, Firefox 4+, Opera, Chrome */\r\n  position: absolute;\r\n  z-index: 9998;\r\n}\r\n\r\n.split-bar.active,\r\n.split-bar:hover {\r\n  background-color: #e91e63;\r\n}\r\n\r\n.storm-vertical-static-backdrop,\r\n.storm-horizontal-static-backdrop {\r\n  z-index: 9999;\r\n}\r\n\r\n.storm-vertical-split>.storm-first-pane,\r\n.storm-vertical-split>.storm-second-pane {\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n}\r\n\r\n.storm-vertical-split>.storm-first-pane {\r\n  left: 0;\r\n}\r\n\r\n.storm-vertical-split>.storm-second-pane {\r\n  right: 0;\r\n}\r\n\r\n.storm-vertical-split.storm-split-percent>.storm-first-pane {\r\n  right: auto;\r\n  width: var(--split-percent);\r\n}\r\n\r\n.storm-vertical-split.storm-split-percent>.storm-second-pane {\r\n  left: var(--split-percent);\r\n  width: auto;\r\n}\r\n\r\n.storm-vertical-split.storm-fixed-first-pane>.storm-first-pane {\r\n  right: auto;\r\n  width: var(--fixed-size);\r\n}\r\n\r\n.storm-vertical-split.storm-fixed-first-pane>.storm-second-pane {\r\n  left: var(--fixed-size);\r\n  width: auto;\r\n}\r\n\r\n.storm-vertical-split.storm-fixed-second-pane>.storm-first-pane {\r\n  right: var(--fixed-size);\r\n  width: auto;\r\n}\r\n\r\n.storm-vertical-split.storm-fixed-second-pane>.storm-second-pane {\r\n  left: auto;\r\n  width: var(--fixed-size);\r\n}\r\n\r\n.storm-vertical-split.storm-first-pane-d-none>.storm-second-pane,\r\n.storm-vertical-split.storm-second-pane-d-none>.storm-first-pane {\r\n  left: 0 !important;\r\n  right: 0 !important;\r\n  width: auto !important;\r\n}\r\n\r\n.storm-vertical-split.storm-split-percent:not(.storm-first-pane-d-none):not(.storm-second-pane-d-none):not(.storm-fixed-first-pane):not(.storm-fixed-second-pane)>.storm-first-pane>.storm-pane {\r\n  right: 2px !important;\r\n}\r\n\r\n.storm-vertical-split.storm-split-percent:not(.storm-first-pane-d-none):not(.storm-second-pane-d-none):not(.storm-fixed-first-pane):not(.storm-fixed-second-pane)>.storm-second-pane>.storm-pane {\r\n  left: 2px !important;\r\n}\r\n\r\n.storm-vertical-split.storm-split-percent:not(.storm-first-pane-d-none):not(.storm-second-pane-d-none)>.split-bar {\r\n  border-left: 1px solid rgba(0, 0, 0, 0);\r\n  border-right: 1px solid rgba(0, 0, 0, 0);\r\n  top: 0;\r\n  bottom: 0;\r\n  left: var(--split-percent);\r\n  margin-left: -2px;\r\n  width: 4px;\r\n}\r\n\r\n.storm-vertical-static-backdrop,\r\n.storm-vertical-split .split-bar:hover {\r\n  cursor: col-resize;\r\n}\r\n\r\n.storm-horizontal-split>.storm-first-pane,\r\n.storm-horizontal-split>.storm-second-pane {\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n}\r\n\r\n.storm-horizontal-split>.storm-first-pane {\r\n  top: 0;\r\n}\r\n\r\n.storm-horizontal-split>.storm-second-pane {\r\n  bottom: 0;\r\n}\r\n\r\n.storm-horizontal-split.storm-split-percent>.storm-first-pane {\r\n  bottom: auto;\r\n  height: var(--split-percent);\r\n}\r\n\r\n.storm-horizontal-split.storm-split-percent>.storm-second-pane {\r\n  top: var(--split-percent);\r\n  height: auto;\r\n}\r\n\r\n.storm-horizontal-split.storm-fixed-first-pane>.storm-first-pane {\r\n  bottom: auto;\r\n  height: var(--fixed-size);\r\n}\r\n\r\n.storm-horizontal-split.storm-fixed-first-pane>.storm-second-pane {\r\n  top: var(--fixed-size);\r\n  height: auto;\r\n}\r\n\r\n.storm-horizontal-split.storm-fixed-second-pane>.storm-first-pane {\r\n  bottom: var(--fixed-size);\r\n  height: auto;\r\n}\r\n\r\n.storm-horizontal-split.storm-fixed-second-pane>.storm-second-pane {\r\n  top: auto;\r\n  height: var(--fixed-size);\r\n}\r\n\r\n.storm-horizontal-split.storm-first-pane-d-none>.storm-second-pane,\r\n.storm-horizontal-split.storm-second-pane-d-none>.storm-first-pane {\r\n  top: 0 !important;\r\n  bottom: 0 !important;\r\n  height: auto !important;\r\n}\r\n\r\n.storm-horizontal-split.storm-split-percent:not(.storm-first-pane-d-none):not(.storm-second-pane-d-none):not(.storm-fixed-first-pane):not(.storm-fixed-second-pane)>.storm-first-pane>.storm-pane {\r\n  bottom: 2px !important;\r\n}\r\n\r\n.storm-horizontal-split.storm-split-percent:not(.storm-first-pane-d-none):not(.storm-second-pane-d-none):not(.storm-fixed-first-pane):not(.storm-fixed-second-pane)>.storm-second-pane>.storm-pane {\r\n  top: 2px !important;\r\n}\r\n\r\n.storm-horizontal-split.storm-split-percent:not(.storm-first-pane-d-none):not(.storm-second-pane-d-none)>.split-bar {\r\n  border-top: 1px solid rgba(0, 0, 0, 0);\r\n  border-bottom: 1px solid rgba(0, 0, 0, 0);\r\n  left: 0;\r\n  right: 0;\r\n  top: var(--split-percent);\r\n  margin-top: -2px;\r\n  height: 4px;\r\n}\r\n\r\n.storm-horizontal-static-backdrop,\r\n.storm-horizontal-split>.split-bar:hover {\r\n  cursor: row-resize;\r\n}","import { Component, Element, Event, EventEmitter, Host, Method, Prop, h } from '@stencil/core';\r\nimport PerfectScrollbar from 'perfect-scrollbar';\r\n\r\n@Component({\r\n  tag: 'storm-split-view',\r\n  styleUrl: 'storm-split-view.css',\r\n  shadow: false,\r\n})\r\nexport class StormSplitView {\r\n  private _splitBarMove: boolean = false;\r\n  private _splitBarRef: HTMLDivElement;\r\n  private _stormContainerRef: HTMLDivElement;\r\n  private _secondPaneRef: HTMLDivElement;\r\n\r\n  @Element() host: HTMLElement;\r\n  @Prop() splitPercent: number = 50;\r\n  @Prop() fixedSize?: string;\r\n  @Prop() fixedPane?: 'first' | 'second';\r\n  @Prop() direction: 'horizontal' | 'vertical' = 'vertical';\r\n  @Prop() firstPaneVisible: boolean = true;\r\n  @Prop() secondPaneVisible: boolean = true;\r\n  @Prop() firstPaneName: string = 'first-pane';\r\n  @Prop() secondPaneName: string = 'second-pane';\r\n\r\n  @Event() innerScroll: EventEmitter<number>;\r\n\r\n  @Method()\r\n  async viewToggle(token: 'first' | 'second', force: boolean) {\r\n    this._stormContainerRef.classList.toggle('storm-' + token + '-pane-d-none', !force);\r\n  }\r\n\r\n  renderPane(token: string) {\r\n    const classes = {};\r\n    classes['storm-' + token + '-pane'] = true;\r\n    return (\r\n      <div\r\n        ref={elm => {\r\n          if (token === 'second') this._secondPaneRef = elm;\r\n        }}\r\n        class={classes}\r\n      >\r\n        <div class={{ 'storm-pane': true }}>\r\n          <slot name={token === 'first' ? this.firstPaneName : this.secondPaneName}></slot>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const styles = {};\r\n    if (!this.fixedSize || !this.fixedPane) styles['--split-percent'] = this.splitPercent + '%';\r\n    else styles['--fixed-size'] = this.fixedSize;\r\n    return (\r\n      <Host style={styles}>\r\n        <div\r\n          ref={elm => (this._stormContainerRef = elm)}\r\n          class={{\r\n            'storm-container': true,\r\n            'storm-first-pane-d-none': !this.firstPaneVisible,\r\n            'storm-second-pane-d-none': !this.secondPaneVisible,\r\n            'storm-split-percent': !this.fixedSize || !this.fixedPane,\r\n            'storm-fixed-first-pane': this.fixedPane === 'first',\r\n            'storm-fixed-second-pane': this.fixedPane === 'second',\r\n            'storm-horizontal-split': this.direction === 'horizontal',\r\n            'storm-vertical-split': this.direction === 'vertical',\r\n          }}\r\n        >\r\n          {this.renderPane('first')}\r\n          {this.renderPane('second')}\r\n          <div\r\n            ref={elm => {\r\n              this._splitBarRef = elm;\r\n            }}\r\n            class={{ 'split-bar': true }}\r\n          ></div>\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n\r\n  componentDidLoad() {\r\n    this._splitBarRef.addEventListener('mousedown', () => {\r\n      this._splitBarRef.classList.add('active');\r\n      this._splitBarMove = true;\r\n      const staticBackdrop: HTMLDivElement = document.createElement('div');\r\n      staticBackdrop.classList.add('storm-' + this.direction + '-static-backdrop');\r\n      staticBackdrop.addEventListener('mousemove', (e: MouseEvent) => {\r\n        if (this._splitBarMove) {\r\n          if (this.direction === 'vertical') this._splitBarRef.style.setProperty('left', e.offsetX + 'px');\r\n          else this._splitBarRef.style.setProperty('top', e.offsetY + 'px');\r\n        }\r\n      });\r\n      staticBackdrop.addEventListener('mouseup', e => {\r\n        this._splitBarRef.classList.remove('active');\r\n        if (this._splitBarMove) {\r\n          let percent = 0;\r\n          if (this.direction === 'vertical') percent = (e.offsetX / staticBackdrop.offsetWidth) * 100;\r\n          else percent = (e.offsetY / staticBackdrop.offsetHeight) * 100;\r\n          if (percent < 10) percent = 10;\r\n          if (percent > 90) percent = 90;\r\n          this.host.style.setProperty('--split-percent', percent + '%');\r\n          this._splitBarMove = false;\r\n          if (this.direction === 'vertical') this._splitBarRef.style.removeProperty('left');\r\n          else this._splitBarRef.style.removeProperty('top');\r\n          this.host.removeChild(staticBackdrop);\r\n        }\r\n      });\r\n      this.host.appendChild(staticBackdrop);\r\n    });\r\n\r\n    const container = this._secondPaneRef.firstElementChild;\r\n    if (container) {\r\n      new PerfectScrollbar(container);\r\n      const innerScroll = this.innerScroll;\r\n      let lastKnownScrollPosition = 0;\r\n      let ticking = false;\r\n      container.addEventListener('scroll', (e: Event) => {\r\n        lastKnownScrollPosition = container.scrollTop;\r\n        if (!ticking) {\r\n          window.requestAnimationFrame(function () {\r\n            innerScroll.emit(lastKnownScrollPosition);\r\n            ticking = false;\r\n          });\r\n          ticking = true;\r\n        }\r\n        e.stopPropagation();\r\n      });\r\n    }\r\n  }\r\n}\r\n",null,"import { Component, Element, h, Host, Method, Prop } from '@stencil/core';\r\n\r\n@Component({\r\n  tag: 'storm-vertical-split-view',\r\n  styleUrl: 'storm-vertical-split-view.css',\r\n  shadow: false,\r\n})\r\nexport class StormVerticalSplitView {\r\n  private _splitViewRef: HTMLStormSplitViewElement;\r\n\r\n  @Element() host: HTMLElement;\r\n  @Prop() splitPercent: number = 50;\r\n  @Prop() fixedSize?: string;\r\n  @Prop() fixedPane?: 'left' | 'right';\r\n  @Prop({ mutable: true }) leftPaneVisible?: boolean;\r\n  @Prop({ mutable: true }) rightPaneVisible?: boolean;\r\n\r\n  @Method()\r\n  async viewToggle(token: 'left' | 'right', force: boolean) {\r\n    await this._splitViewRef.viewToggle(token === 'left' ? 'first' : 'second', force);\r\n  }\r\n\r\n  componentWillLoad() {\r\n    this.leftPaneVisible = this.leftPaneVisible ?? this.host.querySelector(':scope>[slot=\"left-pane\"]') != null;\r\n    this.rightPaneVisible = this.rightPaneVisible ?? this.host.querySelector(':scope>[slot=\"right-pane\"]') != null;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <storm-split-view\r\n          ref={elm => (this._splitViewRef = elm)}\r\n          splitPercent={this.splitPercent}\r\n          fixedSize={this.fixedSize}\r\n          fixedPane={this.fixedPane == null ? null : this.fixedPane == 'left' ? 'first' : 'second'}\r\n          firstPaneVisible={this.leftPaneVisible}\r\n          secondPaneVisible={this.rightPaneVisible}\r\n          direction={'vertical'}\r\n          firstPaneName={'left-pane'}\r\n          secondPaneName={'right-pane'}\r\n        >\r\n          <slot name=\"left-pane\"></slot>\r\n          <slot name=\"right-pane\"></slot>\r\n        </storm-split-view>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]}