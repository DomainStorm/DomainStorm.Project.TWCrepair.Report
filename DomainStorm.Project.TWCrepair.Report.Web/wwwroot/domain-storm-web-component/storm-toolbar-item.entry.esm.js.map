{"version":3,"file":"storm-toolbar-item.entry.esm.js","sources":["src/components/storm-toolbar/storm-toolbar-item/storm-toolbar-item.css?tag=storm-toolbar-item","src/components/storm-toolbar/storm-toolbar-item/storm-toolbar-item.tsx"],"sourcesContent":[":host {\r\n    display: block;\r\n}","import { Component, Event, EventEmitter, h, Host, Prop } from '@stencil/core';\r\nimport { generateUid, parseClassNames, resolvePropertyValue } from '../../../utils/utils';\r\nimport type { ToolbarItemInterface } from '../interface';\r\n\r\n@Component({\r\n  tag: 'storm-toolbar-item',\r\n  styleUrl: 'storm-toolbar-item.css',\r\n  shadow: false,\r\n})\r\nexport class StormToolbarItem {\r\n  @Prop({ mutable: true }) uid: string;\r\n  @Prop() dataSet: ToolbarItemInterface;\r\n\r\n  @Event() toolbarAction: EventEmitter<string>;\r\n\r\n  private _active?: boolean;\r\n  private _disabled?: boolean;\r\n\r\n  handleToolbarAction(e: Event) {\r\n    e.stopPropagation();\r\n    this.toolbarAction.emit(this.dataSet.id);\r\n  }\r\n\r\n  initDataSet() {\r\n    if (this.dataSet.id) {\r\n      this.uid = this.dataSet.id;\r\n    } else if (!this.uid) {\r\n      this.dataSet.id = this.uid = generateUid('storm-toolbar-item');\r\n    }\r\n  }\r\n\r\n  componentWillLoad() {\r\n    this.initDataSet();\r\n  }\r\n\r\n  async componentWillRender() {\r\n    const promises: Promise<any>[] = [];\r\n\r\n    if (this.dataSet.active) {\r\n      promises.push(this.resolveActive().then(result => (this._active = result)));\r\n    }\r\n    if (this.dataSet.disabled) {\r\n      promises.push(this.resolveDisabled().then(result => (this._disabled = result)));\r\n    }\r\n\r\n    if (promises.length > 0) {\r\n      await Promise.all(promises);\r\n    }\r\n  }\r\n\r\n  private async resolveActive(): Promise<boolean> {\r\n    const result = resolvePropertyValue(this.dataSet, 'active');\r\n    return result instanceof Promise ? await result : result;\r\n  }\r\n\r\n  private async resolveDisabled(): Promise<boolean> {\r\n    const result = resolvePropertyValue(this.dataSet, 'disabled');\r\n    return result instanceof Promise ? await result : result;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host class={parseClassNames(this.dataSet.class)}>\r\n        <storm-button\r\n          type={this.dataSet.buttonType}\r\n          label={this.dataSet.label}\r\n          tooltip={this.dataSet.tooltip}\r\n          icon={this.dataSet.icon}\r\n          buttonStyle={this.dataSet.buttonStyle}\r\n          size={this.dataSet.size}\r\n          active={this._active}\r\n          disabled={this._disabled}\r\n          onButtonClick={event => this.handleToolbarAction(event)}\r\n          rounded={this.dataSet.rounded}\r\n        ></storm-button>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;AAAA,MAAM,mBAAmB,GAAG,sBAAsB;;MCSrC,gBAAgB,GAAA,MAAA;;;;;AACF,IAAA,GAAG;AACpB,IAAA,OAAO;AAEN,IAAA,aAAa;AAEd,IAAA,OAAO;AACP,IAAA,SAAS;AAEjB,IAAA,mBAAmB,CAAC,CAAQ,EAAA;QAC1B,CAAC,CAAC,eAAe,EAAE;QACnB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC;;IAG1C,WAAW,GAAA;AACT,QAAA,IAAI,IAAI,CAAC,OAAO,CAAC,EAAE,EAAE;YACnB,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,EAAE;;AACrB,aAAA,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE;AACpB,YAAA,IAAI,CAAC,OAAO,CAAC,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,WAAW,CAAC,oBAAoB,CAAC;;;IAIlE,iBAAiB,GAAA;QACf,IAAI,CAAC,WAAW,EAAE;;AAGpB,IAAA,MAAM,mBAAmB,GAAA;QACvB,MAAM,QAAQ,GAAmB,EAAE;AAEnC,QAAA,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE;YACvB,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC,IAAI,CAAC,MAAM,KAAK,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,CAAC,CAAC;;AAE7E,QAAA,IAAI,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE;YACzB,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,IAAI,CAAC,MAAM,KAAK,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,CAAC,CAAC;;AAGjF,QAAA,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;AACvB,YAAA,MAAM,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC;;;AAIvB,IAAA,MAAM,aAAa,GAAA;QACzB,MAAM,MAAM,GAAG,oBAAoB,CAAC,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC;AAC3D,QAAA,OAAO,MAAM,YAAY,OAAO,GAAG,MAAM,MAAM,GAAG,MAAM;;AAGlD,IAAA,MAAM,eAAe,GAAA;QAC3B,MAAM,MAAM,GAAG,oBAAoB,CAAC,IAAI,CAAC,OAAO,EAAE,UAAU,CAAC;AAC7D,QAAA,OAAO,MAAM,YAAY,OAAO,GAAG,MAAM,MAAM,GAAG,MAAM;;IAG1D,MAAM,GAAA;QACJ,QACE,CAAA,CAAC,IAAI,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAC,KAAK,EAAE,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,EAAA,EAC9C,CAAA,CAAA,cAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EACE,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,UAAU,EAC7B,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,EACzB,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,OAAO,EAC7B,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,EACvB,WAAW,EAAE,IAAI,CAAC,OAAO,CAAC,WAAW,EACrC,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,EACvB,MAAM,EAAE,IAAI,CAAC,OAAO,EACpB,QAAQ,EAAE,IAAI,CAAC,SAAS,EACxB,aAAa,EAAE,KAAK,IAAI,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,EACvD,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,OAAO,EACf,CAAA,CACX;;;;;;;"}