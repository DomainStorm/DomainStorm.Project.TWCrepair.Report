import{r as e,c as t,a as r,h as n,H as i}from"./p-KLuYAdjz.js";import{g as s}from"./p-E-ZsRS8r.js";var a;var o;function l(){if(o)return a;o=1;a=e;function e(){var n=[].slice.call(arguments);var i=false;if(typeof n[0]=="boolean"){i=n.shift()}var s=n[0];if(r(s)){throw new Error("extendee must be an object")}var a=n.slice(1);var o=a.length;for(var l=0;l<o;l++){var d=a[l];for(var h in d){if(Object.prototype.hasOwnProperty.call(d,h)){var f=d[h];if(i&&t(f)){var u=Array.isArray(f)?[]:{};s[h]=e(true,Object.prototype.hasOwnProperty.call(s,h)&&!r(s[h])?s[h]:u,f)}else{s[h]=f}}}}return s}function t(e){return Array.isArray(e)||{}.toString.call(e)=="[object Object]"}function r(e){return!e||typeof e!="object"&&typeof e!="function"}return a}var d=l();var h=s(d);function f(e){return e&&e.__esModule?e.default:e}class u{on(e,t){this._callbacks=this._callbacks||{};if(!this._callbacks[e])this._callbacks[e]=[];this._callbacks[e].push(t);return this}emit(e,...t){this._callbacks=this._callbacks||{};let r=this._callbacks[e];if(r)for(let e of r)e.apply(this,t);if(this.element)this.element.dispatchEvent(this.makeEvent("dropzone:"+e,{args:t}));return this}makeEvent(e,t){let r={bubbles:true,cancelable:true,detail:t};if(typeof window.CustomEvent==="function")return new CustomEvent(e,r);else{var n=document.createEvent("CustomEvent");n.initCustomEvent(e,r.bubbles,r.cancelable,r.detail);return n}}off(e,t){if(!this._callbacks||arguments.length===0){this._callbacks={};return this}let r=this._callbacks[e];if(!r)return this;if(arguments.length===1){delete this._callbacks[e];return this}for(let e=0;e<r.length;e++){let n=r[e];if(n===t){r.splice(e,1);break}}return this}}var p={};p='<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail=""></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size=""></span></div>\n    <div class="dz-filename"><span data-dz-name=""></span></div>\n  </div>\n  <div class="dz-progress">\n    <span class="dz-upload" data-dz-uploadprogress=""></span>\n  </div>\n  <div class="dz-error-message"><span data-dz-errormessage=""></span></div>\n  <div class="dz-success-mark">\n    <svg width="54" height="54" viewBox="0 0 54 54" fill="white" xmlns="http://www.w3.org/2000/svg">\n      <path d="M10.2071 29.7929L14.2929 25.7071C14.6834 25.3166 15.3166 25.3166 15.7071 25.7071L21.2929 31.2929C21.6834 31.6834 22.3166 31.6834 22.7071 31.2929L38.2929 15.7071C38.6834 15.3166 39.3166 15.3166 39.7071 15.7071L43.7929 19.7929C44.1834 20.1834 44.1834 20.8166 43.7929 21.2071L22.7071 42.2929C22.3166 42.6834 21.6834 42.6834 21.2929 42.2929L10.2071 31.2071C9.81658 30.8166 9.81658 30.1834 10.2071 29.7929Z"></path>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54" height="54" viewBox="0 0 54 54" fill="white" xmlns="http://www.w3.org/2000/svg">\n      <path d="M26.2929 20.2929L19.2071 13.2071C18.8166 12.8166 18.1834 12.8166 17.7929 13.2071L13.2071 17.7929C12.8166 18.1834 12.8166 18.8166 13.2071 19.2071L20.2929 26.2929C20.6834 26.6834 20.6834 27.3166 20.2929 27.7071L13.2071 34.7929C12.8166 35.1834 12.8166 35.8166 13.2071 36.2071L17.7929 40.7929C18.1834 41.1834 18.8166 41.1834 19.2071 40.7929L26.2929 33.7071C26.6834 33.3166 27.3166 33.3166 27.7071 33.7071L34.7929 40.7929C35.1834 41.1834 35.8166 41.1834 36.2071 40.7929L40.7929 36.2071C41.1834 35.8166 41.1834 35.1834 40.7929 34.7929L33.7071 27.7071C33.3166 27.3166 33.3166 26.6834 33.7071 26.2929L40.7929 19.2071C41.1834 18.8166 41.1834 18.1834 40.7929 17.7929L36.2071 13.2071C35.8166 12.8166 35.1834 12.8166 34.7929 13.2071L27.7071 20.2929C27.3166 20.6834 26.6834 20.6834 26.2929 20.2929Z"></path>\n    </svg>\n  </div>\n</div>\n';let c={url:null,method:"post",withCredentials:false,timeout:null,parallelUploads:2,uploadMultiple:false,chunking:false,forceChunking:false,chunkSize:2097152,parallelChunkUploads:false,retryChunks:false,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:true,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,defaultHeaders:true,clickable:true,ignoreHiddenFiles:true,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:true,autoQueue:true,addRemoveLinks:false,previewsContainer:null,disablePreviews:false,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:false,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init(){},params(e,t,r){if(r)return{dzuuid:r.file.upload.uuid,dzchunkindex:r.index,dztotalfilesize:r.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:r.file.upload.totalChunkCount,dzchunkbyteoffset:r.index*this.options.chunkSize}},accept(e,t){return t()},chunksUploaded:function(e,t){t()},binaryBody:false,fallback(){let e;this.element.className=`${this.element.className} dz-browser-not-supported`;for(let t of this.element.getElementsByTagName("div"))if(/(^| )dz-message($| )/.test(t.className)){e=t;t.className="dz-message";break}if(!e){e=z.createElement('<div class="dz-message"><span></span></div>');this.element.appendChild(e)}let t=e.getElementsByTagName("span")[0];if(t){if(t.textContent!=null)t.textContent=this.options.dictFallbackMessage;else if(t.innerText!=null)t.innerText=this.options.dictFallbackMessage}return this.element.appendChild(this.getFallbackForm())},resize(e,t,r,n){let i={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height};let s=e.width/e.height;if(t==null&&r==null){t=i.srcWidth;r=i.srcHeight}else if(t==null)t=r*s;else if(r==null)r=t/s;t=Math.min(t,i.srcWidth);r=Math.min(r,i.srcHeight);let a=t/r;if(i.srcWidth>t||i.srcHeight>r){if(n==="crop"){if(s>a){i.srcHeight=e.height;i.srcWidth=i.srcHeight*a}else{i.srcWidth=e.width;i.srcHeight=i.srcWidth/a}}else if(n==="contain"){if(s>a)r=t/s;else t=r*s}else throw new Error(`Unknown resizeMethod '${n}'`)}i.srcX=(e.width-i.srcWidth)/2;i.srcY=(e.height-i.srcHeight)/2;i.trgWidth=t;i.trgHeight=r;return i},transformFile(e,t){if((this.options.resizeWidth||this.options.resizeHeight)&&e.type.match(/image.*/))return this.resizeImage(e,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,t);else return t(e)},previewTemplate:f(p),drop(e){return this.element.classList.remove("dz-drag-hover")},dragstart(e){},dragend(e){return this.element.classList.remove("dz-drag-hover")},dragenter(e){return this.element.classList.add("dz-drag-hover")},dragover(e){return this.element.classList.add("dz-drag-hover")},dragleave(e){return this.element.classList.remove("dz-drag-hover")},paste(e){},reset(){return this.element.classList.remove("dz-started")},addedfile(e){if(this.element===this.previewsContainer)this.element.classList.add("dz-started");if(this.previewsContainer&&!this.options.disablePreviews){e.previewElement=z.createElement(this.options.previewTemplate.trim());e.previewTemplate=e.previewElement;this.previewsContainer.appendChild(e.previewElement);for(var t of e.previewElement.querySelectorAll("[data-dz-name]"))t.textContent=e.name;for(t of e.previewElement.querySelectorAll("[data-dz-size]"))t.innerHTML=this.filesize(e.size);if(this.options.addRemoveLinks){e._removeLink=z.createElement(`<a class="dz-remove" href="javascript:undefined;" data-dz-remove>${this.options.dictRemoveFile}</a>`);e.previewElement.appendChild(e._removeLink)}let r=t=>{t.preventDefault();t.stopPropagation();if(e.status===z.UPLOADING)return z.confirm(this.options.dictCancelUploadConfirmation,(()=>this.removeFile(e)));else{if(this.options.dictRemoveFileConfirmation)return z.confirm(this.options.dictRemoveFileConfirmation,(()=>this.removeFile(e)));else return this.removeFile(e)}};for(let t of e.previewElement.querySelectorAll("[data-dz-remove]"))t.addEventListener("click",r)}},removedfile(e){if(e.previewElement!=null&&e.previewElement.parentNode!=null)e.previewElement.parentNode.removeChild(e.previewElement);return this._updateMaxFilesReachedClass()},thumbnail(e,t){if(e.previewElement){e.previewElement.classList.remove("dz-file-preview");for(let r of e.previewElement.querySelectorAll("[data-dz-thumbnail]")){r.alt=e.name;r.src=t}return setTimeout((()=>e.previewElement.classList.add("dz-image-preview")),1)}},error(e,t){if(e.previewElement){e.previewElement.classList.add("dz-error");if(typeof t!=="string"&&t.error)t=t.error;for(let r of e.previewElement.querySelectorAll("[data-dz-errormessage]"))r.textContent=t}},errormultiple(){},processing(e){if(e.previewElement){e.previewElement.classList.add("dz-processing");if(e._removeLink)return e._removeLink.innerHTML=this.options.dictCancelUpload}},processingmultiple(){},uploadprogress(e,t,r){if(e.previewElement)for(let r of e.previewElement.querySelectorAll("[data-dz-uploadprogress]"))r.nodeName==="PROGRESS"?r.value=t:r.style.width=`${t}%`},totaluploadprogress(){},sending(){},sendingmultiple(){},success(e){if(e.previewElement)return e.previewElement.classList.add("dz-success")},successmultiple(){},canceled(e){return this.emit("error",e,this.options.dictUploadCanceled)},canceledmultiple(){},complete(e){if(e._removeLink)e._removeLink.innerHTML=this.options.dictRemoveFile;if(e.previewElement)return e.previewElement.classList.add("dz-complete")},completemultiple(){},maxfilesexceeded(){},maxfilesreached(){},queuecomplete(){},addedfiles(){}};var m=c;class z extends u{static initClass(){this.prototype.Emitter=u;this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"];this.prototype._thumbnailQueue=[];this.prototype._processingThumbnail=false}getAcceptedFiles(){return this.files.filter((e=>e.accepted)).map((e=>e))}getRejectedFiles(){return this.files.filter((e=>!e.accepted)).map((e=>e))}getFilesWithStatus(e){return this.files.filter((t=>t.status===e)).map((e=>e))}getQueuedFiles(){return this.getFilesWithStatus(z.QUEUED)}getUploadingFiles(){return this.getFilesWithStatus(z.UPLOADING)}getAddedFiles(){return this.getFilesWithStatus(z.ADDED)}getActiveFiles(){return this.files.filter((e=>e.status===z.UPLOADING||e.status===z.QUEUED)).map((e=>e))}init(){if(this.element.tagName==="form")this.element.setAttribute("enctype","multipart/form-data");if(this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message"))this.element.appendChild(z.createElement(`<div class="dz-default dz-message"><button class="dz-button" type="button">${this.options.dictDefaultMessage}</button></div>`));if(this.clickableElements.length){let e=()=>{if(this.hiddenFileInput)this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput);this.hiddenFileInput=document.createElement("input");this.hiddenFileInput.setAttribute("type","file");if(this.options.maxFiles===null||this.options.maxFiles>1)this.hiddenFileInput.setAttribute("multiple","multiple");this.hiddenFileInput.className="dz-hidden-input";if(this.options.acceptedFiles!==null)this.hiddenFileInput.setAttribute("accept",this.options.acceptedFiles);if(this.options.capture!==null)this.hiddenFileInput.setAttribute("capture",this.options.capture);this.hiddenFileInput.setAttribute("tabindex","-1");this.hiddenFileInput.style.visibility="hidden";this.hiddenFileInput.style.position="absolute";this.hiddenFileInput.style.top="0";this.hiddenFileInput.style.left="0";this.hiddenFileInput.style.height="0";this.hiddenFileInput.style.width="0";z.getElement(this.options.hiddenInputContainer,"hiddenInputContainer").appendChild(this.hiddenFileInput);this.hiddenFileInput.addEventListener("change",(()=>{let{files:t}=this.hiddenFileInput;if(t.length)for(let e of t)this.addFile(e);this.emit("addedfiles",t);e()}))};e()}this.URL=window.URL!==null?window.URL:window.webkitURL;for(let e of this.events)this.on(e,this.options[e]);this.on("uploadprogress",(()=>this.updateTotalUploadProgress()));this.on("removedfile",(()=>this.updateTotalUploadProgress()));this.on("canceled",(e=>this.emit("complete",e)));this.on("complete",(e=>{if(this.getAddedFiles().length===0&&this.getUploadingFiles().length===0&&this.getQueuedFiles().length===0)return setTimeout((()=>this.emit("queuecomplete")),0)}));const e=function(e){if(e.dataTransfer.types)for(var t=0;t<e.dataTransfer.types.length;t++){if(e.dataTransfer.types[t]==="Files")return true}return false};let t=function(t){if(!e(t))return;t.stopPropagation();if(t.preventDefault)return t.preventDefault();else return t.returnValue=false};this.listeners=[{element:this.element,events:{dragstart:e=>this.emit("dragstart",e),dragenter:e=>{t(e);return this.emit("dragenter",e)},dragover:e=>{let r;try{r=e.dataTransfer.effectAllowed}catch(e){}e.dataTransfer.dropEffect="move"===r||"linkMove"===r?"move":"copy";t(e);return this.emit("dragover",e)},dragleave:e=>this.emit("dragleave",e),drop:e=>{t(e);return this.drop(e)},dragend:e=>this.emit("dragend",e)}}];this.clickableElements.forEach((e=>this.listeners.push({element:e,events:{click:t=>{if(e!==this.element||t.target===this.element||z.elementInside(t.target,this.element.querySelector(".dz-message")))this.hiddenFileInput.click();return true}}})));this.enable();return this.options.init.call(this)}destroy(){this.disable();this.removeAllFiles(true);if(this.hiddenFileInput!=null?this.hiddenFileInput.parentNode:undefined){this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput);this.hiddenFileInput=null}delete this.element.dropzone;return z.instances.splice(z.instances.indexOf(this),1)}updateTotalUploadProgress(){let e;let t=0;let r=0;let n=this.getActiveFiles();if(n.length){for(let e of this.getActiveFiles()){t+=e.upload.bytesSent;r+=e.upload.total}e=100*t/r}else e=100;return this.emit("totaluploadprogress",e,r,t)}_getParamName(e){if(typeof this.options.paramName==="function")return this.options.paramName(e);else return`${this.options.paramName}${this.options.uploadMultiple?`[${e}]`:""}`}_renameFile(e){if(typeof this.options.renameFile!=="function")return e.name;return this.options.renameFile(e)}getFallbackForm(){let e,t;if(e=this.getExistingFallback())return e;let r='<div class="dz-fallback">';if(this.options.dictFallbackText)r+=`<p>${this.options.dictFallbackText}</p>`;r+=`<input type="file" name="${this._getParamName(0)}" ${this.options.uploadMultiple?'multiple="multiple"':undefined} /><input type="submit" value="Upload!"></div>`;let n=z.createElement(r);if(this.element.tagName!=="FORM"){t=z.createElement(`<form action="${this.options.url}" enctype="multipart/form-data" method="${this.options.method}"></form>`);t.appendChild(n)}else{this.element.setAttribute("enctype","multipart/form-data");this.element.setAttribute("method",this.options.method)}return t!=null?t:n}getExistingFallback(){let e=function(e){for(let t of e){if(/(^| )fallback($| )/.test(t.className))return t}};for(let r of["div","form"]){var t;if(t=e(this.element.getElementsByTagName(r)))return t}}setupEventListeners(){return this.listeners.map((e=>(()=>{let t=[];for(let r in e.events){let n=e.events[r];t.push(e.element.addEventListener(r,n,false))}return t})()))}removeEventListeners(){return this.listeners.map((e=>(()=>{let t=[];for(let r in e.events){let n=e.events[r];t.push(e.element.removeEventListener(r,n,false))}return t})()))}disable(){this.clickableElements.forEach((e=>e.classList.remove("dz-clickable")));this.removeEventListeners();this.disabled=true;return this.files.map((e=>this.cancelUpload(e)))}enable(){delete this.disabled;this.clickableElements.forEach((e=>e.classList.add("dz-clickable")));return this.setupEventListeners()}filesize(e){let t=0;let r="b";if(e>0){let n=["tb","gb","mb","kb","b"];for(let i=0;i<n.length;i++){let s=n[i];let a=Math.pow(this.options.filesizeBase,4-i)/10;if(e>=a){t=e/Math.pow(this.options.filesizeBase,4-i);r=s;break}}t=Math.round(10*t)/10}return`<strong>${t}</strong> ${this.options.dictFileSizeUnits[r]}`}_updateMaxFilesReachedClass(){if(this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles){if(this.getAcceptedFiles().length===this.options.maxFiles)this.emit("maxfilesreached",this.files);return this.element.classList.add("dz-max-files-reached")}else return this.element.classList.remove("dz-max-files-reached")}drop(e){if(!e.dataTransfer)return;this.emit("drop",e);let t=[];for(let r=0;r<e.dataTransfer.files.length;r++)t[r]=e.dataTransfer.files[r];if(t.length){let{items:r}=e.dataTransfer;if(r&&r.length&&r[0].webkitGetAsEntry!=null)this._addFilesFromItems(r);else this.handleFiles(t)}this.emit("addedfiles",t)}paste(e){if(y(e!=null?e.clipboardData:undefined,(e=>e.items))==null)return;this.emit("paste",e);let{items:t}=e.clipboardData;if(t.length)return this._addFilesFromItems(t)}handleFiles(e){for(let t of e)this.addFile(t)}_addFilesFromItems(e){return(()=>{let t=[];for(let n of e){var r;if(n.webkitGetAsEntry!=null&&(r=n.webkitGetAsEntry())){if(r.isFile)t.push(this.addFile(n.getAsFile()));else if(r.isDirectory)t.push(this._addFilesFromDirectory(r,r.name));else t.push(undefined)}else if(n.getAsFile!=null){if(n.kind==null||n.kind==="file")t.push(this.addFile(n.getAsFile()));else t.push(undefined)}else t.push(undefined)}return t})()}_addFilesFromDirectory(e,t){let r=e.createReader();let n=e=>k(console,"log",(t=>t.log(e)));var i=()=>r.readEntries((e=>{if(e.length>0){for(let r of e){if(r.isFile)r.file((e=>{if(this.options.ignoreHiddenFiles&&e.name.substring(0,1)===".")return;e.fullPath=`${t}/${e.name}`;return this.addFile(e)}));else if(r.isDirectory)this._addFilesFromDirectory(r,`${t}/${r.name}`)}i()}return null}),n);return i()}accept(e,t){if(this.options.maxFilesize&&e.size>this.options.maxFilesize*1048576)t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize));else if(!z.isValidFile(e,this.options.acceptedFiles))t(this.options.dictInvalidFileType);else if(this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles){t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles));this.emit("maxfilesexceeded",e)}else this.options.accept.call(this,e,t)}addFile(e){e.upload={uuid:z.uuidv4(),progress:0,total:e.size,bytesSent:0,filename:this._renameFile(e)};this.files.push(e);e.status=z.ADDED;this.emit("addedfile",e);this._enqueueThumbnail(e);this.accept(e,(t=>{if(t){e.accepted=false;this._errorProcessing([e],t)}else{e.accepted=true;if(this.options.autoQueue)this.enqueueFile(e)}this._updateMaxFilesReachedClass()}))}enqueueFiles(e){for(let t of e)this.enqueueFile(t);return null}enqueueFile(e){if(e.status===z.ADDED&&e.accepted===true){e.status=z.QUEUED;if(this.options.autoProcessQueue)return setTimeout((()=>this.processQueue()),0)}else throw new Error("This file can't be queued because it has already been processed or was rejected.")}_enqueueThumbnail(e){if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=this.options.maxThumbnailFilesize*1048576){this._thumbnailQueue.push(e);return setTimeout((()=>this._processThumbnailQueue()),0)}}_processThumbnailQueue(){if(this._processingThumbnail||this._thumbnailQueue.length===0)return;this._processingThumbnail=true;let e=this._thumbnailQueue.shift();return this.createThumbnail(e,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,true,(t=>{this.emit("thumbnail",e,t);this._processingThumbnail=false;return this._processThumbnailQueue()}))}removeFile(e){if(e.status===z.UPLOADING)this.cancelUpload(e);this.files=g(this.files,e);this.emit("removedfile",e);if(this.files.length===0)return this.emit("reset")}removeAllFiles(e){if(e==null)e=false;for(let t of this.files.slice())if(t.status!==z.UPLOADING||e)this.removeFile(t);return null}resizeImage(e,t,r,n,i){return this.createThumbnail(e,t,r,n,true,((t,r)=>{if(r==null)return i(e);else{let{resizeMimeType:t}=this.options;if(t==null)t=e.type;let n=r.toDataURL(t,this.options.resizeQuality);if(t==="image/jpeg"||t==="image/jpg")n=x.restore(e.dataURL,n);return i(z.dataURItoBlob(n))}}))}createThumbnail(e,t,r,n,i,s){let a=new FileReader;a.onload=()=>{e.dataURL=a.result;if(e.type==="image/svg+xml"){if(s!=null)s(a.result);return}this.createThumbnailFromUrl(e,t,r,n,i,s)};a.readAsDataURL(e)}displayExistingFile(e,t,r,n,i=true){this.emit("addedfile",e);this.emit("complete",e);if(!i){this.emit("thumbnail",e,t);if(r)r()}else{let i=t=>{this.emit("thumbnail",e,t);if(r)r()};e.dataURL=t;this.createThumbnailFromUrl(e,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,this.options.fixOrientation,i,n)}}createThumbnailFromUrl(e,t,r,n,i,s,a){let o=document.createElement("img");if(a)o.crossOrigin=a;i=getComputedStyle(document.body)["imageOrientation"]=="from-image"?false:i;o.onload=()=>{let a=e=>e(1);if(typeof EXIF!=="undefined"&&EXIF!==null&&i)a=e=>EXIF.getData(o,(function(){return e(EXIF.getTag(this,"Orientation"))}));return a((i=>{e.width=o.width;e.height=o.height;let a=this.options.resize.call(this,e,t,r,n);let l=document.createElement("canvas");let d=l.getContext("2d");l.width=a.trgWidth;l.height=a.trgHeight;if(i>4){l.width=a.trgHeight;l.height=a.trgWidth}switch(i){case 2:d.translate(l.width,0);d.scale(-1,1);break;case 3:d.translate(l.width,l.height);d.rotate(Math.PI);break;case 4:d.translate(0,l.height);d.scale(1,-1);break;case 5:d.rotate(.5*Math.PI);d.scale(1,-1);break;case 6:d.rotate(.5*Math.PI);d.translate(0,-l.width);break;case 7:d.rotate(.5*Math.PI);d.translate(l.height,-l.width);d.scale(-1,1);break;case 8:d.rotate(-.5*Math.PI);d.translate(-l.height,0);break}w(d,o,a.srcX!=null?a.srcX:0,a.srcY!=null?a.srcY:0,a.srcWidth,a.srcHeight,a.trgX!=null?a.trgX:0,a.trgY!=null?a.trgY:0,a.trgWidth,a.trgHeight);let h=l.toDataURL("image/png");if(s!=null)return s(h,l)}))};if(s!=null)o.onerror=s;return o.src=e.dataURL}processQueue(){let{parallelUploads:e}=this.options;let t=this.getUploadingFiles().length;let r=t;if(t>=e)return;let n=this.getQueuedFiles();if(!(n.length>0))return;if(this.options.uploadMultiple)return this.processFiles(n.slice(0,e-t));else while(r<e){if(!n.length)return;this.processFile(n.shift());r++}}processFile(e){return this.processFiles([e])}processFiles(e){for(let t of e){t.processing=true;t.status=z.UPLOADING;this.emit("processing",t)}if(this.options.uploadMultiple)this.emit("processingmultiple",e);return this.uploadFiles(e)}_getFilesWithXhr(e){return this.files.filter((t=>t.xhr===e)).map((e=>e))}cancelUpload(e){if(e.status===z.UPLOADING){let t=this._getFilesWithXhr(e.xhr);for(let e of t)e.status=z.CANCELED;if(typeof e.xhr!=="undefined")e.xhr.abort();for(let e of t)this.emit("canceled",e);if(this.options.uploadMultiple)this.emit("canceledmultiple",t)}else if(e.status===z.ADDED||e.status===z.QUEUED){e.status=z.CANCELED;this.emit("canceled",e);if(this.options.uploadMultiple)this.emit("canceledmultiple",[e])}if(this.options.autoProcessQueue)return this.processQueue()}resolveOption(e,...t){if(typeof e==="function")return e.apply(this,t);return e}uploadFile(e){return this.uploadFiles([e])}uploadFiles(e){this._transformFiles(e,(t=>{if(this.options.chunking){let r=t[0];e[0].upload.chunked=this.options.chunking&&(this.options.forceChunking||r.size>this.options.chunkSize);e[0].upload.totalChunkCount=Math.ceil(r.size/this.options.chunkSize)}if(e[0].upload.chunked){let r=e[0];let n=t[0];r.upload.chunks=[];let i=()=>{let t=0;while(r.upload.chunks[t]!==undefined)t++;if(t>=r.upload.totalChunkCount)return;let i=t*this.options.chunkSize;let s=Math.min(i+this.options.chunkSize,n.size);let a={name:this._getParamName(0),data:n.webkitSlice?n.webkitSlice(i,s):n.slice(i,s),filename:r.upload.filename,chunkIndex:t};r.upload.chunks[t]={file:r,index:t,dataBlock:a,status:z.UPLOADING,progress:0,retries:0};this._uploadData(e,[a])};r.upload.finishedChunkUpload=(t,n)=>{let s=true;t.status=z.SUCCESS;t.dataBlock=null;t.response=t.xhr.responseText;t.responseHeaders=t.xhr.getAllResponseHeaders();t.xhr=null;for(let e=0;e<r.upload.totalChunkCount;e++){if(r.upload.chunks[e]===undefined)return i();if(r.upload.chunks[e].status!==z.SUCCESS)s=false}if(s)this.options.chunksUploaded(r,(()=>{this._finished(e,n,null)}))};if(this.options.parallelChunkUploads)for(let e=0;e<r.upload.totalChunkCount;e++)i();else i()}else{let r=[];for(let n=0;n<e.length;n++)r[n]={name:this._getParamName(n),data:t[n],filename:e[n].upload.filename};this._uploadData(e,r)}}))}_getChunk(e,t){for(let r=0;r<e.upload.totalChunkCount;r++){if(e.upload.chunks[r]!==undefined&&e.upload.chunks[r].xhr===t)return e.upload.chunks[r]}}_uploadData(e,t){let r=new XMLHttpRequest;for(let t of e)t.xhr=r;if(e[0].upload.chunked)e[0].upload.chunks[t[0].chunkIndex].xhr=r;let n=this.resolveOption(this.options.method,e,t);let i=this.resolveOption(this.options.url,e,t);r.open(n,i,true);let s=this.resolveOption(this.options.timeout,e);if(s)r.timeout=this.resolveOption(this.options.timeout,e);r.withCredentials=!!this.options.withCredentials;r.onload=t=>{this._finishedUploading(e,r,t)};r.ontimeout=()=>{this._handleUploadError(e,r,`Request timedout after ${this.options.timeout/1e3} seconds`)};r.onerror=()=>{this._handleUploadError(e,r)};let a=r.upload!=null?r.upload:r;a.onprogress=t=>this._updateFilesUploadProgress(e,r,t);let o=this.options.defaultHeaders?{Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"}:{};if(this.options.binaryBody)o["Content-Type"]=e[0].type;if(this.options.headers)h(o,this.options.headers);for(let e in o){let t=o[e];if(t)r.setRequestHeader(e,t)}if(this.options.binaryBody){for(let t of e)this.emit("sending",t,r);if(this.options.uploadMultiple)this.emit("sendingmultiple",e,r);this.submitRequest(r,null,e)}else{let n=new FormData;if(this.options.params){let t=this.options.params;if(typeof t==="function")t=t.call(this,e,r,e[0].upload.chunked?this._getChunk(e[0],r):null);for(let e in t){let r=t[e];if(Array.isArray(r))for(let t=0;t<r.length;t++)n.append(e,r[t]);else n.append(e,r)}}for(let t of e)this.emit("sending",t,r,n);if(this.options.uploadMultiple)this.emit("sendingmultiple",e,r,n);this._addFormElementData(n);for(let e=0;e<t.length;e++){let r=t[e];n.append(r.name,r.data,r.filename)}this.submitRequest(r,n,e)}}_transformFiles(e,t){let r=[];let n=0;for(let i=0;i<e.length;i++)this.options.transformFile.call(this,e[i],(s=>{r[i]=s;if(++n===e.length)t(r)}))}_addFormElementData(e){if(this.element.tagName==="FORM")for(let t of this.element.querySelectorAll("input, textarea, select, button")){let r=t.getAttribute("name");let n=t.getAttribute("type");if(n)n=n.toLowerCase();if(typeof r==="undefined"||r===null)continue;if(t.tagName==="SELECT"&&t.hasAttribute("multiple")){for(let n of t.options)if(n.selected)e.append(r,n.value)}else if(!n||n!=="checkbox"&&n!=="radio"||t.checked)e.append(r,t.value)}}_updateFilesUploadProgress(e,t,r){if(!e[0].upload.chunked)for(let t of e){if(t.upload.total&&t.upload.bytesSent&&t.upload.bytesSent==t.upload.total)continue;if(r){t.upload.progress=100*r.loaded/r.total;t.upload.total=r.total;t.upload.bytesSent=r.loaded}else{t.upload.progress=100;t.upload.bytesSent=t.upload.total}this.emit("uploadprogress",t,t.upload.progress,t.upload.bytesSent)}else{let n=e[0];let i=this._getChunk(n,t);if(r){i.progress=100*r.loaded/r.total;i.total=r.total;i.bytesSent=r.loaded}else{i.progress=100;i.bytesSent=i.total}n.upload.progress=0;n.upload.total=0;n.upload.bytesSent=0;for(let e=0;e<n.upload.totalChunkCount;e++)if(n.upload.chunks[e]&&typeof n.upload.chunks[e].progress!=="undefined"){n.upload.progress+=n.upload.chunks[e].progress;n.upload.total+=n.upload.chunks[e].total;n.upload.bytesSent+=n.upload.chunks[e].bytesSent}n.upload.progress=n.upload.progress/n.upload.totalChunkCount;this.emit("uploadprogress",n,n.upload.progress,n.upload.bytesSent)}}_finishedUploading(e,t,r){let n;if(e[0].status===z.CANCELED)return;if(t.readyState!==4)return;if(t.responseType!=="arraybuffer"&&t.responseType!=="blob"){n=t.responseText;if(t.getResponseHeader("content-type")&&~t.getResponseHeader("content-type").indexOf("application/json"))try{n=JSON.parse(n)}catch(e){r=e;n="Invalid JSON response from server."}}this._updateFilesUploadProgress(e,t);if(!(200<=t.status&&t.status<300))this._handleUploadError(e,t,n);else if(e[0].upload.chunked)e[0].upload.finishedChunkUpload(this._getChunk(e[0],t),n);else this._finished(e,n,r)}_handleUploadError(e,t,r){if(e[0].status===z.CANCELED)return;if(e[0].upload.chunked&&this.options.retryChunks){let r=this._getChunk(e[0],t);if(r.retries++<this.options.retryChunksLimit){this._uploadData(e,[r.dataBlock]);return}else console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(e,r||this.options.dictResponseError.replace("{{statusCode}}",t.status),t)}submitRequest(e,t,r){if(e.readyState!=1){console.warn("Cannot send this request because the XMLHttpRequest.readyState is not OPENED.");return}if(this.options.binaryBody){if(r[0].upload.chunked){const t=this._getChunk(r[0],e);e.send(t.dataBlock.data)}else e.send(r[0])}else e.send(t)}_finished(e,t,r){for(let n of e){n.status=z.SUCCESS;this.emit("success",n,t,r);this.emit("complete",n)}if(this.options.uploadMultiple){this.emit("successmultiple",e,t,r);this.emit("completemultiple",e)}if(this.options.autoProcessQueue)return this.processQueue()}_errorProcessing(e,t,r){for(let n of e){n.status=z.ERROR;this.emit("error",n,t,r);this.emit("complete",n)}if(this.options.uploadMultiple){this.emit("errormultiple",e,t,r);this.emit("completemultiple",e)}if(this.options.autoProcessQueue)return this.processQueue()}static uuidv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){let t=Math.random()*16|0,r=e==="x"?t:t&3|8;return r.toString(16)}))}constructor(e,t){super();let r,n;this.element=e;this.clickableElements=[];this.listeners=[];this.files=[];if(typeof this.element==="string")this.element=document.querySelector(this.element);if(!this.element||this.element.nodeType==null)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");z.instances.push(this);this.element.dropzone=this;let i=(n=z.optionsForElement(this.element))!=null?n:{};this.options=h(true,{},m,i,t!=null?t:{});this.options.previewTemplate=this.options.previewTemplate.replace(/\n*/g,"");if(this.options.forceFallback||!z.isBrowserSupported())return this.options.fallback.call(this);if(this.options.url==null)this.options.url=this.element.getAttribute("action");if(!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(this.options.uploadMultiple&&this.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");if(this.options.binaryBody&&this.options.uploadMultiple)throw new Error("You cannot set both: binaryBody and uploadMultiple.");if(this.options.acceptedMimeTypes){this.options.acceptedFiles=this.options.acceptedMimeTypes;delete this.options.acceptedMimeTypes}if(this.options.renameFilename!=null)this.options.renameFile=e=>this.options.renameFilename.call(this,e.name,e);if(typeof this.options.method==="string")this.options.method=this.options.method.toUpperCase();if((r=this.getExistingFallback())&&r.parentNode)r.parentNode.removeChild(r);if(this.options.previewsContainer!==false){if(this.options.previewsContainer)this.previewsContainer=z.getElement(this.options.previewsContainer,"previewsContainer");else this.previewsContainer=this.element}if(this.options.clickable){if(this.options.clickable===true)this.clickableElements=[this.element];else this.clickableElements=z.getElements(this.options.clickable,"clickable")}this.init()}}z.initClass();z.options={};z.optionsForElement=function(e){if(e.getAttribute("id"))return z.options[b(e.getAttribute("id"))];else return undefined};z.instances=[];z.forElement=function(e){if(typeof e==="string")e=document.querySelector(e);if((e!=null?e.dropzone:undefined)==null)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone};z.discover=function(){let e;if(document.querySelectorAll)e=document.querySelectorAll(".dropzone");else{e=[];let t=t=>(()=>{let r=[];for(let n of t)if(/(^| )dropzone($| )/.test(n.className))r.push(e.push(n));else r.push(undefined);return r})();t(document.getElementsByTagName("div"));t(document.getElementsByTagName("form"))}return(()=>{let t=[];for(let r of e)if(z.optionsForElement(r)!==false)t.push(new z(r));else t.push(undefined);return t})()};z.blockedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i];z.isBrowserSupported=function(){let e=true;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector){if(!("classList"in document.createElement("a")))e=false;else{if(z.blacklistedBrowsers!==undefined)z.blockedBrowsers=z.blacklistedBrowsers;for(let t of z.blockedBrowsers)if(t.test(navigator.userAgent)){e=false;continue}}}else e=false;return e};z.dataURItoBlob=function(e){let t=atob(e.split(",")[1]);let r=e.split(",")[0].split(":")[1].split(";")[0];let n=new ArrayBuffer(t.length);let i=new Uint8Array(n);for(let e=0,r=t.length,n=0<=r;n?e<=r:e>=r;n?e++:e--)i[e]=t.charCodeAt(e);return new Blob([n],{type:r})};const g=(e,t)=>e.filter((e=>e!==t)).map((e=>e));const b=e=>e.replace(/[\-_](\w)/g,(e=>e.charAt(1).toUpperCase()));z.createElement=function(e){let t=document.createElement("div");t.innerHTML=e;return t.childNodes[0]};z.elementInside=function(e,t){if(e===t)return true;while(e=e.parentNode){if(e===t)return true}return false};z.getElement=function(e,t){let r;if(typeof e==="string")r=document.querySelector(e);else if(e.nodeType!=null)r=e;if(r==null)throw new Error(`Invalid \`${t}\` option provided. Please provide a CSS selector or a plain HTML element.`);return r};z.getElements=function(e,t){let r,n;if(e instanceof Array){n=[];try{for(r of e)n.push(this.getElement(r,t))}catch(e){n=null}}else if(typeof e==="string"){n=[];for(r of document.querySelectorAll(e))n.push(r)}else if(e.nodeType!=null)n=[e];if(n==null||!n.length)throw new Error(`Invalid \`${t}\` option provided. Please provide a CSS selector, a plain HTML element or a list of those.`);return n};z.confirm=function(e,t,r){if(window.confirm(e))return t();else if(r!=null)return r()};z.isValidFile=function(e,t){if(!t)return true;t=t.split(",");let r=e.type;let n=r.replace(/\/.*$/,"");for(let i of t){i=i.trim();if(i.charAt(0)==="."){if(e.name.toLowerCase().indexOf(i.toLowerCase(),e.name.length-i.length)!==-1)return true}else if(/\/\*$/.test(i)){if(n===i.replace(/\/.*$/,""))return true}else{if(r===i)return true}}return false};if(typeof jQuery!=="undefined"&&jQuery!==null)jQuery.fn.dropzone=function(e){return this.each((function(){return new z(this,e)}))};z.ADDED="added";z.QUEUED="queued";z.ACCEPTED=z.QUEUED;z.UPLOADING="uploading";z.PROCESSING=z.UPLOADING;z.CANCELED="canceled";z.ERROR="error";z.SUCCESS="success";let v=function(e){let t=e.naturalHeight;let r=document.createElement("canvas");r.width=1;r.height=t;let n=r.getContext("2d");n.drawImage(e,0,0);let{data:i}=n.getImageData(1,0,1,t);let s=0;let a=t;let o=t;while(o>s){let e=i[(o-1)*4+3];if(e===0)a=o;else s=o;o=a+s>>1}let l=o/t;if(l===0)return 1;else return l};var w=function(e,t,r,n,i,s,a,o,l,d){let h=v(t);return e.drawImage(t,r,n,i,s,a,o,l,d/h)};class x{static initClass(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}static encode64(e){let t="";let r=undefined;let n=undefined;let i="";let s=undefined;let a=undefined;let o=undefined;let l="";let d=0;while(true){r=e[d++];n=e[d++];i=e[d++];s=r>>2;a=(r&3)<<4|n>>4;o=(n&15)<<2|i>>6;l=i&63;if(isNaN(n))o=l=64;else if(isNaN(i))l=64;t=t+this.KEY_STR.charAt(s)+this.KEY_STR.charAt(a)+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(l);r=n=i="";s=a=o=l="";if(!(d<e.length))break}return t}static restore(e,t){if(!e.match("data:image/jpeg;base64,"))return t;let r=this.decode64(e.replace("data:image/jpeg;base64,",""));let n=this.slice2Segments(r);let i=this.exifManipulation(t,n);return`data:image/jpeg;base64,${this.encode64(i)}`}static exifManipulation(e,t){let r=this.getExifArray(t);let n=this.insertExif(e,r);let i=new Uint8Array(n);return i}static getExifArray(e){let t=undefined;let r=0;while(r<e.length){t=e[r];if(t[0]===255&t[1]===225)return t;r++}return[]}static insertExif(e,t){let r=e.replace("data:image/jpeg;base64,","");let n=this.decode64(r);let i=n.indexOf(255,3);let s=n.slice(0,i);let a=n.slice(i);let o=s;o=o.concat(t);o=o.concat(a);return o}static slice2Segments(e){let t=0;let r=[];while(true){var n;if(e[t]===255&e[t+1]===218)break;if(e[t]===255&e[t+1]===216)t+=2;else{n=e[t+2]*256+e[t+3];let i=t+n+2;let s=e.slice(t,i);r.push(s);t=i}if(t>e.length)break}return r}static decode64(e){let t=undefined;let r=undefined;let n="";let i=undefined;let s=undefined;let a=undefined;let o="";let l=0;let d=[];let h=/[^A-Za-z0-9\+\/\=]/g;if(h.exec(e))console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding.");e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(true){i=this.KEY_STR.indexOf(e.charAt(l++));s=this.KEY_STR.indexOf(e.charAt(l++));a=this.KEY_STR.indexOf(e.charAt(l++));o=this.KEY_STR.indexOf(e.charAt(l++));t=i<<2|s>>4;r=(s&15)<<4|a>>2;n=(a&3)<<6|o;d.push(t);if(a!==64)d.push(r);if(o!==64)d.push(n);t=r=n="";i=s=a=o="";if(!(l<e.length))break}return d}}x.initClass();function y(e,t){return typeof e!=="undefined"&&e!==null?t(e):undefined}function k(e,t,r){if(typeof e!=="undefined"&&e!==null&&typeof e[t]==="function")return r(e,t);else return undefined}const Y=()=>`\\r\\n\\r\\n.dropzone .dz-preview .dz-image {\\r\\n  width: 100% !important;\\r\\n  height: 100% !important;\\r\\n  border-radius: 5px !important;\\r\\n}\\r\\n\\r\\n.dz-image * {\\r\\n  cursor: zoom-in !important;\\r\\n}\\r\\n\\r\\n\\r\\n@-webkit-keyframes passing-through {\\r\\n  0% {\\r\\n      opacity: 0;\\r\\n      -webkit-transform: translateY(40px);\\r\\n      -moz-transform: translateY(40px);\\r\\n      -ms-transform: translateY(40px);\\r\\n      -o-transform: translateY(40px);\\r\\n      transform: translateY(40px)\\r\\n  }\\r\\n\\r\\n  30%,70% {\\r\\n      opacity: 1;\\r\\n      -webkit-transform: translateY(0px);\\r\\n      -moz-transform: translateY(0px);\\r\\n      -ms-transform: translateY(0px);\\r\\n      -o-transform: translateY(0px);\\r\\n      transform: translateY(0px)\\r\\n  }\\r\\n\\r\\n  100% {\\r\\n      opacity: 0;\\r\\n      -webkit-transform: translateY(-40px);\\r\\n      -moz-transform: translateY(-40px);\\r\\n      -ms-transform: translateY(-40px);\\r\\n      -o-transform: translateY(-40px);\\r\\n      transform: translateY(-40px)\\r\\n  }\\r\\n}\\r\\n\\r\\n@-moz-keyframes passing-through {\\r\\n  0% {\\r\\n      opacity: 0;\\r\\n      -webkit-transform: translateY(40px);\\r\\n      -moz-transform: translateY(40px);\\r\\n      -ms-transform: translateY(40px);\\r\\n      -o-transform: translateY(40px);\\r\\n      transform: translateY(40px)\\r\\n  }\\r\\n\\r\\n  30%,70% {\\r\\n      opacity: 1;\\r\\n      -webkit-transform: translateY(0px);\\r\\n      -moz-transform: translateY(0px);\\r\\n      -ms-transform: translateY(0px);\\r\\n      -o-transform: translateY(0px);\\r\\n      transform: translateY(0px)\\r\\n  }\\r\\n\\r\\n  100% {\\r\\n      opacity: 0;\\r\\n      -webkit-transform: translateY(-40px);\\r\\n      -moz-transform: translateY(-40px);\\r\\n      -ms-transform: translateY(-40px);\\r\\n      -o-transform: translateY(-40px);\\r\\n      transform: translateY(-40px)\\r\\n  }\\r\\n}\\r\\n\\r\\n@keyframes passing-through {\\r\\n  0% {\\r\\n      opacity: 0;\\r\\n      -webkit-transform: translateY(40px);\\r\\n      -moz-transform: translateY(40px);\\r\\n      -ms-transform: translateY(40px);\\r\\n      -o-transform: translateY(40px);\\r\\n      transform: translateY(40px)\\r\\n  }\\r\\n\\r\\n  30%,70% {\\r\\n      opacity: 1;\\r\\n      -webkit-transform: translateY(0px);\\r\\n      -moz-transform: translateY(0px);\\r\\n      -ms-transform: translateY(0px);\\r\\n      -o-transform: translateY(0px);\\r\\n      transform: translateY(0px)\\r\\n  }\\r\\n\\r\\n  100% {\\r\\n      opacity: 0;\\r\\n      -webkit-transform: translateY(-40px);\\r\\n      -moz-transform: translateY(-40px);\\r\\n      -ms-transform: translateY(-40px);\\r\\n      -o-transform: translateY(-40px);\\r\\n      transform: translateY(-40px)\\r\\n  }\\r\\n}\\r\\n\\r\\n@-webkit-keyframes slide-in {\\r\\n  0% {\\r\\n      opacity: 0;\\r\\n      -webkit-transform: translateY(40px);\\r\\n      -moz-transform: translateY(40px);\\r\\n      -ms-transform: translateY(40px);\\r\\n      -o-transform: translateY(40px);\\r\\n      transform: translateY(40px)\\r\\n  }\\r\\n\\r\\n  30% {\\r\\n      opacity: 1;\\r\\n      -webkit-transform: translateY(0px);\\r\\n      -moz-transform: translateY(0px);\\r\\n      -ms-transform: translateY(0px);\\r\\n      -o-transform: translateY(0px);\\r\\n      transform: translateY(0px)\\r\\n  }\\r\\n}\\r\\n\\r\\n@-moz-keyframes slide-in {\\r\\n  0% {\\r\\n      opacity: 0;\\r\\n      -webkit-transform: translateY(40px);\\r\\n      -moz-transform: translateY(40px);\\r\\n      -ms-transform: translateY(40px);\\r\\n      -o-transform: translateY(40px);\\r\\n      transform: translateY(40px)\\r\\n  }\\r\\n\\r\\n  30% {\\r\\n      opacity: 1;\\r\\n      -webkit-transform: translateY(0px);\\r\\n      -moz-transform: translateY(0px);\\r\\n      -ms-transform: translateY(0px);\\r\\n      -o-transform: translateY(0px);\\r\\n      transform: translateY(0px)\\r\\n  }\\r\\n}\\r\\n\\r\\n@keyframes slide-in {\\r\\n  0% {\\r\\n      opacity: 0;\\r\\n      -webkit-transform: translateY(40px);\\r\\n      -moz-transform: translateY(40px);\\r\\n      -ms-transform: translateY(40px);\\r\\n      -o-transform: translateY(40px);\\r\\n      transform: translateY(40px)\\r\\n  }\\r\\n\\r\\n  30% {\\r\\n      opacity: 1;\\r\\n      -webkit-transform: translateY(0px);\\r\\n      -moz-transform: translateY(0px);\\r\\n      -ms-transform: translateY(0px);\\r\\n      -o-transform: translateY(0px);\\r\\n      transform: translateY(0px)\\r\\n  }\\r\\n}\\r\\n\\r\\n@-webkit-keyframes pulse {\\r\\n  0% {\\r\\n      -webkit-transform: scale(1);\\r\\n      -moz-transform: scale(1);\\r\\n      -ms-transform: scale(1);\\r\\n      -o-transform: scale(1);\\r\\n      transform: scale(1)\\r\\n  }\\r\\n\\r\\n  10% {\\r\\n      -webkit-transform: scale(1.1);\\r\\n      -moz-transform: scale(1.1);\\r\\n      -ms-transform: scale(1.1);\\r\\n      -o-transform: scale(1.1);\\r\\n      transform: scale(1.1)\\r\\n  }\\r\\n\\r\\n  20% {\\r\\n      -webkit-transform: scale(1);\\r\\n      -moz-transform: scale(1);\\r\\n      -ms-transform: scale(1);\\r\\n      -o-transform: scale(1);\\r\\n      transform: scale(1)\\r\\n  }\\r\\n}\\r\\n\\r\\n@-moz-keyframes pulse {\\r\\n  0% {\\r\\n      -webkit-transform: scale(1);\\r\\n      -moz-transform: scale(1);\\r\\n      -ms-transform: scale(1);\\r\\n      -o-transform: scale(1);\\r\\n      transform: scale(1)\\r\\n  }\\r\\n\\r\\n  10% {\\r\\n      -webkit-transform: scale(1.1);\\r\\n      -moz-transform: scale(1.1);\\r\\n      -ms-transform: scale(1.1);\\r\\n      -o-transform: scale(1.1);\\r\\n      transform: scale(1.1)\\r\\n  }\\r\\n\\r\\n  20% {\\r\\n      -webkit-transform: scale(1);\\r\\n      -moz-transform: scale(1);\\r\\n      -ms-transform: scale(1);\\r\\n      -o-transform: scale(1);\\r\\n      transform: scale(1)\\r\\n  }\\r\\n}\\r\\n\\r\\n@keyframes pulse {\\r\\n  0% {\\r\\n      -webkit-transform: scale(1);\\r\\n      -moz-transform: scale(1);\\r\\n      -ms-transform: scale(1);\\r\\n      -o-transform: scale(1);\\r\\n      transform: scale(1)\\r\\n  }\\r\\n\\r\\n  10% {\\r\\n      -webkit-transform: scale(1.1);\\r\\n      -moz-transform: scale(1.1);\\r\\n      -ms-transform: scale(1.1);\\r\\n      -o-transform: scale(1.1);\\r\\n      transform: scale(1.1)\\r\\n  }\\r\\n\\r\\n  20% {\\r\\n      -webkit-transform: scale(1);\\r\\n      -moz-transform: scale(1);\\r\\n      -ms-transform: scale(1);\\r\\n      -o-transform: scale(1);\\r\\n      transform: scale(1)\\r\\n  }\\r\\n}\\r\\n\\r\\n.dropzone,.dropzone * {\\r\\n  box-sizing: border-box\\r\\n}\\r\\n\\r\\n.dropzone {\\r\\n  \\r\\n  background: white;\\r\\n  border-radius: 5px;\\r\\n  border: 2px dashed rgb(0, 135, 247);\\r\\n  border-image: none;\\r\\n  max-width: 1000px;\\r\\n  margin-left: auto;\\r\\n  margin-right: auto;\\r\\n}\\r\\n\\r\\n.dropzone.dz-clickable {\\r\\n  cursor: pointer\\r\\n}\\r\\n\\r\\n.dropzone.dz-clickable * {\\r\\n  cursor: default\\r\\n}\\r\\n\\r\\n.dropzone.dz-clickable .dz-message,.dropzone.dz-clickable .dz-message * {\\r\\n  cursor: pointer\\r\\n}\\r\\n\\r\\n.dropzone.dz-started .dz-message {\\r\\n  display: none\\r\\n}\\r\\n\\r\\n.dropzone.dz-drag-hover {\\r\\n  border-style: solid\\r\\n}\\r\\n\\r\\n.dropzone.dz-drag-hover .dz-message {\\r\\n  opacity: .5\\r\\n}\\r\\n\\r\\n.dropzone .dz-message {\\r\\n  text-align: center;\\r\\n  margin: 2em 0\\r\\n}\\r\\n\\r\\n.dropzone .dz-message .dz-button {\\r\\n  background: none;\\r\\n  color: inherit;\\r\\n  border: none;\\r\\n  padding: 0;\\r\\n  font: inherit;\\r\\n  cursor: pointer;\\r\\n  outline: inherit\\r\\n}\\r\\n\\r\\n.dropzone .dz-preview {\\r\\n  position: relative;\\r\\n  display: inline-block;\\r\\n  vertical-align: top;\\r\\n  margin: 16px;\\r\\n  min-height: 100px\\r\\n}\\r\\n\\r\\n.dropzone .dz-preview:hover {\\r\\n  z-index: 1000\\r\\n}\\r\\n\\r\\n.dropzone .dz-preview:hover .dz-details {\\r\\n  opacity: 1\\r\\n}\\r\\n\\r\\n.dropzone .dz-preview.dz-file-preview .dz-image {\\r\\n  border-radius: 20px;\\r\\n  background: #999;\\r\\n  background: linear-gradient(to bottom, #eee, #ddd)\\r\\n}\\r\\n\\r\\n.dropzone .dz-preview.dz-file-preview .dz-details {\\r\\n  opacity: 1\\r\\n}\\r\\n\\r\\n.dropzone .dz-preview.dz-image-preview {\\r\\n  background: #fff;\\r\\n  margin: 10px;\\r\\n}\\r\\n\\r\\n.dropzone .dz-preview.dz-image-preview .dz-details {\\r\\n  -webkit-transition: opacity 0.2s linear;\\r\\n  -moz-transition: opacity 0.2s linear;\\r\\n  -ms-transition: opacity 0.2s linear;\\r\\n  -o-transition: opacity 0.2s linear;\\r\\n  transition: opacity 0.2s linear\\r\\n}\\r\\n\\r\\n.dropzone .dz-preview .dz-remove {\\r\\n  font-size: 14px;\\r\\n  text-align: center;\\r\\n  display: block;\\r\\n  cursor: pointer;\\r\\n  border: none\\r\\n  \\r\\n}\\r\\n\\r\\n.dropzone .dz-preview .dz-remove:hover {\\r\\n  text-decoration: underline\\r\\n}\\r\\n\\r\\n.dropzone .dz-preview:hover .dz-details {\\r\\n  opacity: 1\\r\\n}\\r\\n\\r\\n.dropzone .dz-preview .dz-details {\\r\\n  z-index: 20;\\r\\n  position: absolute;\\r\\n  top: 0;\\r\\n  left: 0;\\r\\n  opacity: 0;\\r\\n  font-size: 13px;\\r\\n  min-width: 100%;\\r\\n  max-width: 100%;\\r\\n  padding: 2em 1em;\\r\\n  text-align: center;\\r\\n  color: rgba(0,0,0,.9);\\r\\n  line-height: 150%\\r\\n}\\r\\n\\r\\n.dropzone .dz-preview .dz-details .dz-size {\\r\\n  margin-bottom: 1em;\\r\\n  font-size: 16px\\r\\n}\\r\\n\\r\\n.dropzone .dz-preview .dz-details .dz-filename {\\r\\n  white-space: nowrap\\r\\n}\\r\\n\\r\\n.dropzone .dz-preview .dz-details .dz-filename:hover span {\\r\\n  border: 1px solid rgba(200,200,200,.8);\\r\\n  background-color: rgba(255,255,255,.8)\\r\\n}\\r\\n\\r\\n.dropzone .dz-preview .dz-details .dz-filename:not(:hover) {\\r\\n  overflow: hidden;\\r\\n  text-overflow: ellipsis\\r\\n}\\r\\n\\r\\n.dropzone .dz-preview .dz-details .dz-filename:not(:hover) span {\\r\\n  border: 1px solid transparent\\r\\n}\\r\\n\\r\\n.dropzone .dz-preview .dz-details .dz-filename span,.dropzone .dz-preview .dz-details .dz-size span {\\r\\n  background-color: rgba(255,255,255,.4);\\r\\n  padding: 0 .4em;\\r\\n  border-radius: 3px\\r\\n}\\r\\n\\r\\n.dropzone .dz-preview:hover .dz-image img {\\r\\n  -webkit-transform: scale(1.05, 1.05);\\r\\n  -moz-transform: scale(1.05, 1.05);\\r\\n  -ms-transform: scale(1.05, 1.05);\\r\\n  -o-transform: scale(1.05, 1.05);\\r\\n  transform: scale(1.05, 1.05);\\r\\n  -webkit-filter: blur(8px);\\r\\n  filter: blur(8px)\\r\\n}\\r\\n\\r\\n.dropzone .dz-preview .dz-image {\\r\\n  border-radius: 20px;\\r\\n  overflow: hidden;\\r\\n  width: 120px;\\r\\n  height: 120px;\\r\\n  position: relative;\\r\\n  display: block;\\r\\n  z-index: 10\\r\\n}\\r\\n\\r\\n.dropzone .dz-preview .dz-image img {\\r\\n  display: block\\r\\n}\\r\\n\\r\\n.dropzone .dz-preview.dz-success .dz-success-mark {\\r\\n  -webkit-animation: passing-through 3s cubic-bezier(0.77, 0, 0.175, 1);\\r\\n  -moz-animation: passing-through 3s cubic-bezier(0.77, 0, 0.175, 1);\\r\\n  -ms-animation: passing-through 3s cubic-bezier(0.77, 0, 0.175, 1);\\r\\n  -o-animation: passing-through 3s cubic-bezier(0.77, 0, 0.175, 1);\\r\\n  animation: passing-through 3s cubic-bezier(0.77, 0, 0.175, 1)\\r\\n}\\r\\n\\r\\n.dropzone .dz-preview.dz-error .dz-error-mark {\\r\\n  opacity: 1;\\r\\n  -webkit-animation: slide-in 3s cubic-bezier(0.77, 0, 0.175, 1);\\r\\n  -moz-animation: slide-in 3s cubic-bezier(0.77, 0, 0.175, 1);\\r\\n  -ms-animation: slide-in 3s cubic-bezier(0.77, 0, 0.175, 1);\\r\\n  -o-animation: slide-in 3s cubic-bezier(0.77, 0, 0.175, 1);\\r\\n  animation: slide-in 3s cubic-bezier(0.77, 0, 0.175, 1)\\r\\n}\\r\\n\\r\\n.dropzone .dz-preview .dz-success-mark,.dropzone .dz-preview .dz-error-mark {\\r\\n  pointer-events: none;\\r\\n  opacity: 0;\\r\\n  z-index: 500;\\r\\n  position: absolute;\\r\\n  display: block;\\r\\n  top: 50%;\\r\\n  left: 50%;\\r\\n  margin-left: -27px;\\r\\n  margin-top: -27px\\r\\n}\\r\\n\\r\\n.dropzone .dz-preview .dz-success-mark svg,.dropzone .dz-preview .dz-error-mark svg {\\r\\n  display: block;\\r\\n  width: 54px;\\r\\n  height: 54px\\r\\n}\\r\\n\\r\\n.dropzone .dz-preview.dz-processing .dz-progress {\\r\\n  opacity: 1;\\r\\n  -webkit-transition: all 0.2s linear;\\r\\n  -moz-transition: all 0.2s linear;\\r\\n  -ms-transition: all 0.2s linear;\\r\\n  -o-transition: all 0.2s linear;\\r\\n  transition: all 0.2s linear\\r\\n}\\r\\n\\r\\n.dropzone .dz-preview.dz-complete .dz-progress {\\r\\n  opacity: 0;\\r\\n  -webkit-transition: opacity 0.4s ease-in;\\r\\n  -moz-transition: opacity 0.4s ease-in;\\r\\n  -ms-transition: opacity 0.4s ease-in;\\r\\n  -o-transition: opacity 0.4s ease-in;\\r\\n  transition: opacity 0.4s ease-in\\r\\n}\\r\\n\\r\\n.dropzone .dz-preview:not(.dz-processing) .dz-progress {\\r\\n  -webkit-animation: pulse 6s ease infinite;\\r\\n  -moz-animation: pulse 6s ease infinite;\\r\\n  -ms-animation: pulse 6s ease infinite;\\r\\n  -o-animation: pulse 6s ease infinite;\\r\\n  animation: pulse 6s ease infinite\\r\\n}\\r\\n\\r\\n.dropzone .dz-preview .dz-progress {\\r\\n  opacity: 1;\\r\\n  z-index: 1000;\\r\\n  pointer-events: none;\\r\\n  position: absolute;\\r\\n  height: 16px;\\r\\n  left: 50%;\\r\\n  top: 50%;\\r\\n  margin-top: -8px;\\r\\n  width: 80px;\\r\\n  margin-left: -40px;\\r\\n  background: rgba(255,255,255,.9);\\r\\n  -webkit-transform: scale(1);\\r\\n  border-radius: 8px;\\r\\n  overflow: hidden\\r\\n}\\r\\n\\r\\n.dropzone .dz-preview .dz-progress .dz-upload {\\r\\n  background: #333;\\r\\n  background: linear-gradient(to bottom, #666, #444);\\r\\n  position: absolute;\\r\\n  top: 0;\\r\\n  left: 0;\\r\\n  bottom: 0;\\r\\n  width: 0;\\r\\n  -webkit-transition: width 300ms ease-in-out;\\r\\n  -moz-transition: width 300ms ease-in-out;\\r\\n  -ms-transition: width 300ms ease-in-out;\\r\\n  -o-transition: width 300ms ease-in-out;\\r\\n  transition: width 300ms ease-in-out\\r\\n}\\r\\n\\r\\n.dropzone .dz-preview.dz-error .dz-error-message {\\r\\n  display: block\\r\\n}\\r\\n\\r\\n.dropzone .dz-preview.dz-error:hover .dz-error-message {\\r\\n  opacity: 1;\\r\\n  pointer-events: auto\\r\\n}\\r\\n\\r\\n.dropzone .dz-preview .dz-error-message {\\r\\n  pointer-events: none;\\r\\n  z-index: 1000;\\r\\n  position: absolute;\\r\\n  display: block;\\r\\n  display: none;\\r\\n  opacity: 0;\\r\\n  -webkit-transition: opacity 0.3s ease;\\r\\n  -moz-transition: opacity 0.3s ease;\\r\\n  -ms-transition: opacity 0.3s ease;\\r\\n  -o-transition: opacity 0.3s ease;\\r\\n  transition: opacity 0.3s ease;\\r\\n  border-radius: 8px;\\r\\n  font-size: 13px;\\r\\n  top: 130px;\\r\\n  left: -10px;\\r\\n  width: 140px;\\r\\n  background: #be2626;\\r\\n  background: linear-gradient(to bottom, #be2626, #a92222);\\r\\n  padding: .5em 1.2em;\\r\\n  color: #fff\\r\\n}\\r\\n\\r\\n.dropzone .dz-preview .dz-error-message:after {\\r\\n  content: "";\\r\\n  position: absolute;\\r\\n  top: -6px;\\r\\n  left: 64px;\\r\\n  width: 0;\\r\\n  height: 0;\\r\\n  border-left: 6px solid transparent;\\r\\n  border-right: 6px solid transparent;\\r\\n  border-bottom: 6px solid #be2626\\r\\n}\\r\\n\\r\\n\\r\\n.dz-message {\\r\\n  height: 136px;\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n`;const F=class{constructor(r){e(this,r);this.change=t(this,"change");this.removedFile=t(this,"removedFile");this.addedFile=t(this,"addedFile");this.completeMultiple=t(this,"completeMultiple");this.complete=t(this,"complete")}get host(){return r(this)}url="/file/post";token;change;dataSet;imageWidth;imageHeight;showDetail=false;showErrorMark=false;autoProcessQueue=false;acceptedFiles;clickable=true;droppable=true;addRemoveLinks=true;removedFile;addedFile;completeMultiple;complete;dropzone;stormModal;stormModalImage;dropzoneRef;queueCompleteCallback;dataSetWatcher(e){if(this.dropzone){this.dropzone.off("removedfile",this.onRemovedFile);this.dropzone.off("addedfile",this.onAddedFile);this.dropzone.disable();this.dropzone.removeAllFiles();this.dropzone.enable()}}tokenWatcher(e){if(this.dropzone&&e){this.dropzone.options.headers={Authorization:"Bearer "+e}}}urlWatcher(e){if(this.dropzone&&e){this.dropzone.options.url=e}}componentWillLoad(){this.dataSetWatcher(this.dataSet)}componentDidRender(){if(!this.dropzone){z.autoDiscover=false;this.dropzone=new z(this.dropzoneRef,{url:this.url,addRemoveLinks:this.addRemoveLinks,dictRemoveFile:"",uploadMultiple:true,autoProcessQueue:this.autoProcessQueue,paramName:()=>"file",thumbnailWidth:this.imageWidth,thumbnailHeight:this.imageHeight,acceptedFiles:this.acceptedFiles,clickable:this.clickable,dictDefaultMessage:""});this.dropzone.on("sendingmultiple",this.onSendIngMultiple);this.dropzone.on("completemultiple",(e=>{let t=true;e.forEach((e=>{if(e.status=="error"){t=false;return false}}));if(this.queueCompleteCallback)this.queueCompleteCallback(t);this.completeMultiple.emit(e)}));this.dropzone.on("thumbnail",(e=>{let t=e.previewElement.firstElementChild;t.onclick=()=>{this.onClickThumbnail(e.dataURL)};if(!this.showDetail)t.nextElementSibling.classList.add("d-none");if(!this.showErrorMark)e.previewElement.querySelector(".dz-error-mark").classList.add("d-none")}));this.dropzone.on("complete",(e=>{this.complete.emit(e)}));if(!this.droppable)this.dropzone.on("drop")}this.dropzone.on("removedfile",this.onRemovedFile);this.dropzone.on("addedfile",this.onAddedFile);if(this.dataSet&&this.dataSet.length>0)this.addFileManually()}onRemovedFile=e=>{this.removedFile.emit(e)};onAddedFile=e=>{this.addedFile.emit(e)};onSendIngMultiple=(e,t,r)=>{this.host.parentElement.querySelectorAll("[name]").forEach((e=>{r.append(e["name"],e["value"])}));e.forEach((e=>{r.append("uuid",e.upload.uuid)}))};async addFileManually(){for(const e of this.dataSet){const t=e;if(t){this.dropzone.addFile(await this.dataURLtoFile(t.data,t.name,t.type))}}}async addFile(e){this.dropzone.addFile(await this.dataURLtoFile(e.data,e.name,e.type))}async dataURLtoFile(e,t,r){const n=await fetch(e);const i=await n.blob();return new File([i],t,{type:r})}onClickThumbnail(e){this.stormModalImage.setAttribute("src",e);this.stormModal.fire(null)}async upload(e){this.queueCompleteCallback=e;this.dropzone.processQueue()}messageRender(){if(this.clickable&&this.droppable){return n("div",{class:"dz-message"},n("h1",{class:"svelte-12uhhij"},""),n("p",null,""),n("p",{class:"comment svelte-12uhhij"},""))}}render(){return n(i,{key:"bde0b28f8dff024a405471e78f0cff48821f7eda"},n("div",{key:"b6b66555819ec26d41dd6db88aa57f7e772a2ac8",class:"dropzone-container"},n("div",{key:"0b6d88d77dd9d8a27265d741f23fba328c787951",class:"dropzone",ref:e=>this.dropzoneRef=e},this.messageRender())),n("storm-modal",{key:"a7af4ea43b00ec4b5d1df104bc53584031346d93",ref:e=>this.stormModal=e},n("swal-image",{key:"c8b8b68fba28bd72f39504289b5a673d3b61de1a",src:"",alt:"",ref:e=>this.stormModalImage=e}),n("swal-button",{key:"b5db591a41c71ea1afae1e540f44a9d864675f1a",type:"cancel"},""),n("swal-param",{key:"af0469735ccba2d5a18c489cb7376541aeae89e8",name:"showConfirmButton",value:"false"})))}static get watchers(){return{dataSet:[{dataSetWatcher:0}],token:[{tokenWatcher:0}],url:[{urlWatcher:0}]}}};F.style=Y();export{F as storm_upload};
//# sourceMappingURL=p-ec1a3bac.entry.js.map