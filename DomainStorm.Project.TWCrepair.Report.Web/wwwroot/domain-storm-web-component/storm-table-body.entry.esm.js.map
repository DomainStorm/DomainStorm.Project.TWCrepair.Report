{"version":3,"file":"storm-table-body.entry.esm.js","sources":["src/components/storm-table/storm-table-body/storm-table-body.scss?tag=storm-table-body","src/components/storm-table/storm-table-body/storm-table-body.tsx"],"sourcesContent":["@use \"sass:list\";\r\n\r\n:host {\r\n  display: block;\r\n}\r\n\r\n:host .group-item {\r\n  > th {\r\n    cursor: auto;\r\n\r\n    > div {\r\n      line-height: 1;\r\n      margin: 0.25rem;\r\n    }\r\n  }\r\n}\r\n\r\n:host span.detail-title {\r\n  display: inline-block;\r\n  min-width: 75px;\r\n  font-weight: bold;\r\n}\r\n\r\n:host .d-table-none {\r\n  display: none !important;\r\n}\r\n\r\n:host .d-table-cell {\r\n  display: table-cell !important;\r\n}\r\n\r\n// 響應式類別設定\r\n$sizes: 4xs, 3xs, xxs, xs, sm, md, lg, xl, xxl, 3xl, 4xl;\r\n\r\n@each $innerSize in $sizes {\r\n  $none-selectors: ();\r\n  $cell-selectors: ();\r\n\r\n  @each $size in $sizes {\r\n    @if list.index($sizes, $size) >= list.index($sizes, $innerSize) {\r\n      $none-selectors: list.append($none-selectors, \":host .storm-table-#{$size} .d-table-#{$innerSize}-none\", comma);\r\n    }\r\n\r\n    @if list.index($sizes, $size) >= list.index($sizes, $innerSize) {\r\n      $cell-selectors: list.append($cell-selectors, \":host .storm-table-#{$size} .d-table-#{$innerSize}-cell\", comma);\r\n    }\r\n  }\r\n\r\n  #{$none-selectors} {\r\n    display: none !important;\r\n  }\r\n\r\n  #{$cell-selectors} {\r\n    display: table-cell !important;\r\n  }\r\n}\r\n","import { Component, Element, Event, EventEmitter, Host, Method, Prop, forceUpdate, h } from '@stencil/core';\r\nimport { getFieldValue, parseClassNames } from '../../../utils/utils';\r\nimport type { TableColumnInterface } from '../interface';\r\nimport { StormTable } from '../storm-table';\r\n\r\n@Component({\r\n  tag: 'storm-table-body',\r\n  styleUrl: 'storm-table-body.scss',\r\n  shadow: false,\r\n})\r\nexport class StormTableBody {\r\n  @Element() host: HTMLElement;\r\n\r\n  @Prop() table: StormTable;\r\n  @Prop() dataSet: object[];\r\n  @Prop({ mutable: true }) timeStamp?: number;\r\n\r\n  @Event() clickRow: EventEmitter<string>;\r\n\r\n  @Method()\r\n  async updateColumnCheckbox(col: TableColumnInterface) {\r\n    if (!this.dataSet || col.type !== 'checkbox') return;\r\n    const checkedCount = this.getTotalChecked(col.field);\r\n    const stormCheckbox = this.host.querySelector('th[data-field=\"' + col.field + '\"] storm-checkbox') as HTMLStormCheckboxElement;\r\n\r\n    stormCheckbox.checked = checkedCount === this.table.totalRows;\r\n    stormCheckbox.indeterminate = checkedCount > 0 && checkedCount < this.table.totalRows;\r\n  }\r\n\r\n  @Method()\r\n  async updateRowCheckbox(row: object, col: TableColumnInterface) {\r\n    const cell = this.host.querySelector(\r\n      'tr[data-id=\"' + getFieldValue(row, this.table.fieldId) + '\"] storm-table-cell[data-field=\"' + col.field + '\"]',\r\n    ) as HTMLStormTableCellElement;\r\n    if (cell) {\r\n      forceUpdate(cell);\r\n    }\r\n    if (col.field === this.table.fieldSelected) {\r\n      await this.updateRowSelection(row);\r\n    }\r\n  }\r\n\r\n  @Method()\r\n  async updateRowSelection(row: object) {\r\n    const el = this.host.querySelector('tr[data-id=\"' + getFieldValue(row, this.table.fieldId) + '\"]') as HTMLInputElement;\r\n    if (el) el.classList.toggle('table-primary', getFieldValue(row, this.table.fieldSelected) as boolean);\r\n  }\r\n\r\n  private computeColumnClasses(col: TableColumnInterface, classes?: Record<string, boolean>): Record<string, boolean> {\r\n    return {\r\n      'text-center': col.align === 'center',\r\n      'text-start': !col.align || col.align === 'left',\r\n      'text-end': col.align === 'right',\r\n      'align-middle': !col.valign || col.valign === 'middle',\r\n      'align-top': col.valign === 'top',\r\n      'align-bottom': col.valign === 'bottom',\r\n      'font-weight-bolder': true,\r\n      'text-truncate': true,\r\n      'table-sorter': col.sortable,\r\n      asc: this.table.sortName === col.field && this.table.sortOrder !== 'desc',\r\n      desc: this.table.sortName === col.field && this.table.sortOrder === 'desc',\r\n      ...(classes || {}),\r\n      ...(col.classes || {}),\r\n    };\r\n  }\r\n\r\n  renderThead() {\r\n    if (!this.table.columns) return;\r\n    return (\r\n      <thead>\r\n        <tr>\r\n          {this.table.columns\r\n            .filter(col => col.visible !== false)\r\n            .map(col => {\r\n              return this.renderColumn(col);\r\n            })}\r\n        </tr>\r\n      </thead>\r\n    );\r\n  }\r\n\r\n  renderColumn(col: TableColumnInterface) {\r\n    let content: any = col.title;\r\n    const classes: any = {\r\n      'thead-xxs': col.type === 'detail' || col.type === 'serialNumber' || col.type === 'radio' || col.type === 'checkbox',\r\n      'detail-toggle': col.type === 'detail',\r\n    };\r\n\r\n    if (content == null && col.type === 'checkbox') {\r\n      const checkedCount = this.getTotalChecked(col.field);\r\n      content = (\r\n        <storm-checkbox\r\n          type=\"checkbox\"\r\n          indeterminate={checkedCount > 0 && checkedCount < this.table.totalRows}\r\n          checked={checkedCount === this.table.totalRows}\r\n          onValueChanged={ev => this.handleColumnCheckChange(ev, col)}\r\n        ></storm-checkbox>\r\n      );\r\n    }\r\n\r\n    return this.renderHeaderCell(content, col, classes);\r\n  }\r\n\r\n  renderHeaderCell(content: any, col: TableColumnInterface, classes: Record<string, boolean> = {}) {\r\n    return (\r\n      <th data-field={col.field} scope=\"col\" class={this.computeColumnClasses(col, classes)} onClick={() => this.handleColumnClick(col)}>\r\n        <div class=\"cell\">{content}</div>\r\n        {col.description && <div class=\"table-description\">{col.description}</div>}\r\n      </th>\r\n    );\r\n  }\r\n\r\n  handleColumnClick(col: TableColumnInterface) {\r\n    if (!col.sortable) return;\r\n    if (col.field == this.table.sortName) {\r\n      if (this.table.sortOrder == 'desc') this.table.sortChange.emit({ sortName: undefined, sortOrder: undefined });\r\n      else this.table.sortChange.emit({ sortName: this.table.sortName, sortOrder: 'desc' });\r\n    } else this.table.sortChange.emit({ sortName: col.field, sortOrder: 'asc' });\r\n  }\r\n\r\n  async handleColumnCheckChange(ev: CustomEvent<boolean>, col: TableColumnInterface) {\r\n    const checked = ev.detail;\r\n    if (checked) await this.table.checkAll(col.field);\r\n    else await this.table.uncheckAll(col.field);\r\n  }\r\n\r\n  async initSelect() {\r\n    if (!this.dataSet || !this.table.columns) return;\r\n\r\n    for (const row of this.dataSet) {\r\n      await this.updateRowSelection(row);\r\n    }\r\n  }\r\n\r\n  getTotalChecked(field: string | number): number {\r\n    if (!this.table.totalChecked) return 0;\r\n    return this.table.totalChecked[field];\r\n  }\r\n\r\n  private computeCellClasses(col: TableColumnInterface, classes?: Record<string, boolean>): Record<string, boolean> {\r\n    return {\r\n      'text-center': col.align === 'center',\r\n      'text-start': !col.align || col.align === 'left',\r\n      'text-end': col.align === 'right',\r\n      'align-middle': !col.valign || col.valign === 'middle',\r\n      'align-top': col.valign === 'top',\r\n      'align-bottom': col.valign === 'bottom',\r\n      ...(classes || {}),\r\n      ...(col.classes || {}),\r\n    };\r\n  }\r\n\r\n  renderCell(row: object, index: number, col: TableColumnInterface) {\r\n    const cellClasses = this.computeCellClasses(col, { 'text-xs': col.type === 'serialNumber', 'detail-toggle': col.type === 'detail' });\r\n    return (\r\n      <td data-field={col.field} class={cellClasses}>\r\n        {this.renderCellContent(row, index, col)}\r\n      </td>\r\n    );\r\n  }\r\n\r\n  renderCellContent(row: object, index: number, col: TableColumnInterface) {\r\n    return <storm-table-cell table={this.table} row={row} index={index} column={col} time-stamp={this.timeStamp} data-field={col.field}></storm-table-cell>;\r\n  }\r\n\r\n  private renderRow(row: object, index: number) {\r\n    const rowId = getFieldValue(row, this.table.fieldId) as string;\r\n    const isSelected = getFieldValue(row, this.table.fieldSelected) as boolean;\r\n    const visibleColumns = this.table.columns.filter(col => col.visible !== false);\r\n\r\n    const mainRow = (\r\n      <tr data-id={rowId} class={{ 'table-primary': isSelected }} onClick={() => this.clickRow.emit(rowId)}>\r\n        {visibleColumns.map(col => this.renderCell(row, index, col))}\r\n      </tr>\r\n    );\r\n\r\n    if (this.table.isColumnResponsive) {\r\n      const detailCol = this.table.columns.find(col => col.type === 'detail');\r\n      const detailClasses = detailCol?.classes ? { ...detailCol.classes, 'row-detail': true, 'd-none': true } : { 'row-detail': true, 'd-none': true };\r\n\r\n      return [\r\n        mainRow,\r\n        <tr class={detailClasses} data-index={index}>\r\n          <td class=\"full-cell\" colSpan={this.table.expand.visibleColumnCount}>\r\n            <ul class=\"list-group list-group-flush\">{this.renderDetail(row, index)}</ul>\r\n          </td>\r\n        </tr>,\r\n      ];\r\n    }\r\n\r\n    return mainRow;\r\n  }\r\n\r\n  renderDetail(row: object, index: number) {\r\n    return this.table.columns\r\n      .filter(col => col.responsive === true && col.visible !== false)\r\n      .map(col => (\r\n        <li class={{ 'list-group-item': true, ...(col.rwdClassReversal || {}) }}>\r\n          <span class=\"detail-title\">{col.title}</span>\r\n          <span>{this.renderCellContent(row, index, col)}</span>\r\n        </li>\r\n      ));\r\n  }\r\n\r\n  private renderRows() {\r\n    if (this.table.groupBy) {\r\n      let groupItem: string = '';\r\n      const result: any[] = [];\r\n\r\n      this.dataSet.forEach((row, i) => {\r\n        const groupByValue = getFieldValue(row, this.table.groupBy) as string;\r\n\r\n        if (groupByValue !== groupItem) {\r\n          groupItem = groupByValue;\r\n          result.push(\r\n            <tr class=\"group-item table-info\">\r\n              <th class=\"align-middle full-cell\" colSpan={this.table.expand.visibleColumnCount}>\r\n                {groupByValue}\r\n              </th>\r\n            </tr>,\r\n          );\r\n        }\r\n        result.push(this.renderRow(row, i));\r\n      });\r\n      return result;\r\n    }\r\n\r\n    return this.dataSet.map((row, index) => this.renderRow(row, index));\r\n  }\r\n\r\n  private renderBody() {\r\n    if (!this.dataSet?.length) {\r\n      const emptyClasses = {\r\n        'align-middle': true,\r\n        'text-center': true,\r\n        'full-cell': true,\r\n        ...(this.table.classes?.['table-sm'] ? { 'height-100': true } : { 'height-300': true }),\r\n      };\r\n\r\n      return (\r\n        <tbody>\r\n          <tr>\r\n            <td class={emptyClasses} colSpan={this.table.expand.visibleColumnCount}>\r\n              <p class=\"p-4 h6\">沒有找到符合的結果</p>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      );\r\n    }\r\n    return <tbody>{this.renderRows()}</tbody>;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <table class={{ ...{ table: true, 'mb-0': true, 'table-hover': !!this.table.clickRowTo }, ...parseClassNames(this.table.classes) }}>\r\n          {this.renderThead()}\r\n          {this.renderBody()}\r\n        </table>\r\n      </Host>\r\n    );\r\n  }\r\n\r\n  async componentDidRender() {\r\n    await this.initSelect();\r\n  }\r\n}\r\n"],"names":[],"mappings":"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"}