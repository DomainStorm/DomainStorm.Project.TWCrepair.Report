{"version":3,"names":["stormMainContentCss","StormMainContent","scroll","dataSet","navbarPosition","searchable","_dataSet","dataSetWatcher","newValue","this","JSON","parse","componentWillLoad","componentDidLoad","container","host","querySelector","PerfectScrollbar","lastKnownScrollPosition","ticking","addEventListener","e","scrollTop","detail","window","requestAnimationFrame","emit","stopPropagation","render","h","Host","key","class","position","name"],"sources":["src/components/storm-main-content/storm-main-content.css?tag=storm-main-content","src/components/storm-main-content/storm-main-content.tsx"],"sourcesContent":[".main-content {\r\n  margin-left: 17.125rem;\r\n}\r\n\r\n@media (max-width: 1199.98px){\r\n  .main-content {\r\n    margin-left: 0 !important;\r\n  }\r\n}\r\n","import { Component, h, Element, Host, Event, EventEmitter, Prop, Watch } from '@stencil/core';\r\nimport PerfectScrollbar from 'perfect-scrollbar';\r\nimport { NavbarItemInterface } from '../storm-navbar/interface';\r\n\r\n@Component({\r\n  tag: 'storm-main-content',\r\n  styleUrl: 'storm-main-content.css',\r\n  shadow: false,\r\n})\r\nexport class StormMainContent {\r\n  @Event() scroll: EventEmitter<number>;\r\n  @Element() host: HTMLElement;\r\n\r\n  @Prop() dataSet: NavbarItemInterface[] | string;\r\n  @Prop() navbarPosition: string[];\r\n  @Prop() searchable: boolean = false;\r\n\r\n  private _dataSet: NavbarItemInterface[];\r\n\r\n  @Watch('dataSet')\r\n  dataSetWatcher(newValue: NavbarItemInterface[] | string) {\r\n    if (typeof newValue === 'string') {\r\n      this._dataSet = JSON.parse(newValue);\r\n    } else {\r\n      this._dataSet = newValue;\r\n    }\r\n  }\r\n\r\n  componentWillLoad() {\r\n    if (!this.dataSet) return;\r\n    this.dataSetWatcher(this.dataSet);\r\n  }\r\n\r\n  componentDidLoad = () => {\r\n    const container = this.host.querySelector('.ps');\r\n    new PerfectScrollbar(container);\r\n    const scroll = this.scroll;\r\n    let lastKnownScrollPosition = 0;\r\n    let ticking = false;\r\n\r\n    container.addEventListener('scroll', (e: CustomEvent) => {\r\n      // lastKnownScrollPosition = window.scrollY;\r\n      lastKnownScrollPosition = container.scrollTop | e.detail;\r\n\r\n      if (!ticking) {\r\n        window.requestAnimationFrame(function () {\r\n          scroll.emit(lastKnownScrollPosition);\r\n          ticking = false;\r\n        });\r\n\r\n        ticking = true;\r\n      }\r\n      e.stopPropagation();\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Host class=\"position-absolute w-100 h-100\">\r\n        <main class=\"main-content position-relative max-height-vh-100 h-100 border-radius-lg ps ps--active-y\">\r\n          <storm-navbar dataSet={this._dataSet} position={this.navbarPosition} searchable={this.searchable}></storm-navbar>\r\n          <slot name=\"item-container\" />\r\n        </main>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"oGAAA,MAAMA,EAAsB,6G,MCSfC,EAAgB,M,sDAClBC,O,0BAGDC,QACAC,eACAC,WAAsB,MAEtBC,SAGR,cAAAC,CAAeC,GACb,UAAWA,IAAa,SAAU,CAChCC,KAAKH,SAAWI,KAAKC,MAAMH,E,KACtB,CACLC,KAAKH,SAAWE,C,EAIpB,iBAAAI,GACE,IAAKH,KAAKN,QAAS,OACnBM,KAAKF,eAAeE,KAAKN,Q,CAG3BU,iBAAmB,KACjB,MAAMC,EAAYL,KAAKM,KAAKC,cAAc,OAC1C,IAAIC,EAAiBH,GACrB,MAAMZ,EAASO,KAAKP,OACpB,IAAIgB,EAA0B,EAC9B,IAAIC,EAAU,MAEdL,EAAUM,iBAAiB,UAAWC,IAEpCH,EAA0BJ,EAAUQ,UAAYD,EAAEE,OAElD,IAAKJ,EAAS,CACZK,OAAOC,uBAAsB,WAC3BvB,EAAOwB,KAAKR,GACZC,EAAU,KACZ,IAEAA,EAAU,I,CAEZE,EAAEM,iBAAiB,GACnB,EAGJ,MAAAC,GACE,OACEC,EAACC,EAAK,CAAAC,IAAA,2CAAAC,MAAM,iCACVH,EAAM,QAAAE,IAAA,2CAAAC,MAAM,2FACVH,EAAA,gBAAAE,IAAA,2CAAc5B,QAASM,KAAKH,SAAU2B,SAAUxB,KAAKL,eAAgBC,WAAYI,KAAKJ,aACtFwB,EAAA,QAAAE,IAAA,2CAAMG,KAAK,oB","ignoreList":[]}