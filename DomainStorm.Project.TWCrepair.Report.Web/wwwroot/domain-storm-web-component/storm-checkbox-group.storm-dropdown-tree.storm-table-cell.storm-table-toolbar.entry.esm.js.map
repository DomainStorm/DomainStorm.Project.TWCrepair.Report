{"version":3,"file":"storm-checkbox-group.storm-dropdown-tree.storm-table-cell.storm-table-toolbar.entry.esm.js","sources":["src/components/storm-checkbox-group/storm-checkbox-group.css?tag=storm-checkbox-group","src/components/storm-checkbox-group/storm-checkbox-group.tsx","src/components/storm-dropdown-tree/storm-dropdown-tree.css?tag=storm-dropdown-tree","src/components/storm-dropdown-tree/storm-dropdown-tree.tsx","src/utils/command-utils/command-utils.ts","src/utils/cache/memory-cache.ts","src/utils/dotnet-method-invoker/dotnet-method-invoker.ts","src/components/storm-table/storm-table-cell/storm-table-cell.scss?tag=storm-table-cell","src/components/storm-table/storm-table-cell/storm-table-cell.tsx","src/components/storm-table/storm-table-toolbar/storm-table-toolbar.scss?tag=storm-table-toolbar","src/components/storm-table/storm-table-toolbar/storm-table-toolbar.tsx"],"sourcesContent":[":host {\r\n    display: block;\r\n}","import { Component, Event, EventEmitter, h, Host, Prop, Watch } from '@stencil/core';\r\n\r\n@Component({\r\n  tag: 'storm-checkbox-group',\r\n  styleUrl: 'storm-checkbox-group.css',\r\n  shadow: false,\r\n})\r\nexport class StormCheckboxGroup {\r\n  private _dataSet: ICheckboxItem[];\r\n\r\n  @Prop() type: 'checkbox' | 'radio' = 'checkbox';\r\n  @Prop() labelClasses: Record<string, boolean> | string = 'custom-control-label';\r\n  @Prop() isSwitch: boolean = false;\r\n  @Prop() isInline: boolean = false;\r\n  @Prop() dataSet: ICheckboxItem[] | string;\r\n  @Prop({ mutable: true }) value: string | string[];\r\n  @Prop({ mutable: true }) disabled?: boolean;\r\n\r\n  @Event() valueChanged: EventEmitter<string | string[] | null>;\r\n\r\n  @Watch('dataSet')\r\n  dataSetWatcher(newValue: ICheckboxItem[] | string) {\r\n    try {\r\n      this._dataSet = typeof newValue === 'string' ? JSON.parse(newValue) : newValue;\r\n    } catch (error) {\r\n      console.error('Invalid JSON format:', error);\r\n      return;\r\n    }\r\n    if (this.value) {\r\n      this.valueWatcher(this.value);\r\n    } else this.value = this.type === 'checkbox' ? this._dataSet.find(x => x.checked)?.id : this._dataSet.filter(x => x.checked).map(x => x.id);\r\n    if (this.type === 'radio') {\r\n      const checkedItems = this._dataSet.filter(x => x.checked);\r\n      if (checkedItems.length === 0) {\r\n        this._dataSet[0].checked = true;\r\n      } else if (checkedItems.length > 1) {\r\n        checkedItems\r\n          .reverse()\r\n          .slice(1)\r\n          .forEach(item => (item.checked = false));\r\n      }\r\n    }\r\n  }\r\n\r\n  @Watch('value')\r\n  valueWatcher(newValue: string | string[]) {\r\n    if (Array.isArray(newValue)) this._dataSet.forEach(x => (x.checked = newValue.includes(x.id)));\r\n    else this._dataSet.forEach(x => (x.checked = x.id == newValue));\r\n  }\r\n\r\n  check(item: ICheckboxItem) {\r\n    if (this.type === 'radio') {\r\n      this.uncheckAll();\r\n    }\r\n    item.checked = true;\r\n    if (this.type === 'radio') {\r\n      this.value = item.id;\r\n    } else if (Array.isArray(this.value)) {\r\n      if (!this.value.includes(item.id)) this.value = [...this.value, item.id];\r\n    } else {\r\n      this.value = [item.id];\r\n    }\r\n  }\r\n\r\n  uncheck(item: ICheckboxItem) {\r\n    item.checked = false;\r\n    if (this.type === 'radio') {\r\n      if (this.value === item.id) {\r\n        this.value = null;\r\n      }\r\n    } else if (Array.isArray(this.value)) {\r\n      this.value = this.value.filter(id => id !== item.id);\r\n    }\r\n  }\r\n\r\n  uncheckAll() {\r\n    if (this._dataSet) {\r\n      this._dataSet.filter(x => x.checked).forEach(x => (x.checked = false));\r\n    }\r\n  }\r\n\r\n  componentWillLoad() {\r\n    if (this.dataSet) {\r\n      this.dataSetWatcher(this.dataSet);\r\n    }\r\n  }\r\n\r\n  dataSetRender() {\r\n    return this._dataSet.map(item => {\r\n      if (!item.id) item.id = item.label;\r\n      return (\r\n        <storm-checkbox\r\n          type={this.type}\r\n          label={item.label}\r\n          labelClasses={item.labelClasses ?? this.labelClasses}\r\n          isDisabled={this.disabled || item.disabled}\r\n          isChecked={item.checked}\r\n          isSwitch={this.isSwitch}\r\n          isInline={this.isInline}\r\n          onValueChanged={ev => {\r\n            if (ev.detail) {\r\n              this.check(item);\r\n            } else {\r\n              this.uncheck(item);\r\n            }\r\n          }}\r\n        ></storm-checkbox>\r\n      );\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return <Host>{this.dataSetRender()}</Host>;\r\n  }\r\n}\r\n\r\nexport interface ICheckboxItem {\r\n  id?: string;\r\n  label: string;\r\n  labelClasses?: string;\r\n  checked?: boolean;\r\n  disabled?: boolean;\r\n}\r\n",":host {\r\n  display: block;\r\n}","import { Component, Element, Event, EventEmitter, h, Host, Prop, Watch } from '@stencil/core';\r\nimport { deepEqual } from '@utils/utils';\r\nimport type { FetchOption } from '@utils/fetch-data-source/interface';\r\n@Component({\r\n  tag: 'storm-dropdown-tree',\r\n  styleUrl: 'storm-dropdown-tree.css',\r\n  shadow: false,\r\n})\r\nexport class StormDropdownTree {\r\n  private _dropdownRef: HTMLStormDropdownElement;\r\n  private _treeRef: HTMLStormTreeViewElement;\r\n  private _text: string;\r\n\r\n  @Element() host: HTMLElement;\r\n\r\n  @Prop({ mutable: true }) label: string;\r\n  @Prop({ mutable: true }) heading: string;\r\n  @Prop({ mutable: true }) text?: string;\r\n  @Prop({ mutable: true }) value?: string | string[];\r\n  @Prop({ mutable: true }) dataSet?: object | object[];\r\n  @Prop({ mutable: true }) dataSource?: FetchOption | Function | string;\r\n  @Prop({ mutable: true }) disabled?: boolean;\r\n  @Prop() nullable: boolean = false;\r\n  @Prop() fieldId: string = 'id';\r\n  @Prop() fieldLabel: string = 'label';\r\n  @Prop() fieldChildren: string = 'children';\r\n  @Prop() expandLevel: number = 2;\r\n  @Prop() nodeSelectableRule?: string | Function;\r\n  @Prop() size: 'Default' | 'Small' = 'Default';\r\n  @Prop() partialLoad: boolean = false;\r\n  @Prop() loading: 'eager' | 'lazy' = 'lazy';\r\n  @Prop() class: Record<string, boolean> | string;\r\n\r\n  @Prop({ mutable: true }) valid?: boolean;\r\n  @Prop() required?: boolean;\r\n\r\n  @Prop({ mutable: true }) searchText?: string;\r\n  @Prop() searchable: boolean = false;\r\n  @Prop() selection: 'single' | 'multiple' | 'none' = 'single';\r\n\r\n  @Prop({ mutable: true }) timeStamp?: number;\r\n\r\n  @Event() valueChanged: EventEmitter<string | string[]>;\r\n  @Event() textChanged: EventEmitter<string>;\r\n  @Event() searchChanged: EventEmitter<string>;\r\n\r\n  @Watch('value')\r\n  valueWatcher(newValue: string | string[], oldValue: string | string[]) {\r\n    if (deepEqual(newValue, oldValue)) return;\r\n    this.updateValue();\r\n    this.valueChanged.emit(this.value);\r\n  }\r\n\r\n  @Watch('text')\r\n  textWatcher() {\r\n    this.textChanged.emit(this.text);\r\n  }\r\n\r\n  @Watch('dataSet')\r\n  dataSetWatcher() {\r\n    this._treeRef.dataSet = this.dataSet;\r\n  }\r\n\r\n  updateValue() {\r\n    if (this._treeRef.value != this.value) this._treeRef.value = this.value;\r\n    if (this._dropdownRef.value != this.value) this._dropdownRef.value = this.value;\r\n  }\r\n\r\n  componentDidLoad() {\r\n    this.updateValue();\r\n  }\r\n\r\n  renderTree() {\r\n    return (\r\n      <storm-tree-view\r\n        ref={elm => (this._treeRef = elm)}\r\n        partialLoad={this.partialLoad}\r\n        loading={this.loading}\r\n        value={this.value}\r\n        class={this.class}\r\n        dataSet={this.dataSet}\r\n        dataSource={this.dataSource}\r\n        fieldId={this.fieldId}\r\n        fieldLabel={this.fieldLabel}\r\n        fieldChildren={this.fieldChildren}\r\n        nullable={this.nullable}\r\n        selection={this.selection}\r\n        expandLevel={this.expandLevel}\r\n        nodeSelectableRule={this.nodeSelectableRule}\r\n        searchable={this.searchable}\r\n        onValueChanged={ev => {\r\n          ev.stopPropagation();\r\n          this.value = ev.detail;\r\n        }}\r\n        onNodeClick={async ev => {\r\n          ev.stopPropagation();\r\n          await this._dropdownRef.hide();\r\n        }}\r\n        onSearchChanged={ev => {\r\n          ev.stopPropagation();\r\n          this.searchChanged.emit(ev.detail);\r\n        }}\r\n      ></storm-tree-view>\r\n    );\r\n  }\r\n\r\n  async componentWillRender() {\r\n    this._text = this.text;\r\n    if (this._text == null) {\r\n      if (this._treeRef && this.value) {\r\n        const values = Array.isArray(this.value) ? this.value : [this.value];\r\n        const texts = [];\r\n        for (const value of values) {\r\n          const node = await this._treeRef.getNodeById(value);\r\n          if (node) {\r\n            texts.push(await this._treeRef.getLabel(node));\r\n          }\r\n        }\r\n        this._text = texts.join('、');\r\n      } else {\r\n        this._text = undefined;\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <storm-dropdown\r\n          ref={elm => (this._dropdownRef = elm)}\r\n          nullable={this.nullable}\r\n          heading={this.heading}\r\n          label={this.label}\r\n          text={this._text}\r\n          value={this.value}\r\n          showSelected={true}\r\n          valid={this.valid}\r\n          required={this.required}\r\n          disabled={this.disabled}\r\n          timeStamp={this.timeStamp}\r\n          type=\"select\"\r\n          onValueChanged={ev => {\r\n            ev.stopPropagation();\r\n            this.value = ev.detail;\r\n            if (this.value == null) {\r\n              this.text = undefined;\r\n            }\r\n          }}\r\n          onUnselectedAll={async ev => {\r\n            ev.stopPropagation();\r\n            await this._treeRef.unselectAll();\r\n          }}\r\n          onShowMenu={async ev => {\r\n            ev.stopPropagation();\r\n            await this._treeRef.loadDataSet();\r\n            if (this.searchable && this._treeRef) {\r\n              requestAnimationFrame(async () => {\r\n                await this._treeRef.setSearchFocus();\r\n              });\r\n            }\r\n          }}\r\n        >\r\n          {this.renderTree()}\r\n        </storm-dropdown>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n","import type { ParsedCommand } from './interface';\r\n\r\n/**\r\n * 判斷輸入是否為有效命令格式，例如 @Invoke:DotNet('GetUser')\r\n * @param value 任意輸入\r\n * @returns 是否符合命令格式\r\n */\r\nexport function isCommandString(value: unknown): value is string {\r\n    if (typeof value !== 'string') return false;\r\n    // 檢查型別與正則，確保格式正確\r\n    // 僅允許單層括號內容，且括號內可為任意字元\r\n    return (\r\n        typeof value === 'string' &&\r\n        /^@[a-zA-Z0-9:-]+\\('.*'\\)$/.test(value.trim())\r\n    );\r\n}\r\n\r\n/**\r\n * 解析命令字串，回傳 ParsedCommand 或 null\r\n * 格式範例：@Invoke:DotNet('GetUser')\r\n * @param value 命令字串\r\n * @returns 解析後的命令物件，若格式不符則回傳 null\r\n */\r\nexport function parseCommandString(value: string): ParsedCommand | null {\r\n    const trimmed = value.trim();\r\n    // 強化正則表達式，避免括號內為空或出現多行情況\r\n    const commandRegex = /^@([a-zA-Z0-9:-]+)\\('([^']*)'\\)$/;\r\n\r\n    const match = commandRegex.exec(trimmed);\r\n    if (!match) return null;\r\n\r\n    return {\r\n        command: match[1],\r\n        value: match[2]\r\n    };\r\n}\r\n\r\n/**\r\n * 檢查解析後命令是否符合指定 path\r\n * @param parsed 解析後的命令物件\r\n * @param expectedPath 預期的 path 字串，例如 \"Invoke:DotNet\"\r\n * @returns 是否符合預期 path\r\n */\r\nexport function isPath(parsed: ParsedCommand | null, expectedPath: string): boolean {\r\n    return !!parsed && parsed.command === expectedPath;\r\n}","import type { CacheEntry, CacheProvider } from './interface';\r\n\r\nexport class MemoryCache implements CacheProvider {\r\n    private readonly store = new Map<string, CacheEntry>();\r\n    private maxEntries: number;\r\n\r\n    constructor(maxEntries = 1000) {\r\n        this.maxEntries = maxEntries;\r\n    }\r\n\r\n    async get(key: string): Promise<CacheEntry | null> {\r\n        return this.store.get(key) || null;\r\n    }\r\n\r\n    async set(key: string, entry: CacheEntry): Promise<void> {\r\n        // If updating existing key, no need to check size\r\n        if (!this.store.has(key) && this.store.size >= this.maxEntries) {\r\n            this.evictOldestEntry();\r\n        }\r\n        \r\n        this.store.set(key, entry);\r\n    }\r\n\r\n    private evictOldestEntry(): void {\r\n        const iterator = this.store.keys();\r\n        const firstKey = iterator.next().value;\r\n        if (firstKey !== undefined) {\r\n            this.store.delete(firstKey);\r\n        }\r\n    }\r\n\r\n    async delete(key: string): Promise<void> {\r\n        this.store.delete(key);\r\n    }\r\n\r\n    async clear(): Promise<void> {\r\n        this.store.clear();\r\n    }\r\n\r\n    get defaultKeyPrefix(): string {\r\n        return 'mem';\r\n    }\r\n\r\n    async size(): Promise<number> {\r\n        return this.store.size;\r\n    }\r\n\r\n    setMaxEntries(maxEntries: number): void {\r\n        this.maxEntries = maxEntries;\r\n        this.enforceMaxEntries();\r\n    }\r\n\r\n    private enforceMaxEntries(): void {\r\n        const excessCount = this.store.size - this.maxEntries;\r\n        if (excessCount <= 0) return;\r\n        \r\n        const iterator = this.store.keys();\r\n        for (let i = 0; i < excessCount; i++) {\r\n            const key = iterator.next().value;\r\n            if (key === undefined) break;\r\n            this.store.delete(key);\r\n        }\r\n    }\r\n\r\n    getMaxEntries(): number {\r\n        return this.maxEntries;\r\n    }\r\n\r\n    async destroy(): Promise<void> {\r\n        this.store.clear();\r\n    }\r\n}","import { CacheService } from '../cache/cache-service';\r\nimport { MemoryCache } from '../cache/memory-cache';\r\n\r\ndeclare global {\r\n    interface Window {\r\n        counterInterop: {\r\n            invokeMethodAsync: (method: string, ...args: any[]) => Promise<any>;\r\n        };\r\n    }\r\n}\r\n\r\nconst cacheService = new CacheService(new MemoryCache());\r\n\r\n/**\r\n * 呼叫 .NET Interop 方法，支援快取與錯誤保護\r\n * @param value    字串，格式可為 \"Invoke:DotNet('methodName')\" 或僅 methodName\r\n * @param args     傳給 .NET 方法的參數陣列\r\n * @param settings 可選設定：\r\n *                 - cache: 是否啟用快取，預設 true\r\n *                 - regionName: 快取區域名稱，預設 'dotnetInterop'\r\n * @return Promise<any> 回傳 .NET 方法的結果\r\n */\r\nexport async function invokeDotNetMethodAsync(\r\n    methodName: string,\r\n    args: any[] = [],\r\n    settings: { cache?: boolean, regionName?: string } = {}\r\n): Promise<any> {\r\n    if (typeof methodName !== 'string') {\r\n        throw new TypeError('methodName 必須是字串');\r\n    }\r\n\r\n    settings = { cache: true, regionName: 'dotnetInterop', ...settings };\r\n\r\n    // 組成 key：methodName + args\r\n    const key = `${methodName}:${JSON.stringify(args)}`;\r\n    const useCache = settings.cache ?? true;\r\n\r\n    if (useCache) {\r\n        const cachedValue = await cacheService.get<any>(key);\r\n        if (cachedValue !== null) {\r\n            return cachedValue;\r\n        }\r\n    }\r\n\r\n    try {\r\n        const result = await window.counterInterop?.invokeMethodAsync(\r\n            methodName,\r\n            ...args\r\n        );\r\n\r\n        if (useCache) {\r\n            await cacheService.set(key, result);\r\n        }\r\n        return result;\r\n    } catch (err) {\r\n        console.error(`[Interop] 無法呼叫 '${methodName}'：`, err);\r\n        return 'unknown';\r\n    }\r\n}\r\n\r\n/**\r\n * 清除 .NET Interop 方法的快取\r\n * @param regionName (可選) 指定要清除的 region，預設為 'dotnetInterop'\r\n * @return Promise<void>\r\n */\r\nexport async function clearDotNetMethodCache(): Promise<void> {\r\n    await cacheService.clear();\r\n}",":host {\r\n  display: block;\r\n}\r\n\r\n.input-group {\r\n  &.input-group-static {\r\n    .form-control {\r\n      background-color: white;\r\n      line-height: 1.25rem;\r\n      padding: .25rem;\r\n    }\r\n  }\r\n}\r\n\r\n.detail-button {\r\n  cursor: pointer;\r\n}","import { Component, Element, Event, EventEmitter, forceUpdate, h, Host, Listen, Method, Prop, State } from '@stencil/core';\r\nimport { isCommandString, parseCommandString } from '@utils/command-utils/command-utils';\r\nimport { invokeDotNetMethodAsync } from '@utils/dotnet-method-invoker/dotnet-method-invoker';\r\nimport { FnIconSwitch } from '@utils/functional/functional';\r\nimport {\r\n  appendHighlight,\r\n  debounce,\r\n  escapeHtml,\r\n  evaluateConditions,\r\n  getFieldValue,\r\n  isConditionGroups,\r\n  isConditions,\r\n  replacePlaceholders,\r\n  resolvePropertyValue,\r\n  setFieldValue,\r\n} from '@utils/utils';\r\nimport type { ICheckboxItem } from '../../storm-checkbox-group/storm-checkbox-group';\r\nimport type { CheckboxGroupInterface, TableColumnInterface } from '../interface';\r\nimport { StormTable } from '../storm-table';\r\nimport type { ClickActionDetail } from '../storm-table-toolbar/interface';\r\nimport type {\r\n  CellValue,\r\n  CheckboxGroupControlOptionInterface,\r\n  CheckControlOptionInterface,\r\n  DropdownControlOptionInterface,\r\n  DropdownTreeControlOptionInterface,\r\n  TextAreaControlOptionInterface,\r\n} from './interface';\r\n\r\n@Component({\r\n  tag: 'storm-table-cell',\r\n  styleUrl: 'storm-table-cell.scss',\r\n  shadow: false,\r\n})\r\nexport class StormTableCell {\r\n  private __cellValueEditingEvent?: CellValue;\r\n\r\n  @Element() host: HTMLElement;\r\n\r\n  @State() private cellData: any;\r\n  @State() private cellType: string = 'text';\r\n  @State() private isDisabled: boolean = false;\r\n  @State() private prependText?: string;\r\n  @State() private appendText?: string;\r\n\r\n  @Prop() table: StormTable;\r\n  @Prop() row: object;\r\n  @Prop() index: number;\r\n  @Prop() column: TableColumnInterface;\r\n  @Prop({ mutable: true }) timeStamp?: number;\r\n\r\n  @Event() clickCell: EventEmitter<{ id: string; field: string | number }>;\r\n  @Event() clickAction: EventEmitter<ClickActionDetail>;\r\n  @Event() valueChanged: EventEmitter<any>;\r\n\r\n  @Event() cellWillValueChanged: EventEmitter<CellValue>;\r\n  @Event() cellValueChanged: EventEmitter<CellValue>;\r\n  @Event() cellDidValueChanged: EventEmitter<CellValue>;\r\n  @Event() cellValueChangedOnBlur: EventEmitter<CellValue>;\r\n\r\n  @Listen('valueChanged')\r\n  valueChangedHandler(ev: CustomEvent<any>) {\r\n    if (!this.column?.field) return;\r\n\r\n    const eventDetail = {\r\n      id: getFieldValue(this.row, this.table.fieldId) as string,\r\n      field: this.column.field,\r\n      value: ev.detail,\r\n    };\r\n    this.cellWillValueChanged.emit(eventDetail);\r\n  }\r\n\r\n  @Listen('cellWillValueChanged')\r\n  cellWillValueChangedHandler(ev: CustomEvent<CellValue>) {\r\n    if (this.table.sidePagination === 'stencil') {\r\n      this.cellValueChanged.emit(ev.detail);\r\n    }\r\n  }\r\n\r\n  @Listen('cellValueChanged')\r\n  cellValueChangedHandler(ev: CustomEvent<CellValue>) {\r\n    setFieldValue(this.row, this.column.field, ev.detail.value);\r\n    if (this.table.sidePagination === 'stencil') {\r\n      this.cellDidValueChanged.emit(ev.detail);\r\n    }\r\n  }\r\n\r\n  @Listen('cellDidValueChanged')\r\n  cellDidValueChangedHandler(ev: CustomEvent<CellValue>) {\r\n    if (this.host.querySelector(':focus')) {\r\n      this.__cellValueEditingEvent = ev.detail;\r\n    } else if (this.__cellValueEditingEvent != null) {\r\n      this.__cellValueEditingEvent = ev.detail;\r\n      this.__emitCellValueChangedOnBlur();\r\n    }\r\n    this.rerender();\r\n  }\r\n\r\n  @Listen('focusout')\r\n  focusoutHandler(_: FocusEvent) {\r\n    if (this.__cellValueEditingEvent) {\r\n      this.__emitCellValueChangedOnBlur();\r\n    }\r\n  }\r\n\r\n  private readonly rerender = debounce(() => {\r\n    forceUpdate(this);\r\n  }, 100);\r\n\r\n  @Method()\r\n  async dispatchCustomEvent(type: string, detail?: object): Promise<void> {\r\n    this[type].emit(detail);\r\n  }\r\n\r\n  renderSerialNumber() {\r\n    return (this.table.pageNumber - 1) * this.table.pageSize + this.index + 1;\r\n  }\r\n\r\n  renderDetail() {\r\n    return (\r\n      <FnIconSwitch\r\n        onToggle={on => {\r\n          const detailRow = this.table.host.shadowRoot.querySelector('.row-detail[data-index=\"' + this.index + '\"]');\r\n          if (detailRow) {\r\n            detailRow.classList.toggle('d-none', !on);\r\n          }\r\n        }}\r\n      />\r\n    );\r\n  }\r\n\r\n  renderActionControl() {\r\n    return (\r\n      <storm-table-toolbar\r\n        table={this.table}\r\n        column={this.column}\r\n        row={this.row}\r\n        timeStamp={this.timeStamp}\r\n        onClickAction={ev => {\r\n          ev.stopPropagation();\r\n          this.clickAction.emit(ev.detail);\r\n        }}\r\n      ></storm-table-toolbar>\r\n    );\r\n  }\r\n\r\n  renderInputControl() {\r\n    return (\r\n      <div class=\"input-group input-group-static\">\r\n        <input\r\n          class=\"form-control\"\r\n          type=\"text\"\r\n          aria-label={this.column.title}\r\n          disabled={this.isDisabled}\r\n          value={getFieldValue(this.row, this.column.field) as string | number | string[]}\r\n          onClick={ev => ev.stopPropagation()}\r\n          onChange={ev => {\r\n            ev.stopPropagation();\r\n            this.valueChanged.emit((ev.target as HTMLInputElement).value);\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderTextareaControl() {\r\n    const option = this.cellData as TextAreaControlOptionInterface;\r\n    return (\r\n      <div class=\"input-group input-group-static\">\r\n        <textarea\r\n          class=\"form-control\"\r\n          disabled={this.isDisabled}\r\n          cols={option.cols}\r\n          rows={option.rows}\r\n          title={this.column.title}\r\n          value={getFieldValue(this.row, this.column.field) as string}\r\n          onClick={ev => ev.stopPropagation()}\r\n          onChange={ev => {\r\n            ev.stopPropagation();\r\n            this.valueChanged.emit((ev.target as HTMLInputElement).value);\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderDropdownControl() {\r\n    const option = this.cellData as DropdownControlOptionInterface;\r\n    const dataSet = option.dataSet;\r\n    return (\r\n      <storm-dropdown\r\n        disabled={this.isDisabled}\r\n        label={option.label}\r\n        value={getFieldValue(this.row, this.column.field) as string | string[]}\r\n        dataSet={dataSet}\r\n        nullable={option.nullable ?? false}\r\n        searchable={option.searchable ?? true}\r\n        selection={'single'}\r\n        timeStamp={this.timeStamp}\r\n        type={'select'}\r\n        onValueChanged={ev => {\r\n          ev.stopPropagation();\r\n          this.valueChanged.emit(ev.detail);\r\n        }}\r\n      ></storm-dropdown>\r\n    );\r\n  }\r\n\r\n  renderDropdownTreeControl() {\r\n    const option = this.cellData as DropdownTreeControlOptionInterface;\r\n    let dataSet = option.dataSet;\r\n\r\n    if (option.dataSets && isConditionGroups(option.dataSets)) {\r\n      const matchingConditionGroup = option.dataSets.find(conditionGroup => isConditions(conditionGroup.conditions) && evaluateConditions(conditionGroup.conditions, this.row));\r\n      if (matchingConditionGroup) {\r\n        dataSet = matchingConditionGroup.value;\r\n      }\r\n    }\r\n    return (\r\n      <storm-dropdown-tree\r\n        disabled={this.isDisabled}\r\n        loading={option.loading}\r\n        partialLoad={option.partialLoad}\r\n        label={option.label}\r\n        value={getFieldValue(this.row, this.column.field) as string | string[]}\r\n        text={option.fieldText ? (getFieldValue(this.row, option.fieldText) as string) : null}\r\n        dataSet={dataSet}\r\n        dataSource={option.dataSource}\r\n        fieldId={option.fieldId ?? 'id'}\r\n        fieldLabel={option.fieldLabel ?? 'label'}\r\n        fieldChildren={option.fieldChildren ?? 'children'}\r\n        expandLevel={option.expandLevel ?? 2}\r\n        nodeSelectableRule={option.nodeSelectableRule}\r\n        nullable={option.nullable ?? false}\r\n        searchable={option.searchable ?? true}\r\n        selection={'single'}\r\n        timeStamp={this.timeStamp}\r\n        onValueChanged={ev => {\r\n          ev.stopPropagation();\r\n          this.valueChanged.emit(ev.detail);\r\n        }}\r\n        onTextChanged={ev => {\r\n          ev.stopPropagation();\r\n          if (option.fieldText) setFieldValue(this.row, option.fieldText, ev.detail);\r\n        }}\r\n        onSearchChanged={ev => {\r\n          ev.stopPropagation();\r\n        }}\r\n      ></storm-dropdown-tree>\r\n    );\r\n  }\r\n\r\n  renderCheckControl() {\r\n    return (\r\n      <storm-checkbox\r\n        type={this.cellType === 'checkbox' ? 'checkbox' : 'radio'}\r\n        is-disabled={this.isDisabled}\r\n        is-checked={getFieldValue(this.row, this.column.field) as boolean}\r\n        time-stamp={this.timeStamp}\r\n      ></storm-checkbox>\r\n    );\r\n  }\r\n\r\n  renderCheckboxGroupControl() {\r\n    const option = this.cellData as CheckboxGroupControlOptionInterface;\r\n    const value = getFieldValue(this.row, this.column.field) as any;\r\n    const dataSet = (option.dataSet as CheckboxGroupInterface[])\r\n      .filter(x => {\r\n        if (x.visible === undefined) return true;\r\n        return typeof x.visible === 'function' ? x.visible(this.row) : x.visible;\r\n      })\r\n      .map(\r\n        x =>\r\n          ({\r\n            id: x.id,\r\n            label: x.label,\r\n            labelClasses: x.labelClasses,\r\n            checked: x.checked,\r\n            disabled: x.disabled,\r\n          } as ICheckboxItem),\r\n      );\r\n    return (\r\n      <div class=\"input-group input-group-static\">\r\n        <storm-checkbox-group\r\n          disabled={this.isDisabled}\r\n          type={option.groupType}\r\n          value={value}\r\n          dataSet={dataSet}\r\n          isSwitch={option.isSwitch ?? false}\r\n          isInline={option.isInline ?? true}\r\n          onValueChanged={ev => {\r\n            ev.stopPropagation();\r\n            this.valueChanged.emit(ev.detail);\r\n          }}\r\n        ></storm-checkbox-group>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderCellContent() {\r\n    switch (this.cellType) {\r\n      case 'action':\r\n        return this.renderActionControl();\r\n      case 'input':\r\n        return this.renderInputControl();\r\n      case 'checkbox':\r\n      case 'radio':\r\n        return this.renderCheckControl();\r\n      case 'textarea':\r\n        return this.renderTextareaControl();\r\n      case 'dropdown':\r\n        return this.renderDropdownControl();\r\n      case 'dropdownTree':\r\n        return this.renderDropdownTreeControl();\r\n      case 'checkboxGroup':\r\n        return this.renderCheckboxGroupControl();\r\n      case 'serialNumber':\r\n        return this.renderSerialNumber();\r\n      case 'detail':\r\n        return this.renderDetail();\r\n      case 'text':\r\n        return this.renderCellValue();\r\n      case 'empty':\r\n        return '';\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n\r\n  renderCell() {\r\n    if (!this.prependText && !this.appendText) {\r\n      return this.renderCellContent();\r\n    } else {\r\n      return (\r\n        <div class=\"d-flex flex-row gap-1 align-items-center\">\r\n          {this.prependText && <span>{this.prependText}</span>}\r\n          {this.renderCellContent()}\r\n          {this.appendText && <span>{this.appendText}</span>}\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  renderCellValue() {\r\n    let content = getFieldValue(this.row, this.column.field) as any;\r\n\r\n    if (typeof this.column.render === 'function') {\r\n      content = this.column.render(content, this.row, this.index);\r\n    } else {\r\n      if (Array.isArray(content)) {\r\n        content = content.filter(item => item != null && item !== '').join('、');\r\n      }\r\n\r\n      if (this.table.escape && typeof content !== 'boolean' && content != null) {\r\n        content = escapeHtml(String(content));\r\n      }\r\n\r\n      if (content != null && this.column.transform && this.column.transform[content.toString()]) {\r\n        content = this.column.transform[content];\r\n      } else if (content && this.table.searchable && this.table.searchText) {\r\n        content = appendHighlight(content, this.table.searchText);\r\n      }\r\n    }\r\n\r\n    const template = this.column.cellTemplate || this.table.cellTemplate;\r\n    const displayValue = content != null && content.toString().trim().length > 0 ? content : '-';\r\n    return (\r\n      <span\r\n        innerHTML={replacePlaceholders(template, {\r\n          value: displayValue,\r\n          row: this.row,\r\n          index: this.index,\r\n        })}\r\n      ></span>\r\n    );\r\n  }\r\n\r\n  async componentWillRender() {\r\n    if (!this.column) {\r\n      this.resetCellState();\r\n      return;\r\n    }\r\n\r\n    // Parallelize independent async operations for better performance\r\n    const [cellTypeResult, cellDataResult] = await Promise.all([\r\n      this.resolvePropertyValueAsync<string>(this.column, 'cellType'),\r\n      this.resolvePropertyValueAsync(this.column, 'data'),\r\n    ]);\r\n\r\n    this.cellType = cellTypeResult || this.column.type || 'text';\r\n    this.cellData = cellDataResult;\r\n\r\n    // Early return if cellData is not an object to avoid unnecessary async calls\r\n    if (!this.cellData || typeof this.cellData !== 'object' || Array.isArray(this.cellData)) {\r\n      this.resetControlState();\r\n      return;\r\n    }\r\n\r\n    // Resolve additional properties only when needed\r\n    const [disabled, prependText, appendText] = await Promise.all([\r\n      this.resolvePropertyValueAsync<boolean>(this.cellData, 'disabled'),\r\n      this.resolvePropertyValueAsync<string>(this.cellData, 'prependText'),\r\n      this.resolvePropertyValueAsync<string>(this.cellData, 'appendText'),\r\n    ]);\r\n\r\n    this.isDisabled = disabled ?? false;\r\n    this.prependText = prependText;\r\n    this.appendText = appendText;\r\n\r\n    if (this.isDisabled && (this.cellType === 'input' || this.cellType === 'textarea')) {\r\n      this.cellType = 'text';\r\n    }\r\n  }\r\n\r\n  private resetCellState(): void {\r\n    this.cellType = 'text';\r\n    this.cellData = undefined;\r\n    this.resetControlState();\r\n  }\r\n\r\n  private resetControlState(): void {\r\n    this.isDisabled = false;\r\n    this.prependText = undefined;\r\n    this.appendText = undefined;\r\n    this.__cellValueEditingEvent = undefined;\r\n  }\r\n\r\n  private async resolvePropertyValueAsync<T>(targetObject: any, propertyName: string): Promise<T> {\r\n    const result = resolvePropertyValue(targetObject, propertyName, [this.row, this.index, this.column]);\r\n\r\n    // Handle command strings\r\n    if (isCommandString(result)) {\r\n      return this.handleCommandString<T>(result);\r\n    }\r\n\r\n    // Handle conditions\r\n    if (isConditions(result)) {\r\n      return evaluateConditions(result, this.row) as T;\r\n    }\r\n\r\n    // Handle condition groups\r\n    if (isConditionGroups(result)) {\r\n      return this.evaluateConditionGroups<T>(result);\r\n    }\r\n\r\n    // Handle promises\r\n    if (result instanceof Promise) {\r\n      try {\r\n        return await result;\r\n      } catch (error) {\r\n        console.error('屬性 Promise 解析失敗', error);\r\n        throw error;\r\n      }\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  private async handleCommandString<T>(result: string): Promise<T> {\r\n    const parsed = parseCommandString(result);\r\n\r\n    if (parsed.command === 'Invoke:DotNet') {\r\n      const rowId = getFieldValue(this.row, this.table?.fieldId) as string;\r\n      try {\r\n        return await invokeDotNetMethodAsync(parsed.value, [rowId, this.index, this.column.field], { cache: true });\r\n      } catch (error) {\r\n        console.error('InvokeDotNetMethod 執行失敗', error);\r\n        throw error;\r\n      }\r\n    }\r\n\r\n    if (parsed.command === 'Get:Field') {\r\n      return getFieldValue(this.row, parsed.value) as T;\r\n    }\r\n\r\n    return result as T;\r\n  }\r\n\r\n  private evaluateConditionGroups<T>(conditionGroups: any[]): T {\r\n    for (const conditionGroup of conditionGroups) {\r\n      if (isConditions(conditionGroup.conditions) && evaluateConditions(conditionGroup.conditions, this.row)) {\r\n        return conditionGroup.value as T;\r\n      }\r\n    }\r\n    return undefined;\r\n  }\r\n\r\n  private readonly __emitCellValueChangedOnBlur = debounce(() => {\r\n    if (this.__cellValueEditingEvent !== undefined) {\r\n      this.cellValueChangedOnBlur.emit(this.__cellValueEditingEvent);\r\n      this.__cellValueEditingEvent = undefined;\r\n    }\r\n  }, 500);\r\n\r\n  render() {\r\n    return (\r\n      <Host\r\n        onClick={ev => {\r\n          if (this.cellType === 'checkbox' || this.cellType === 'radio') {\r\n            ev.stopPropagation();\r\n            ev.preventDefault();\r\n            const option = this.cellData as CheckControlOptionInterface;\r\n            if (option && option.disabled) {\r\n              return;\r\n            }\r\n          }\r\n          this.clickCell.emit({ id: getFieldValue(this.row, this.table.fieldId) as string, field: this.column.field });\r\n        }}\r\n      >\r\n        {this.renderCell()}\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n",":host {\r\n  display: block;\r\n\r\n  storm-button,\r\n  storm-dropdown,\r\n  div {\r\n    vertical-align: middle;\r\n  }\r\n\r\n  .btn {\r\n    &:hover:not(.active) {\r\n      color: white;\r\n    }\r\n\r\n    &.btn-outline-primary:hover {\r\n      background-color: #e91e63;\r\n    }\r\n\r\n    &.disabled {\r\n      color: #7b809a;\r\n      border-color: #7b809a;\r\n      cursor: not-allowed;\r\n    }\r\n  }\r\n}","import { Component, Element, Event, EventEmitter, Host, Prop, h } from '@stencil/core';\r\nimport type { ConditionInterface, ListItemInterface } from '@utils/interface';\r\nimport { calculateObjectValue, evaluateConditions, getFieldValue, isConditions } from '@utils/utils';\r\nimport type { ToolbarItemInterface } from '../../storm-toolbar/interface';\r\nimport type { TableColumnInterface } from '../interface';\r\nimport type { StormTable } from '../storm-table';\r\nimport type { ClickActionDetail } from '../storm-table-toolbar/interface';\r\n\r\n@Component({\r\n  tag: 'storm-table-toolbar',\r\n  styleUrl: 'storm-table-toolbar.scss',\r\n  shadow: false,\r\n})\r\nexport class StormTableToolbar {\r\n  private __dateSet: ToolbarItemInterface[];\r\n\r\n  @Element() host: HTMLElement;\r\n\r\n  @Prop() table: StormTable;\r\n  @Prop() column: TableColumnInterface;\r\n  @Prop() row: object;\r\n  @Prop() isDynamicLabel: boolean = true;\r\n  @Prop({ mutable: true }) timeStamp?: number;\r\n\r\n  @Event() clickAction: EventEmitter<ClickActionDetail>;\r\n\r\n  componentWillRender() {\r\n    this.__dateSet = this.column.buttons?.map(x => {\r\n      const item: ToolbarItemInterface = {\r\n        id: x.id,\r\n        type: x.type,\r\n        label: x.label,\r\n        tooltip: x.tooltip,\r\n        icon: x.icon,\r\n        size: 'sm',\r\n        buttonStyle: 'outline-primary',\r\n        rounded: true,\r\n        visible: () => {\r\n          if (isConditions(x.visible)) {\r\n            return evaluateConditions(x.visible as ConditionInterface[], this.row);\r\n          }\r\n          return calculateObjectValue(this, x.visible, this.row, this.table, getFieldValue(this.row, this.table.fieldIndex)) ?? true;\r\n        },\r\n        disabled: () => {\r\n          if (isConditions(x.disabled)) {\r\n            return evaluateConditions(x.disabled as ConditionInterface[], this.row);\r\n          }\r\n          return calculateObjectValue(this, x.disabled, this.row, this.table, getFieldValue(this.row, this.table.fieldIndex)) ?? false;\r\n        },\r\n        items: x.items\r\n          ? x.items.map(\r\n              y =>\r\n                ({\r\n                  id: y.id,\r\n                  title: y.title,\r\n                  icon: y.icon,\r\n                  selected: y.selected,\r\n                  visible: () => {\r\n                    if (isConditions(y.visible)) {\r\n                      return evaluateConditions(y.visible as ConditionInterface[], this.row);\r\n                    }\r\n                    return calculateObjectValue(this, y.visible, this.row, this.table, getFieldValue(this.row, this.table.fieldIndex)) ?? true;\r\n                  },\r\n                  disabled: () => {\r\n                    if (isConditions(y.disabled)) {\r\n                      return evaluateConditions(y.disabled as ConditionInterface[], this.row);\r\n                    }\r\n                    return calculateObjectValue(this, y.disabled, this.row, this.table, getFieldValue(this.row, this.table.fieldIndex)) ?? false;\r\n                  },\r\n                } as ListItemInterface),\r\n            )\r\n          : null,\r\n        click: (_: ToolbarItemInterface, dropdownItem: ListItemInterface = null) => {\r\n          if (x.action) x.action(this.row, x, this.table, dropdownItem);\r\n          this.clickAction.emit({\r\n            id: getFieldValue(this.row, this.table.fieldId) as string,\r\n            field: this.column.field,\r\n            actionId: x.id,\r\n            dropdownItemId: dropdownItem ? dropdownItem.id : null,\r\n          });\r\n        },\r\n      } as ToolbarItemInterface;\r\n      return item;\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <storm-toolbar\r\n          class={{\r\n            'storm-dynamic-label': this.isDynamicLabel,\r\n            'justify-content-start': this.column.align === 'left',\r\n            'justify-content-center': this.column.align === 'center',\r\n            'justify-content-end': this.column.align === 'right',\r\n          }}\r\n          dataSet={this.__dateSet}\r\n          timeStamp={this.timeStamp}\r\n        ></storm-toolbar>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"names":["escapeHtml"],"mappings":"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"}