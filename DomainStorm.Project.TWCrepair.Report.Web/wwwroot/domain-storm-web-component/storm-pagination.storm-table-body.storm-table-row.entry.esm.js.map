{"version":3,"file":"storm-pagination.storm-table-body.storm-table-row.entry.esm.js","sources":["src/components/storm-pagination/storm-pagination.css?tag=storm-pagination&encapsulation=shadow","src/components/storm-pagination/storm-pagination.tsx","src/components/storm-table/storm-table-body/storm-table-body.scss?tag=storm-table-body","src/components/storm-table/storm-table-body/storm-table-body.tsx","src/components/storm-table/storm-table-row/storm-table-row.scss?tag=storm-table-row","src/components/storm-table/storm-table-row/storm-table-row.tsx"],"sourcesContent":[":host {\r\n  display: block;\r\n}\r\n\r\n:host dl,\r\n:host ol,\r\n:host ul {\r\n  margin-bottom: 0;\r\n}","import { Component, Element, Event, EventEmitter, Host, Prop, h } from '@stencil/core';\r\nimport { FnIcon } from '@utils/functional/functional';\r\nimport { SharedStyles } from '@utils/shared-styles';\r\nimport type { PaginationItem } from './interface';\r\n\r\n@Component({\r\n  tag: 'storm-pagination',\r\n  styleUrl: 'storm-pagination.css',\r\n  shadow: true,\r\n})\r\nexport class StormPagination {\r\n  @Element() host: HTMLElement;\r\n  @Prop({ mutable: true }) pageNumber: number = 1;\r\n  @Prop() totalPages: number;\r\n  @Prop() paginationSuccessivelySize: number = 5;\r\n  @Prop() paginationPagesBySide = 1;\r\n\r\n  @Event() pageChange: EventEmitter<number>;\r\n\r\n  private pageFrom: number = -1;\r\n  private pageTo: number = -1;\r\n  private cachedPaginationItems: PaginationItem[] | null = null;\r\n  private lastCalculationKey: string = '';\r\n\r\n  setPage(newPageNumber: number) {\r\n    // 邊界檢查和驗證\r\n    if (newPageNumber < 1 || newPageNumber > this.totalPages || newPageNumber === this.pageNumber) {\r\n      return;\r\n    }\r\n\r\n    this.pageNumber = newPageNumber;\r\n    // 清除快取，因為頁碼已改變\r\n    this.cachedPaginationItems = null;\r\n    this.lastCalculationKey = '';\r\n    this.pageChange.emit(this.pageNumber);\r\n  }\r\n\r\n  async componentWillLoad() {\r\n    await SharedStyles.applyShadowRootStylesAsync(this.host, 'material');\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    // 清理快取\r\n    this.cachedPaginationItems = null;\r\n    this.lastCalculationKey = '';\r\n  }\r\n\r\n  private calculatePageRange(): void {\r\n    // 提早返回避免不必要的計算\r\n    if (this.totalPages <= 0) {\r\n      this.pageFrom = 1;\r\n      this.pageTo = 0;\r\n      return;\r\n    }\r\n\r\n    // 邊界檢查和自動修正\r\n    if (this.pageNumber > this.totalPages) {\r\n      this.pageNumber = this.totalPages;\r\n    }\r\n    if (this.pageNumber < 1) {\r\n      this.pageNumber = 1;\r\n    }\r\n\r\n    // 簡化計算邏輯\r\n    if (this.totalPages <= this.paginationSuccessivelySize) {\r\n      this.pageFrom = 1;\r\n      this.pageTo = this.totalPages;\r\n      return;\r\n    }\r\n\r\n    // 計算顯示範圍\r\n    const halfSize = Math.floor(this.paginationSuccessivelySize / 2);\r\n    this.pageFrom = Math.max(1, this.pageNumber - halfSize);\r\n    this.pageTo = Math.min(this.totalPages, this.pageFrom + this.paginationSuccessivelySize - 1);\r\n\r\n    // 調整起始位置以保持固定數量的頁面\r\n    if (this.pageTo - this.pageFrom + 1 < this.paginationSuccessivelySize) {\r\n      this.pageFrom = Math.max(1, this.pageTo - this.paginationSuccessivelySize + 1);\r\n    }\r\n  }\r\n\r\n  componentWillRender() {\r\n    this.calculatePageRange();\r\n  }\r\n\r\n  private getPaginationItems(): PaginationItem[] {\r\n    // 使用快取避免重複計算\r\n    const currentKey = `${this.pageNumber}-${this.totalPages}-${this.paginationSuccessivelySize}-${this.paginationPagesBySide}`;\r\n    if (this.lastCalculationKey === currentKey && this.cachedPaginationItems) {\r\n      return this.cachedPaginationItems;\r\n    }\r\n\r\n    const paginationItems: PaginationItem[] = [];\r\n\r\n    // 左側頁面\r\n    if (this.pageFrom > 1) {\r\n      let max = this.paginationPagesBySide;\r\n      if (max >= this.pageFrom) max = this.pageFrom - 1;\r\n\r\n      for (let i = 1; i <= max; i++) {\r\n        paginationItems.push({ page: i });\r\n      }\r\n\r\n      if (this.pageFrom - 1 === max + 1) {\r\n        paginationItems.push({ page: this.pageFrom - 1 });\r\n      } else if (this.pageFrom - 1 > max) {\r\n        paginationItems.push({ title: '...' });\r\n      }\r\n    }\r\n\r\n    // 中間頁面\r\n    for (let i = this.pageFrom; i <= this.pageTo; i++) {\r\n      paginationItems.push({ page: i });\r\n    }\r\n\r\n    // 右側頁面\r\n    if (this.totalPages > this.pageTo) {\r\n      let min = this.totalPages - (this.paginationPagesBySide - 1);\r\n      if (this.pageTo >= min) min = this.pageTo + 1;\r\n\r\n      if (this.pageTo + 1 === min - 1) {\r\n        paginationItems.push({ page: this.pageTo + 1 });\r\n      } else {\r\n        paginationItems.push({ title: '...' });\r\n      }\r\n\r\n      for (let i = min; i <= this.totalPages; i++) {\r\n        paginationItems.push({ page: i });\r\n      }\r\n    }\r\n\r\n    // 快取結果\r\n    this.cachedPaginationItems = paginationItems;\r\n    this.lastCalculationKey = currentKey;\r\n\r\n    return paginationItems;\r\n  }\r\n\r\n  render() {\r\n    const paginationItems = this.getPaginationItems();\r\n\r\n    return (\r\n      <Host>\r\n        <ul class=\"pagination pagination-primary\">\r\n          <li class=\"page-item\">\r\n            <a\r\n              class=\"page-link\"\r\n              href=\"javascript:;\"\r\n              aria-label=\"上一頁\"\r\n              onClick={() => {\r\n                const newPage = this.pageNumber === 1 ? this.totalPages : this.pageNumber - 1;\r\n                this.setPage(newPage);\r\n              }}\r\n            >\r\n              <span aria-hidden=\"true\">\r\n                <FnIcon>keyboard_arrow_left</FnIcon>\r\n              </span>\r\n            </a>\r\n          </li>\r\n          {paginationItems.map((x, index) => {\r\n            const isActive = x.page === this.pageNumber;\r\n            const isDisabled = x.page == null;\r\n\r\n            return (\r\n              <li\r\n                key={x.page ? `page-${x.page}` : `ellipsis-${index}`}\r\n                class={{ 'page-item': true, active: isActive, disabled: isDisabled }}\r\n                onClick={() => {\r\n                  if (x.page && !isActive) this.setPage(x.page);\r\n                }}\r\n              >\r\n                <a class=\"page-link\" href=\"javascript:;\" aria-current={isActive ? 'page' : undefined} aria-label={x.page ? `第 ${x.page} 頁` : undefined}>\r\n                  {x.title || x.page?.toString()}\r\n                </a>\r\n              </li>\r\n            );\r\n          })}\r\n          <li class=\"page-item\">\r\n            <a\r\n              class=\"page-link\"\r\n              href=\"javascript:;\"\r\n              aria-label=\"下一頁\"\r\n              onClick={() => {\r\n                const newPage = this.pageNumber === this.totalPages ? 1 : this.pageNumber + 1;\r\n                this.setPage(newPage);\r\n              }}\r\n            >\r\n              <span aria-hidden=\"true\">\r\n                <FnIcon>keyboard_arrow_right</FnIcon>\r\n              </span>\r\n            </a>\r\n          </li>\r\n        </ul>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n","@use 'sass:list';\n\n:host {\n  display: block;\n}\n\n:host .group-item {\n  > th {\n    cursor: auto;\n\n    > div {\n      line-height: 1;\n      margin: 0.25rem;\n    }\n  }\n}\n\n:host span.detail-title {\n  display: inline-block;\n  min-width: 75px;\n  font-weight: bold;\n}\n\n:host .d-table-none {\n  display: none !important;\n}\n\n:host .d-table-cell {\n  display: table-cell !important;\n}\n\nstorm-table-body .table-bordered > :not(caption) > *,\nstorm-table-body .table-bordered > :not(caption) > * > * {\n  border-width: 0;\n}\n\n// 響應式類別設定\n$sizes: 4xs, 3xs, xxs, xs, sm, md, lg, xl, xxl, 3xl, 4xl;\n\n@each $innerSize in $sizes {\n  $none-selectors: ();\n  $cell-selectors: ();\n\n  @each $size in $sizes {\n    @if list.index($sizes, $size) >= list.index($sizes, $innerSize) {\n      $none-selectors: list.append($none-selectors, ':host .storm-table-#{$size} .d-table-#{$innerSize}-none', comma);\n    }\n\n    @if list.index($sizes, $size) >= list.index($sizes, $innerSize) {\n      $cell-selectors: list.append($cell-selectors, ':host .storm-table-#{$size} .d-table-#{$innerSize}-cell', comma);\n    }\n  }\n\n  #{$none-selectors} {\n    display: none !important;\n  }\n\n  #{$cell-selectors} {\n    display: table-cell !important;\n  }\n}\n","import { Component, Element, Event, EventEmitter, Host, Method, Prop, forceUpdate, h } from '@stencil/core';\nimport { getFieldValue, parseClassNames } from '@utils/utils';\nimport type { TableColumnInterface } from '../interface';\nimport { StormTable } from '../storm-table';\n\n@Component({\n  tag: 'storm-table-body',\n  styleUrl: 'storm-table-body.scss',\n  shadow: false,\n})\nexport class StormTableBody {\n  @Element() host: HTMLElement;\n\n  @Prop() table: StormTable;\n  @Prop({ mutable: true, reflect: false }) dataSet: object[];\n  @Prop({ mutable: true }) timeStamp?: number;\n  @Prop() rowIndex?: number;\n  @Prop({ mutable: true, reflect: false }) columns: TableColumnInterface[];\n\n  @Event() clickRow: EventEmitter<string>;\n\n  @Method()\n  async updateColumnCheckbox(col: TableColumnInterface) {\n    if (!this.dataSet || col.type !== 'checkbox') return;\n    const checkedCount = this.getCheckedItemsSum(col.field);\n    const stormCheckbox = this.host.querySelector('th[data-field=\"' + col.field + '\"] storm-checkbox') as HTMLStormCheckboxElement;\n    if (!stormCheckbox) return;\n    stormCheckbox.isChecked = checkedCount === this.table.totalRows;\n    stormCheckbox.isIndeterminate = checkedCount > 0 && checkedCount < this.table.totalRows;\n  }\n\n  @Method()\n  async updateRowCheckbox(row: object, col: TableColumnInterface) {\n    const cell = this.host.querySelector(\n      'tr[data-id=\"' + getFieldValue(row, this.table.fieldId) + '\"] storm-table-cell[data-field=\"' + col.field + '\"]',\n    ) as HTMLStormTableCellElement;\n    if (cell) {\n      forceUpdate(cell);\n    }\n    if (col.field === this.table.fieldSelected) {\n      await this.updateRowSelection(row);\n    }\n  }\n\n  @Method()\n  async updateRowSelection(row: object) {\n    const rowComponent = this.host.querySelector('storm-table-row[data-id=\"' + getFieldValue(row, this.table.fieldId) + '\"]') as HTMLElement & {\n      updateSelection: () => Promise<void>;\n    };\n    if (rowComponent) {\n      await rowComponent.updateSelection();\n    }\n  }\n\n  private computeColumnClasses(col: TableColumnInterface, classes?: Record<string, boolean>): Record<string, boolean> {\n    return {\n      'text-center': col.align === 'center',\n      'text-start': !col.align || col.align === 'left',\n      'text-end': col.align === 'right',\n      'align-middle': !col.valign || col.valign === 'middle',\n      'align-top': col.valign === 'top',\n      'align-bottom': col.valign === 'bottom',\n      'font-weight-bolder': true,\n      'text-truncate': true,\n      'table-sorter': col.sortable,\n      'combined-cell': col.children && col.children.length > 0,\n      'child-cell': col['__depth'] && (col['__depth'] as number) > 1,\n      asc: this.table.sortName === col.field && this.table.sortOrder !== 'desc',\n      desc: this.table.sortName === col.field && this.table.sortOrder === 'desc',\n      ...classes,\n      ...col.classes,\n    };\n  }\n\n  renderThead() {\n    if (!this.columns) return;\n\n    const columnsByDepth = new Map<number, TableColumnInterface[]>();\n    const visibleColumns = this.columns.filter(col => col.visible !== false);\n\n    for (const col of visibleColumns) {\n      const depth = (col['__depth'] as number) || 1;\n      if (!columnsByDepth.has(depth)) {\n        columnsByDepth.set(depth, []);\n      }\n      columnsByDepth.get(depth).push(col);\n    }\n\n    const headerRows = Array.from(columnsByDepth.entries())\n      .sort(([depthA], [depthB]) => depthA - depthB)\n      .map(([, columns]) => <tr>{columns.map(col => this.renderTheadColumn(col))}</tr>);\n\n    return <thead>{headerRows}</thead>;\n  }\n\n  renderTheadColumn(col: TableColumnInterface) {\n    let content: any = col.title;\n    const classes: any = {\n      'thead-xxs': col.type === 'detail' || col.type === 'serialNumber' || col.type === 'radio' || col.type === 'checkbox',\n      'detail-toggle': col.type === 'detail',\n    };\n\n    if (content == null && col.type === 'checkbox') {\n      const checkedCount = this.getCheckedItemsSum(col.field);\n      content = (\n        <storm-checkbox\n          type=\"checkbox\"\n          is-indeterminate={checkedCount > 0 && checkedCount < this.table.totalRows}\n          is-checked={checkedCount === this.table.totalRows}\n          onValueChanged={ev => this.handleColumnCheckChange(ev, col)}\n          time-stamp={this.timeStamp}\n        ></storm-checkbox>\n      );\n    }\n\n    return this.renderHeaderCell(content, col, classes);\n  }\n\n  renderHeaderCell(content: any, col: TableColumnInterface, classes: Record<string, boolean> = {}) {\n    return (\n      <th\n        data-field={col.field}\n        scope=\"col\"\n        class={this.computeColumnClasses(col, classes)}\n        rowspan={col.headerRowspan}\n        colSpan={col.headerColspan}\n        onClick={() => this.handleColumnClick(col)}\n      >\n        <div class=\"cell\">{content}</div>\n        {col.description && <div class=\"table-description\">{col.description}</div>}\n      </th>\n    );\n  }\n\n  handleColumnClick(col: TableColumnInterface) {\n    if (!col.sortable) return;\n    if (col.field == this.table.sortName) {\n      if (this.table.sortOrder == 'desc') this.table.sortChange.emit({ sortName: undefined, sortOrder: undefined });\n      else this.table.sortChange.emit({ sortName: this.table.sortName, sortOrder: 'desc' });\n    } else this.table.sortChange.emit({ sortName: col.field, sortOrder: 'asc' });\n  }\n\n  async handleColumnCheckChange(ev: CustomEvent<boolean>, col: TableColumnInterface) {\n    const checked = ev.detail;\n    if (checked) await this.table.checkAll(col.field);\n    else await this.table.uncheckAll(col.field);\n  }\n\n  async initSelect() {\n    if (!this.dataSet || !this.columns) return;\n\n    for (const row of this.dataSet) {\n      await this.updateRowSelection(row);\n    }\n  }\n\n  getCheckedItemsSum(field: string | number): number {\n    if (!this.table.checkedItemsSum) return 0;\n    return this.table.checkedItemsSum[field];\n  }\n\n  private renderRow(row: object, index: number) {\n    const rowId = getFieldValue(row, this.table.fieldId) as string;\n\n    return (\n      <storm-table-row\n        data-id={rowId}\n        table={this.table}\n        row={row}\n        index={index}\n        columns={this.columns}\n        time-stamp={this.timeStamp}\n        onClickRow={(ev: CustomEvent<string>) => this.clickRow.emit(ev.detail)}\n      ></storm-table-row>\n    );\n  }\n\n  private renderRows() {\n    if (this.table.groupBy) {\n      let groupItem: string = '';\n      const result: any[] = [];\n\n      for (const [i, row] of this.dataSet.entries()) {\n        const groupByValue = getFieldValue(row, this.table.groupBy) as string;\n\n        if (groupByValue !== groupItem) {\n          groupItem = groupByValue;\n          result.push(\n            <tr class=\"group-item table-info\">\n              <th class=\"align-middle full-cell\" colSpan={this.table.expand.visibleColumnCount}>\n                {groupByValue}\n              </th>\n            </tr>,\n          );\n        }\n        result.push(this.renderRow(row, i));\n      }\n      return result;\n    }\n\n    return this.dataSet.map((row, index) => this.renderRow(row, index));\n  }\n\n  private renderBody() {\n    if (!this.dataSet?.length) {\n      const emptyClasses = {\n        'align-middle': true,\n        'text-center': true,\n        'full-cell': true,\n        ...(this.table.classes?.['table-sm'] ? { 'height-100': true } : { 'height-300': true }),\n      };\n\n      return (\n        <tbody>\n          <tr>\n            <td class={emptyClasses} colSpan={this.table.expand.visibleColumnCount}>\n              <p class=\"p-4 h6\">沒有找到符合的結果</p>\n            </td>\n          </tr>\n        </tbody>\n      );\n    }\n    return <tbody>{this.renderRows()}</tbody>;\n  }\n\n  render() {\n    return (\n      <Host>\n        <table\n          class={{\n            table: true,\n            'mb-0': true,\n            'table-hover': !!this.table.clickRowTo,\n            'table-layout-auto': this.table.layout === 'auto',\n            'table-layout-fixed': this.table.layout === 'fixed',\n            ...parseClassNames(this.table.classes),\n          }}\n        >\n          {this.renderThead()}\n          {this.renderBody()}\n        </table>\n      </Host>\n    );\n  }\n\n  async componentDidRender() {\n    await this.initSelect();\n  }\n}\n","storm-table-row {\n  display: contents;\n}\n\n.table storm-table-row>tr{\n  border-width: 0;\n}\n\n.table-striped>tbody>storm-table-row:nth-of-type(odd)>tr {\n    background-color: rgba(0, 0, 0, .05);\n}\n","import { Component, Element, Event, EventEmitter, Host, Method, Prop, h } from '@stencil/core';\nimport { getFieldValue } from '@utils/utils';\nimport type { TableColumnInterface } from '../interface';\nimport { StormTable } from '../storm-table';\n\n@Component({\n  tag: 'storm-table-row',\n  styleUrl: 'storm-table-row.scss',\n  shadow: false,\n})\nexport class StormTableRow {\n  @Element() host: HTMLElement;\n\n  @Prop() table: StormTable;\n  @Prop() row: object;\n  @Prop() index: number;\n  @Prop() columns: TableColumnInterface[];\n  @Prop() timeStamp?: number;\n\n  @Event() clickRow: EventEmitter<string>;\n\n  @Method()\n  async updateSelection() {\n    const isSelected = (getFieldValue(this.row, this.table.fieldSelected) as boolean) === true;\n    const rowEl = this.host.querySelector('tr') as HTMLElement;\n    if (rowEl) {\n      rowEl.classList.toggle('table-primary', isSelected);\n    }\n  }\n\n  private computeCellClasses(col: TableColumnInterface, classes?: Record<string, boolean>): Record<string, boolean> {\n    return {\n      'text-center': col.align === 'center',\n      'text-start': !col.align || col.align === 'left',\n      'text-end': col.align === 'right',\n      'align-middle': !col.valign || col.valign === 'middle',\n      'align-top': col.valign === 'top',\n      'align-bottom': col.valign === 'bottom',\n      ...classes,\n      ...col.classes,\n    };\n  }\n\n  private renderCell(col: TableColumnInterface) {\n    const cellClasses = this.computeCellClasses(col, {\n      'text-xs': col.type === 'serialNumber',\n      'detail-toggle': col.type === 'detail',\n    });\n\n    return (\n      <td data-field={col.field} class={cellClasses}>\n        {this.renderCellContent(col)}\n      </td>\n    );\n  }\n\n  private renderCellContent(col: TableColumnInterface) {\n    return (\n      <storm-table-cell\n        table={this.table}\n        row={this.row}\n        index={this.index}\n        column={col}\n        time-stamp={this.timeStamp}\n        data-field={col.field}\n        onCellDidValueChanged={() => {\n          this.timeStamp = Date.now();\n        }}\n      ></storm-table-cell>\n    );\n  }\n\n  private renderDetail() {\n    return this.columns\n      .filter(col => col.responsive === true && col.visible !== false)\n      .map(col => (\n        <li class={{ 'list-group-item': true, ...col.rwdClassReversal }}>\n          <span class=\"detail-title\">{col.title}</span>\n          <span>{this.renderCellContent(col)}</span>\n        </li>\n      ));\n  }\n\n  render() {\n    const rowId = getFieldValue(this.row, this.table.fieldId) as string;\n    const isSelected = (getFieldValue(this.row, this.table.fieldSelected) as boolean) === true;\n    const visibleColumns = this.columns.filter(col => col.visible !== false && (!col.children || col.children.length === 0));\n\n    const mainRow = (\n      <tr data-id={rowId} class={{ 'table-primary': isSelected }} onClick={() => this.clickRow.emit(rowId)}>\n        {visibleColumns.map(col => this.renderCell(col))}\n      </tr>\n    );\n\n    if (this.table.isColumnResponsive) {\n      const detailCol = this.columns.find(col => col.type === 'detail');\n      const detailClasses = detailCol?.classes ? { ...detailCol.classes, 'row-detail': true, 'd-none': true } : { 'row-detail': true, 'd-none': true };\n\n      return (\n        <Host>\n          {mainRow}\n          <tr class={detailClasses} data-index={this.index}>\n            <td class=\"full-cell\" colSpan={this.table.expand.visibleColumnCount}>\n              <ul class=\"list-group list-group-flush\">{this.renderDetail()}</ul>\n            </td>\n          </tr>\n        </Host>\n      );\n    }\n\n    return <Host>{mainRow}</Host>;\n  }\n}\n"],"names":[],"mappings":";;;;;;;AAAA,MAAM,kBAAkB,GAAG,iEAAiE;;MCU/E,eAAe,GAAA,MAAA;;;;;;IAED,UAAU,GAAW,CAAC;AACvC,IAAA,UAAU;IACV,0BAA0B,GAAW,CAAC;IACtC,qBAAqB,GAAG,CAAC;AAExB,IAAA,UAAU;IAEX,QAAQ,GAAW,EAAE;IACrB,MAAM,GAAW,EAAE;IACnB,qBAAqB,GAA4B,IAAI;IACrD,kBAAkB,GAAW,EAAE;AAEvC,IAAA,OAAO,CAAC,aAAqB,EAAA;;AAE3B,QAAA,IAAI,aAAa,GAAG,CAAC,IAAI,aAAa,GAAG,IAAI,CAAC,UAAU,IAAI,aAAa,KAAK,IAAI,CAAC,UAAU,EAAE;YAC7F;;AAGF,QAAA,IAAI,CAAC,UAAU,GAAG,aAAa;;AAE/B,QAAA,IAAI,CAAC,qBAAqB,GAAG,IAAI;AACjC,QAAA,IAAI,CAAC,kBAAkB,GAAG,EAAE;QAC5B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC;;AAGvC,IAAA,MAAM,iBAAiB,GAAA;QACrB,MAAM,YAAY,CAAC,0BAA0B,CAAC,IAAI,CAAC,IAAI,EAAE,UAAU,CAAC;;IAGtE,oBAAoB,GAAA;;AAElB,QAAA,IAAI,CAAC,qBAAqB,GAAG,IAAI;AACjC,QAAA,IAAI,CAAC,kBAAkB,GAAG,EAAE;;IAGtB,kBAAkB,GAAA;;AAExB,QAAA,IAAI,IAAI,CAAC,UAAU,IAAI,CAAC,EAAE;AACxB,YAAA,IAAI,CAAC,QAAQ,GAAG,CAAC;AACjB,YAAA,IAAI,CAAC,MAAM,GAAG,CAAC;YACf;;;QAIF,IAAI,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,EAAE;AACrC,YAAA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU;;AAEnC,QAAA,IAAI,IAAI,CAAC,UAAU,GAAG,CAAC,EAAE;AACvB,YAAA,IAAI,CAAC,UAAU,GAAG,CAAC;;;QAIrB,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,0BAA0B,EAAE;AACtD,YAAA,IAAI,CAAC,QAAQ,GAAG,CAAC;AACjB,YAAA,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,UAAU;YAC7B;;;AAIF,QAAA,MAAM,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,0BAA0B,GAAG,CAAC,CAAC;AAChE,QAAA,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC;QACvD,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,0BAA0B,GAAG,CAAC,CAAC;;AAG5F,QAAA,IAAI,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,QAAQ,GAAG,CAAC,GAAG,IAAI,CAAC,0BAA0B,EAAE;AACrE,YAAA,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,0BAA0B,GAAG,CAAC,CAAC;;;IAIlF,mBAAmB,GAAA;QACjB,IAAI,CAAC,kBAAkB,EAAE;;IAGnB,kBAAkB,GAAA;;AAExB,QAAA,MAAM,UAAU,GAAG,CAAA,EAAG,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,CAAI,CAAA,EAAA,IAAI,CAAC,0BAA0B,CAAA,CAAA,EAAI,IAAI,CAAC,qBAAqB,EAAE;QAC3H,IAAI,IAAI,CAAC,kBAAkB,KAAK,UAAU,IAAI,IAAI,CAAC,qBAAqB,EAAE;YACxE,OAAO,IAAI,CAAC,qBAAqB;;QAGnC,MAAM,eAAe,GAAqB,EAAE;;AAG5C,QAAA,IAAI,IAAI,CAAC,QAAQ,GAAG,CAAC,EAAE;AACrB,YAAA,IAAI,GAAG,GAAG,IAAI,CAAC,qBAAqB;AACpC,YAAA,IAAI,GAAG,IAAI,IAAI,CAAC,QAAQ;AAAE,gBAAA,GAAG,GAAG,IAAI,CAAC,QAAQ,GAAG,CAAC;AAEjD,YAAA,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,IAAI,GAAG,EAAE,CAAC,EAAE,EAAE;gBAC7B,eAAe,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC;;YAGnC,IAAI,IAAI,CAAC,QAAQ,GAAG,CAAC,KAAK,GAAG,GAAG,CAAC,EAAE;AACjC,gBAAA,eAAe,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,GAAG,CAAC,EAAE,CAAC;;iBAC5C,IAAI,IAAI,CAAC,QAAQ,GAAG,CAAC,GAAG,GAAG,EAAE;gBAClC,eAAe,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC;;;;AAK1C,QAAA,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,QAAQ,EAAE,CAAC,IAAI,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACjD,eAAe,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC;;;QAInC,IAAI,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,MAAM,EAAE;AACjC,YAAA,IAAI,GAAG,GAAG,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,qBAAqB,GAAG,CAAC,CAAC;AAC5D,YAAA,IAAI,IAAI,CAAC,MAAM,IAAI,GAAG;AAAE,gBAAA,GAAG,GAAG,IAAI,CAAC,MAAM,GAAG,CAAC;YAE7C,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,KAAK,GAAG,GAAG,CAAC,EAAE;AAC/B,gBAAA,eAAe,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;;iBAC1C;gBACL,eAAe,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC;;AAGxC,YAAA,KAAK,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC,IAAI,IAAI,CAAC,UAAU,EAAE,CAAC,EAAE,EAAE;gBAC3C,eAAe,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC;;;;AAKrC,QAAA,IAAI,CAAC,qBAAqB,GAAG,eAAe;AAC5C,QAAA,IAAI,CAAC,kBAAkB,GAAG,UAAU;AAEpC,QAAA,OAAO,eAAe;;IAGxB,MAAM,GAAA;AACJ,QAAA,MAAM,eAAe,GAAG,IAAI,CAAC,kBAAkB,EAAE;AAEjD,QAAA,QACE,EAAC,IAAI,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,EACH,CAAI,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,KAAK,EAAC,+BAA+B,EAAA,EACvC,CAAI,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,KAAK,EAAC,WAAW,EAAA,EACnB,CAAA,CAAA,GAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EACE,KAAK,EAAC,WAAW,EACjB,IAAI,EAAC,cAAc,EAAA,YAAA,EACR,oBAAK,EAChB,OAAO,EAAE,MAAK;gBACZ,MAAM,OAAO,GAAG,IAAI,CAAC,UAAU,KAAK,CAAC,GAAG,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,UAAU,GAAG,CAAC;AAC7E,gBAAA,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC;AACvB,aAAC,EAAA,EAED,CAAA,CAAA,MAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,aAAA,EAAkB,MAAM,EAAA,EACtB,CAAA,CAAC,MAAM,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,EAAA,qBAAA,CAA6B,CAC/B,CACL,CACD,EACJ,eAAe,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,KAAK,KAAI;YAChC,MAAM,QAAQ,GAAG,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,UAAU;AAC3C,YAAA,MAAM,UAAU,GAAG,CAAC,CAAC,IAAI,IAAI,IAAI;YAEjC,QACE,CACE,CAAA,IAAA,EAAA,EAAA,GAAG,EAAE,CAAC,CAAC,IAAI,GAAG,CAAQ,KAAA,EAAA,CAAC,CAAC,IAAI,CAAA,CAAE,GAAG,YAAY,KAAK,CAAA,CAAE,EACpD,KAAK,EAAE,EAAE,WAAW,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,UAAU,EAAE,EACpE,OAAO,EAAE,MAAK;AACZ,oBAAA,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,QAAQ;AAAE,wBAAA,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC;iBAC9C,EAAA,EAED,CAAG,CAAA,GAAA,EAAA,EAAA,KAAK,EAAC,WAAW,EAAC,IAAI,EAAC,cAAc,kBAAe,QAAQ,GAAG,MAAM,GAAG,SAAS,EAAc,YAAA,EAAA,CAAC,CAAC,IAAI,GAAG,CAAK,EAAA,EAAA,CAAC,CAAC,IAAI,CAAI,EAAA,CAAA,GAAG,SAAS,EAAA,EACnI,CAAC,CAAC,KAAK,IAAI,CAAC,CAAC,IAAI,EAAE,QAAQ,EAAE,CAC5B,CACD;AAET,SAAC,CAAC,EACF,CAAI,CAAA,IAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,KAAK,EAAC,WAAW,EAAA,EACnB,CAAA,CAAA,GAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EACE,KAAK,EAAC,WAAW,EACjB,IAAI,EAAC,cAAc,EAAA,YAAA,EACR,oBAAK,EAChB,OAAO,EAAE,MAAK;gBACZ,MAAM,OAAO,GAAG,IAAI,CAAC,UAAU,KAAK,IAAI,CAAC,UAAU,GAAG,CAAC,GAAG,IAAI,CAAC,UAAU,GAAG,CAAC;AAC7E,gBAAA,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC;AACvB,aAAC,EAAA,EAED,CAAA,CAAA,MAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,aAAA,EAAkB,MAAM,EAAA,EACtB,CAAC,CAAA,MAAM,8EAA8B,CAChC,CACL,CACD,CACF,CACA;;;;;ACjMb,MAAM,iBAAiB,GAAG,yoMAAyoM;;MCUtpM,cAAc,GAAA,MAAA;;;;;;AAGjB,IAAA,KAAK;AAC4B,IAAA,OAAO;AACvB,IAAA,SAAS;AAC1B,IAAA,QAAQ;AACyB,IAAA,OAAO;AAEvC,IAAA,QAAQ;IAGjB,MAAM,oBAAoB,CAAC,GAAyB,EAAA;QAClD,IAAI,CAAC,IAAI,CAAC,OAAO,IAAI,GAAG,CAAC,IAAI,KAAK,UAAU;YAAE;QAC9C,MAAM,YAAY,GAAG,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,KAAK,CAAC;AACvD,QAAA,MAAM,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,iBAAiB,GAAG,GAAG,CAAC,KAAK,GAAG,mBAAmB,CAA6B;AAC9H,QAAA,IAAI,CAAC,aAAa;YAAE;QACpB,aAAa,CAAC,SAAS,GAAG,YAAY,KAAK,IAAI,CAAC,KAAK,CAAC,SAAS;AAC/D,QAAA,aAAa,CAAC,eAAe,GAAG,YAAY,GAAG,CAAC,IAAI,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS;;AAIzF,IAAA,MAAM,iBAAiB,CAAC,GAAW,EAAE,GAAyB,EAAA;AAC5D,QAAA,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,aAAa,CAClC,cAAc,GAAG,aAAa,CAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,kCAAkC,GAAG,GAAG,CAAC,KAAK,GAAG,IAAI,CACnF;QAC9B,IAAI,IAAI,EAAE;YACR,WAAW,CAAC,IAAI,CAAC;;QAEnB,IAAI,GAAG,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE;AAC1C,YAAA,MAAM,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC;;;IAKtC,MAAM,kBAAkB,CAAC,GAAW,EAAA;QAClC,MAAM,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,2BAA2B,GAAG,aAAa,CAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,IAAI,CAEvH;QACD,IAAI,YAAY,EAAE;AAChB,YAAA,MAAM,YAAY,CAAC,eAAe,EAAE;;;IAIhC,oBAAoB,CAAC,GAAyB,EAAE,OAAiC,EAAA;QACvF,OAAO;AACL,YAAA,aAAa,EAAE,GAAG,CAAC,KAAK,KAAK,QAAQ;YACrC,YAAY,EAAE,CAAC,GAAG,CAAC,KAAK,IAAI,GAAG,CAAC,KAAK,KAAK,MAAM;AAChD,YAAA,UAAU,EAAE,GAAG,CAAC,KAAK,KAAK,OAAO;YACjC,cAAc,EAAE,CAAC,GAAG,CAAC,MAAM,IAAI,GAAG,CAAC,MAAM,KAAK,QAAQ;AACtD,YAAA,WAAW,EAAE,GAAG,CAAC,MAAM,KAAK,KAAK;AACjC,YAAA,cAAc,EAAE,GAAG,CAAC,MAAM,KAAK,QAAQ;AACvC,YAAA,oBAAoB,EAAE,IAAI;AAC1B,YAAA,eAAe,EAAE,IAAI;YACrB,cAAc,EAAE,GAAG,CAAC,QAAQ;YAC5B,eAAe,EAAE,GAAG,CAAC,QAAQ,IAAI,GAAG,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC;YACxD,YAAY,EAAE,GAAG,CAAC,SAAS,CAAC,IAAK,GAAG,CAAC,SAAS,CAAY,GAAG,CAAC;AAC9D,YAAA,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,KAAK,GAAG,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,KAAK,MAAM;AACzE,YAAA,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,KAAK,GAAG,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,KAAK,MAAM;AAC1E,YAAA,GAAG,OAAO;YACV,GAAG,GAAG,CAAC,OAAO;SACf;;IAGH,WAAW,GAAA;QACT,IAAI,CAAC,IAAI,CAAC,OAAO;YAAE;AAEnB,QAAA,MAAM,cAAc,GAAG,IAAI,GAAG,EAAkC;AAChE,QAAA,MAAM,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,IAAI,GAAG,CAAC,OAAO,KAAK,KAAK,CAAC;AAExE,QAAA,KAAK,MAAM,GAAG,IAAI,cAAc,EAAE;YAChC,MAAM,KAAK,GAAI,GAAG,CAAC,SAAS,CAAY,IAAI,CAAC;YAC7C,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;AAC9B,gBAAA,cAAc,CAAC,GAAG,CAAC,KAAK,EAAE,EAAE,CAAC;;YAE/B,cAAc,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;;QAGrC,MAAM,UAAU,GAAG,KAAK,CAAC,IAAI,CAAC,cAAc,CAAC,OAAO,EAAE;AACnD,aAAA,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,CAAC,MAAM,CAAC,KAAK,MAAM,GAAG,MAAM;AAC5C,aAAA,GAAG,CAAC,CAAC,GAAG,OAAO,CAAC,KAAK,CAAK,CAAA,IAAA,EAAA,IAAA,EAAA,OAAO,CAAC,GAAG,CAAC,GAAG,IAAI,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC,CAAM,CAAC;QAEnF,OAAO,CAAA,CAAA,OAAA,EAAA,IAAA,EAAQ,UAAU,CAAS;;AAGpC,IAAA,iBAAiB,CAAC,GAAyB,EAAA;AACzC,QAAA,IAAI,OAAO,GAAQ,GAAG,CAAC,KAAK;AAC5B,QAAA,MAAM,OAAO,GAAQ;YACnB,WAAW,EAAE,GAAG,CAAC,IAAI,KAAK,QAAQ,IAAI,GAAG,CAAC,IAAI,KAAK,cAAc,IAAI,GAAG,CAAC,IAAI,KAAK,OAAO,IAAI,GAAG,CAAC,IAAI,KAAK,UAAU;AACpH,YAAA,eAAe,EAAE,GAAG,CAAC,IAAI,KAAK,QAAQ;SACvC;QAED,IAAI,OAAO,IAAI,IAAI,IAAI,GAAG,CAAC,IAAI,KAAK,UAAU,EAAE;YAC9C,MAAM,YAAY,GAAG,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,KAAK,CAAC;YACvD,OAAO,IACL,CACE,CAAA,gBAAA,EAAA,EAAA,IAAI,EAAC,UAAU,EAAA,kBAAA,EACG,YAAY,GAAG,CAAC,IAAI,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,EAAA,YAAA,EAC7D,YAAY,KAAK,IAAI,CAAC,KAAK,CAAC,SAAS,EACjD,cAAc,EAAE,EAAE,IAAI,IAAI,CAAC,uBAAuB,CAAC,EAAE,EAAE,GAAG,CAAC,EAAA,YAAA,EAC/C,IAAI,CAAC,SAAS,EACV,CAAA,CACnB;;QAGH,OAAO,IAAI,CAAC,gBAAgB,CAAC,OAAO,EAAE,GAAG,EAAE,OAAO,CAAC;;AAGrD,IAAA,gBAAgB,CAAC,OAAY,EAAE,GAAyB,EAAE,UAAmC,EAAE,EAAA;AAC7F,QAAA,QACE,CACc,CAAA,IAAA,EAAA,EAAA,YAAA,EAAA,GAAG,CAAC,KAAK,EACrB,KAAK,EAAC,KAAK,EACX,KAAK,EAAE,IAAI,CAAC,oBAAoB,CAAC,GAAG,EAAE,OAAO,CAAC,EAC9C,OAAO,EAAE,GAAG,CAAC,aAAa,EAC1B,OAAO,EAAE,GAAG,CAAC,aAAa,EAC1B,OAAO,EAAE,MAAM,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,EAAA,EAE1C,CAAA,CAAA,KAAA,EAAA,EAAK,KAAK,EAAC,MAAM,EAAA,EAAE,OAAO,CAAO,EAChC,GAAG,CAAC,WAAW,IAAI,CAAA,CAAA,KAAA,EAAA,EAAK,KAAK,EAAC,mBAAmB,EAAE,EAAA,GAAG,CAAC,WAAW,CAAO,CACvE;;AAIT,IAAA,iBAAiB,CAAC,GAAyB,EAAA;QACzC,IAAI,CAAC,GAAG,CAAC,QAAQ;YAAE;QACnB,IAAI,GAAG,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;AACpC,YAAA,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,MAAM;AAAE,gBAAA,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,QAAQ,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,CAAC;;gBACxG,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,SAAS,EAAE,MAAM,EAAE,CAAC;;;AAChF,YAAA,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,QAAQ,EAAE,GAAG,CAAC,KAAK,EAAE,SAAS,EAAE,KAAK,EAAE,CAAC;;AAG9E,IAAA,MAAM,uBAAuB,CAAC,EAAwB,EAAE,GAAyB,EAAA;AAC/E,QAAA,MAAM,OAAO,GAAG,EAAE,CAAC,MAAM;AACzB,QAAA,IAAI,OAAO;YAAE,MAAM,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,CAAC;;YAC5C,MAAM,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,GAAG,CAAC,KAAK,CAAC;;AAG7C,IAAA,MAAM,UAAU,GAAA;QACd,IAAI,CAAC,IAAI,CAAC,OAAO,IAAI,CAAC,IAAI,CAAC,OAAO;YAAE;AAEpC,QAAA,KAAK,MAAM,GAAG,IAAI,IAAI,CAAC,OAAO,EAAE;AAC9B,YAAA,MAAM,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC;;;AAItC,IAAA,kBAAkB,CAAC,KAAsB,EAAA;AACvC,QAAA,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,eAAe;AAAE,YAAA,OAAO,CAAC;QACzC,OAAO,IAAI,CAAC,KAAK,CAAC,eAAe,CAAC,KAAK,CAAC;;IAGlC,SAAS,CAAC,GAAW,EAAE,KAAa,EAAA;AAC1C,QAAA,MAAM,KAAK,GAAG,aAAa,CAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAW;QAE9D,QACE,kCACW,KAAK,EACd,KAAK,EAAE,IAAI,CAAC,KAAK,EACjB,GAAG,EAAE,GAAG,EACR,KAAK,EAAE,KAAK,EACZ,OAAO,EAAE,IAAI,CAAC,OAAO,gBACT,IAAI,CAAC,SAAS,EAC1B,UAAU,EAAE,CAAC,EAAuB,KAAK,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,MAAM,CAAC,EACrD,CAAA;;IAIf,UAAU,GAAA;AAChB,QAAA,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE;YACtB,IAAI,SAAS,GAAW,EAAE;YAC1B,MAAM,MAAM,GAAU,EAAE;AAExB,YAAA,KAAK,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,EAAE;AAC7C,gBAAA,MAAM,YAAY,GAAG,aAAa,CAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAW;AAErE,gBAAA,IAAI,YAAY,KAAK,SAAS,EAAE;oBAC9B,SAAS,GAAG,YAAY;AACxB,oBAAA,MAAM,CAAC,IAAI,CACT,CAAI,CAAA,IAAA,EAAA,EAAA,KAAK,EAAC,uBAAuB,EAAA,EAC/B,CAAA,CAAA,IAAA,EAAA,EAAI,KAAK,EAAC,wBAAwB,EAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,kBAAkB,EAAA,EAC7E,YAAY,CACV,CACF,CACN;;AAEH,gBAAA,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;;AAErC,YAAA,OAAO,MAAM;;QAGf,OAAO,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,KAAK,KAAK,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;;IAG7D,UAAU,GAAA;AAChB,QAAA,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,EAAE;AACzB,YAAA,MAAM,YAAY,GAAG;AACnB,gBAAA,cAAc,EAAE,IAAI;AACpB,gBAAA,aAAa,EAAE,IAAI;AACnB,gBAAA,WAAW,EAAE,IAAI;gBACjB,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,UAAU,CAAC,GAAG,EAAE,YAAY,EAAE,IAAI,EAAE,GAAG,EAAE,YAAY,EAAE,IAAI,EAAE,CAAC;aACxF;YAED,QACE,CAAA,CAAA,OAAA,EAAA,IAAA,EACE,CAAA,CAAA,IAAA,EAAA,IAAA,EACE,CAAA,CAAA,IAAA,EAAA,EAAI,KAAK,EAAE,YAAY,EAAE,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,kBAAkB,EAAA,EACpE,CAAG,CAAA,GAAA,EAAA,EAAA,KAAK,EAAC,QAAQ,EAAA,EAAA,wDAAA,CAAc,CAC5B,CACF,CACC;;QAGZ,OAAO,iBAAQ,IAAI,CAAC,UAAU,EAAE,CAAS;;IAG3C,MAAM,GAAA;QACJ,QACE,EAAC,IAAI,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,EACH,CAAA,CAAA,OAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EACE,KAAK,EAAE;AACL,gBAAA,KAAK,EAAE,IAAI;AACX,gBAAA,MAAM,EAAE,IAAI;AACZ,gBAAA,aAAa,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU;AACtC,gBAAA,mBAAmB,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,KAAK,MAAM;AACjD,gBAAA,oBAAoB,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,KAAK,OAAO;AACnD,gBAAA,GAAG,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC;AACvC,aAAA,EAAA,EAEA,IAAI,CAAC,WAAW,EAAE,EAClB,IAAI,CAAC,UAAU,EAAE,CACZ,CACH;;AAIX,IAAA,MAAM,kBAAkB,GAAA;AACtB,QAAA,MAAM,IAAI,CAAC,UAAU,EAAE;;;;;ACtP3B,MAAM,gBAAgB,GAAG,0KAA0K;;MCUtL,aAAa,GAAA,MAAA;;;;;;AAGhB,IAAA,KAAK;AACL,IAAA,GAAG;AACH,IAAA,KAAK;AACL,IAAA,OAAO;AACP,IAAA,SAAS;AAER,IAAA,QAAQ;AAGjB,IAAA,MAAM,eAAe,GAAA;AACnB,QAAA,MAAM,UAAU,GAAI,aAAa,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,aAAa,CAAa,KAAK,IAAI;QAC1F,MAAM,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAgB;QAC1D,IAAI,KAAK,EAAE;YACT,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,eAAe,EAAE,UAAU,CAAC;;;IAI/C,kBAAkB,CAAC,GAAyB,EAAE,OAAiC,EAAA;QACrF,OAAO;AACL,YAAA,aAAa,EAAE,GAAG,CAAC,KAAK,KAAK,QAAQ;YACrC,YAAY,EAAE,CAAC,GAAG,CAAC,KAAK,IAAI,GAAG,CAAC,KAAK,KAAK,MAAM;AAChD,YAAA,UAAU,EAAE,GAAG,CAAC,KAAK,KAAK,OAAO;YACjC,cAAc,EAAE,CAAC,GAAG,CAAC,MAAM,IAAI,GAAG,CAAC,MAAM,KAAK,QAAQ;AACtD,YAAA,WAAW,EAAE,GAAG,CAAC,MAAM,KAAK,KAAK;AACjC,YAAA,cAAc,EAAE,GAAG,CAAC,MAAM,KAAK,QAAQ;AACvC,YAAA,GAAG,OAAO;YACV,GAAG,GAAG,CAAC,OAAO;SACf;;AAGK,IAAA,UAAU,CAAC,GAAyB,EAAA;AAC1C,QAAA,MAAM,WAAW,GAAG,IAAI,CAAC,kBAAkB,CAAC,GAAG,EAAE;AAC/C,YAAA,SAAS,EAAE,GAAG,CAAC,IAAI,KAAK,cAAc;AACtC,YAAA,eAAe,EAAE,GAAG,CAAC,IAAI,KAAK,QAAQ;AACvC,SAAA,CAAC;QAEF,QACE,CAAgB,CAAA,IAAA,EAAA,EAAA,YAAA,EAAA,GAAG,CAAC,KAAK,EAAE,KAAK,EAAE,WAAW,EAC1C,EAAA,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,CACzB;;AAID,IAAA,iBAAiB,CAAC,GAAyB,EAAA;AACjD,QAAA,QACE,CAAA,CAAA,kBAAA,EAAA,EACE,KAAK,EAAE,IAAI,CAAC,KAAK,EACjB,GAAG,EAAE,IAAI,CAAC,GAAG,EACb,KAAK,EAAE,IAAI,CAAC,KAAK,EACjB,MAAM,EAAE,GAAG,EAAA,YAAA,EACC,IAAI,CAAC,SAAS,EACd,YAAA,EAAA,GAAG,CAAC,KAAK,EACrB,qBAAqB,EAAE,MAAK;AAC1B,gBAAA,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,GAAG,EAAE;aAC5B,EAAA,CACiB;;IAIhB,YAAY,GAAA;QAClB,OAAO,IAAI,CAAC;AACT,aAAA,MAAM,CAAC,GAAG,IAAI,GAAG,CAAC,UAAU,KAAK,IAAI,IAAI,GAAG,CAAC,OAAO,KAAK,KAAK;aAC9D,GAAG,CAAC,GAAG,KACN,UAAI,KAAK,EAAE,EAAE,iBAAiB,EAAE,IAAI,EAAE,GAAG,GAAG,CAAC,gBAAgB,EAAE,EAAA,EAC7D,CAAA,CAAA,MAAA,EAAA,EAAM,KAAK,EAAC,cAAc,IAAE,GAAG,CAAC,KAAK,CAAQ,EAC7C,CAAO,CAAA,MAAA,EAAA,IAAA,EAAA,IAAI,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAQ,CACvC,CACN,CAAC;;IAGN,MAAM,GAAA;AACJ,QAAA,MAAM,KAAK,GAAG,aAAa,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,OAAO,CAAW;AACnE,QAAA,MAAM,UAAU,GAAI,aAAa,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,aAAa,CAAa,KAAK,IAAI;AAC1F,QAAA,MAAM,cAAc,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,IAAI,GAAG,CAAC,OAAO,KAAK,KAAK,KAAK,CAAC,GAAG,CAAC,QAAQ,IAAI,GAAG,CAAC,QAAQ,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC;QAExH,MAAM,OAAO,IACX,CAAA,CAAA,IAAA,EAAA,EAAA,SAAA,EAAa,KAAK,EAAE,KAAK,EAAE,EAAE,eAAe,EAAE,UAAU,EAAE,EAAE,OAAO,EAAE,MAAM,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,EAAA,EACjG,cAAc,CAAC,GAAG,CAAC,GAAG,IAAI,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,CAC7C,CACN;AAED,QAAA,IAAI,IAAI,CAAC,KAAK,CAAC,kBAAkB,EAAE;AACjC,YAAA,MAAM,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,IAAI,GAAG,CAAC,IAAI,KAAK,QAAQ,CAAC;AACjE,YAAA,MAAM,aAAa,GAAG,SAAS,EAAE,OAAO,GAAG,EAAE,GAAG,SAAS,CAAC,OAAO,EAAE,YAAY,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,GAAG,EAAE,YAAY,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE;AAEhJ,YAAA,QACE,EAAC,IAAI,EAAA,IAAA,EACF,OAAO,EACR,CAAA,CAAA,IAAA,EAAA,EAAI,KAAK,EAAE,aAAa,EAAc,YAAA,EAAA,IAAI,CAAC,KAAK,EAAA,EAC9C,CAAA,CAAA,IAAA,EAAA,EAAI,KAAK,EAAC,WAAW,EAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,kBAAkB,EAAA,EACjE,CAAA,CAAA,IAAA,EAAA,EAAI,KAAK,EAAC,6BAA6B,EAAA,EAAE,IAAI,CAAC,YAAY,EAAE,CAAM,CAC/D,CACF,CACA;;QAIX,OAAO,CAAC,CAAA,IAAI,EAAE,IAAA,EAAA,OAAO,CAAQ;;;;;;;"}