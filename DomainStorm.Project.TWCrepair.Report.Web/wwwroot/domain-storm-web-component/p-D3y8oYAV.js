class t{provider;defaultOptions;constructor(t,s={}){if(typeof s.regionName!=="string"){s.regionName="default"}if(typeof s.expiredMillis!=="number"||s.expiredMillis<=0){s.expiredMillis=1e3*60*5}this.provider=t;this.defaultOptions=s}makeCompositeKey(t,s){return`${t}:${s}`}async get(t,s=this.defaultOptions.regionName){const i=this.makeCompositeKey(s,t);const e=await this.provider.get(i);return e?e.value:null}async set(t,s,i=this.defaultOptions.regionName,e=this.defaultOptions.expiredMillis){const a=this.makeCompositeKey(i,t);const n={value:s,timestamp:Date.now(),expiredMillis:e};await this.provider.set(a,n)}async delete(t,s=this.defaultOptions.regionName){const i=this.makeCompositeKey(s,t);await this.provider.delete(i)}async clearRegion(t=this.defaultOptions.regionName){const s=`${t}:`;await this.provider.deleteByPrefix(s)}async clearAll(){await this.provider.clear()}}export{t as C};
//# sourceMappingURL=p-D3y8oYAV.js.map