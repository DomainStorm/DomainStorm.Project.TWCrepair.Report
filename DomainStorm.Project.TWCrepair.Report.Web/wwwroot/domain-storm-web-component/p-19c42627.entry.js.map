{"version":3,"names":["stormCardCss","StormCard","_cardBodyRef","_slotCardHeader","_slotTitle","_slotHeader","_slotFooter","_slotBody","_perfectScrollbar","_scrollListener","class","icon","headline","bodyClass","scrollable","cardStyle","innerScroll","_observer","MutationObserver","this","checkSlots","slots","cardHeader","title","header","footer","body","children","host","targetSlots","Set","foundCount","i","length","child","slot","getAttribute","has","nodeType","Node","ELEMENT_NODE","componentWillRender","observe","childList","subtree","componentDidRender","initScrollbar","disposeScrollbar","_cardClassesCache","_lastCardProps","buildCardClasses","currentProps","baseClasses","card","classes","mergeClasses","hasMarginTop","Object","keys","some","key","test","_bodyClassesCache","_lastBodyProps","buildBodyClasses","PerfectScrollbar","lastKnownScrollPosition","frameId","ev","stopPropagation","currentScrollPosition","scrollTop","Math","abs","cancelAnimationFrame","requestAnimationFrame","emit","addEventListener","passive","removeEventListener","destroy","disconnectedCallback","_iconCache","_titleCache","disconnect","_lastIconProps","renderIcon","h","FnIcon","_lastHeadline","renderCardTitle","renderTitleSlot","name","renderHeader","renderHeaderSlot","renderBody","FnHr","ref","elm","renderFooterSlot","render","Host","HOOKS","defaults","_disable","allowInput","allowInvalidPreload","altFormat","altInput","altInputClass","animate","window","navigator","userAgent","indexOf","ariaDateFormat","autoFillDefaultTime","clickOpens","closeOnSelect","conjunction","dateFormat","defaultHour","defaultMinute","defaultSeconds","disable","disableMobile","enableSeconds","enableTime","errorHandler","err","console","warn","getWeek","givenDate","date","Date","getTime","setHours","setDate","getDate","getDay","week1","getFullYear","round","hourIncrement","ignoredFocusElements","inline","locale","minuteIncrement","mode","monthSelectorType","nextArrow","noCalendar","now","onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition","plugins","position","positionElement","undefined","prevArrow","shorthandCurrentMonth","showMonths","static","time_24hr","weekNumbers","wrap","english","weekdays","shorthand","longhand","months","daysInMonth","firstDayOfWeek","ordinal","nth","s","rangeSeparator","weekAbbreviation","scrollTitle","toggleTitle","amPM","yearAriaLabel","monthAriaLabel","hourAriaLabel","minuteAriaLabel","pad","number","slice","int","bool","debounce","fn","wait","t","_this","args","arguments","clearTimeout","setTimeout","apply","arrayify","obj","Array","toggleClass","elem","className","classList","add","remove","createElement","tag","content","e","document","textContent","clearNode","node","firstChild","removeChild","findParent","condition","parentNode","createNumberInput","inputClassName","opts","wrapper","numInput","arrowUp","arrowDown","type","pattern","setAttribute","appendChild","getEventTarget","event","composedPath","path","target","error","doNothing","monthToStr","monthNumber","revFormat","D","F","dateObj","monthName","setMonth","G","hour","getHours","parseFloat","H","J","day","K","RegExp","M","shortMonth","S","seconds","setSeconds","U","_","unixSeconds","W","weekNum","weekNumber","parseInt","Y","year","setFullYear","Z","ISODate","d","minutes","setMinutes","j","l","m","month","n","u","unixMillSeconds","w","y","tokenRegex","formats","toISOString","options","getMonth","getSeconds","getMinutes","String","substring","createDateFormatter","_a","_b","config","_c","l10n","_d","isMobile","frmt","overrideLocale","formatDate","split","map","c","arr","join","createDateParser","givenFormat","timeless","customLocale","parsedDate","dateOrig","toFixed","format","datestr","trim","parseDate","matched","ops","matchIndex","regexStr","token","isBackSlash","escaped","match","exec","val","forEach","isNaN","Error","compareDates","date1","date2","isBetween","ts","ts1","ts2","min","max","calculateSecondsSinceMidnight","hours","parseSeconds","secondsSinceMidnight","floor","duration","DAY","getDefaultHours","minDate","minHour","minMinutes","minSeconds","maxDate","maxHr","maxMinutes","assign","_i","TypeError","_loop_1","source","args_1","__assign","p","prototype","hasOwnProperty","call","__spreadArrays","il","r","k","a","jl","DEBOUNCED_CHANGE_MS","FlatpickrInstance","element","instanceConfig","self","defaultOptions","flatpickr","defaultConfig","English","_handlers","pluginElements","loadedPlugins","_bind","bind","_setHoursFromDate","setHoursFromDate","_positionCalendar","positionCalendar","changeMonth","changeYear","clear","close","onMouseOver","_createElement","createDay","isEnabled","jumpToDate","updateValue","open","redraw","set","toggle","setupHelperFunctions","utils","getDaysInMonth","yr","currentMonth","currentYear","init","input","isOpen","parseConfig","setupLocale","setupInputs","setupDates","build","bindEvents","selectedDates","latestSelectedDateObj","setCalendarWidth","isSafari","triggerEvent","getClosestActiveElement","calendarContainer","getRootNode","activeElement","bindToInstance","style","visibility","display","daysContainer","daysWidth","days","offsetWidth","width","weekWrapper","removeProperty","updateTime","defaultDate","getMilliseconds","timeWrapper","prevValue","_input","value","setHoursFromInputs","_debouncedChange","ampm2military","military2ampm","hourElement","minuteElement","secondElement","limitMinHours","minTime","minDateHasTime","limitMaxHours","maxTime","maxDateHasTime","minBound","maxBound","currentTime","result","onYearInput","eventTarget","delta","toString","handler","el","push","triggerChange","evt","querySelectorAll","setupMobile","debouncedResize","onResize","ontouchstart","documentClick","capture","monthNav","onMonthNavClick","selectDate","timeContainer","selText","select","timeIncrement","onBlur","jumpDate","jumpTo","oldYear","oldMonth","message","buildMonthSwitch","incrementNumInput","contains","inputElem","createEvent","dispatchEvent","fragment","createDocumentFragment","tabIndex","buildMonthNav","innerContainer","buildWeeks","rContainer","buildWeekdays","buildDays","buildTime","customAppend","appendTo","insertBefore","nextSibling","_dayNumber","dateIsEnabled","dayElement","$i","todayDateElem","isDateSelected","selectedDateElem","isDateInRange","insertAdjacentHTML","focusOnDayElem","targetNode","focus","getFirstAvailableDay","startMonth","endMonth","startIndex","endIndex","getNextAvailableDay","current","givenMonth","loopDelta","numMonthDays","focusOnDay","offset","dayFocused","isInView","startElem","buildMonthDays","firstOfMonth","prevMonthDays","isMultiMonth","prevMonthDayClass","nextMonthDayClass","dayNumber","dayIndex","dayNum","dayContainer","frag","shouldBuildMonth","monthsDropdownContainer","innerHTML","selected","buildMonth","container","monthNavFragment","monthElement","selectedMonth","yearInput","tabindex","yearElement","getElementsByTagName","disabled","buildMonths","prevMonthNav","yearElements","monthElements","nextMonthNav","defineProperty","get","__hidePrevMonthArrow","__hideNextMonthArrow","currentYearElement","updateNavigationCurrentMonth","separator","hourInput","minuteInput","secondInput","weekdayContainer","updateWeekdays","splice","isOffset","_hidePrevMonthArrow","_hideNextMonthArrow","triggerChangeEvent","toInitial","mobileInput","_initialDate","lastChild","_type","removeAttribute","isCalendarElem","eventTarget_1","isCalendarElement","isInput","lostFocus","relatedTarget","isIgnored","newYear","newYearNum","isNewYear","dateToCheck","enable","array","parsed","from","to","valueChanged","trimEnd","getDateStr","allowKeydown","allowInlineKeydown","keyCode","blur","isTimeObj","preventDefault","focusAndClose","delta_1","ctrlKey","elems","concat","filter","x","shiftKey","charAt","toLowerCase","cellClass","hoverDate","firstElementChild","initialDate","rangeStartDate","rangeEndDate","containsDisabled","minRange","maxRange","hoverableCells","dayElem","timestamp","outOfRange","_positionElement","click","wasOpen","minMaxDateSetter","inverseDateObj","boolOpts","userConfig","JSON","parse","stringify","dataset","_enable","dates","parseDateRules","timeMode","defaultDateFormat","defaultAltFormat","_minDate","_maxDate","minMaxTimeSetter","_minTime","_maxTime","hook","pluginConf","getInputElem","querySelector","l10ns","default","customPositionElement","calendarHeight","reduce","acc","offsetHeight","calendarWidth","configPos","configPosVertical","configPosHorizontal","inputBounds","getBoundingClientRect","distanceFromBottom","innerHeight","bottom","showOnTop","top","pageYOffset","left","pageXOffset","isCenter","isRight","right","rightMost","centerMost","doc","getDocumentStyleSheet","bodyWidth","centerLeft","centerBefore","centerAfter","centerIndex","cssRules","centerStyle","insertRule","editableSheet","styleSheets","sheet","createStyleSheet","head","msMaxTouchPoints","isSelectable","selectedDate","shouldChangeMonth","selectedIndex","sort","b","single","range","CALLBACKS","updatePositionElement","option","setSelectedDate","inputDate","rule","preloadedDate","nodeName","placeholder","required","inputType","mobileFormatStr","defaultValue","step","data","hooks","initEvent","specificFormat","dObj","isPrevMonth","isNextMonth","isKeyDown","curValue","which","newValue","isHourElem","isMinuteElem","_flatpickr","nodeList","nodes","HTMLElement","instances","HTMLCollection","NodeList","selector","en","localize","setDefaults","jQuery","fp_incr","global","factory","exports","fp","MandarinTraditional","zh_tw","zhTw","module","theme","monthSelectPlugin","pluginConfig","monthsContainer","clearUnnecessaryDOMElements","index","selectMonth","selectYear","setCurrentlySelected","currentlySelected","targetMonth","Element","shifts","__","___","shouldMove","closeHook","stubCurrentMonth","_stubbedCurrentMonth","unstubCurrentMonth","destroyPluginInstance","stormInputGroupCss","StormInputGroup","_textInputRef","_cancelRef","_groupRef","_flatpickrInstance","InputType","Text","label","clearable","inputStyle","size","appendIcon","prependIcon","multiple","valid","isDynamic","outline","isValid","valueWatcher","oldValue","arrayEqual","updateFlatpickr","validate","setFocus","_debouncedFocusTextInput","setValue","vlaue","_debouncedUpdateValue","isNonEmptyValue","handleFocus","handleFocusout","refreshInputStatus","handleTagCancel","isArray","handleKeyDown","inputValue","valueArray","includes","handleInput","hasValue","clearValue","getClasses","getInputClasses","componentWillLoad","appendRender","prependRender","renderClearButton","role","onClick","labelRender","tagRender","FnTag","lable","onClickCancel","Number","onFocus","onInput","getDefaultTime","componentDidLoad","lastIndexOf","stormListGroupCss","StormListGroup","_itemRefs","_searchRef","dataSet","searchText","searchable","selection","nullable","itemClass","itemClick","selectChange","searchChanged","setSelectedItems","dataSetWatcher","initDataSet","itemClickHandler","item","detail","unselect","searchChangedHandler","setSearchFocus","async","handleSearchChanged","id","currentValue","generateUid","valueSet","renderListGroup","renderItems","itmes","calculateObjectValue","visible","renderItem","href","active","renderItemLabel","renderSearch","appendHighlight","FnSearchInput","onValueChanged","getSelectedItemIds","hasValidValue","stormSplitViewCss","StormSplitView","_splitBarMove","_splitBarRef","_stormContainerRef","_secondPaneRef","splitPercent","fixedSize","fixedPane","direction","firstPaneVisible","secondPaneVisible","firstPaneName","secondPaneName","viewToggle","force","renderPane","styles","staticBackdrop","setProperty","offsetX","offsetY","percent","ticking","stormVerticalSplitViewCss","StormVerticalSplitView","_splitViewRef","leftPaneVisible","rightPaneVisible"],"sources":["src/components/storm-card/storm-card.css?tag=storm-card","src/components/storm-card/storm-card.tsx","node_modules/flatpickr/dist/esm/types/options.js","node_modules/flatpickr/dist/esm/l10n/default.js","node_modules/flatpickr/dist/esm/utils/index.js","node_modules/flatpickr/dist/esm/utils/dom.js","node_modules/flatpickr/dist/esm/utils/formatting.js","node_modules/flatpickr/dist/esm/utils/dates.js","node_modules/flatpickr/dist/esm/utils/polyfills.js","node_modules/flatpickr/dist/esm/index.js","node_modules/flatpickr/dist/l10n/zh-tw.js","node_modules/flatpickr/dist/plugins/monthSelect/index.js","src/components/storm-input-group/storm-input-group.css?tag=storm-input-group","src/components/storm-input-group/storm-input-group.tsx","src/components/storm-list-group/storm-list-group.scss?tag=storm-list-group","src/components/storm-list-group/storm-list-group.tsx","src/layouts/storm-split-view/storm-split-view.css?tag=storm-split-view","src/layouts/storm-split-view/storm-split-view.tsx","src/layouts/storm-vertical-split-view/storm-vertical-split-view.css?tag=storm-vertical-split-view","src/layouts/storm-vertical-split-view/storm-vertical-split-view.tsx"],"sourcesContent":[":host {\r\n  display: block;\r\n}\r\n\r\n.vh-75 {\r\n  height: 75vh !important;\r\n}\r\n\r\n.card-header:first-child {\r\n  border-radius: .75rem !important;\r\n}","import { Component, Element, Event, EventEmitter, h, Host, Prop, State } from '@stencil/core';\r\nimport PerfectScrollbar from 'perfect-scrollbar';\r\nimport { FnHr, FnIcon } from '../../utils/functional/functional';\r\nimport { mergeClasses } from '../../utils/utils';\r\n\r\n@Component({\r\n  tag: 'storm-card',\r\n  styleUrl: 'storm-card.css',\r\n  shadow: false,\r\n})\r\nexport class StormCard {\r\n  private _cardBodyRef: HTMLElement;\r\n\r\n  @State() _slotCardHeader: boolean = false;\r\n  @State() _slotTitle: boolean = false;\r\n  @State() _slotHeader: boolean = false;\r\n  @State() _slotFooter: boolean = false;\r\n  @State() _slotBody: boolean = false;\r\n\r\n  private _perfectScrollbar: PerfectScrollbar;\r\n  private _scrollListener: (ev: Event) => void = null;\r\n\r\n  @Element() host: HTMLElement;\r\n  @Prop() class: string;\r\n  @Prop() icon?: string;\r\n  @Prop() headline?: string;\r\n  @Prop() bodyClass: string;\r\n  @Prop({ reflect: true }) scrollable: boolean = false;\r\n  @Prop() cardStyle: 'info' | 'dark' | 'primary' | 'success' | 'warning' | 'danger' = 'info';\r\n\r\n  @Event() innerScroll: EventEmitter<number>;\r\n\r\n  private _observer = new MutationObserver(() => {\r\n    this.checkSlots();\r\n  });\r\n\r\n  private readonly checkSlots = () => {\r\n    const slots = { cardHeader: this._slotCardHeader, title: this._slotTitle, header: this._slotHeader, footer: this._slotFooter, body: this._slotBody };\r\n    const children = this.host.children;\r\n    const targetSlots = new Set(['card-header', 'title', 'header', 'body', 'footer']);\r\n    let foundCount = 0;\r\n\r\n    for (let i = 0; i < children.length; i++) {\r\n      const child = children[i];\r\n      const slot = child.getAttribute('slot');\r\n\r\n      if (slot && targetSlots.has(slot)) {\r\n        switch (slot) {\r\n          case 'card-header':\r\n            if (!slots.cardHeader) {\r\n              slots.cardHeader = true;\r\n              foundCount++;\r\n            }\r\n            break;\r\n          case 'title':\r\n            if (!slots.title) {\r\n              slots.title = true;\r\n              foundCount++;\r\n            }\r\n            break;\r\n          case 'header':\r\n            if (!slots.header) {\r\n              slots.header = true;\r\n              foundCount++;\r\n            }\r\n            break;\r\n          case 'footer':\r\n            if (!slots.footer) {\r\n              slots.footer = true;\r\n              foundCount++;\r\n            }\r\n            break;\r\n        }\r\n      } else if (!slot && child.nodeType === Node.ELEMENT_NODE && !slots.body) {\r\n        slots.body = true;\r\n        foundCount++;\r\n      }\r\n\r\n      if (foundCount === 5) break;\r\n    }\r\n\r\n    this._slotCardHeader = slots.cardHeader;\r\n    this._slotTitle = slots.title;\r\n    this._slotHeader = slots.header;\r\n    this._slotFooter = slots.footer;\r\n    this._slotBody = slots.body;\r\n  };\r\n\r\n  componentWillRender() {\r\n    this._observer.observe(this.host, {\r\n      childList: true, // 偵測子節點新增或刪除\r\n      subtree: false, // 若要監聽所有後代節點，設為 true\r\n    });\r\n  }\r\n\r\n  componentDidRender() {\r\n    if (!this._cardBodyRef) return;\r\n\r\n    this.scrollable ? this.initScrollbar() : this.disposeScrollbar();\r\n  }\r\n\r\n  private _cardClassesCache: Record<string, boolean> | null = null;\r\n  private _lastCardProps: string = '';\r\n\r\n  private buildCardClasses() {\r\n    const currentProps = `${this.class || ''}-${this.icon || ''}`;\r\n    if (this._cardClassesCache && this._lastCardProps === currentProps) {\r\n      return this._cardClassesCache;\r\n    }\r\n\r\n    const baseClasses = { card: true };\r\n    const classes: Record<string, boolean> = this.class ? mergeClasses(baseClasses, this.class) : baseClasses;\r\n\r\n    const hasMarginTop = Object.keys(classes).some(key => /^mt-[0-5]|mt-auto$/.test(key));\r\n\r\n    if (!hasMarginTop) {\r\n      classes[this.icon ? 'mt-4' : 'mt-3'] = true;\r\n    }\r\n\r\n    this._cardClassesCache = classes;\r\n    this._lastCardProps = currentProps;\r\n    return classes;\r\n  }\r\n\r\n  private _bodyClassesCache: Record<string, boolean> | null = null;\r\n  private _lastBodyProps: string = '';\r\n\r\n  private buildBodyClasses() {\r\n    const currentProps = `${this.bodyClass || ''}-${this.scrollable}`;\r\n    if (this._bodyClassesCache && this._lastBodyProps === currentProps) {\r\n      return this._bodyClassesCache;\r\n    }\r\n\r\n    const baseClasses = {\r\n      'card-body': true,\r\n      'py-2': true,\r\n      'overflow-auto': this.scrollable,\r\n    };\r\n    const classes = this.bodyClass ? mergeClasses(baseClasses, this.bodyClass) : baseClasses;\r\n\r\n    this._bodyClassesCache = classes;\r\n    this._lastBodyProps = currentProps;\r\n    return classes;\r\n  }\r\n\r\n  private initScrollbar() {\r\n    this.disposeScrollbar();\r\n\r\n    this._perfectScrollbar = new PerfectScrollbar(this._cardBodyRef);\r\n\r\n    let lastKnownScrollPosition = 0;\r\n    let frameId: number | null = null;\r\n\r\n    this._scrollListener = (ev: Event) => {\r\n      ev.stopPropagation();\r\n      const currentScrollPosition = this._cardBodyRef.scrollTop;\r\n\r\n      if (Math.abs(currentScrollPosition - lastKnownScrollPosition) < 1) return;\r\n\r\n      lastKnownScrollPosition = currentScrollPosition;\r\n\r\n      if (frameId) {\r\n        cancelAnimationFrame(frameId);\r\n      }\r\n\r\n      frameId = requestAnimationFrame(() => {\r\n        this.innerScroll.emit(lastKnownScrollPosition);\r\n        frameId = null;\r\n      });\r\n    };\r\n\r\n    this._cardBodyRef?.addEventListener('scroll', this._scrollListener, { passive: true });\r\n  }\r\n\r\n  private disposeScrollbar() {\r\n    if (this._scrollListener) {\r\n      this._cardBodyRef?.removeEventListener('scroll', this._scrollListener);\r\n      this._scrollListener = null;\r\n    }\r\n\r\n    if (this._perfectScrollbar) {\r\n      this._perfectScrollbar.destroy();\r\n      this._perfectScrollbar = null;\r\n    }\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    this.disposeScrollbar();\r\n    this._cardClassesCache = null;\r\n    this._bodyClassesCache = null;\r\n    this._iconCache = null;\r\n    this._titleCache = null;\r\n\r\n    this._observer.disconnect();\r\n  }\r\n\r\n  private _iconCache: any = null;\r\n  private _lastIconProps = '';\r\n\r\n  renderIcon() {\r\n    if (!this.icon) return;\r\n\r\n    const currentProps = `${this.icon}-${this.cardStyle}`;\r\n    if (this._iconCache && this._lastIconProps === currentProps) {\r\n      return this._iconCache;\r\n    }\r\n\r\n    const classes: Record<string, boolean> = {\r\n      icon: true,\r\n      'icon-lg': true,\r\n      'icon-shape': true,\r\n      'text-center': true,\r\n      'border-radius-xl': true,\r\n      'mt-n4': true,\r\n      'me-3': true,\r\n      'mb-2': true,\r\n    };\r\n    classes['bg-gradient-' + this.cardStyle] = true;\r\n    classes['shadow-' + this.cardStyle] = true;\r\n\r\n    this._iconCache = (\r\n      <div class={classes}>\r\n        <FnIcon class=\"opacity-10\">{this.icon}</FnIcon>\r\n      </div>\r\n    );\r\n    this._lastIconProps = currentProps;\r\n    return this._iconCache;\r\n  }\r\n\r\n  private _titleCache: any = null;\r\n  private _lastHeadline = '';\r\n\r\n  renderCardTitle() {\r\n    if (!this.headline) return;\r\n\r\n    if (this._titleCache && this._lastHeadline === this.headline) {\r\n      return this._titleCache;\r\n    }\r\n\r\n    this._titleCache = <h5 class=\"mt-3 me-auto\">{this.headline}</h5>;\r\n    this._lastHeadline = this.headline;\r\n    return this._titleCache;\r\n  }\r\n\r\n  renderTitleSlot() {\r\n    if (!this._slotTitle) return;\r\n    return <slot name=\"title\" />;\r\n  }\r\n\r\n  renderHeader() {\r\n    if (this._slotCardHeader) return <slot name=\"card-header\" />;\r\n    if (!this._slotHeader && !this._slotTitle && !this.icon && !this.headline) return;\r\n    return (\r\n      <div\r\n        class={{\r\n          'card-header': true,\r\n          'py-2': true,\r\n        }}\r\n      >\r\n        <div class=\"title-header d-flex\">\r\n          {this.renderIcon()}\r\n          {this.renderCardTitle()}\r\n          {this.renderTitleSlot()}\r\n        </div>\r\n        {this.renderHeaderSlot()}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderHeaderSlot() {\r\n    if (!this._slotHeader) return;\r\n    return <slot name=\"header\" />;\r\n  }\r\n\r\n  renderBody() {\r\n    if (!this._slotBody) return;\r\n    return [\r\n      <FnHr />,\r\n      <div class={this.buildBodyClasses()} ref={elm => (this._cardBodyRef = elm)}>\r\n        <slot name=\"body\" />\r\n      </div>,\r\n    ];\r\n  }\r\n\r\n  renderFooterSlot() {\r\n    if (!this._slotFooter) return;\r\n    return [\r\n      <FnHr />,\r\n      <div class=\"card-footer py-2\">\r\n        <slot name=\"footer\" />\r\n      </div>,\r\n    ];\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <div class={this.buildCardClasses()}>\r\n          {this.renderHeader()}\r\n          {this.renderBody()}\r\n          {this.renderFooterSlot()}\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n","export var HOOKS = [\n    \"onChange\",\n    \"onClose\",\n    \"onDayCreate\",\n    \"onDestroy\",\n    \"onKeyDown\",\n    \"onMonthChange\",\n    \"onOpen\",\n    \"onParseConfig\",\n    \"onReady\",\n    \"onValueUpdate\",\n    \"onYearChange\",\n    \"onPreCalendarPosition\",\n];\nexport var defaults = {\n    _disable: [],\n    allowInput: false,\n    allowInvalidPreload: false,\n    altFormat: \"F j, Y\",\n    altInput: false,\n    altInputClass: \"form-control input\",\n    animate: typeof window === \"object\" &&\n        window.navigator.userAgent.indexOf(\"MSIE\") === -1,\n    ariaDateFormat: \"F j, Y\",\n    autoFillDefaultTime: true,\n    clickOpens: true,\n    closeOnSelect: true,\n    conjunction: \", \",\n    dateFormat: \"Y-m-d\",\n    defaultHour: 12,\n    defaultMinute: 0,\n    defaultSeconds: 0,\n    disable: [],\n    disableMobile: false,\n    enableSeconds: false,\n    enableTime: false,\n    errorHandler: function (err) {\n        return typeof console !== \"undefined\" && console.warn(err);\n    },\n    getWeek: function (givenDate) {\n        var date = new Date(givenDate.getTime());\n        date.setHours(0, 0, 0, 0);\n        date.setDate(date.getDate() + 3 - ((date.getDay() + 6) % 7));\n        var week1 = new Date(date.getFullYear(), 0, 4);\n        return (1 +\n            Math.round(((date.getTime() - week1.getTime()) / 86400000 -\n                3 +\n                ((week1.getDay() + 6) % 7)) /\n                7));\n    },\n    hourIncrement: 1,\n    ignoredFocusElements: [],\n    inline: false,\n    locale: \"default\",\n    minuteIncrement: 5,\n    mode: \"single\",\n    monthSelectorType: \"dropdown\",\n    nextArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>\",\n    noCalendar: false,\n    now: new Date(),\n    onChange: [],\n    onClose: [],\n    onDayCreate: [],\n    onDestroy: [],\n    onKeyDown: [],\n    onMonthChange: [],\n    onOpen: [],\n    onParseConfig: [],\n    onReady: [],\n    onValueUpdate: [],\n    onYearChange: [],\n    onPreCalendarPosition: [],\n    plugins: [],\n    position: \"auto\",\n    positionElement: undefined,\n    prevArrow: \"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>\",\n    shorthandCurrentMonth: false,\n    showMonths: 1,\n    static: false,\n    time_24hr: false,\n    weekNumbers: false,\n    wrap: false,\n};\n","export var english = {\n    weekdays: {\n        shorthand: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n        longhand: [\n            \"Sunday\",\n            \"Monday\",\n            \"Tuesday\",\n            \"Wednesday\",\n            \"Thursday\",\n            \"Friday\",\n            \"Saturday\",\n        ],\n    },\n    months: {\n        shorthand: [\n            \"Jan\",\n            \"Feb\",\n            \"Mar\",\n            \"Apr\",\n            \"May\",\n            \"Jun\",\n            \"Jul\",\n            \"Aug\",\n            \"Sep\",\n            \"Oct\",\n            \"Nov\",\n            \"Dec\",\n        ],\n        longhand: [\n            \"January\",\n            \"February\",\n            \"March\",\n            \"April\",\n            \"May\",\n            \"June\",\n            \"July\",\n            \"August\",\n            \"September\",\n            \"October\",\n            \"November\",\n            \"December\",\n        ],\n    },\n    daysInMonth: [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],\n    firstDayOfWeek: 0,\n    ordinal: function (nth) {\n        var s = nth % 100;\n        if (s > 3 && s < 21)\n            return \"th\";\n        switch (s % 10) {\n            case 1:\n                return \"st\";\n            case 2:\n                return \"nd\";\n            case 3:\n                return \"rd\";\n            default:\n                return \"th\";\n        }\n    },\n    rangeSeparator: \" to \",\n    weekAbbreviation: \"Wk\",\n    scrollTitle: \"Scroll to increment\",\n    toggleTitle: \"Click to toggle\",\n    amPM: [\"AM\", \"PM\"],\n    yearAriaLabel: \"Year\",\n    monthAriaLabel: \"Month\",\n    hourAriaLabel: \"Hour\",\n    minuteAriaLabel: \"Minute\",\n    time_24hr: false,\n};\nexport default english;\n","export var pad = function (number, length) {\n    if (length === void 0) { length = 2; }\n    return (\"000\" + number).slice(length * -1);\n};\nexport var int = function (bool) { return (bool === true ? 1 : 0); };\nexport function debounce(fn, wait) {\n    var t;\n    return function () {\n        var _this = this;\n        var args = arguments;\n        clearTimeout(t);\n        t = setTimeout(function () { return fn.apply(_this, args); }, wait);\n    };\n}\nexport var arrayify = function (obj) {\n    return obj instanceof Array ? obj : [obj];\n};\n","export function toggleClass(elem, className, bool) {\n    if (bool === true)\n        return elem.classList.add(className);\n    elem.classList.remove(className);\n}\nexport function createElement(tag, className, content) {\n    var e = window.document.createElement(tag);\n    className = className || \"\";\n    content = content || \"\";\n    e.className = className;\n    if (content !== undefined)\n        e.textContent = content;\n    return e;\n}\nexport function clearNode(node) {\n    while (node.firstChild)\n        node.removeChild(node.firstChild);\n}\nexport function findParent(node, condition) {\n    if (condition(node))\n        return node;\n    else if (node.parentNode)\n        return findParent(node.parentNode, condition);\n    return undefined;\n}\nexport function createNumberInput(inputClassName, opts) {\n    var wrapper = createElement(\"div\", \"numInputWrapper\"), numInput = createElement(\"input\", \"numInput \" + inputClassName), arrowUp = createElement(\"span\", \"arrowUp\"), arrowDown = createElement(\"span\", \"arrowDown\");\n    if (navigator.userAgent.indexOf(\"MSIE 9.0\") === -1) {\n        numInput.type = \"number\";\n    }\n    else {\n        numInput.type = \"text\";\n        numInput.pattern = \"\\\\d*\";\n    }\n    if (opts !== undefined)\n        for (var key in opts)\n            numInput.setAttribute(key, opts[key]);\n    wrapper.appendChild(numInput);\n    wrapper.appendChild(arrowUp);\n    wrapper.appendChild(arrowDown);\n    return wrapper;\n}\nexport function getEventTarget(event) {\n    try {\n        if (typeof event.composedPath === \"function\") {\n            var path = event.composedPath();\n            return path[0];\n        }\n        return event.target;\n    }\n    catch (error) {\n        return event.target;\n    }\n}\n","import { int, pad } from \"../utils\";\nvar doNothing = function () { return undefined; };\nexport var monthToStr = function (monthNumber, shorthand, locale) { return locale.months[shorthand ? \"shorthand\" : \"longhand\"][monthNumber]; };\nexport var revFormat = {\n    D: doNothing,\n    F: function (dateObj, monthName, locale) {\n        dateObj.setMonth(locale.months.longhand.indexOf(monthName));\n    },\n    G: function (dateObj, hour) {\n        dateObj.setHours((dateObj.getHours() >= 12 ? 12 : 0) + parseFloat(hour));\n    },\n    H: function (dateObj, hour) {\n        dateObj.setHours(parseFloat(hour));\n    },\n    J: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    K: function (dateObj, amPM, locale) {\n        dateObj.setHours((dateObj.getHours() % 12) +\n            12 * int(new RegExp(locale.amPM[1], \"i\").test(amPM)));\n    },\n    M: function (dateObj, shortMonth, locale) {\n        dateObj.setMonth(locale.months.shorthand.indexOf(shortMonth));\n    },\n    S: function (dateObj, seconds) {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    U: function (_, unixSeconds) { return new Date(parseFloat(unixSeconds) * 1000); },\n    W: function (dateObj, weekNum, locale) {\n        var weekNumber = parseInt(weekNum);\n        var date = new Date(dateObj.getFullYear(), 0, 2 + (weekNumber - 1) * 7, 0, 0, 0, 0);\n        date.setDate(date.getDate() - date.getDay() + locale.firstDayOfWeek);\n        return date;\n    },\n    Y: function (dateObj, year) {\n        dateObj.setFullYear(parseFloat(year));\n    },\n    Z: function (_, ISODate) { return new Date(ISODate); },\n    d: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    h: function (dateObj, hour) {\n        dateObj.setHours((dateObj.getHours() >= 12 ? 12 : 0) + parseFloat(hour));\n    },\n    i: function (dateObj, minutes) {\n        dateObj.setMinutes(parseFloat(minutes));\n    },\n    j: function (dateObj, day) {\n        dateObj.setDate(parseFloat(day));\n    },\n    l: doNothing,\n    m: function (dateObj, month) {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    n: function (dateObj, month) {\n        dateObj.setMonth(parseFloat(month) - 1);\n    },\n    s: function (dateObj, seconds) {\n        dateObj.setSeconds(parseFloat(seconds));\n    },\n    u: function (_, unixMillSeconds) {\n        return new Date(parseFloat(unixMillSeconds));\n    },\n    w: doNothing,\n    y: function (dateObj, year) {\n        dateObj.setFullYear(2000 + parseFloat(year));\n    },\n};\nexport var tokenRegex = {\n    D: \"\",\n    F: \"\",\n    G: \"(\\\\d\\\\d|\\\\d)\",\n    H: \"(\\\\d\\\\d|\\\\d)\",\n    J: \"(\\\\d\\\\d|\\\\d)\\\\w+\",\n    K: \"\",\n    M: \"\",\n    S: \"(\\\\d\\\\d|\\\\d)\",\n    U: \"(.+)\",\n    W: \"(\\\\d\\\\d|\\\\d)\",\n    Y: \"(\\\\d{4})\",\n    Z: \"(.+)\",\n    d: \"(\\\\d\\\\d|\\\\d)\",\n    h: \"(\\\\d\\\\d|\\\\d)\",\n    i: \"(\\\\d\\\\d|\\\\d)\",\n    j: \"(\\\\d\\\\d|\\\\d)\",\n    l: \"\",\n    m: \"(\\\\d\\\\d|\\\\d)\",\n    n: \"(\\\\d\\\\d|\\\\d)\",\n    s: \"(\\\\d\\\\d|\\\\d)\",\n    u: \"(.+)\",\n    w: \"(\\\\d\\\\d|\\\\d)\",\n    y: \"(\\\\d{2})\",\n};\nexport var formats = {\n    Z: function (date) { return date.toISOString(); },\n    D: function (date, locale, options) {\n        return locale.weekdays.shorthand[formats.w(date, locale, options)];\n    },\n    F: function (date, locale, options) {\n        return monthToStr(formats.n(date, locale, options) - 1, false, locale);\n    },\n    G: function (date, locale, options) {\n        return pad(formats.h(date, locale, options));\n    },\n    H: function (date) { return pad(date.getHours()); },\n    J: function (date, locale) {\n        return locale.ordinal !== undefined\n            ? date.getDate() + locale.ordinal(date.getDate())\n            : date.getDate();\n    },\n    K: function (date, locale) { return locale.amPM[int(date.getHours() > 11)]; },\n    M: function (date, locale) {\n        return monthToStr(date.getMonth(), true, locale);\n    },\n    S: function (date) { return pad(date.getSeconds()); },\n    U: function (date) { return date.getTime() / 1000; },\n    W: function (date, _, options) {\n        return options.getWeek(date);\n    },\n    Y: function (date) { return pad(date.getFullYear(), 4); },\n    d: function (date) { return pad(date.getDate()); },\n    h: function (date) { return (date.getHours() % 12 ? date.getHours() % 12 : 12); },\n    i: function (date) { return pad(date.getMinutes()); },\n    j: function (date) { return date.getDate(); },\n    l: function (date, locale) {\n        return locale.weekdays.longhand[date.getDay()];\n    },\n    m: function (date) { return pad(date.getMonth() + 1); },\n    n: function (date) { return date.getMonth() + 1; },\n    s: function (date) { return date.getSeconds(); },\n    u: function (date) { return date.getTime(); },\n    w: function (date) { return date.getDay(); },\n    y: function (date) { return String(date.getFullYear()).substring(2); },\n};\n","import { tokenRegex, revFormat, formats, } from \"./formatting\";\nimport { defaults } from \"../types/options\";\nimport { english } from \"../l10n/default\";\nexport var createDateFormatter = function (_a) {\n    var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c, _d = _a.isMobile, isMobile = _d === void 0 ? false : _d;\n    return function (dateObj, frmt, overrideLocale) {\n        var locale = overrideLocale || l10n;\n        if (config.formatDate !== undefined && !isMobile) {\n            return config.formatDate(dateObj, frmt, locale);\n        }\n        return frmt\n            .split(\"\")\n            .map(function (c, i, arr) {\n            return formats[c] && arr[i - 1] !== \"\\\\\"\n                ? formats[c](dateObj, locale, config)\n                : c !== \"\\\\\"\n                    ? c\n                    : \"\";\n        })\n            .join(\"\");\n    };\n};\nexport var createDateParser = function (_a) {\n    var _b = _a.config, config = _b === void 0 ? defaults : _b, _c = _a.l10n, l10n = _c === void 0 ? english : _c;\n    return function (date, givenFormat, timeless, customLocale) {\n        if (date !== 0 && !date)\n            return undefined;\n        var locale = customLocale || l10n;\n        var parsedDate;\n        var dateOrig = date;\n        if (date instanceof Date)\n            parsedDate = new Date(date.getTime());\n        else if (typeof date !== \"string\" &&\n            date.toFixed !== undefined)\n            parsedDate = new Date(date);\n        else if (typeof date === \"string\") {\n            var format = givenFormat || (config || defaults).dateFormat;\n            var datestr = String(date).trim();\n            if (datestr === \"today\") {\n                parsedDate = new Date();\n                timeless = true;\n            }\n            else if (config && config.parseDate) {\n                parsedDate = config.parseDate(date, format);\n            }\n            else if (/Z$/.test(datestr) ||\n                /GMT$/.test(datestr)) {\n                parsedDate = new Date(date);\n            }\n            else {\n                var matched = void 0, ops = [];\n                for (var i = 0, matchIndex = 0, regexStr = \"\"; i < format.length; i++) {\n                    var token = format[i];\n                    var isBackSlash = token === \"\\\\\";\n                    var escaped = format[i - 1] === \"\\\\\" || isBackSlash;\n                    if (tokenRegex[token] && !escaped) {\n                        regexStr += tokenRegex[token];\n                        var match = new RegExp(regexStr).exec(date);\n                        if (match && (matched = true)) {\n                            ops[token !== \"Y\" ? \"push\" : \"unshift\"]({\n                                fn: revFormat[token],\n                                val: match[++matchIndex],\n                            });\n                        }\n                    }\n                    else if (!isBackSlash)\n                        regexStr += \".\";\n                }\n                parsedDate =\n                    !config || !config.noCalendar\n                        ? new Date(new Date().getFullYear(), 0, 1, 0, 0, 0, 0)\n                        : new Date(new Date().setHours(0, 0, 0, 0));\n                ops.forEach(function (_a) {\n                    var fn = _a.fn, val = _a.val;\n                    return (parsedDate = fn(parsedDate, val, locale) || parsedDate);\n                });\n                parsedDate = matched ? parsedDate : undefined;\n            }\n        }\n        if (!(parsedDate instanceof Date && !isNaN(parsedDate.getTime()))) {\n            config.errorHandler(new Error(\"Invalid date provided: \" + dateOrig));\n            return undefined;\n        }\n        if (timeless === true)\n            parsedDate.setHours(0, 0, 0, 0);\n        return parsedDate;\n    };\n};\nexport function compareDates(date1, date2, timeless) {\n    if (timeless === void 0) { timeless = true; }\n    if (timeless !== false) {\n        return (new Date(date1.getTime()).setHours(0, 0, 0, 0) -\n            new Date(date2.getTime()).setHours(0, 0, 0, 0));\n    }\n    return date1.getTime() - date2.getTime();\n}\nexport function compareTimes(date1, date2) {\n    return (3600 * (date1.getHours() - date2.getHours()) +\n        60 * (date1.getMinutes() - date2.getMinutes()) +\n        date1.getSeconds() -\n        date2.getSeconds());\n}\nexport var isBetween = function (ts, ts1, ts2) {\n    return ts > Math.min(ts1, ts2) && ts < Math.max(ts1, ts2);\n};\nexport var calculateSecondsSinceMidnight = function (hours, minutes, seconds) {\n    return hours * 3600 + minutes * 60 + seconds;\n};\nexport var parseSeconds = function (secondsSinceMidnight) {\n    var hours = Math.floor(secondsSinceMidnight / 3600), minutes = (secondsSinceMidnight - hours * 3600) / 60;\n    return [hours, minutes, secondsSinceMidnight - hours * 3600 - minutes * 60];\n};\nexport var duration = {\n    DAY: 86400000,\n};\nexport function getDefaultHours(config) {\n    var hours = config.defaultHour;\n    var minutes = config.defaultMinute;\n    var seconds = config.defaultSeconds;\n    if (config.minDate !== undefined) {\n        var minHour = config.minDate.getHours();\n        var minMinutes = config.minDate.getMinutes();\n        var minSeconds = config.minDate.getSeconds();\n        if (hours < minHour) {\n            hours = minHour;\n        }\n        if (hours === minHour && minutes < minMinutes) {\n            minutes = minMinutes;\n        }\n        if (hours === minHour && minutes === minMinutes && seconds < minSeconds)\n            seconds = config.minDate.getSeconds();\n    }\n    if (config.maxDate !== undefined) {\n        var maxHr = config.maxDate.getHours();\n        var maxMinutes = config.maxDate.getMinutes();\n        hours = Math.min(hours, maxHr);\n        if (hours === maxHr)\n            minutes = Math.min(maxMinutes, minutes);\n        if (hours === maxHr && minutes === maxMinutes)\n            seconds = config.maxDate.getSeconds();\n    }\n    return { hours: hours, minutes: minutes, seconds: seconds };\n}\n","\"use strict\";\nif (typeof Object.assign !== \"function\") {\n    Object.assign = function (target) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        if (!target) {\n            throw TypeError(\"Cannot convert undefined or null to object\");\n        }\n        var _loop_1 = function (source) {\n            if (source) {\n                Object.keys(source).forEach(function (key) { return (target[key] = source[key]); });\n            }\n        };\n        for (var _a = 0, args_1 = args; _a < args_1.length; _a++) {\n            var source = args_1[_a];\n            _loop_1(source);\n        }\n        return target;\n    };\n}\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { defaults as defaultOptions, HOOKS, } from \"./types/options\";\nimport English from \"./l10n/default\";\nimport { arrayify, debounce, int, pad } from \"./utils\";\nimport { clearNode, createElement, createNumberInput, findParent, toggleClass, getEventTarget, } from \"./utils/dom\";\nimport { compareDates, createDateParser, createDateFormatter, duration, isBetween, getDefaultHours, calculateSecondsSinceMidnight, parseSeconds, } from \"./utils/dates\";\nimport { tokenRegex, monthToStr } from \"./utils/formatting\";\nimport \"./utils/polyfills\";\nvar DEBOUNCED_CHANGE_MS = 300;\nfunction FlatpickrInstance(element, instanceConfig) {\n    var self = {\n        config: __assign(__assign({}, defaultOptions), flatpickr.defaultConfig),\n        l10n: English,\n    };\n    self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    self._handlers = [];\n    self.pluginElements = [];\n    self.loadedPlugins = [];\n    self._bind = bind;\n    self._setHoursFromDate = setHoursFromDate;\n    self._positionCalendar = positionCalendar;\n    self.changeMonth = changeMonth;\n    self.changeYear = changeYear;\n    self.clear = clear;\n    self.close = close;\n    self.onMouseOver = onMouseOver;\n    self._createElement = createElement;\n    self.createDay = createDay;\n    self.destroy = destroy;\n    self.isEnabled = isEnabled;\n    self.jumpToDate = jumpToDate;\n    self.updateValue = updateValue;\n    self.open = open;\n    self.redraw = redraw;\n    self.set = set;\n    self.setDate = setDate;\n    self.toggle = toggle;\n    function setupHelperFunctions() {\n        self.utils = {\n            getDaysInMonth: function (month, yr) {\n                if (month === void 0) { month = self.currentMonth; }\n                if (yr === void 0) { yr = self.currentYear; }\n                if (month === 1 && ((yr % 4 === 0 && yr % 100 !== 0) || yr % 400 === 0))\n                    return 29;\n                return self.l10n.daysInMonth[month];\n            },\n        };\n    }\n    function init() {\n        self.element = self.input = element;\n        self.isOpen = false;\n        parseConfig();\n        setupLocale();\n        setupInputs();\n        setupDates();\n        setupHelperFunctions();\n        if (!self.isMobile)\n            build();\n        bindEvents();\n        if (self.selectedDates.length || self.config.noCalendar) {\n            if (self.config.enableTime) {\n                setHoursFromDate(self.config.noCalendar ? self.latestSelectedDateObj : undefined);\n            }\n            updateValue(false);\n        }\n        setCalendarWidth();\n        var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n        if (!self.isMobile && isSafari) {\n            positionCalendar();\n        }\n        triggerEvent(\"onReady\");\n    }\n    function getClosestActiveElement() {\n        var _a;\n        return (((_a = self.calendarContainer) === null || _a === void 0 ? void 0 : _a.getRootNode())\n            .activeElement || document.activeElement);\n    }\n    function bindToInstance(fn) {\n        return fn.bind(self);\n    }\n    function setCalendarWidth() {\n        var config = self.config;\n        if (config.weekNumbers === false && config.showMonths === 1) {\n            return;\n        }\n        else if (config.noCalendar !== true) {\n            window.requestAnimationFrame(function () {\n                if (self.calendarContainer !== undefined) {\n                    self.calendarContainer.style.visibility = \"hidden\";\n                    self.calendarContainer.style.display = \"block\";\n                }\n                if (self.daysContainer !== undefined) {\n                    var daysWidth = (self.days.offsetWidth + 1) * config.showMonths;\n                    self.daysContainer.style.width = daysWidth + \"px\";\n                    self.calendarContainer.style.width =\n                        daysWidth +\n                            (self.weekWrapper !== undefined\n                                ? self.weekWrapper.offsetWidth\n                                : 0) +\n                            \"px\";\n                    self.calendarContainer.style.removeProperty(\"visibility\");\n                    self.calendarContainer.style.removeProperty(\"display\");\n                }\n            });\n        }\n    }\n    function updateTime(e) {\n        if (self.selectedDates.length === 0) {\n            var defaultDate = self.config.minDate === undefined ||\n                compareDates(new Date(), self.config.minDate) >= 0\n                ? new Date()\n                : new Date(self.config.minDate.getTime());\n            var defaults = getDefaultHours(self.config);\n            defaultDate.setHours(defaults.hours, defaults.minutes, defaults.seconds, defaultDate.getMilliseconds());\n            self.selectedDates = [defaultDate];\n            self.latestSelectedDateObj = defaultDate;\n        }\n        if (e !== undefined && e.type !== \"blur\") {\n            timeWrapper(e);\n        }\n        var prevValue = self._input.value;\n        setHoursFromInputs();\n        updateValue();\n        if (self._input.value !== prevValue) {\n            self._debouncedChange();\n        }\n    }\n    function ampm2military(hour, amPM) {\n        return (hour % 12) + 12 * int(amPM === self.l10n.amPM[1]);\n    }\n    function military2ampm(hour) {\n        switch (hour % 24) {\n            case 0:\n            case 12:\n                return 12;\n            default:\n                return hour % 12;\n        }\n    }\n    function setHoursFromInputs() {\n        if (self.hourElement === undefined || self.minuteElement === undefined)\n            return;\n        var hours = (parseInt(self.hourElement.value.slice(-2), 10) || 0) % 24, minutes = (parseInt(self.minuteElement.value, 10) || 0) % 60, seconds = self.secondElement !== undefined\n            ? (parseInt(self.secondElement.value, 10) || 0) % 60\n            : 0;\n        if (self.amPM !== undefined) {\n            hours = ampm2military(hours, self.amPM.textContent);\n        }\n        var limitMinHours = self.config.minTime !== undefined ||\n            (self.config.minDate &&\n                self.minDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.minDate, true) ===\n                    0);\n        var limitMaxHours = self.config.maxTime !== undefined ||\n            (self.config.maxDate &&\n                self.maxDateHasTime &&\n                self.latestSelectedDateObj &&\n                compareDates(self.latestSelectedDateObj, self.config.maxDate, true) ===\n                    0);\n        if (self.config.maxTime !== undefined &&\n            self.config.minTime !== undefined &&\n            self.config.minTime > self.config.maxTime) {\n            var minBound = calculateSecondsSinceMidnight(self.config.minTime.getHours(), self.config.minTime.getMinutes(), self.config.minTime.getSeconds());\n            var maxBound = calculateSecondsSinceMidnight(self.config.maxTime.getHours(), self.config.maxTime.getMinutes(), self.config.maxTime.getSeconds());\n            var currentTime = calculateSecondsSinceMidnight(hours, minutes, seconds);\n            if (currentTime > maxBound && currentTime < minBound) {\n                var result = parseSeconds(minBound);\n                hours = result[0];\n                minutes = result[1];\n                seconds = result[2];\n            }\n        }\n        else {\n            if (limitMaxHours) {\n                var maxTime = self.config.maxTime !== undefined\n                    ? self.config.maxTime\n                    : self.config.maxDate;\n                hours = Math.min(hours, maxTime.getHours());\n                if (hours === maxTime.getHours())\n                    minutes = Math.min(minutes, maxTime.getMinutes());\n                if (minutes === maxTime.getMinutes())\n                    seconds = Math.min(seconds, maxTime.getSeconds());\n            }\n            if (limitMinHours) {\n                var minTime = self.config.minTime !== undefined\n                    ? self.config.minTime\n                    : self.config.minDate;\n                hours = Math.max(hours, minTime.getHours());\n                if (hours === minTime.getHours() && minutes < minTime.getMinutes())\n                    minutes = minTime.getMinutes();\n                if (minutes === minTime.getMinutes())\n                    seconds = Math.max(seconds, minTime.getSeconds());\n            }\n        }\n        setHours(hours, minutes, seconds);\n    }\n    function setHoursFromDate(dateObj) {\n        var date = dateObj || self.latestSelectedDateObj;\n        if (date && date instanceof Date) {\n            setHours(date.getHours(), date.getMinutes(), date.getSeconds());\n        }\n    }\n    function setHours(hours, minutes, seconds) {\n        if (self.latestSelectedDateObj !== undefined) {\n            self.latestSelectedDateObj.setHours(hours % 24, minutes, seconds || 0, 0);\n        }\n        if (!self.hourElement || !self.minuteElement || self.isMobile)\n            return;\n        self.hourElement.value = pad(!self.config.time_24hr\n            ? ((12 + hours) % 12) + 12 * int(hours % 12 === 0)\n            : hours);\n        self.minuteElement.value = pad(minutes);\n        if (self.amPM !== undefined)\n            self.amPM.textContent = self.l10n.amPM[int(hours >= 12)];\n        if (self.secondElement !== undefined)\n            self.secondElement.value = pad(seconds);\n    }\n    function onYearInput(event) {\n        var eventTarget = getEventTarget(event);\n        var year = parseInt(eventTarget.value) + (event.delta || 0);\n        if (year / 1000 > 1 ||\n            (event.key === \"Enter\" && !/[^\\d]/.test(year.toString()))) {\n            changeYear(year);\n        }\n    }\n    function bind(element, event, handler, options) {\n        if (event instanceof Array)\n            return event.forEach(function (ev) { return bind(element, ev, handler, options); });\n        if (element instanceof Array)\n            return element.forEach(function (el) { return bind(el, event, handler, options); });\n        element.addEventListener(event, handler, options);\n        self._handlers.push({\n            remove: function () { return element.removeEventListener(event, handler, options); },\n        });\n    }\n    function triggerChange() {\n        triggerEvent(\"onChange\");\n    }\n    function bindEvents() {\n        if (self.config.wrap) {\n            [\"open\", \"close\", \"toggle\", \"clear\"].forEach(function (evt) {\n                Array.prototype.forEach.call(self.element.querySelectorAll(\"[data-\" + evt + \"]\"), function (el) {\n                    return bind(el, \"click\", self[evt]);\n                });\n            });\n        }\n        if (self.isMobile) {\n            setupMobile();\n            return;\n        }\n        var debouncedResize = debounce(onResize, 50);\n        self._debouncedChange = debounce(triggerChange, DEBOUNCED_CHANGE_MS);\n        if (self.daysContainer && !/iPhone|iPad|iPod/i.test(navigator.userAgent))\n            bind(self.daysContainer, \"mouseover\", function (e) {\n                if (self.config.mode === \"range\")\n                    onMouseOver(getEventTarget(e));\n            });\n        bind(self._input, \"keydown\", onKeyDown);\n        if (self.calendarContainer !== undefined) {\n            bind(self.calendarContainer, \"keydown\", onKeyDown);\n        }\n        if (!self.config.inline && !self.config.static)\n            bind(window, \"resize\", debouncedResize);\n        if (window.ontouchstart !== undefined)\n            bind(window.document, \"touchstart\", documentClick);\n        else\n            bind(window.document, \"mousedown\", documentClick);\n        bind(window.document, \"focus\", documentClick, { capture: true });\n        if (self.config.clickOpens === true) {\n            bind(self._input, \"focus\", self.open);\n            bind(self._input, \"click\", self.open);\n        }\n        if (self.daysContainer !== undefined) {\n            bind(self.monthNav, \"click\", onMonthNavClick);\n            bind(self.monthNav, [\"keyup\", \"increment\"], onYearInput);\n            bind(self.daysContainer, \"click\", selectDate);\n        }\n        if (self.timeContainer !== undefined &&\n            self.minuteElement !== undefined &&\n            self.hourElement !== undefined) {\n            var selText = function (e) {\n                return getEventTarget(e).select();\n            };\n            bind(self.timeContainer, [\"increment\"], updateTime);\n            bind(self.timeContainer, \"blur\", updateTime, { capture: true });\n            bind(self.timeContainer, \"click\", timeIncrement);\n            bind([self.hourElement, self.minuteElement], [\"focus\", \"click\"], selText);\n            if (self.secondElement !== undefined)\n                bind(self.secondElement, \"focus\", function () { return self.secondElement && self.secondElement.select(); });\n            if (self.amPM !== undefined) {\n                bind(self.amPM, \"click\", function (e) {\n                    updateTime(e);\n                });\n            }\n        }\n        if (self.config.allowInput) {\n            bind(self._input, \"blur\", onBlur);\n        }\n    }\n    function jumpToDate(jumpDate, triggerChange) {\n        var jumpTo = jumpDate !== undefined\n            ? self.parseDate(jumpDate)\n            : self.latestSelectedDateObj ||\n                (self.config.minDate && self.config.minDate > self.now\n                    ? self.config.minDate\n                    : self.config.maxDate && self.config.maxDate < self.now\n                        ? self.config.maxDate\n                        : self.now);\n        var oldYear = self.currentYear;\n        var oldMonth = self.currentMonth;\n        try {\n            if (jumpTo !== undefined) {\n                self.currentYear = jumpTo.getFullYear();\n                self.currentMonth = jumpTo.getMonth();\n            }\n        }\n        catch (e) {\n            e.message = \"Invalid date supplied: \" + jumpTo;\n            self.config.errorHandler(e);\n        }\n        if (triggerChange && self.currentYear !== oldYear) {\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        if (triggerChange &&\n            (self.currentYear !== oldYear || self.currentMonth !== oldMonth)) {\n            triggerEvent(\"onMonthChange\");\n        }\n        self.redraw();\n    }\n    function timeIncrement(e) {\n        var eventTarget = getEventTarget(e);\n        if (~eventTarget.className.indexOf(\"arrow\"))\n            incrementNumInput(e, eventTarget.classList.contains(\"arrowUp\") ? 1 : -1);\n    }\n    function incrementNumInput(e, delta, inputElem) {\n        var target = e && getEventTarget(e);\n        var input = inputElem ||\n            (target && target.parentNode && target.parentNode.firstChild);\n        var event = createEvent(\"increment\");\n        event.delta = delta;\n        input && input.dispatchEvent(event);\n    }\n    function build() {\n        var fragment = window.document.createDocumentFragment();\n        self.calendarContainer = createElement(\"div\", \"flatpickr-calendar\");\n        self.calendarContainer.tabIndex = -1;\n        if (!self.config.noCalendar) {\n            fragment.appendChild(buildMonthNav());\n            self.innerContainer = createElement(\"div\", \"flatpickr-innerContainer\");\n            if (self.config.weekNumbers) {\n                var _a = buildWeeks(), weekWrapper = _a.weekWrapper, weekNumbers = _a.weekNumbers;\n                self.innerContainer.appendChild(weekWrapper);\n                self.weekNumbers = weekNumbers;\n                self.weekWrapper = weekWrapper;\n            }\n            self.rContainer = createElement(\"div\", \"flatpickr-rContainer\");\n            self.rContainer.appendChild(buildWeekdays());\n            if (!self.daysContainer) {\n                self.daysContainer = createElement(\"div\", \"flatpickr-days\");\n                self.daysContainer.tabIndex = -1;\n            }\n            buildDays();\n            self.rContainer.appendChild(self.daysContainer);\n            self.innerContainer.appendChild(self.rContainer);\n            fragment.appendChild(self.innerContainer);\n        }\n        if (self.config.enableTime) {\n            fragment.appendChild(buildTime());\n        }\n        toggleClass(self.calendarContainer, \"rangeMode\", self.config.mode === \"range\");\n        toggleClass(self.calendarContainer, \"animate\", self.config.animate === true);\n        toggleClass(self.calendarContainer, \"multiMonth\", self.config.showMonths > 1);\n        self.calendarContainer.appendChild(fragment);\n        var customAppend = self.config.appendTo !== undefined &&\n            self.config.appendTo.nodeType !== undefined;\n        if (self.config.inline || self.config.static) {\n            self.calendarContainer.classList.add(self.config.inline ? \"inline\" : \"static\");\n            if (self.config.inline) {\n                if (!customAppend && self.element.parentNode)\n                    self.element.parentNode.insertBefore(self.calendarContainer, self._input.nextSibling);\n                else if (self.config.appendTo !== undefined)\n                    self.config.appendTo.appendChild(self.calendarContainer);\n            }\n            if (self.config.static) {\n                var wrapper = createElement(\"div\", \"flatpickr-wrapper\");\n                if (self.element.parentNode)\n                    self.element.parentNode.insertBefore(wrapper, self.element);\n                wrapper.appendChild(self.element);\n                if (self.altInput)\n                    wrapper.appendChild(self.altInput);\n                wrapper.appendChild(self.calendarContainer);\n            }\n        }\n        if (!self.config.static && !self.config.inline)\n            (self.config.appendTo !== undefined\n                ? self.config.appendTo\n                : window.document.body).appendChild(self.calendarContainer);\n    }\n    function createDay(className, date, _dayNumber, i) {\n        var dateIsEnabled = isEnabled(date, true), dayElement = createElement(\"span\", className, date.getDate().toString());\n        dayElement.dateObj = date;\n        dayElement.$i = i;\n        dayElement.setAttribute(\"aria-label\", self.formatDate(date, self.config.ariaDateFormat));\n        if (className.indexOf(\"hidden\") === -1 &&\n            compareDates(date, self.now) === 0) {\n            self.todayDateElem = dayElement;\n            dayElement.classList.add(\"today\");\n            dayElement.setAttribute(\"aria-current\", \"date\");\n        }\n        if (dateIsEnabled) {\n            dayElement.tabIndex = -1;\n            if (isDateSelected(date)) {\n                dayElement.classList.add(\"selected\");\n                self.selectedDateElem = dayElement;\n                if (self.config.mode === \"range\") {\n                    toggleClass(dayElement, \"startRange\", self.selectedDates[0] &&\n                        compareDates(date, self.selectedDates[0], true) === 0);\n                    toggleClass(dayElement, \"endRange\", self.selectedDates[1] &&\n                        compareDates(date, self.selectedDates[1], true) === 0);\n                    if (className === \"nextMonthDay\")\n                        dayElement.classList.add(\"inRange\");\n                }\n            }\n        }\n        else {\n            dayElement.classList.add(\"flatpickr-disabled\");\n        }\n        if (self.config.mode === \"range\") {\n            if (isDateInRange(date) && !isDateSelected(date))\n                dayElement.classList.add(\"inRange\");\n        }\n        if (self.weekNumbers &&\n            self.config.showMonths === 1 &&\n            className !== \"prevMonthDay\" &&\n            i % 7 === 6) {\n            self.weekNumbers.insertAdjacentHTML(\"beforeend\", \"<span class='flatpickr-day'>\" + self.config.getWeek(date) + \"</span>\");\n        }\n        triggerEvent(\"onDayCreate\", dayElement);\n        return dayElement;\n    }\n    function focusOnDayElem(targetNode) {\n        targetNode.focus();\n        if (self.config.mode === \"range\")\n            onMouseOver(targetNode);\n    }\n    function getFirstAvailableDay(delta) {\n        var startMonth = delta > 0 ? 0 : self.config.showMonths - 1;\n        var endMonth = delta > 0 ? self.config.showMonths : -1;\n        for (var m = startMonth; m != endMonth; m += delta) {\n            var month = self.daysContainer.children[m];\n            var startIndex = delta > 0 ? 0 : month.children.length - 1;\n            var endIndex = delta > 0 ? month.children.length : -1;\n            for (var i = startIndex; i != endIndex; i += delta) {\n                var c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 && isEnabled(c.dateObj))\n                    return c;\n            }\n        }\n        return undefined;\n    }\n    function getNextAvailableDay(current, delta) {\n        var givenMonth = current.className.indexOf(\"Month\") === -1\n            ? current.dateObj.getMonth()\n            : self.currentMonth;\n        var endMonth = delta > 0 ? self.config.showMonths : -1;\n        var loopDelta = delta > 0 ? 1 : -1;\n        for (var m = givenMonth - self.currentMonth; m != endMonth; m += loopDelta) {\n            var month = self.daysContainer.children[m];\n            var startIndex = givenMonth - self.currentMonth === m\n                ? current.$i + delta\n                : delta < 0\n                    ? month.children.length - 1\n                    : 0;\n            var numMonthDays = month.children.length;\n            for (var i = startIndex; i >= 0 && i < numMonthDays && i != (delta > 0 ? numMonthDays : -1); i += loopDelta) {\n                var c = month.children[i];\n                if (c.className.indexOf(\"hidden\") === -1 &&\n                    isEnabled(c.dateObj) &&\n                    Math.abs(current.$i - i) >= Math.abs(delta))\n                    return focusOnDayElem(c);\n            }\n        }\n        self.changeMonth(loopDelta);\n        focusOnDay(getFirstAvailableDay(loopDelta), 0);\n        return undefined;\n    }\n    function focusOnDay(current, offset) {\n        var activeElement = getClosestActiveElement();\n        var dayFocused = isInView(activeElement || document.body);\n        var startElem = current !== undefined\n            ? current\n            : dayFocused\n                ? activeElement\n                : self.selectedDateElem !== undefined && isInView(self.selectedDateElem)\n                    ? self.selectedDateElem\n                    : self.todayDateElem !== undefined && isInView(self.todayDateElem)\n                        ? self.todayDateElem\n                        : getFirstAvailableDay(offset > 0 ? 1 : -1);\n        if (startElem === undefined) {\n            self._input.focus();\n        }\n        else if (!dayFocused) {\n            focusOnDayElem(startElem);\n        }\n        else {\n            getNextAvailableDay(startElem, offset);\n        }\n    }\n    function buildMonthDays(year, month) {\n        var firstOfMonth = (new Date(year, month, 1).getDay() - self.l10n.firstDayOfWeek + 7) % 7;\n        var prevMonthDays = self.utils.getDaysInMonth((month - 1 + 12) % 12, year);\n        var daysInMonth = self.utils.getDaysInMonth(month, year), days = window.document.createDocumentFragment(), isMultiMonth = self.config.showMonths > 1, prevMonthDayClass = isMultiMonth ? \"prevMonthDay hidden\" : \"prevMonthDay\", nextMonthDayClass = isMultiMonth ? \"nextMonthDay hidden\" : \"nextMonthDay\";\n        var dayNumber = prevMonthDays + 1 - firstOfMonth, dayIndex = 0;\n        for (; dayNumber <= prevMonthDays; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day \" + prevMonthDayClass, new Date(year, month - 1, dayNumber), dayNumber, dayIndex));\n        }\n        for (dayNumber = 1; dayNumber <= daysInMonth; dayNumber++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day\", new Date(year, month, dayNumber), dayNumber, dayIndex));\n        }\n        for (var dayNum = daysInMonth + 1; dayNum <= 42 - firstOfMonth &&\n            (self.config.showMonths === 1 || dayIndex % 7 !== 0); dayNum++, dayIndex++) {\n            days.appendChild(createDay(\"flatpickr-day \" + nextMonthDayClass, new Date(year, month + 1, dayNum % daysInMonth), dayNum, dayIndex));\n        }\n        var dayContainer = createElement(\"div\", \"dayContainer\");\n        dayContainer.appendChild(days);\n        return dayContainer;\n    }\n    function buildDays() {\n        if (self.daysContainer === undefined) {\n            return;\n        }\n        clearNode(self.daysContainer);\n        if (self.weekNumbers)\n            clearNode(self.weekNumbers);\n        var frag = document.createDocumentFragment();\n        for (var i = 0; i < self.config.showMonths; i++) {\n            var d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            frag.appendChild(buildMonthDays(d.getFullYear(), d.getMonth()));\n        }\n        self.daysContainer.appendChild(frag);\n        self.days = self.daysContainer.firstChild;\n        if (self.config.mode === \"range\" && self.selectedDates.length === 1) {\n            onMouseOver();\n        }\n    }\n    function buildMonthSwitch() {\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType !== \"dropdown\")\n            return;\n        var shouldBuildMonth = function (month) {\n            if (self.config.minDate !== undefined &&\n                self.currentYear === self.config.minDate.getFullYear() &&\n                month < self.config.minDate.getMonth()) {\n                return false;\n            }\n            return !(self.config.maxDate !== undefined &&\n                self.currentYear === self.config.maxDate.getFullYear() &&\n                month > self.config.maxDate.getMonth());\n        };\n        self.monthsDropdownContainer.tabIndex = -1;\n        self.monthsDropdownContainer.innerHTML = \"\";\n        for (var i = 0; i < 12; i++) {\n            if (!shouldBuildMonth(i))\n                continue;\n            var month = createElement(\"option\", \"flatpickr-monthDropdown-month\");\n            month.value = new Date(self.currentYear, i).getMonth().toString();\n            month.textContent = monthToStr(i, self.config.shorthandCurrentMonth, self.l10n);\n            month.tabIndex = -1;\n            if (self.currentMonth === i) {\n                month.selected = true;\n            }\n            self.monthsDropdownContainer.appendChild(month);\n        }\n    }\n    function buildMonth() {\n        var container = createElement(\"div\", \"flatpickr-month\");\n        var monthNavFragment = window.document.createDocumentFragment();\n        var monthElement;\n        if (self.config.showMonths > 1 ||\n            self.config.monthSelectorType === \"static\") {\n            monthElement = createElement(\"span\", \"cur-month\");\n        }\n        else {\n            self.monthsDropdownContainer = createElement(\"select\", \"flatpickr-monthDropdown-months\");\n            self.monthsDropdownContainer.setAttribute(\"aria-label\", self.l10n.monthAriaLabel);\n            bind(self.monthsDropdownContainer, \"change\", function (e) {\n                var target = getEventTarget(e);\n                var selectedMonth = parseInt(target.value, 10);\n                self.changeMonth(selectedMonth - self.currentMonth);\n                triggerEvent(\"onMonthChange\");\n            });\n            buildMonthSwitch();\n            monthElement = self.monthsDropdownContainer;\n        }\n        var yearInput = createNumberInput(\"cur-year\", { tabindex: \"-1\" });\n        var yearElement = yearInput.getElementsByTagName(\"input\")[0];\n        yearElement.setAttribute(\"aria-label\", self.l10n.yearAriaLabel);\n        if (self.config.minDate) {\n            yearElement.setAttribute(\"min\", self.config.minDate.getFullYear().toString());\n        }\n        if (self.config.maxDate) {\n            yearElement.setAttribute(\"max\", self.config.maxDate.getFullYear().toString());\n            yearElement.disabled =\n                !!self.config.minDate &&\n                    self.config.minDate.getFullYear() === self.config.maxDate.getFullYear();\n        }\n        var currentMonth = createElement(\"div\", \"flatpickr-current-month\");\n        currentMonth.appendChild(monthElement);\n        currentMonth.appendChild(yearInput);\n        monthNavFragment.appendChild(currentMonth);\n        container.appendChild(monthNavFragment);\n        return {\n            container: container,\n            yearElement: yearElement,\n            monthElement: monthElement,\n        };\n    }\n    function buildMonths() {\n        clearNode(self.monthNav);\n        self.monthNav.appendChild(self.prevMonthNav);\n        if (self.config.showMonths) {\n            self.yearElements = [];\n            self.monthElements = [];\n        }\n        for (var m = self.config.showMonths; m--;) {\n            var month = buildMonth();\n            self.yearElements.push(month.yearElement);\n            self.monthElements.push(month.monthElement);\n            self.monthNav.appendChild(month.container);\n        }\n        self.monthNav.appendChild(self.nextMonthNav);\n    }\n    function buildMonthNav() {\n        self.monthNav = createElement(\"div\", \"flatpickr-months\");\n        self.yearElements = [];\n        self.monthElements = [];\n        self.prevMonthNav = createElement(\"span\", \"flatpickr-prev-month\");\n        self.prevMonthNav.innerHTML = self.config.prevArrow;\n        self.nextMonthNav = createElement(\"span\", \"flatpickr-next-month\");\n        self.nextMonthNav.innerHTML = self.config.nextArrow;\n        buildMonths();\n        Object.defineProperty(self, \"_hidePrevMonthArrow\", {\n            get: function () { return self.__hidePrevMonthArrow; },\n            set: function (bool) {\n                if (self.__hidePrevMonthArrow !== bool) {\n                    toggleClass(self.prevMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hidePrevMonthArrow = bool;\n                }\n            },\n        });\n        Object.defineProperty(self, \"_hideNextMonthArrow\", {\n            get: function () { return self.__hideNextMonthArrow; },\n            set: function (bool) {\n                if (self.__hideNextMonthArrow !== bool) {\n                    toggleClass(self.nextMonthNav, \"flatpickr-disabled\", bool);\n                    self.__hideNextMonthArrow = bool;\n                }\n            },\n        });\n        self.currentYearElement = self.yearElements[0];\n        updateNavigationCurrentMonth();\n        return self.monthNav;\n    }\n    function buildTime() {\n        self.calendarContainer.classList.add(\"hasTime\");\n        if (self.config.noCalendar)\n            self.calendarContainer.classList.add(\"noCalendar\");\n        var defaults = getDefaultHours(self.config);\n        self.timeContainer = createElement(\"div\", \"flatpickr-time\");\n        self.timeContainer.tabIndex = -1;\n        var separator = createElement(\"span\", \"flatpickr-time-separator\", \":\");\n        var hourInput = createNumberInput(\"flatpickr-hour\", {\n            \"aria-label\": self.l10n.hourAriaLabel,\n        });\n        self.hourElement = hourInput.getElementsByTagName(\"input\")[0];\n        var minuteInput = createNumberInput(\"flatpickr-minute\", {\n            \"aria-label\": self.l10n.minuteAriaLabel,\n        });\n        self.minuteElement = minuteInput.getElementsByTagName(\"input\")[0];\n        self.hourElement.tabIndex = self.minuteElement.tabIndex = -1;\n        self.hourElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getHours()\n            : self.config.time_24hr\n                ? defaults.hours\n                : military2ampm(defaults.hours));\n        self.minuteElement.value = pad(self.latestSelectedDateObj\n            ? self.latestSelectedDateObj.getMinutes()\n            : defaults.minutes);\n        self.hourElement.setAttribute(\"step\", self.config.hourIncrement.toString());\n        self.minuteElement.setAttribute(\"step\", self.config.minuteIncrement.toString());\n        self.hourElement.setAttribute(\"min\", self.config.time_24hr ? \"0\" : \"1\");\n        self.hourElement.setAttribute(\"max\", self.config.time_24hr ? \"23\" : \"12\");\n        self.hourElement.setAttribute(\"maxlength\", \"2\");\n        self.minuteElement.setAttribute(\"min\", \"0\");\n        self.minuteElement.setAttribute(\"max\", \"59\");\n        self.minuteElement.setAttribute(\"maxlength\", \"2\");\n        self.timeContainer.appendChild(hourInput);\n        self.timeContainer.appendChild(separator);\n        self.timeContainer.appendChild(minuteInput);\n        if (self.config.time_24hr)\n            self.timeContainer.classList.add(\"time24hr\");\n        if (self.config.enableSeconds) {\n            self.timeContainer.classList.add(\"hasSeconds\");\n            var secondInput = createNumberInput(\"flatpickr-second\");\n            self.secondElement = secondInput.getElementsByTagName(\"input\")[0];\n            self.secondElement.value = pad(self.latestSelectedDateObj\n                ? self.latestSelectedDateObj.getSeconds()\n                : defaults.seconds);\n            self.secondElement.setAttribute(\"step\", self.minuteElement.getAttribute(\"step\"));\n            self.secondElement.setAttribute(\"min\", \"0\");\n            self.secondElement.setAttribute(\"max\", \"59\");\n            self.secondElement.setAttribute(\"maxlength\", \"2\");\n            self.timeContainer.appendChild(createElement(\"span\", \"flatpickr-time-separator\", \":\"));\n            self.timeContainer.appendChild(secondInput);\n        }\n        if (!self.config.time_24hr) {\n            self.amPM = createElement(\"span\", \"flatpickr-am-pm\", self.l10n.amPM[int((self.latestSelectedDateObj\n                ? self.hourElement.value\n                : self.config.defaultHour) > 11)]);\n            self.amPM.title = self.l10n.toggleTitle;\n            self.amPM.tabIndex = -1;\n            self.timeContainer.appendChild(self.amPM);\n        }\n        return self.timeContainer;\n    }\n    function buildWeekdays() {\n        if (!self.weekdayContainer)\n            self.weekdayContainer = createElement(\"div\", \"flatpickr-weekdays\");\n        else\n            clearNode(self.weekdayContainer);\n        for (var i = self.config.showMonths; i--;) {\n            var container = createElement(\"div\", \"flatpickr-weekdaycontainer\");\n            self.weekdayContainer.appendChild(container);\n        }\n        updateWeekdays();\n        return self.weekdayContainer;\n    }\n    function updateWeekdays() {\n        if (!self.weekdayContainer) {\n            return;\n        }\n        var firstDayOfWeek = self.l10n.firstDayOfWeek;\n        var weekdays = __spreadArrays(self.l10n.weekdays.shorthand);\n        if (firstDayOfWeek > 0 && firstDayOfWeek < weekdays.length) {\n            weekdays = __spreadArrays(weekdays.splice(firstDayOfWeek, weekdays.length), weekdays.splice(0, firstDayOfWeek));\n        }\n        for (var i = self.config.showMonths; i--;) {\n            self.weekdayContainer.children[i].innerHTML = \"\\n      <span class='flatpickr-weekday'>\\n        \" + weekdays.join(\"</span><span class='flatpickr-weekday'>\") + \"\\n      </span>\\n      \";\n        }\n    }\n    function buildWeeks() {\n        self.calendarContainer.classList.add(\"hasWeeks\");\n        var weekWrapper = createElement(\"div\", \"flatpickr-weekwrapper\");\n        weekWrapper.appendChild(createElement(\"span\", \"flatpickr-weekday\", self.l10n.weekAbbreviation));\n        var weekNumbers = createElement(\"div\", \"flatpickr-weeks\");\n        weekWrapper.appendChild(weekNumbers);\n        return {\n            weekWrapper: weekWrapper,\n            weekNumbers: weekNumbers,\n        };\n    }\n    function changeMonth(value, isOffset) {\n        if (isOffset === void 0) { isOffset = true; }\n        var delta = isOffset ? value : value - self.currentMonth;\n        if ((delta < 0 && self._hidePrevMonthArrow === true) ||\n            (delta > 0 && self._hideNextMonthArrow === true))\n            return;\n        self.currentMonth += delta;\n        if (self.currentMonth < 0 || self.currentMonth > 11) {\n            self.currentYear += self.currentMonth > 11 ? 1 : -1;\n            self.currentMonth = (self.currentMonth + 12) % 12;\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n        buildDays();\n        triggerEvent(\"onMonthChange\");\n        updateNavigationCurrentMonth();\n    }\n    function clear(triggerChangeEvent, toInitial) {\n        if (triggerChangeEvent === void 0) { triggerChangeEvent = true; }\n        if (toInitial === void 0) { toInitial = true; }\n        self.input.value = \"\";\n        if (self.altInput !== undefined)\n            self.altInput.value = \"\";\n        if (self.mobileInput !== undefined)\n            self.mobileInput.value = \"\";\n        self.selectedDates = [];\n        self.latestSelectedDateObj = undefined;\n        if (toInitial === true) {\n            self.currentYear = self._initialDate.getFullYear();\n            self.currentMonth = self._initialDate.getMonth();\n        }\n        if (self.config.enableTime === true) {\n            var _a = getDefaultHours(self.config), hours = _a.hours, minutes = _a.minutes, seconds = _a.seconds;\n            setHours(hours, minutes, seconds);\n        }\n        self.redraw();\n        if (triggerChangeEvent)\n            triggerEvent(\"onChange\");\n    }\n    function close() {\n        self.isOpen = false;\n        if (!self.isMobile) {\n            if (self.calendarContainer !== undefined) {\n                self.calendarContainer.classList.remove(\"open\");\n            }\n            if (self._input !== undefined) {\n                self._input.classList.remove(\"active\");\n            }\n        }\n        triggerEvent(\"onClose\");\n    }\n    function destroy() {\n        if (self.config !== undefined)\n            triggerEvent(\"onDestroy\");\n        for (var i = self._handlers.length; i--;) {\n            self._handlers[i].remove();\n        }\n        self._handlers = [];\n        if (self.mobileInput) {\n            if (self.mobileInput.parentNode)\n                self.mobileInput.parentNode.removeChild(self.mobileInput);\n            self.mobileInput = undefined;\n        }\n        else if (self.calendarContainer && self.calendarContainer.parentNode) {\n            if (self.config.static && self.calendarContainer.parentNode) {\n                var wrapper = self.calendarContainer.parentNode;\n                wrapper.lastChild && wrapper.removeChild(wrapper.lastChild);\n                if (wrapper.parentNode) {\n                    while (wrapper.firstChild)\n                        wrapper.parentNode.insertBefore(wrapper.firstChild, wrapper);\n                    wrapper.parentNode.removeChild(wrapper);\n                }\n            }\n            else\n                self.calendarContainer.parentNode.removeChild(self.calendarContainer);\n        }\n        if (self.altInput) {\n            self.input.type = \"text\";\n            if (self.altInput.parentNode)\n                self.altInput.parentNode.removeChild(self.altInput);\n            delete self.altInput;\n        }\n        if (self.input) {\n            self.input.type = self.input._type;\n            self.input.classList.remove(\"flatpickr-input\");\n            self.input.removeAttribute(\"readonly\");\n        }\n        [\n            \"_showTimeInput\",\n            \"latestSelectedDateObj\",\n            \"_hideNextMonthArrow\",\n            \"_hidePrevMonthArrow\",\n            \"__hideNextMonthArrow\",\n            \"__hidePrevMonthArrow\",\n            \"isMobile\",\n            \"isOpen\",\n            \"selectedDateElem\",\n            \"minDateHasTime\",\n            \"maxDateHasTime\",\n            \"days\",\n            \"daysContainer\",\n            \"_input\",\n            \"_positionElement\",\n            \"innerContainer\",\n            \"rContainer\",\n            \"monthNav\",\n            \"todayDateElem\",\n            \"calendarContainer\",\n            \"weekdayContainer\",\n            \"prevMonthNav\",\n            \"nextMonthNav\",\n            \"monthsDropdownContainer\",\n            \"currentMonthElement\",\n            \"currentYearElement\",\n            \"navigationCurrentMonth\",\n            \"selectedDateElem\",\n            \"config\",\n        ].forEach(function (k) {\n            try {\n                delete self[k];\n            }\n            catch (_) { }\n        });\n    }\n    function isCalendarElem(elem) {\n        return self.calendarContainer.contains(elem);\n    }\n    function documentClick(e) {\n        if (self.isOpen && !self.config.inline) {\n            var eventTarget_1 = getEventTarget(e);\n            var isCalendarElement = isCalendarElem(eventTarget_1);\n            var isInput = eventTarget_1 === self.input ||\n                eventTarget_1 === self.altInput ||\n                self.element.contains(eventTarget_1) ||\n                (e.path &&\n                    e.path.indexOf &&\n                    (~e.path.indexOf(self.input) ||\n                        ~e.path.indexOf(self.altInput)));\n            var lostFocus = !isInput &&\n                !isCalendarElement &&\n                !isCalendarElem(e.relatedTarget);\n            var isIgnored = !self.config.ignoredFocusElements.some(function (elem) {\n                return elem.contains(eventTarget_1);\n            });\n            if (lostFocus && isIgnored) {\n                if (self.config.allowInput) {\n                    self.setDate(self._input.value, false, self.config.altInput\n                        ? self.config.altFormat\n                        : self.config.dateFormat);\n                }\n                if (self.timeContainer !== undefined &&\n                    self.minuteElement !== undefined &&\n                    self.hourElement !== undefined &&\n                    self.input.value !== \"\" &&\n                    self.input.value !== undefined) {\n                    updateTime();\n                }\n                self.close();\n                if (self.config &&\n                    self.config.mode === \"range\" &&\n                    self.selectedDates.length === 1)\n                    self.clear(false);\n            }\n        }\n    }\n    function changeYear(newYear) {\n        if (!newYear ||\n            (self.config.minDate && newYear < self.config.minDate.getFullYear()) ||\n            (self.config.maxDate && newYear > self.config.maxDate.getFullYear()))\n            return;\n        var newYearNum = newYear, isNewYear = self.currentYear !== newYearNum;\n        self.currentYear = newYearNum || self.currentYear;\n        if (self.config.maxDate &&\n            self.currentYear === self.config.maxDate.getFullYear()) {\n            self.currentMonth = Math.min(self.config.maxDate.getMonth(), self.currentMonth);\n        }\n        else if (self.config.minDate &&\n            self.currentYear === self.config.minDate.getFullYear()) {\n            self.currentMonth = Math.max(self.config.minDate.getMonth(), self.currentMonth);\n        }\n        if (isNewYear) {\n            self.redraw();\n            triggerEvent(\"onYearChange\");\n            buildMonthSwitch();\n        }\n    }\n    function isEnabled(date, timeless) {\n        var _a;\n        if (timeless === void 0) { timeless = true; }\n        var dateToCheck = self.parseDate(date, undefined, timeless);\n        if ((self.config.minDate &&\n            dateToCheck &&\n            compareDates(dateToCheck, self.config.minDate, timeless !== undefined ? timeless : !self.minDateHasTime) < 0) ||\n            (self.config.maxDate &&\n                dateToCheck &&\n                compareDates(dateToCheck, self.config.maxDate, timeless !== undefined ? timeless : !self.maxDateHasTime) > 0))\n            return false;\n        if (!self.config.enable && self.config.disable.length === 0)\n            return true;\n        if (dateToCheck === undefined)\n            return false;\n        var bool = !!self.config.enable, array = (_a = self.config.enable) !== null && _a !== void 0 ? _a : self.config.disable;\n        for (var i = 0, d = void 0; i < array.length; i++) {\n            d = array[i];\n            if (typeof d === \"function\" &&\n                d(dateToCheck))\n                return bool;\n            else if (d instanceof Date &&\n                dateToCheck !== undefined &&\n                d.getTime() === dateToCheck.getTime())\n                return bool;\n            else if (typeof d === \"string\") {\n                var parsed = self.parseDate(d, undefined, true);\n                return parsed && parsed.getTime() === dateToCheck.getTime()\n                    ? bool\n                    : !bool;\n            }\n            else if (typeof d === \"object\" &&\n                dateToCheck !== undefined &&\n                d.from &&\n                d.to &&\n                dateToCheck.getTime() >= d.from.getTime() &&\n                dateToCheck.getTime() <= d.to.getTime())\n                return bool;\n        }\n        return !bool;\n    }\n    function isInView(elem) {\n        if (self.daysContainer !== undefined)\n            return (elem.className.indexOf(\"hidden\") === -1 &&\n                elem.className.indexOf(\"flatpickr-disabled\") === -1 &&\n                self.daysContainer.contains(elem));\n        return false;\n    }\n    function onBlur(e) {\n        var isInput = e.target === self._input;\n        var valueChanged = self._input.value.trimEnd() !== getDateStr();\n        if (isInput &&\n            valueChanged &&\n            !(e.relatedTarget && isCalendarElem(e.relatedTarget))) {\n            self.setDate(self._input.value, true, e.target === self.altInput\n                ? self.config.altFormat\n                : self.config.dateFormat);\n        }\n    }\n    function onKeyDown(e) {\n        var eventTarget = getEventTarget(e);\n        var isInput = self.config.wrap\n            ? element.contains(eventTarget)\n            : eventTarget === self._input;\n        var allowInput = self.config.allowInput;\n        var allowKeydown = self.isOpen && (!allowInput || !isInput);\n        var allowInlineKeydown = self.config.inline && isInput && !allowInput;\n        if (e.keyCode === 13 && isInput) {\n            if (allowInput) {\n                self.setDate(self._input.value, true, eventTarget === self.altInput\n                    ? self.config.altFormat\n                    : self.config.dateFormat);\n                self.close();\n                return eventTarget.blur();\n            }\n            else {\n                self.open();\n            }\n        }\n        else if (isCalendarElem(eventTarget) ||\n            allowKeydown ||\n            allowInlineKeydown) {\n            var isTimeObj = !!self.timeContainer &&\n                self.timeContainer.contains(eventTarget);\n            switch (e.keyCode) {\n                case 13:\n                    if (isTimeObj) {\n                        e.preventDefault();\n                        updateTime();\n                        focusAndClose();\n                    }\n                    else\n                        selectDate(e);\n                    break;\n                case 27:\n                    e.preventDefault();\n                    focusAndClose();\n                    break;\n                case 8:\n                case 46:\n                    if (isInput && !self.config.allowInput) {\n                        e.preventDefault();\n                        self.clear();\n                    }\n                    break;\n                case 37:\n                case 39:\n                    if (!isTimeObj && !isInput) {\n                        e.preventDefault();\n                        var activeElement = getClosestActiveElement();\n                        if (self.daysContainer !== undefined &&\n                            (allowInput === false ||\n                                (activeElement && isInView(activeElement)))) {\n                            var delta_1 = e.keyCode === 39 ? 1 : -1;\n                            if (!e.ctrlKey)\n                                focusOnDay(undefined, delta_1);\n                            else {\n                                e.stopPropagation();\n                                changeMonth(delta_1);\n                                focusOnDay(getFirstAvailableDay(1), 0);\n                            }\n                        }\n                    }\n                    else if (self.hourElement)\n                        self.hourElement.focus();\n                    break;\n                case 38:\n                case 40:\n                    e.preventDefault();\n                    var delta = e.keyCode === 40 ? 1 : -1;\n                    if ((self.daysContainer &&\n                        eventTarget.$i !== undefined) ||\n                        eventTarget === self.input ||\n                        eventTarget === self.altInput) {\n                        if (e.ctrlKey) {\n                            e.stopPropagation();\n                            changeYear(self.currentYear - delta);\n                            focusOnDay(getFirstAvailableDay(1), 0);\n                        }\n                        else if (!isTimeObj)\n                            focusOnDay(undefined, delta * 7);\n                    }\n                    else if (eventTarget === self.currentYearElement) {\n                        changeYear(self.currentYear - delta);\n                    }\n                    else if (self.config.enableTime) {\n                        if (!isTimeObj && self.hourElement)\n                            self.hourElement.focus();\n                        updateTime(e);\n                        self._debouncedChange();\n                    }\n                    break;\n                case 9:\n                    if (isTimeObj) {\n                        var elems = [\n                            self.hourElement,\n                            self.minuteElement,\n                            self.secondElement,\n                            self.amPM,\n                        ]\n                            .concat(self.pluginElements)\n                            .filter(function (x) { return x; });\n                        var i = elems.indexOf(eventTarget);\n                        if (i !== -1) {\n                            var target = elems[i + (e.shiftKey ? -1 : 1)];\n                            e.preventDefault();\n                            (target || self._input).focus();\n                        }\n                    }\n                    else if (!self.config.noCalendar &&\n                        self.daysContainer &&\n                        self.daysContainer.contains(eventTarget) &&\n                        e.shiftKey) {\n                        e.preventDefault();\n                        self._input.focus();\n                    }\n                    break;\n                default:\n                    break;\n            }\n        }\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            switch (e.key) {\n                case self.l10n.amPM[0].charAt(0):\n                case self.l10n.amPM[0].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[0];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n                case self.l10n.amPM[1].charAt(0):\n                case self.l10n.amPM[1].charAt(0).toLowerCase():\n                    self.amPM.textContent = self.l10n.amPM[1];\n                    setHoursFromInputs();\n                    updateValue();\n                    break;\n            }\n        }\n        if (isInput || isCalendarElem(eventTarget)) {\n            triggerEvent(\"onKeyDown\", e);\n        }\n    }\n    function onMouseOver(elem, cellClass) {\n        if (cellClass === void 0) { cellClass = \"flatpickr-day\"; }\n        if (self.selectedDates.length !== 1 ||\n            (elem &&\n                (!elem.classList.contains(cellClass) ||\n                    elem.classList.contains(\"flatpickr-disabled\"))))\n            return;\n        var hoverDate = elem\n            ? elem.dateObj.getTime()\n            : self.days.firstElementChild.dateObj.getTime(), initialDate = self.parseDate(self.selectedDates[0], undefined, true).getTime(), rangeStartDate = Math.min(hoverDate, self.selectedDates[0].getTime()), rangeEndDate = Math.max(hoverDate, self.selectedDates[0].getTime());\n        var containsDisabled = false;\n        var minRange = 0, maxRange = 0;\n        for (var t = rangeStartDate; t < rangeEndDate; t += duration.DAY) {\n            if (!isEnabled(new Date(t), true)) {\n                containsDisabled =\n                    containsDisabled || (t > rangeStartDate && t < rangeEndDate);\n                if (t < initialDate && (!minRange || t > minRange))\n                    minRange = t;\n                else if (t > initialDate && (!maxRange || t < maxRange))\n                    maxRange = t;\n            }\n        }\n        var hoverableCells = Array.from(self.rContainer.querySelectorAll(\"*:nth-child(-n+\" + self.config.showMonths + \") > .\" + cellClass));\n        hoverableCells.forEach(function (dayElem) {\n            var date = dayElem.dateObj;\n            var timestamp = date.getTime();\n            var outOfRange = (minRange > 0 && timestamp < minRange) ||\n                (maxRange > 0 && timestamp > maxRange);\n            if (outOfRange) {\n                dayElem.classList.add(\"notAllowed\");\n                [\"inRange\", \"startRange\", \"endRange\"].forEach(function (c) {\n                    dayElem.classList.remove(c);\n                });\n                return;\n            }\n            else if (containsDisabled && !outOfRange)\n                return;\n            [\"startRange\", \"inRange\", \"endRange\", \"notAllowed\"].forEach(function (c) {\n                dayElem.classList.remove(c);\n            });\n            if (elem !== undefined) {\n                elem.classList.add(hoverDate <= self.selectedDates[0].getTime()\n                    ? \"startRange\"\n                    : \"endRange\");\n                if (initialDate < hoverDate && timestamp === initialDate)\n                    dayElem.classList.add(\"startRange\");\n                else if (initialDate > hoverDate && timestamp === initialDate)\n                    dayElem.classList.add(\"endRange\");\n                if (timestamp >= minRange &&\n                    (maxRange === 0 || timestamp <= maxRange) &&\n                    isBetween(timestamp, initialDate, hoverDate))\n                    dayElem.classList.add(\"inRange\");\n            }\n        });\n    }\n    function onResize() {\n        if (self.isOpen && !self.config.static && !self.config.inline)\n            positionCalendar();\n    }\n    function open(e, positionElement) {\n        if (positionElement === void 0) { positionElement = self._positionElement; }\n        if (self.isMobile === true) {\n            if (e) {\n                e.preventDefault();\n                var eventTarget = getEventTarget(e);\n                if (eventTarget) {\n                    eventTarget.blur();\n                }\n            }\n            if (self.mobileInput !== undefined) {\n                self.mobileInput.focus();\n                self.mobileInput.click();\n            }\n            triggerEvent(\"onOpen\");\n            return;\n        }\n        else if (self._input.disabled || self.config.inline) {\n            return;\n        }\n        var wasOpen = self.isOpen;\n        self.isOpen = true;\n        if (!wasOpen) {\n            self.calendarContainer.classList.add(\"open\");\n            self._input.classList.add(\"active\");\n            triggerEvent(\"onOpen\");\n            positionCalendar(positionElement);\n        }\n        if (self.config.enableTime === true && self.config.noCalendar === true) {\n            if (self.config.allowInput === false &&\n                (e === undefined ||\n                    !self.timeContainer.contains(e.relatedTarget))) {\n                setTimeout(function () { return self.hourElement.select(); }, 50);\n            }\n        }\n    }\n    function minMaxDateSetter(type) {\n        return function (date) {\n            var dateObj = (self.config[\"_\" + type + \"Date\"] = self.parseDate(date, self.config.dateFormat));\n            var inverseDateObj = self.config[\"_\" + (type === \"min\" ? \"max\" : \"min\") + \"Date\"];\n            if (dateObj !== undefined) {\n                self[type === \"min\" ? \"minDateHasTime\" : \"maxDateHasTime\"] =\n                    dateObj.getHours() > 0 ||\n                        dateObj.getMinutes() > 0 ||\n                        dateObj.getSeconds() > 0;\n            }\n            if (self.selectedDates) {\n                self.selectedDates = self.selectedDates.filter(function (d) { return isEnabled(d); });\n                if (!self.selectedDates.length && type === \"min\")\n                    setHoursFromDate(dateObj);\n                updateValue();\n            }\n            if (self.daysContainer) {\n                redraw();\n                if (dateObj !== undefined)\n                    self.currentYearElement[type] = dateObj.getFullYear().toString();\n                else\n                    self.currentYearElement.removeAttribute(type);\n                self.currentYearElement.disabled =\n                    !!inverseDateObj &&\n                        dateObj !== undefined &&\n                        inverseDateObj.getFullYear() === dateObj.getFullYear();\n            }\n        };\n    }\n    function parseConfig() {\n        var boolOpts = [\n            \"wrap\",\n            \"weekNumbers\",\n            \"allowInput\",\n            \"allowInvalidPreload\",\n            \"clickOpens\",\n            \"time_24hr\",\n            \"enableTime\",\n            \"noCalendar\",\n            \"altInput\",\n            \"shorthandCurrentMonth\",\n            \"inline\",\n            \"static\",\n            \"enableSeconds\",\n            \"disableMobile\",\n        ];\n        var userConfig = __assign(__assign({}, JSON.parse(JSON.stringify(element.dataset || {}))), instanceConfig);\n        var formats = {};\n        self.config.parseDate = userConfig.parseDate;\n        self.config.formatDate = userConfig.formatDate;\n        Object.defineProperty(self.config, \"enable\", {\n            get: function () { return self.config._enable; },\n            set: function (dates) {\n                self.config._enable = parseDateRules(dates);\n            },\n        });\n        Object.defineProperty(self.config, \"disable\", {\n            get: function () { return self.config._disable; },\n            set: function (dates) {\n                self.config._disable = parseDateRules(dates);\n            },\n        });\n        var timeMode = userConfig.mode === \"time\";\n        if (!userConfig.dateFormat && (userConfig.enableTime || timeMode)) {\n            var defaultDateFormat = flatpickr.defaultConfig.dateFormat || defaultOptions.dateFormat;\n            formats.dateFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"H:i\" + (userConfig.enableSeconds ? \":S\" : \"\")\n                    : defaultDateFormat + \" H:i\" + (userConfig.enableSeconds ? \":S\" : \"\");\n        }\n        if (userConfig.altInput &&\n            (userConfig.enableTime || timeMode) &&\n            !userConfig.altFormat) {\n            var defaultAltFormat = flatpickr.defaultConfig.altFormat || defaultOptions.altFormat;\n            formats.altFormat =\n                userConfig.noCalendar || timeMode\n                    ? \"h:i\" + (userConfig.enableSeconds ? \":S K\" : \" K\")\n                    : defaultAltFormat + (\" h:i\" + (userConfig.enableSeconds ? \":S\" : \"\") + \" K\");\n        }\n        Object.defineProperty(self.config, \"minDate\", {\n            get: function () { return self.config._minDate; },\n            set: minMaxDateSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxDate\", {\n            get: function () { return self.config._maxDate; },\n            set: minMaxDateSetter(\"max\"),\n        });\n        var minMaxTimeSetter = function (type) { return function (val) {\n            self.config[type === \"min\" ? \"_minTime\" : \"_maxTime\"] = self.parseDate(val, \"H:i:S\");\n        }; };\n        Object.defineProperty(self.config, \"minTime\", {\n            get: function () { return self.config._minTime; },\n            set: minMaxTimeSetter(\"min\"),\n        });\n        Object.defineProperty(self.config, \"maxTime\", {\n            get: function () { return self.config._maxTime; },\n            set: minMaxTimeSetter(\"max\"),\n        });\n        if (userConfig.mode === \"time\") {\n            self.config.noCalendar = true;\n            self.config.enableTime = true;\n        }\n        Object.assign(self.config, formats, userConfig);\n        for (var i = 0; i < boolOpts.length; i++)\n            self.config[boolOpts[i]] =\n                self.config[boolOpts[i]] === true ||\n                    self.config[boolOpts[i]] === \"true\";\n        HOOKS.filter(function (hook) { return self.config[hook] !== undefined; }).forEach(function (hook) {\n            self.config[hook] = arrayify(self.config[hook] || []).map(bindToInstance);\n        });\n        self.isMobile =\n            !self.config.disableMobile &&\n                !self.config.inline &&\n                self.config.mode === \"single\" &&\n                !self.config.disable.length &&\n                !self.config.enable &&\n                !self.config.weekNumbers &&\n                /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);\n        for (var i = 0; i < self.config.plugins.length; i++) {\n            var pluginConf = self.config.plugins[i](self) || {};\n            for (var key in pluginConf) {\n                if (HOOKS.indexOf(key) > -1) {\n                    self.config[key] = arrayify(pluginConf[key])\n                        .map(bindToInstance)\n                        .concat(self.config[key]);\n                }\n                else if (typeof userConfig[key] === \"undefined\")\n                    self.config[key] = pluginConf[key];\n            }\n        }\n        if (!userConfig.altInputClass) {\n            self.config.altInputClass =\n                getInputElem().className + \" \" + self.config.altInputClass;\n        }\n        triggerEvent(\"onParseConfig\");\n    }\n    function getInputElem() {\n        return self.config.wrap\n            ? element.querySelector(\"[data-input]\")\n            : element;\n    }\n    function setupLocale() {\n        if (typeof self.config.locale !== \"object\" &&\n            typeof flatpickr.l10ns[self.config.locale] === \"undefined\")\n            self.config.errorHandler(new Error(\"flatpickr: invalid locale \" + self.config.locale));\n        self.l10n = __assign(__assign({}, flatpickr.l10ns.default), (typeof self.config.locale === \"object\"\n            ? self.config.locale\n            : self.config.locale !== \"default\"\n                ? flatpickr.l10ns[self.config.locale]\n                : undefined));\n        tokenRegex.D = \"(\" + self.l10n.weekdays.shorthand.join(\"|\") + \")\";\n        tokenRegex.l = \"(\" + self.l10n.weekdays.longhand.join(\"|\") + \")\";\n        tokenRegex.M = \"(\" + self.l10n.months.shorthand.join(\"|\") + \")\";\n        tokenRegex.F = \"(\" + self.l10n.months.longhand.join(\"|\") + \")\";\n        tokenRegex.K = \"(\" + self.l10n.amPM[0] + \"|\" + self.l10n.amPM[1] + \"|\" + self.l10n.amPM[0].toLowerCase() + \"|\" + self.l10n.amPM[1].toLowerCase() + \")\";\n        var userConfig = __assign(__assign({}, instanceConfig), JSON.parse(JSON.stringify(element.dataset || {})));\n        if (userConfig.time_24hr === undefined &&\n            flatpickr.defaultConfig.time_24hr === undefined) {\n            self.config.time_24hr = self.l10n.time_24hr;\n        }\n        self.formatDate = createDateFormatter(self);\n        self.parseDate = createDateParser({ config: self.config, l10n: self.l10n });\n    }\n    function positionCalendar(customPositionElement) {\n        if (typeof self.config.position === \"function\") {\n            return void self.config.position(self, customPositionElement);\n        }\n        if (self.calendarContainer === undefined)\n            return;\n        triggerEvent(\"onPreCalendarPosition\");\n        var positionElement = customPositionElement || self._positionElement;\n        var calendarHeight = Array.prototype.reduce.call(self.calendarContainer.children, (function (acc, child) { return acc + child.offsetHeight; }), 0), calendarWidth = self.calendarContainer.offsetWidth, configPos = self.config.position.split(\" \"), configPosVertical = configPos[0], configPosHorizontal = configPos.length > 1 ? configPos[1] : null, inputBounds = positionElement.getBoundingClientRect(), distanceFromBottom = window.innerHeight - inputBounds.bottom, showOnTop = configPosVertical === \"above\" ||\n            (configPosVertical !== \"below\" &&\n                distanceFromBottom < calendarHeight &&\n                inputBounds.top > calendarHeight);\n        var top = window.pageYOffset +\n            inputBounds.top +\n            (!showOnTop ? positionElement.offsetHeight + 2 : -calendarHeight - 2);\n        toggleClass(self.calendarContainer, \"arrowTop\", !showOnTop);\n        toggleClass(self.calendarContainer, \"arrowBottom\", showOnTop);\n        if (self.config.inline)\n            return;\n        var left = window.pageXOffset + inputBounds.left;\n        var isCenter = false;\n        var isRight = false;\n        if (configPosHorizontal === \"center\") {\n            left -= (calendarWidth - inputBounds.width) / 2;\n            isCenter = true;\n        }\n        else if (configPosHorizontal === \"right\") {\n            left -= calendarWidth - inputBounds.width;\n            isRight = true;\n        }\n        toggleClass(self.calendarContainer, \"arrowLeft\", !isCenter && !isRight);\n        toggleClass(self.calendarContainer, \"arrowCenter\", isCenter);\n        toggleClass(self.calendarContainer, \"arrowRight\", isRight);\n        var right = window.document.body.offsetWidth -\n            (window.pageXOffset + inputBounds.right);\n        var rightMost = left + calendarWidth > window.document.body.offsetWidth;\n        var centerMost = right + calendarWidth > window.document.body.offsetWidth;\n        toggleClass(self.calendarContainer, \"rightMost\", rightMost);\n        if (self.config.static)\n            return;\n        self.calendarContainer.style.top = top + \"px\";\n        if (!rightMost) {\n            self.calendarContainer.style.left = left + \"px\";\n            self.calendarContainer.style.right = \"auto\";\n        }\n        else if (!centerMost) {\n            self.calendarContainer.style.left = \"auto\";\n            self.calendarContainer.style.right = right + \"px\";\n        }\n        else {\n            var doc = getDocumentStyleSheet();\n            if (doc === undefined)\n                return;\n            var bodyWidth = window.document.body.offsetWidth;\n            var centerLeft = Math.max(0, bodyWidth / 2 - calendarWidth / 2);\n            var centerBefore = \".flatpickr-calendar.centerMost:before\";\n            var centerAfter = \".flatpickr-calendar.centerMost:after\";\n            var centerIndex = doc.cssRules.length;\n            var centerStyle = \"{left:\" + inputBounds.left + \"px;right:auto;}\";\n            toggleClass(self.calendarContainer, \"rightMost\", false);\n            toggleClass(self.calendarContainer, \"centerMost\", true);\n            doc.insertRule(centerBefore + \",\" + centerAfter + centerStyle, centerIndex);\n            self.calendarContainer.style.left = centerLeft + \"px\";\n            self.calendarContainer.style.right = \"auto\";\n        }\n    }\n    function getDocumentStyleSheet() {\n        var editableSheet = null;\n        for (var i = 0; i < document.styleSheets.length; i++) {\n            var sheet = document.styleSheets[i];\n            if (!sheet.cssRules)\n                continue;\n            try {\n                sheet.cssRules;\n            }\n            catch (err) {\n                continue;\n            }\n            editableSheet = sheet;\n            break;\n        }\n        return editableSheet != null ? editableSheet : createStyleSheet();\n    }\n    function createStyleSheet() {\n        var style = document.createElement(\"style\");\n        document.head.appendChild(style);\n        return style.sheet;\n    }\n    function redraw() {\n        if (self.config.noCalendar || self.isMobile)\n            return;\n        buildMonthSwitch();\n        updateNavigationCurrentMonth();\n        buildDays();\n    }\n    function focusAndClose() {\n        self._input.focus();\n        if (window.navigator.userAgent.indexOf(\"MSIE\") !== -1 ||\n            navigator.msMaxTouchPoints !== undefined) {\n            setTimeout(self.close, 0);\n        }\n        else {\n            self.close();\n        }\n    }\n    function selectDate(e) {\n        e.preventDefault();\n        e.stopPropagation();\n        var isSelectable = function (day) {\n            return day.classList &&\n                day.classList.contains(\"flatpickr-day\") &&\n                !day.classList.contains(\"flatpickr-disabled\") &&\n                !day.classList.contains(\"notAllowed\");\n        };\n        var t = findParent(getEventTarget(e), isSelectable);\n        if (t === undefined)\n            return;\n        var target = t;\n        var selectedDate = (self.latestSelectedDateObj = new Date(target.dateObj.getTime()));\n        var shouldChangeMonth = (selectedDate.getMonth() < self.currentMonth ||\n            selectedDate.getMonth() >\n                self.currentMonth + self.config.showMonths - 1) &&\n            self.config.mode !== \"range\";\n        self.selectedDateElem = target;\n        if (self.config.mode === \"single\")\n            self.selectedDates = [selectedDate];\n        else if (self.config.mode === \"multiple\") {\n            var selectedIndex = isDateSelected(selectedDate);\n            if (selectedIndex)\n                self.selectedDates.splice(parseInt(selectedIndex), 1);\n            else\n                self.selectedDates.push(selectedDate);\n        }\n        else if (self.config.mode === \"range\") {\n            if (self.selectedDates.length === 2) {\n                self.clear(false, false);\n            }\n            self.latestSelectedDateObj = selectedDate;\n            self.selectedDates.push(selectedDate);\n            if (compareDates(selectedDate, self.selectedDates[0], true) !== 0)\n                self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n        }\n        setHoursFromInputs();\n        if (shouldChangeMonth) {\n            var isNewYear = self.currentYear !== selectedDate.getFullYear();\n            self.currentYear = selectedDate.getFullYear();\n            self.currentMonth = selectedDate.getMonth();\n            if (isNewYear) {\n                triggerEvent(\"onYearChange\");\n                buildMonthSwitch();\n            }\n            triggerEvent(\"onMonthChange\");\n        }\n        updateNavigationCurrentMonth();\n        buildDays();\n        updateValue();\n        if (!shouldChangeMonth &&\n            self.config.mode !== \"range\" &&\n            self.config.showMonths === 1)\n            focusOnDayElem(target);\n        else if (self.selectedDateElem !== undefined &&\n            self.hourElement === undefined) {\n            self.selectedDateElem && self.selectedDateElem.focus();\n        }\n        if (self.hourElement !== undefined)\n            self.hourElement !== undefined && self.hourElement.focus();\n        if (self.config.closeOnSelect) {\n            var single = self.config.mode === \"single\" && !self.config.enableTime;\n            var range = self.config.mode === \"range\" &&\n                self.selectedDates.length === 2 &&\n                !self.config.enableTime;\n            if (single || range) {\n                focusAndClose();\n            }\n        }\n        triggerChange();\n    }\n    var CALLBACKS = {\n        locale: [setupLocale, updateWeekdays],\n        showMonths: [buildMonths, setCalendarWidth, buildWeekdays],\n        minDate: [jumpToDate],\n        maxDate: [jumpToDate],\n        positionElement: [updatePositionElement],\n        clickOpens: [\n            function () {\n                if (self.config.clickOpens === true) {\n                    bind(self._input, \"focus\", self.open);\n                    bind(self._input, \"click\", self.open);\n                }\n                else {\n                    self._input.removeEventListener(\"focus\", self.open);\n                    self._input.removeEventListener(\"click\", self.open);\n                }\n            },\n        ],\n    };\n    function set(option, value) {\n        if (option !== null && typeof option === \"object\") {\n            Object.assign(self.config, option);\n            for (var key in option) {\n                if (CALLBACKS[key] !== undefined)\n                    CALLBACKS[key].forEach(function (x) { return x(); });\n            }\n        }\n        else {\n            self.config[option] = value;\n            if (CALLBACKS[option] !== undefined)\n                CALLBACKS[option].forEach(function (x) { return x(); });\n            else if (HOOKS.indexOf(option) > -1)\n                self.config[option] = arrayify(value);\n        }\n        self.redraw();\n        updateValue(true);\n    }\n    function setSelectedDate(inputDate, format) {\n        var dates = [];\n        if (inputDate instanceof Array)\n            dates = inputDate.map(function (d) { return self.parseDate(d, format); });\n        else if (inputDate instanceof Date || typeof inputDate === \"number\")\n            dates = [self.parseDate(inputDate, format)];\n        else if (typeof inputDate === \"string\") {\n            switch (self.config.mode) {\n                case \"single\":\n                case \"time\":\n                    dates = [self.parseDate(inputDate, format)];\n                    break;\n                case \"multiple\":\n                    dates = inputDate\n                        .split(self.config.conjunction)\n                        .map(function (date) { return self.parseDate(date, format); });\n                    break;\n                case \"range\":\n                    dates = inputDate\n                        .split(self.l10n.rangeSeparator)\n                        .map(function (date) { return self.parseDate(date, format); });\n                    break;\n                default:\n                    break;\n            }\n        }\n        else\n            self.config.errorHandler(new Error(\"Invalid date supplied: \" + JSON.stringify(inputDate)));\n        self.selectedDates = (self.config.allowInvalidPreload\n            ? dates\n            : dates.filter(function (d) { return d instanceof Date && isEnabled(d, false); }));\n        if (self.config.mode === \"range\")\n            self.selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n    }\n    function setDate(date, triggerChange, format) {\n        if (triggerChange === void 0) { triggerChange = false; }\n        if (format === void 0) { format = self.config.dateFormat; }\n        if ((date !== 0 && !date) || (date instanceof Array && date.length === 0))\n            return self.clear(triggerChange);\n        setSelectedDate(date, format);\n        self.latestSelectedDateObj =\n            self.selectedDates[self.selectedDates.length - 1];\n        self.redraw();\n        jumpToDate(undefined, triggerChange);\n        setHoursFromDate();\n        if (self.selectedDates.length === 0) {\n            self.clear(false);\n        }\n        updateValue(triggerChange);\n        if (triggerChange)\n            triggerEvent(\"onChange\");\n    }\n    function parseDateRules(arr) {\n        return arr\n            .slice()\n            .map(function (rule) {\n            if (typeof rule === \"string\" ||\n                typeof rule === \"number\" ||\n                rule instanceof Date) {\n                return self.parseDate(rule, undefined, true);\n            }\n            else if (rule &&\n                typeof rule === \"object\" &&\n                rule.from &&\n                rule.to)\n                return {\n                    from: self.parseDate(rule.from, undefined),\n                    to: self.parseDate(rule.to, undefined),\n                };\n            return rule;\n        })\n            .filter(function (x) { return x; });\n    }\n    function setupDates() {\n        self.selectedDates = [];\n        self.now = self.parseDate(self.config.now) || new Date();\n        var preloadedDate = self.config.defaultDate ||\n            ((self.input.nodeName === \"INPUT\" ||\n                self.input.nodeName === \"TEXTAREA\") &&\n                self.input.placeholder &&\n                self.input.value === self.input.placeholder\n                ? null\n                : self.input.value);\n        if (preloadedDate)\n            setSelectedDate(preloadedDate, self.config.dateFormat);\n        self._initialDate =\n            self.selectedDates.length > 0\n                ? self.selectedDates[0]\n                : self.config.minDate &&\n                    self.config.minDate.getTime() > self.now.getTime()\n                    ? self.config.minDate\n                    : self.config.maxDate &&\n                        self.config.maxDate.getTime() < self.now.getTime()\n                        ? self.config.maxDate\n                        : self.now;\n        self.currentYear = self._initialDate.getFullYear();\n        self.currentMonth = self._initialDate.getMonth();\n        if (self.selectedDates.length > 0)\n            self.latestSelectedDateObj = self.selectedDates[0];\n        if (self.config.minTime !== undefined)\n            self.config.minTime = self.parseDate(self.config.minTime, \"H:i\");\n        if (self.config.maxTime !== undefined)\n            self.config.maxTime = self.parseDate(self.config.maxTime, \"H:i\");\n        self.minDateHasTime =\n            !!self.config.minDate &&\n                (self.config.minDate.getHours() > 0 ||\n                    self.config.minDate.getMinutes() > 0 ||\n                    self.config.minDate.getSeconds() > 0);\n        self.maxDateHasTime =\n            !!self.config.maxDate &&\n                (self.config.maxDate.getHours() > 0 ||\n                    self.config.maxDate.getMinutes() > 0 ||\n                    self.config.maxDate.getSeconds() > 0);\n    }\n    function setupInputs() {\n        self.input = getInputElem();\n        if (!self.input) {\n            self.config.errorHandler(new Error(\"Invalid input element specified\"));\n            return;\n        }\n        self.input._type = self.input.type;\n        self.input.type = \"text\";\n        self.input.classList.add(\"flatpickr-input\");\n        self._input = self.input;\n        if (self.config.altInput) {\n            self.altInput = createElement(self.input.nodeName, self.config.altInputClass);\n            self._input = self.altInput;\n            self.altInput.placeholder = self.input.placeholder;\n            self.altInput.disabled = self.input.disabled;\n            self.altInput.required = self.input.required;\n            self.altInput.tabIndex = self.input.tabIndex;\n            self.altInput.type = \"text\";\n            self.input.setAttribute(\"type\", \"hidden\");\n            if (!self.config.static && self.input.parentNode)\n                self.input.parentNode.insertBefore(self.altInput, self.input.nextSibling);\n        }\n        if (!self.config.allowInput)\n            self._input.setAttribute(\"readonly\", \"readonly\");\n        updatePositionElement();\n    }\n    function updatePositionElement() {\n        self._positionElement = self.config.positionElement || self._input;\n    }\n    function setupMobile() {\n        var inputType = self.config.enableTime\n            ? self.config.noCalendar\n                ? \"time\"\n                : \"datetime-local\"\n            : \"date\";\n        self.mobileInput = createElement(\"input\", self.input.className + \" flatpickr-mobile\");\n        self.mobileInput.tabIndex = 1;\n        self.mobileInput.type = inputType;\n        self.mobileInput.disabled = self.input.disabled;\n        self.mobileInput.required = self.input.required;\n        self.mobileInput.placeholder = self.input.placeholder;\n        self.mobileFormatStr =\n            inputType === \"datetime-local\"\n                ? \"Y-m-d\\\\TH:i:S\"\n                : inputType === \"date\"\n                    ? \"Y-m-d\"\n                    : \"H:i:S\";\n        if (self.selectedDates.length > 0) {\n            self.mobileInput.defaultValue = self.mobileInput.value = self.formatDate(self.selectedDates[0], self.mobileFormatStr);\n        }\n        if (self.config.minDate)\n            self.mobileInput.min = self.formatDate(self.config.minDate, \"Y-m-d\");\n        if (self.config.maxDate)\n            self.mobileInput.max = self.formatDate(self.config.maxDate, \"Y-m-d\");\n        if (self.input.getAttribute(\"step\"))\n            self.mobileInput.step = String(self.input.getAttribute(\"step\"));\n        self.input.type = \"hidden\";\n        if (self.altInput !== undefined)\n            self.altInput.type = \"hidden\";\n        try {\n            if (self.input.parentNode)\n                self.input.parentNode.insertBefore(self.mobileInput, self.input.nextSibling);\n        }\n        catch (_a) { }\n        bind(self.mobileInput, \"change\", function (e) {\n            self.setDate(getEventTarget(e).value, false, self.mobileFormatStr);\n            triggerEvent(\"onChange\");\n            triggerEvent(\"onClose\");\n        });\n    }\n    function toggle(e) {\n        if (self.isOpen === true)\n            return self.close();\n        self.open(e);\n    }\n    function triggerEvent(event, data) {\n        if (self.config === undefined)\n            return;\n        var hooks = self.config[event];\n        if (hooks !== undefined && hooks.length > 0) {\n            for (var i = 0; hooks[i] && i < hooks.length; i++)\n                hooks[i](self.selectedDates, self.input.value, self, data);\n        }\n        if (event === \"onChange\") {\n            self.input.dispatchEvent(createEvent(\"change\"));\n            self.input.dispatchEvent(createEvent(\"input\"));\n        }\n    }\n    function createEvent(name) {\n        var e = document.createEvent(\"Event\");\n        e.initEvent(name, true, true);\n        return e;\n    }\n    function isDateSelected(date) {\n        for (var i = 0; i < self.selectedDates.length; i++) {\n            var selectedDate = self.selectedDates[i];\n            if (selectedDate instanceof Date &&\n                compareDates(selectedDate, date) === 0)\n                return \"\" + i;\n        }\n        return false;\n    }\n    function isDateInRange(date) {\n        if (self.config.mode !== \"range\" || self.selectedDates.length < 2)\n            return false;\n        return (compareDates(date, self.selectedDates[0]) >= 0 &&\n            compareDates(date, self.selectedDates[1]) <= 0);\n    }\n    function updateNavigationCurrentMonth() {\n        if (self.config.noCalendar || self.isMobile || !self.monthNav)\n            return;\n        self.yearElements.forEach(function (yearElement, i) {\n            var d = new Date(self.currentYear, self.currentMonth, 1);\n            d.setMonth(self.currentMonth + i);\n            if (self.config.showMonths > 1 ||\n                self.config.monthSelectorType === \"static\") {\n                self.monthElements[i].textContent =\n                    monthToStr(d.getMonth(), self.config.shorthandCurrentMonth, self.l10n) + \" \";\n            }\n            else {\n                self.monthsDropdownContainer.value = d.getMonth().toString();\n            }\n            yearElement.value = d.getFullYear().toString();\n        });\n        self._hidePrevMonthArrow =\n            self.config.minDate !== undefined &&\n                (self.currentYear === self.config.minDate.getFullYear()\n                    ? self.currentMonth <= self.config.minDate.getMonth()\n                    : self.currentYear < self.config.minDate.getFullYear());\n        self._hideNextMonthArrow =\n            self.config.maxDate !== undefined &&\n                (self.currentYear === self.config.maxDate.getFullYear()\n                    ? self.currentMonth + 1 > self.config.maxDate.getMonth()\n                    : self.currentYear > self.config.maxDate.getFullYear());\n    }\n    function getDateStr(specificFormat) {\n        var format = specificFormat ||\n            (self.config.altInput ? self.config.altFormat : self.config.dateFormat);\n        return self.selectedDates\n            .map(function (dObj) { return self.formatDate(dObj, format); })\n            .filter(function (d, i, arr) {\n            return self.config.mode !== \"range\" ||\n                self.config.enableTime ||\n                arr.indexOf(d) === i;\n        })\n            .join(self.config.mode !== \"range\"\n            ? self.config.conjunction\n            : self.l10n.rangeSeparator);\n    }\n    function updateValue(triggerChange) {\n        if (triggerChange === void 0) { triggerChange = true; }\n        if (self.mobileInput !== undefined && self.mobileFormatStr) {\n            self.mobileInput.value =\n                self.latestSelectedDateObj !== undefined\n                    ? self.formatDate(self.latestSelectedDateObj, self.mobileFormatStr)\n                    : \"\";\n        }\n        self.input.value = getDateStr(self.config.dateFormat);\n        if (self.altInput !== undefined) {\n            self.altInput.value = getDateStr(self.config.altFormat);\n        }\n        if (triggerChange !== false)\n            triggerEvent(\"onValueUpdate\");\n    }\n    function onMonthNavClick(e) {\n        var eventTarget = getEventTarget(e);\n        var isPrevMonth = self.prevMonthNav.contains(eventTarget);\n        var isNextMonth = self.nextMonthNav.contains(eventTarget);\n        if (isPrevMonth || isNextMonth) {\n            changeMonth(isPrevMonth ? -1 : 1);\n        }\n        else if (self.yearElements.indexOf(eventTarget) >= 0) {\n            eventTarget.select();\n        }\n        else if (eventTarget.classList.contains(\"arrowUp\")) {\n            self.changeYear(self.currentYear + 1);\n        }\n        else if (eventTarget.classList.contains(\"arrowDown\")) {\n            self.changeYear(self.currentYear - 1);\n        }\n    }\n    function timeWrapper(e) {\n        e.preventDefault();\n        var isKeyDown = e.type === \"keydown\", eventTarget = getEventTarget(e), input = eventTarget;\n        if (self.amPM !== undefined && eventTarget === self.amPM) {\n            self.amPM.textContent =\n                self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n        }\n        var min = parseFloat(input.getAttribute(\"min\")), max = parseFloat(input.getAttribute(\"max\")), step = parseFloat(input.getAttribute(\"step\")), curValue = parseInt(input.value, 10), delta = e.delta ||\n            (isKeyDown ? (e.which === 38 ? 1 : -1) : 0);\n        var newValue = curValue + step * delta;\n        if (typeof input.value !== \"undefined\" && input.value.length === 2) {\n            var isHourElem = input === self.hourElement, isMinuteElem = input === self.minuteElement;\n            if (newValue < min) {\n                newValue =\n                    max +\n                        newValue +\n                        int(!isHourElem) +\n                        (int(isHourElem) && int(!self.amPM));\n                if (isMinuteElem)\n                    incrementNumInput(undefined, -1, self.hourElement);\n            }\n            else if (newValue > max) {\n                newValue =\n                    input === self.hourElement ? newValue - max - int(!self.amPM) : min;\n                if (isMinuteElem)\n                    incrementNumInput(undefined, 1, self.hourElement);\n            }\n            if (self.amPM &&\n                isHourElem &&\n                (step === 1\n                    ? newValue + curValue === 23\n                    : Math.abs(newValue - curValue) > step)) {\n                self.amPM.textContent =\n                    self.l10n.amPM[int(self.amPM.textContent === self.l10n.amPM[0])];\n            }\n            input.value = pad(newValue);\n        }\n    }\n    init();\n    return self;\n}\nfunction _flatpickr(nodeList, config) {\n    var nodes = Array.prototype.slice\n        .call(nodeList)\n        .filter(function (x) { return x instanceof HTMLElement; });\n    var instances = [];\n    for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        try {\n            if (node.getAttribute(\"data-fp-omit\") !== null)\n                continue;\n            if (node._flatpickr !== undefined) {\n                node._flatpickr.destroy();\n                node._flatpickr = undefined;\n            }\n            node._flatpickr = FlatpickrInstance(node, config || {});\n            instances.push(node._flatpickr);\n        }\n        catch (e) {\n            console.error(e);\n        }\n    }\n    return instances.length === 1 ? instances[0] : instances;\n}\nif (typeof HTMLElement !== \"undefined\" &&\n    typeof HTMLCollection !== \"undefined\" &&\n    typeof NodeList !== \"undefined\") {\n    HTMLCollection.prototype.flatpickr = NodeList.prototype.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n    HTMLElement.prototype.flatpickr = function (config) {\n        return _flatpickr([this], config);\n    };\n}\nvar flatpickr = function (selector, config) {\n    if (typeof selector === \"string\") {\n        return _flatpickr(window.document.querySelectorAll(selector), config);\n    }\n    else if (selector instanceof Node) {\n        return _flatpickr([selector], config);\n    }\n    else {\n        return _flatpickr(selector, config);\n    }\n};\nflatpickr.defaultConfig = {};\nflatpickr.l10ns = {\n    en: __assign({}, English),\n    default: __assign({}, English),\n};\nflatpickr.localize = function (l10n) {\n    flatpickr.l10ns.default = __assign(__assign({}, flatpickr.l10ns.default), l10n);\n};\nflatpickr.setDefaults = function (config) {\n    flatpickr.defaultConfig = __assign(__assign({}, flatpickr.defaultConfig), config);\n};\nflatpickr.parseDate = createDateParser({});\nflatpickr.formatDate = createDateFormatter({});\nflatpickr.compareDates = compareDates;\nif (typeof jQuery !== \"undefined\" && typeof jQuery.fn !== \"undefined\") {\n    jQuery.fn.flatpickr = function (config) {\n        return _flatpickr(this, config);\n    };\n}\nDate.prototype.fp_incr = function (days) {\n    return new Date(this.getFullYear(), this.getMonth(), this.getDate() + (typeof days === \"string\" ? parseInt(days, 10) : days));\n};\nif (typeof window !== \"undefined\") {\n    window.flatpickr = flatpickr;\n}\nexport default flatpickr;\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global['zh-tw'] = {}));\n}(this, (function (exports) { 'use strict';\n\n  var fp = typeof window !== \"undefined\" && window.flatpickr !== undefined\n      ? window.flatpickr\n      : {\n          l10ns: {},\n      };\n  var MandarinTraditional = {\n      weekdays: {\n          shorthand: [\"週日\", \"週一\", \"週二\", \"週三\", \"週四\", \"週五\", \"週六\"],\n          longhand: [\n              \"星期日\",\n              \"星期一\",\n              \"星期二\",\n              \"星期三\",\n              \"星期四\",\n              \"星期五\",\n              \"星期六\",\n          ],\n      },\n      months: {\n          shorthand: [\n              \"一月\",\n              \"二月\",\n              \"三月\",\n              \"四月\",\n              \"五月\",\n              \"六月\",\n              \"七月\",\n              \"八月\",\n              \"九月\",\n              \"十月\",\n              \"十一月\",\n              \"十二月\",\n          ],\n          longhand: [\n              \"一月\",\n              \"二月\",\n              \"三月\",\n              \"四月\",\n              \"五月\",\n              \"六月\",\n              \"七月\",\n              \"八月\",\n              \"九月\",\n              \"十月\",\n              \"十一月\",\n              \"十二月\",\n          ],\n      },\n      rangeSeparator: \" 至 \",\n      weekAbbreviation: \"週\",\n      scrollTitle: \"滾動切換\",\n      toggleTitle: \"點擊切換 12/24 小時時制\",\n  };\n  fp.l10ns.zh_tw = MandarinTraditional;\n  var zhTw = fp.l10ns;\n\n  exports.MandarinTraditional = MandarinTraditional;\n  exports.default = zhTw;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.monthSelectPlugin = factory());\n}(this, (function () { 'use strict';\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation.\r\n\r\n    Permission to use, copy, modify, and/or distribute this software for any\r\n    purpose with or without fee is hereby granted.\r\n\r\n    THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\n    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\n    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\n    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\n    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\n    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\n    PERFORMANCE OF THIS SOFTWARE.\r\n    ***************************************************************************** */\r\n\r\n    var __assign = function() {\r\n        __assign = Object.assign || function __assign(t) {\r\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n                s = arguments[i];\r\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n            }\r\n            return t;\r\n        };\r\n        return __assign.apply(this, arguments);\r\n    };\n\n    var monthToStr = function (monthNumber, shorthand, locale) { return locale.months[shorthand ? \"shorthand\" : \"longhand\"][monthNumber]; };\n\n    function clearNode(node) {\n        while (node.firstChild)\n            node.removeChild(node.firstChild);\n    }\n    function getEventTarget(event) {\n        try {\n            if (typeof event.composedPath === \"function\") {\n                var path = event.composedPath();\n                return path[0];\n            }\n            return event.target;\n        }\n        catch (error) {\n            return event.target;\n        }\n    }\n\n    var defaultConfig = {\n        shorthand: false,\n        dateFormat: \"F Y\",\n        altFormat: \"F Y\",\n        theme: \"light\",\n    };\n    function monthSelectPlugin(pluginConfig) {\n        var config = __assign(__assign({}, defaultConfig), pluginConfig);\n        return function (fp) {\n            fp.config.dateFormat = config.dateFormat;\n            fp.config.altFormat = config.altFormat;\n            var self = { monthsContainer: null };\n            function clearUnnecessaryDOMElements() {\n                if (!fp.rContainer)\n                    return;\n                clearNode(fp.rContainer);\n                for (var index = 0; index < fp.monthElements.length; index++) {\n                    var element = fp.monthElements[index];\n                    if (!element.parentNode)\n                        continue;\n                    element.parentNode.removeChild(element);\n                }\n            }\n            function build() {\n                if (!fp.rContainer)\n                    return;\n                self.monthsContainer = fp._createElement(\"div\", \"flatpickr-monthSelect-months\");\n                self.monthsContainer.tabIndex = -1;\n                buildMonths();\n                fp.rContainer.appendChild(self.monthsContainer);\n                fp.calendarContainer.classList.add(\"flatpickr-monthSelect-theme-\" + config.theme);\n            }\n            function buildMonths() {\n                if (!self.monthsContainer)\n                    return;\n                clearNode(self.monthsContainer);\n                var frag = document.createDocumentFragment();\n                for (var i = 0; i < 12; i++) {\n                    var month = fp.createDay(\"flatpickr-monthSelect-month\", new Date(fp.currentYear, i), 0, i);\n                    if (month.dateObj.getMonth() === new Date().getMonth() &&\n                        month.dateObj.getFullYear() === new Date().getFullYear())\n                        month.classList.add(\"today\");\n                    month.textContent = monthToStr(i, config.shorthand, fp.l10n);\n                    month.addEventListener(\"click\", selectMonth);\n                    frag.appendChild(month);\n                }\n                self.monthsContainer.appendChild(frag);\n                if (fp.config.minDate &&\n                    fp.currentYear === fp.config.minDate.getFullYear())\n                    fp.prevMonthNav.classList.add(\"flatpickr-disabled\");\n                else\n                    fp.prevMonthNav.classList.remove(\"flatpickr-disabled\");\n                if (fp.config.maxDate &&\n                    fp.currentYear === fp.config.maxDate.getFullYear())\n                    fp.nextMonthNav.classList.add(\"flatpickr-disabled\");\n                else\n                    fp.nextMonthNav.classList.remove(\"flatpickr-disabled\");\n            }\n            function bindEvents() {\n                fp._bind(fp.prevMonthNav, \"click\", function (e) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                    fp.changeYear(fp.currentYear - 1);\n                    selectYear();\n                    buildMonths();\n                });\n                fp._bind(fp.nextMonthNav, \"click\", function (e) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                    fp.changeYear(fp.currentYear + 1);\n                    selectYear();\n                    buildMonths();\n                });\n                fp._bind(self.monthsContainer, \"mouseover\", function (e) {\n                    if (fp.config.mode === \"range\")\n                        fp.onMouseOver(getEventTarget(e), \"flatpickr-monthSelect-month\");\n                });\n            }\n            function setCurrentlySelected() {\n                if (!fp.rContainer)\n                    return;\n                if (!fp.selectedDates.length)\n                    return;\n                var currentlySelected = fp.rContainer.querySelectorAll(\".flatpickr-monthSelect-month.selected\");\n                for (var index = 0; index < currentlySelected.length; index++) {\n                    currentlySelected[index].classList.remove(\"selected\");\n                }\n                var targetMonth = fp.selectedDates[0].getMonth();\n                var month = fp.rContainer.querySelector(\".flatpickr-monthSelect-month:nth-child(\" + (targetMonth + 1) + \")\");\n                if (month) {\n                    month.classList.add(\"selected\");\n                }\n            }\n            function selectYear() {\n                var selectedDate = fp.selectedDates[0];\n                if (selectedDate) {\n                    selectedDate = new Date(selectedDate);\n                    selectedDate.setFullYear(fp.currentYear);\n                    if (fp.config.minDate && selectedDate < fp.config.minDate) {\n                        selectedDate = fp.config.minDate;\n                    }\n                    if (fp.config.maxDate && selectedDate > fp.config.maxDate) {\n                        selectedDate = fp.config.maxDate;\n                    }\n                    fp.currentYear = selectedDate.getFullYear();\n                }\n                fp.currentYearElement.value = String(fp.currentYear);\n                if (fp.rContainer) {\n                    var months = fp.rContainer.querySelectorAll(\".flatpickr-monthSelect-month\");\n                    months.forEach(function (month) {\n                        month.dateObj.setFullYear(fp.currentYear);\n                        if ((fp.config.minDate && month.dateObj < fp.config.minDate) ||\n                            (fp.config.maxDate && month.dateObj > fp.config.maxDate)) {\n                            month.classList.add(\"flatpickr-disabled\");\n                        }\n                        else {\n                            month.classList.remove(\"flatpickr-disabled\");\n                        }\n                    });\n                }\n                setCurrentlySelected();\n            }\n            function selectMonth(e) {\n                e.preventDefault();\n                e.stopPropagation();\n                var eventTarget = getEventTarget(e);\n                if (!(eventTarget instanceof Element))\n                    return;\n                if (eventTarget.classList.contains(\"flatpickr-disabled\"))\n                    return;\n                if (eventTarget.classList.contains(\"notAllowed\"))\n                    return; // necessary??\n                setMonth(eventTarget.dateObj);\n                if (fp.config.closeOnSelect) {\n                    var single = fp.config.mode === \"single\";\n                    var range = fp.config.mode === \"range\" && fp.selectedDates.length === 2;\n                    if (single || range)\n                        fp.close();\n                }\n            }\n            function setMonth(date) {\n                var selectedDate = new Date(fp.currentYear, date.getMonth(), date.getDate());\n                var selectedDates = [];\n                switch (fp.config.mode) {\n                    case \"single\":\n                        selectedDates = [selectedDate];\n                        break;\n                    case \"multiple\":\n                        selectedDates.push(selectedDate);\n                        break;\n                    case \"range\":\n                        if (fp.selectedDates.length === 2) {\n                            selectedDates = [selectedDate];\n                        }\n                        else {\n                            selectedDates = fp.selectedDates.concat([selectedDate]);\n                            selectedDates.sort(function (a, b) { return a.getTime() - b.getTime(); });\n                        }\n                        break;\n                }\n                fp.setDate(selectedDates, true);\n                setCurrentlySelected();\n            }\n            var shifts = {\n                37: -1,\n                39: 1,\n                40: 3,\n                38: -3,\n            };\n            function onKeyDown(_, __, ___, e) {\n                var shouldMove = shifts[e.keyCode] !== undefined;\n                if (!shouldMove && e.keyCode !== 13) {\n                    return;\n                }\n                if (!fp.rContainer || !self.monthsContainer)\n                    return;\n                var currentlySelected = fp.rContainer.querySelector(\".flatpickr-monthSelect-month.selected\");\n                var index = Array.prototype.indexOf.call(self.monthsContainer.children, document.activeElement);\n                if (index === -1) {\n                    var target = currentlySelected || self.monthsContainer.firstElementChild;\n                    target.focus();\n                    index = target.$i;\n                }\n                if (shouldMove) {\n                    self.monthsContainer.children[(12 + index + shifts[e.keyCode]) % 12].focus();\n                }\n                else if (e.keyCode === 13 &&\n                    self.monthsContainer.contains(document.activeElement)) {\n                    setMonth(document.activeElement.dateObj);\n                }\n            }\n            function closeHook() {\n                var _a;\n                if (((_a = fp.config) === null || _a === void 0 ? void 0 : _a.mode) === \"range\" && fp.selectedDates.length === 1)\n                    fp.clear(false);\n                if (!fp.selectedDates.length)\n                    buildMonths();\n            }\n            // Help the prev/next year nav honor config.minDate (see 3fa5a69)\n            function stubCurrentMonth() {\n                config._stubbedCurrentMonth = fp._initialDate.getMonth();\n                fp._initialDate.setMonth(config._stubbedCurrentMonth);\n                fp.currentMonth = config._stubbedCurrentMonth;\n            }\n            function unstubCurrentMonth() {\n                if (!config._stubbedCurrentMonth)\n                    return;\n                fp._initialDate.setMonth(config._stubbedCurrentMonth);\n                fp.currentMonth = config._stubbedCurrentMonth;\n                delete config._stubbedCurrentMonth;\n            }\n            function destroyPluginInstance() {\n                if (self.monthsContainer !== null) {\n                    var months = self.monthsContainer.querySelectorAll(\".flatpickr-monthSelect-month\");\n                    for (var index = 0; index < months.length; index++) {\n                        months[index].removeEventListener(\"click\", selectMonth);\n                    }\n                }\n            }\n            return {\n                onParseConfig: function () {\n                    fp.config.enableTime = false;\n                },\n                onValueUpdate: setCurrentlySelected,\n                onKeyDown: onKeyDown,\n                onReady: [\n                    stubCurrentMonth,\n                    clearUnnecessaryDOMElements,\n                    build,\n                    bindEvents,\n                    setCurrentlySelected,\n                    function () {\n                        fp.config.onClose.push(closeHook);\n                        fp.loadedPlugins.push(\"monthSelect\");\n                    },\n                ],\n                onDestroy: [\n                    unstubCurrentMonth,\n                    destroyPluginInstance,\n                    function () {\n                        fp.config.onClose = fp.config.onClose.filter(function (hook) { return hook !== closeHook; });\n                    },\n                ],\n            };\n        };\n    }\n\n    return monthSelectPlugin;\n\n})));\n",":host {\r\n    display: block;\r\n}\r\n\r\nstorm-input-group .input-group.input-group-static.is-valid label,\r\nstorm-input-group .input-group.input-group-dynamic.is-valid .form-label {\r\n    background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 10 8'%3E%3Cpath fill='%2366d432' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3E%3C/svg%3E\");\r\n    background-repeat: no-repeat;\r\n    background-position: right .65rem center;\r\n    background-size: 1rem 1rem;\r\n    width: 100%;\r\n}\r\n\r\nstorm-input-group .input-group.input-group-static.is-invalid label,\r\nstorm-input-group .input-group.input-group-dynamic.is-invalid .form-label {\r\n    color: #f44335;\r\n    background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' stroke='%23fd5c70' viewBox='0 0 12 12'%3E%3Ccircle cx='6' cy='6' r='4.5'/%3E%3Cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3E%3Ccircle cx='6' cy='8.2' r='.6' fill='%23fd5c70' stroke='none'/%3E%3C/svg%3E\");\r\n    background-repeat: no-repeat;\r\n    background-position: right .65rem center;\r\n    background-size: 1rem 1rem;\r\n    width: 100%;\r\n}\r\n\r\nstorm-input-group .input-group.input-group-outline .form-label {\r\n    width: 100%;\r\n    height: 100%;\r\n    font-size: .6875rem !important;\r\n    display: flex;\r\n    line-height: 1.25 !important;\r\n}\r\n\r\nstorm-input-group .input-group.input-group-outline:has(.form-label),\r\nstorm-input-group .input-group.input-group-dynamic {\r\n    margin-top: .6875rem\r\n}\r\n\r\nstorm-input-group .input-group.input-group-dynamic.is-focused .form-label,\r\nstorm-input-group .input-group.input-group-dynamic.is-filled .form-label,\r\nstorm-input-group .input-group.input-group-static.is-focused .form-label,\r\nstorm-input-group .input-group.input-group-static.is-filled .form-label {\r\n    top: -.7rem !important;\r\n}\r\n\r\nstorm-input-group .input-group .input-group-text {\r\n    padding-top: .6rem !important;\r\n}\r\n\r\nstorm-input-group .input-group-outline.is-invalid .input-group-text,\r\nstorm-input-group .input-group-outline.is-valid .input-group-text {\r\n    padding-right: 2.25rem;\r\n}\r\n\r\nstorm-input-group .input-group-prepend {\r\n    margin-right: -1px;\r\n    position: absolute;\r\n    padding: .5rem .4rem !important;\r\n    bottom: 0;\r\n}\r\n\r\nstorm-input-group .input-group-append,\r\nstorm-input-group .input-group-prepend,\r\nstorm-input-group:hover .input-group-clearable {\r\n    display: -ms-flexbox;\r\n    display: flex;\r\n}\r\n\r\nstorm-input-group .input-group-clearable:hover {\r\n    color: #e91e63;\r\n}\r\n\r\nstorm-input-group .input-group-clearable {\r\n    position: absolute;\r\n    right: 0;\r\n    bottom: .1rem;\r\n    color: #344767;\r\n    -webkit-user-select: none;\r\n    user-select: none;\r\n    z-index: 9;\r\n    display: none;\r\n    cursor: pointer;\r\n}\r\n\r\nstorm-input-group .input-group-outline.is-invalid>.input-group-clearable,\r\nstorm-input-group .input-group-outline.is-valid>.input-group-clearable {\r\n    padding: .5rem .3rem !important;\r\n    right: 2rem;\r\n}\r\n\r\nstorm-input-group .input-group-outline.is-invalid .form-control,\r\nstorm-input-group .input-group-outline.is-valid .form-control,\r\nstorm-input-group .input-group:is(:has(.input-group-clearable)) .form-control {\r\n    padding-right: 2rem !important;\r\n}\r\n\r\nstorm-input-group .input-group-outline.is-invalid:is(:has(.input-group-clearable)) .form-control,\r\nstorm-input-group .input-group-outline.is-valid:is(:has(.input-group-clearable)) .form-control {\r\n    padding-right: 4rem !important;\r\n}\r\n\r\nstorm-input-group .input-group:is(:has(.input-group-prepend)) .form-control {\r\n    padding-left: 2rem !important;\r\n}\r\n\r\nstorm-input-group .input-group.input-group-dynamic:is(:has(.input-group-prepend)) .form-label {\r\n    left: 2rem;\r\n}\r\n\r\nstorm-input-group .input-group.input-group-dynamic.is-filled:is(:has(.input-group-prepend)) .form-label,\r\nstorm-input-group .input-group.input-group-dynamic.is-focused:is(:has(.input-group-prepend)) .form-label {\r\n    left: 0;\r\n}\r\n\r\nstorm-input-group .input-group.input-group-outline.is-filled:not(:has(.form-label)) .form-control,\r\nstorm-input-group .input-group.input-group-outline.is-focused:not(:has(.form-label)) .form-control {\r\n    border-color: #e91e63 !important;\r\n    box-shadow: inset 1px 0 #e91e63, inset -1px 0 #e91e63, inset 0 -1px #e91e63, inset 0 1px #e91e63;\r\n}\r\n\r\nstorm-input-group .input-group:not(.has-validation)> :not(:last-child):not(.dropdown-toggle):not(.dropdown-menu) {\r\n    border-top-right-radius: .375rem !important;\r\n    border-bottom-right-radius: .375rem !important;\r\n}","import { Component, Element, Event, EventEmitter, h, Host, Method, Prop, State, Watch } from '@stencil/core';\r\nimport flatpickr from 'flatpickr';\r\nimport { MandarinTraditional } from 'flatpickr/dist/l10n/zh-tw.js';\r\nimport monthSelectPlugin from 'flatpickr/dist/plugins/monthSelect';\r\nimport { FnIcon, FnTag } from '../../utils/functional/functional';\r\nimport { arrayEqual, debounce, isNonEmptyValue, mergeClasses } from '../../utils/utils';\r\n\r\n@Component({\r\n  tag: 'storm-input-group',\r\n  styleUrl: 'storm-input-group.css',\r\n  shadow: false,\r\n})\r\nexport class StormInputGroup {\r\n  private _textInputRef: HTMLInputElement;\r\n  private _cancelRef: HTMLDivElement;\r\n  private _groupRef: HTMLDivElement;\r\n  private _flatpickrInstance: any;\r\n\r\n  @Element() host: HTMLElement;\r\n\r\n  @Prop({ mutable: true }) value: string | string[];\r\n  @Prop() type: string = InputType.Text;\r\n  @Prop() label: string;\r\n\r\n  // Date picker\r\n  @Prop() enableTime: boolean = false;\r\n  @Prop() noCalendar: boolean = false;\r\n  @Prop() dateFormat: string = 'Y-m-d';\r\n  @Prop() mode: 'single' | 'multiple' | 'range' = 'single';\r\n\r\n  @Prop() name: string;\r\n  @Prop() disabled: boolean = false;\r\n  @Prop() clearable: boolean = true;\r\n  @Prop() inputStyle: 'outline' | 'dynamic' | 'static' = 'static';\r\n  @Prop() size?: 'lg' | 'sm';\r\n  @Prop() placeholder: string;\r\n  @Prop() appendIcon: string;\r\n  @Prop() prependIcon: string;\r\n  @Prop() class: Record<string, boolean> | string;\r\n  @Prop() multiple?: boolean;\r\n\r\n  @Prop({ mutable: true }) valid?: boolean;\r\n  @Prop() required?: boolean;\r\n  @Prop() isDynamic?: boolean;\r\n  @Prop() outline?: boolean;\r\n\r\n  @State() isValid?: boolean;\r\n\r\n  @Event() valueChanged: EventEmitter<string | string[]>;\r\n\r\n  @Watch('value')\r\n  valueWatcher(newValue: string | string[], oldValue: string | string[]) {\r\n    if (arrayEqual(newValue, oldValue)) return;\r\n\r\n    this.updateFlatpickr();\r\n\r\n    this.valueChanged.emit(newValue);\r\n    this.validate();\r\n  }\r\n\r\n  @Method()\r\n  async setFocus() {\r\n    this._debouncedFocusTextInput();\r\n  }\r\n\r\n  @Method()\r\n  async setValue(vlaue: string | string[]) {\r\n    this._debouncedUpdateValue(vlaue);\r\n  }\r\n\r\n  validate(): void {\r\n    if (this.valid !== undefined || !this.required) return;\r\n    this.isValid = isNonEmptyValue(this.value);\r\n  }\r\n\r\n  handleFocus(_: FocusEvent) {\r\n    this._groupRef.classList.add('is-focused');\r\n  }\r\n\r\n  handleFocusout(_: FocusEvent) {\r\n    if (!this._groupRef || !this._textInputRef) return;\r\n\r\n    this.refreshInputStatus(this._textInputRef.value);\r\n    this._groupRef.classList.remove('is-focused');\r\n  }\r\n\r\n  handleTagCancel(ev: MouseEvent, value: string) {\r\n    if (!Array.isArray(this.value)) return;\r\n    ev.stopPropagation();\r\n    this._debouncedUpdateValue(this.value.filter(x => x.toString() !== value));\r\n  }\r\n\r\n  handleKeyDown(ev: KeyboardEvent): void {\r\n    if (!this._textInputRef) return;\r\n    if (this.multiple && ev.key === 'Enter') {\r\n      ev.preventDefault();\r\n\r\n      const inputValue = this._textInputRef.value.trim();\r\n      if (!inputValue) return;\r\n      const valueArray = Array.isArray(this.value) ? this.value : [];\r\n\r\n      if (!valueArray.includes(inputValue)) {\r\n        this._debouncedUpdateValue([...valueArray, inputValue]);\r\n      }\r\n\r\n      this._textInputRef.value = '';\r\n      this.refreshInputStatus(this._textInputRef.value);\r\n    } else if (ev.key === 'Backspace' && (this._textInputRef.value == '' || this._textInputRef.value == null)) {\r\n      const valueArray = Array.isArray(this.value) ? this.value : [];\r\n      if (valueArray.length > 0) {\r\n        this._debouncedUpdateValue(valueArray.slice(0, -1));\r\n      }\r\n    }\r\n  }\r\n\r\n  handleInput(_: InputEvent) {\r\n    if (this.multiple) {\r\n      this.refreshInputStatus(this._textInputRef.value);\r\n    } else {\r\n      this._debouncedUpdateValue(this._textInputRef.value);\r\n    }\r\n  }\r\n\r\n  refreshInputStatus(value?: string) {\r\n    const hasValue = value != '' && value != null;\r\n    if (this._cancelRef) {\r\n      this._cancelRef.classList.toggle('d-none', !hasValue);\r\n    }\r\n    if (this._groupRef) {\r\n      this._groupRef.classList.toggle('is-filled', this.inputStyle !== 'static' && hasValue);\r\n    }\r\n  }\r\n\r\n  clearValue() {\r\n    this._textInputRef.value = '';\r\n    if (!this.multiple) {\r\n      this._debouncedUpdateValue('');\r\n    }\r\n    this.refreshInputStatus(this._textInputRef.value);\r\n  }\r\n\r\n  getClasses(): Record<string, boolean> {\r\n    return mergeClasses(this.class, {\r\n      'input-group': true,\r\n      'input-group-lg': this.size === 'lg',\r\n      'input-group-sm': this.size === 'sm',\r\n      'input-group-outline': this.inputStyle === 'outline',\r\n      'input-group-dynamic': this.inputStyle === 'dynamic',\r\n      'input-group-static': this.inputStyle === 'static',\r\n      'is-valid': this.valid === true || this.isValid === true,\r\n      'is-invalid': this.valid === false || this.isValid === false,\r\n      'is-filled': this.value != '' && ((this.disabled === true && this.inputStyle === 'dynamic') || (!this.disabled && this.inputStyle !== 'static')),\r\n    });\r\n  }\r\n\r\n  getInputClasses(): Record<string, boolean> {\r\n    const classes = { 'form-control': true, 'multisteps-form__input': true };\r\n    if (this.type == InputType.Date) classes['datetimepicker'] = true;\r\n    return classes;\r\n  }\r\n\r\n  componentWillLoad() {\r\n    if (this.isDynamic != undefined || this.outline != undefined) {\r\n      if (this.outline === true) {\r\n        this.inputStyle = 'outline';\r\n      } else if (this.isDynamic === true) {\r\n        this.inputStyle = 'dynamic';\r\n      } else {\r\n        this.inputStyle = 'static';\r\n      }\r\n    }\r\n  }\r\n\r\n  componentWillRender() {\r\n    this.validate();\r\n  }\r\n\r\n  appendRender() {\r\n    if (!this.appendIcon) return;\r\n    return (\r\n      <span class=\"input-group-text\">\r\n        <FnIcon>{this.appendIcon}</FnIcon>\r\n      </span>\r\n    );\r\n  }\r\n\r\n  prependRender() {\r\n    if (!this.prependIcon) return;\r\n    return (\r\n      <span class=\"input-group-prepend\">\r\n        <FnIcon>{this.prependIcon}</FnIcon>\r\n      </span>\r\n    );\r\n  }\r\n\r\n  renderClearButton() {\r\n    if (this.disabled || this.clearable === false) return;\r\n    return (\r\n      <div\r\n        ref={elm => (this._cancelRef = elm)}\r\n        role=\"button\"\r\n        tabindex=\"0\"\r\n        aria-label=\"Clear input\"\r\n        class={{\r\n          'input-group-clearable': true,\r\n          'p-2': true,\r\n          'd-none': true,\r\n        }}\r\n        onClick={ev => {\r\n          ev.stopPropagation();\r\n          this.clearValue();\r\n          this._debouncedFocusTextInput();\r\n        }}\r\n      >\r\n        <FnIcon>cancel</FnIcon>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  labelRender() {\r\n    if (!this.label) return;\r\n    return <label class={{ 'form-label': this.inputStyle != 'static' }}>{this.label}</label>;\r\n  }\r\n\r\n  tagRender() {\r\n    if (!Array.isArray(this.value)) return;\r\n    return this.value.map(x => <FnTag lable={x} onClickCancel={ev => this.handleTagCancel(ev, x)}></FnTag>);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <div ref={elm => (this._groupRef = elm)} class={this.getClasses()}>\r\n          {this.labelRender()}\r\n          <input\r\n            ref={elm => (this._textInputRef = elm)}\r\n            class={this.getInputClasses()}\r\n            type={this.type != InputType.Number ? 'text' : InputType.Number}\r\n            value={Array.isArray(this.value) ? '' : this.value}\r\n            name={this.name}\r\n            disabled={this.disabled}\r\n            onFocus={ev => this.handleFocus(ev)}\r\n            onBlur={ev => this.handleFocusout(ev)}\r\n            onKeyDown={ev => this.handleKeyDown(ev)}\r\n            onInput={ev => this.handleInput(ev)}\r\n            placeholder={this.placeholder}\r\n          />\r\n          {this.prependRender()}\r\n          {this.appendRender()}\r\n          {this.renderClearButton()}\r\n        </div>\r\n        {this.tagRender()}\r\n      </Host>\r\n    );\r\n  }\r\n\r\n  updateFlatpickr() {\r\n    if (this._flatpickrInstance && this.value && this.type === InputType.Date) {\r\n      const parsedDate = new Date(this.value as string);\r\n      if (!isNaN(parsedDate.getTime())) {\r\n        this._flatpickrInstance.setDate(parsedDate, true);\r\n      }\r\n    }\r\n  }\r\n\r\n  private getDefaultTime(): { defaultHour: number; defaultMinute: number } {\r\n    const now = new Date();\r\n    let defaultHour = now.getHours();\r\n    let defaultMinute = now.getMinutes();\r\n\r\n    if (this.value && this.enableTime) {\r\n      const parsedDate = new Date(this.value as string);\r\n      if (!isNaN(parsedDate.getTime())) {\r\n        defaultHour = parsedDate.getHours();\r\n        defaultMinute = parsedDate.getMinutes();\r\n      }\r\n    }\r\n\r\n    return { defaultHour, defaultMinute };\r\n  }\r\n\r\n  componentDidLoad() {\r\n    if (this.type == InputType.Date) {\r\n      const { defaultHour, defaultMinute } = this.getDefaultTime();\r\n      const options = {\r\n        allowInput: false,\r\n        enableTime: this.enableTime,\r\n        noCalendar: this.noCalendar,\r\n        dateFormat: this.dateFormat,\r\n        mode: this.mode,\r\n        time_24hr: true,\r\n        locale: MandarinTraditional,\r\n        plugins: [],\r\n        defaultHour: defaultHour,\r\n        defaultMinute: defaultMinute,\r\n      };\r\n\r\n      if (this.dateFormat.lastIndexOf('d') == -1 && this.dateFormat.lastIndexOf('H') == -1 && this.dateFormat.lastIndexOf('h') == -1) {\r\n        options.plugins = [\r\n          monthSelectPlugin({\r\n            // shorthand: false, //defaults to false\r\n            dateFormat: this.dateFormat, //defaults to \"F Y\"\r\n            // altFormat: \"Y-M\", //defaults to \"F Y\"\r\n            // theme: \"light\" // defaults to \"light\"\r\n          }),\r\n        ];\r\n      }\r\n      this._flatpickrInstance = flatpickr(this._textInputRef, options);\r\n    }\r\n  }\r\n\r\n  componentDidRender() {\r\n    this.refreshInputStatus(this._textInputRef.value);\r\n  }\r\n\r\n  private readonly _debouncedFocusTextInput = debounce(() => {\r\n    this._textInputRef.focus();\r\n  }, 100);\r\n\r\n  private readonly _debouncedUpdateValue = debounce((value: string | string[]) => {\r\n    if (arrayEqual(this.value, value)) return;\r\n    this.value = value;\r\n  }, 250);\r\n}\r\n\r\nenum InputType {\r\n  Text = 'text',\r\n  Date = 'date',\r\n  Number = 'number',\r\n}\r\n",":host {\r\n  display: block;\r\n}","import { Component, Element, Event, EventEmitter, h, Host, Listen, Method, Prop, Watch } from '@stencil/core';\r\nimport { FnIcon, FnSearchInput } from '../../utils/functional/functional';\r\nimport type { ListItemInterface } from '../../utils/interface';\r\nimport { appendHighlight, arrayEqual, calculateObjectValue, generateUid, getSelectedItemIds, mergeClasses } from '../../utils/utils';\r\n\r\n@Component({\r\n  tag: 'storm-list-group',\r\n  styleUrl: 'storm-list-group.scss',\r\n  shadow: false,\r\n})\r\nexport class StormListGroup {\r\n  private _itemRefs: Record<string, HTMLElement>;\r\n  private _searchRef: HTMLStormInputGroupElement;\r\n\r\n  @Element() host: HTMLElement;\r\n\r\n  @Prop({ mutable: true }) dataSet: ListItemInterface[];\r\n  @Prop() headline?: string;\r\n  @Prop({ mutable: true }) searchText?: string;\r\n  @Prop() searchable: boolean = false;\r\n  @Prop() selection: 'single' | 'multiple' | 'none' = 'single';\r\n  @Prop() nullable: boolean = false;\r\n  @Prop({ mutable: true }) value?: string | string[];\r\n  @Prop() class: Record<string, boolean> | string;\r\n  @Prop() itemClass: Record<string, boolean> | string;\r\n\r\n  @Event() valueChanged: EventEmitter<string | string[]>;\r\n  @Event() itemClick: EventEmitter<ListItemInterface>;\r\n  @Event() selectChange: EventEmitter<ListItemInterface>;\r\n  @Event() searchChanged: EventEmitter<string>;\r\n\r\n  @Watch('value')\r\n  valueWatcher(newValue: string | string[], oldValue: string | string[]) {\r\n    if (arrayEqual(newValue, oldValue)) return;\r\n\r\n    this.setSelectedItems();\r\n\r\n    this.valueChanged.emit(newValue);\r\n  }\r\n\r\n  @Watch('dataSet')\r\n  dataSetWatcher() {\r\n    this.initDataSet();\r\n    this.setSelectedItems();\r\n  }\r\n\r\n  @Listen('itemClick')\r\n  itemClickHandler(event: CustomEvent<ListItemInterface>) {\r\n    if (this.selection === 'none') return;\r\n    const item = event.detail;\r\n    item.selected ? this.unselect(item) : this.select(item);\r\n  }\r\n\r\n  @Listen('searchChanged')\r\n  searchChangedHandler(ev: CustomEvent<string>) {\r\n    this.searchText = ev.detail;\r\n  }\r\n\r\n  @Method()\r\n  async setSearchFocus() {\r\n    if (this.searchable && this._searchRef) {\r\n      requestAnimationFrame(async () => {\r\n        await this._searchRef.setFocus();\r\n      });\r\n    }\r\n  }\r\n\r\n  handleSearchChanged(ev: CustomEvent<string>) {\r\n    ev.stopPropagation();\r\n    const value = ev.detail?.trim();\r\n    if (this.searchText === value) return;\r\n    this.searchChanged.emit(value);\r\n  }\r\n\r\n  select(item: ListItemInterface) {\r\n    if (item.selected) return;\r\n    switch (this.selection) {\r\n      case 'single':\r\n        this.value = item.id;\r\n        break;\r\n      case 'multiple': {\r\n        const currentValue = Array.isArray(this.value) ? this.value : this.value ? [this.value] : [];\r\n        if (!currentValue.includes(item.id)) this.value = [...currentValue, item.id];\r\n        break;\r\n      }\r\n      default:\r\n        console.warn(`Unknown selection mode: ${this.selection}`);\r\n    }\r\n    this.selectChange.emit(item);\r\n  }\r\n\r\n  unselect(item: ListItemInterface) {\r\n    if (!item.selected) return;\r\n    switch (this.selection) {\r\n      case 'single':\r\n        if (!this.nullable) return;\r\n        this.value = null;\r\n        break;\r\n      case 'multiple': {\r\n        const currentValue = Array.isArray(this.value) ? this.value : this.value ? [this.value] : [];\r\n        if (currentValue.length === 1) return;\r\n        if (currentValue.includes(item.id)) this.value = currentValue.filter(id => id !== item.id);\r\n        break;\r\n      }\r\n      default:\r\n        console.warn(`Unknown selection mode: ${this.selection}`);\r\n    }\r\n    this.selectChange.emit(item);\r\n  }\r\n\r\n  initDataSet() {\r\n    if (!Array.isArray(this.dataSet)) return;\r\n    this.dataSet.forEach(item => {\r\n      item.id = item.id || generateUid('ilist-item');\r\n    });\r\n  }\r\n\r\n  setSelectedItems() {\r\n    if (!Array.isArray(this.dataSet)) return;\r\n    const valueArray = Array.isArray(this.value) ? this.value : this.value ? [this.value] : [];\r\n    const valueSet = new Set<string>(valueArray);\r\n    this.dataSet.forEach(item => {\r\n      item.selected = valueSet.has(item.id);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    if (this.headline) {\r\n      return (\r\n        <Host>\r\n          <storm-card scrollable={true} class=\"mt-4\" bodyClass=\"p-0\">\r\n            <div slot=\"card-header\">\r\n              <div class=\"border-radius-xl mt-n4 mx-4 mb-2 bg-gradient-dark shadow-dark p-1\">\r\n                <h6 class=\"text-white font-weight-bolder text-center m-1\">{this.headline}</h6>\r\n              </div>\r\n            </div>\r\n            <div slot=\"body\">{this.renderListGroup()}</div>\r\n          </storm-card>\r\n        </Host>\r\n      );\r\n    } else {\r\n      return <Host>{this.renderListGroup()}</Host>;\r\n    }\r\n  }\r\n\r\n  renderItems() {\r\n    this._itemRefs = {};\r\n    if (!Array.isArray(this.dataSet) || this.dataSet.length === 0) {\r\n      return <div class=\"disabled list-group-item align-middle text-center p-4 h6\">沒有找到符合的結果</div>;\r\n    }\r\n    let itmes = this.dataSet.filter(item => calculateObjectValue(this, item.visible) ?? true);\r\n    if (this.searchable && this.searchText) {\r\n      itmes = itmes.filter(x => x.title.toLowerCase().includes(this.searchText));\r\n    }\r\n    return itmes.map(item => this.renderItem(item));\r\n  }\r\n\r\n  renderItem(item: ListItemInterface) {\r\n    const disabled = (calculateObjectValue(this, item.disabled) ?? false) as boolean;\r\n    return (\r\n      <a\r\n        href=\"javascript:void(0);\"\r\n        class={mergeClasses(\r\n          {\r\n            'list-group-item': true,\r\n            'list-group-item-action': true,\r\n            disabled: disabled,\r\n            active: item.selected,\r\n            'px-2': true,\r\n            'py-1': true,\r\n          },\r\n          this.itemClass,\r\n        )}\r\n        onClick={ev => {\r\n          ev.stopPropagation();\r\n          this.itemClick.emit(item);\r\n        }}\r\n        ref={elm => (this._itemRefs[item.id] = elm)}\r\n      >\r\n        <FnIcon>{item.icon}</FnIcon>\r\n        <FnIcon class={{ 'float-end': true }}>{item.selected && this.selection === 'multiple' ? 'check_circle' : ''}</FnIcon>\r\n        {this.renderItemLabel(item.title)}\r\n      </a>\r\n    );\r\n  }\r\n\r\n  renderListGroup() {\r\n    return (\r\n      <div class={mergeClasses({ 'list-group': true, 'list-group-flush': !!this.headline }, this.class)}>\r\n        {this.renderSearch()}\r\n        {this.renderItems()}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  renderItemLabel(value: string) {\r\n    return <span class={{ 'nav-link-text': true }} innerHTML={!this.searchText || !value ? value : appendHighlight(value, this.searchText)}></span>;\r\n  }\r\n\r\n  renderSearch() {\r\n    if (!this.searchable) return;\r\n    return (\r\n      <div class=\"search\">\r\n        <FnSearchInput ref={elm => (this._searchRef = elm)} value={this.searchText} onValueChanged={ev => this.handleSearchChanged(ev)} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  componentWillLoad() {\r\n    this.initDataSet();\r\n    if (!this.value || (Array.isArray(this.value) && this.value.length === 0)) {\r\n      this.value = getSelectedItemIds(this.dataSet, this.nullable, this.selection);\r\n    }\r\n    this.setSelectedItems();\r\n  }\r\n\r\n  componentDidLoad() {\r\n    const hasValidValue = (typeof this.value === 'string' && this.value.trim() !== '') || (Array.isArray(this.value) && this.value.length > 0);\r\n\r\n    if (hasValidValue) {\r\n      this.valueChanged.emit(this.value);\r\n    }\r\n  }\r\n}\r\n","@import '../../../node_modules/perfect-scrollbar/css/perfect-scrollbar.css';\r\n\r\n:host {\r\n  display: block;\r\n}\r\n\r\n.storm-container,\r\n.storm-vertical-static-backdrop,\r\n.storm-horizontal-static-backdrop {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n}\r\n\r\n.storm-first-pane-d-none>.first-second-pane,\r\n.storm-second-pane-d-none>.storm-second-pane {\r\n  display: none !important;\r\n}\r\n\r\n.storm-pane {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  overflow: auto;\r\n  /* overflow: hidden; */\r\n}\r\n\r\n.storm-split-percent:has(.storm-first-pane-AD-none, .storm-second-pane-d-none)>.split-bar {\r\n  display: none;\r\n}\r\n\r\n.storm-split-percent:not(.storm-first-pane-d-none):not(.storm-second-pane-d-none)>.split-bar {\r\n  -webkit-background-clip: padding-box;\r\n  /* for Safari */\r\n  background-clip: padding-box;\r\n  /* for IE9+, Firefox 4+, Opera, Chrome */\r\n  position: absolute;\r\n  z-index: 9998;\r\n}\r\n\r\n.split-bar.active,\r\n.split-bar:hover {\r\n  background-color: #e91e63;\r\n}\r\n\r\n.storm-vertical-static-backdrop,\r\n.storm-horizontal-static-backdrop {\r\n  z-index: 9999;\r\n}\r\n\r\n.storm-vertical-split>.storm-first-pane,\r\n.storm-vertical-split>.storm-second-pane {\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n}\r\n\r\n.storm-vertical-split>.storm-first-pane {\r\n  left: 0;\r\n}\r\n\r\n.storm-vertical-split>.storm-second-pane {\r\n  right: 0;\r\n}\r\n\r\n.storm-vertical-split.storm-split-percent>.storm-first-pane {\r\n  right: auto;\r\n  width: var(--split-percent);\r\n}\r\n\r\n.storm-vertical-split.storm-split-percent>.storm-second-pane {\r\n  left: var(--split-percent);\r\n  width: auto;\r\n}\r\n\r\n.storm-vertical-split.storm-fixed-first-pane>.storm-first-pane {\r\n  right: auto;\r\n  width: var(--fixed-size);\r\n}\r\n\r\n.storm-vertical-split.storm-fixed-first-pane>.storm-second-pane {\r\n  left: var(--fixed-size);\r\n  width: auto;\r\n}\r\n\r\n.storm-vertical-split.storm-fixed-second-pane>.storm-first-pane {\r\n  right: var(--fixed-size);\r\n  width: auto;\r\n}\r\n\r\n.storm-vertical-split.storm-fixed-second-pane>.storm-second-pane {\r\n  left: auto;\r\n  width: var(--fixed-size);\r\n}\r\n\r\n.storm-vertical-split.storm-first-pane-d-none>.storm-second-pane,\r\n.storm-vertical-split.storm-second-pane-d-none>.storm-first-pane {\r\n  left: 0 !important;\r\n  right: 0 !important;\r\n  width: auto !important;\r\n}\r\n\r\n.storm-vertical-split.storm-split-percent:not(.storm-first-pane-d-none):not(.storm-second-pane-d-none):not(.storm-fixed-first-pane):not(.storm-fixed-second-pane)>.storm-first-pane>.storm-pane {\r\n  right: 2px !important;\r\n}\r\n\r\n.storm-vertical-split.storm-split-percent:not(.storm-first-pane-d-none):not(.storm-second-pane-d-none):not(.storm-fixed-first-pane):not(.storm-fixed-second-pane)>.storm-second-pane>.storm-pane {\r\n  left: 2px !important;\r\n}\r\n\r\n.storm-vertical-split.storm-split-percent:not(.storm-first-pane-d-none):not(.storm-second-pane-d-none)>.split-bar {\r\n  border-left: 1px solid rgba(0, 0, 0, 0);\r\n  border-right: 1px solid rgba(0, 0, 0, 0);\r\n  top: 0;\r\n  bottom: 0;\r\n  left: var(--split-percent);\r\n  margin-left: -2px;\r\n  width: 4px;\r\n}\r\n\r\n.storm-vertical-static-backdrop,\r\n.storm-vertical-split .split-bar:hover {\r\n  cursor: col-resize;\r\n}\r\n\r\n.storm-horizontal-split>.storm-first-pane,\r\n.storm-horizontal-split>.storm-second-pane {\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n}\r\n\r\n.storm-horizontal-split>.storm-first-pane {\r\n  top: 0;\r\n}\r\n\r\n.storm-horizontal-split>.storm-second-pane {\r\n  bottom: 0;\r\n}\r\n\r\n.storm-horizontal-split.storm-split-percent>.storm-first-pane {\r\n  bottom: auto;\r\n  height: var(--split-percent);\r\n}\r\n\r\n.storm-horizontal-split.storm-split-percent>.storm-second-pane {\r\n  top: var(--split-percent);\r\n  height: auto;\r\n}\r\n\r\n.storm-horizontal-split.storm-fixed-first-pane>.storm-first-pane {\r\n  bottom: auto;\r\n  height: var(--fixed-size);\r\n}\r\n\r\n.storm-horizontal-split.storm-fixed-first-pane>.storm-second-pane {\r\n  top: var(--fixed-size);\r\n  height: auto;\r\n}\r\n\r\n.storm-horizontal-split.storm-fixed-second-pane>.storm-first-pane {\r\n  bottom: var(--fixed-size);\r\n  height: auto;\r\n}\r\n\r\n.storm-horizontal-split.storm-fixed-second-pane>.storm-second-pane {\r\n  top: auto;\r\n  height: var(--fixed-size);\r\n}\r\n\r\n.storm-horizontal-split.storm-first-pane-d-none>.storm-second-pane,\r\n.storm-horizontal-split.storm-second-pane-d-none>.storm-first-pane {\r\n  top: 0 !important;\r\n  bottom: 0 !important;\r\n  height: auto !important;\r\n}\r\n\r\n.storm-horizontal-split.storm-split-percent:not(.storm-first-pane-d-none):not(.storm-second-pane-d-none):not(.storm-fixed-first-pane):not(.storm-fixed-second-pane)>.storm-first-pane>.storm-pane {\r\n  bottom: 2px !important;\r\n}\r\n\r\n.storm-horizontal-split.storm-split-percent:not(.storm-first-pane-d-none):not(.storm-second-pane-d-none):not(.storm-fixed-first-pane):not(.storm-fixed-second-pane)>.storm-second-pane>.storm-pane {\r\n  top: 2px !important;\r\n}\r\n\r\n.storm-horizontal-split.storm-split-percent:not(.storm-first-pane-d-none):not(.storm-second-pane-d-none)>.split-bar {\r\n  border-top: 1px solid rgba(0, 0, 0, 0);\r\n  border-bottom: 1px solid rgba(0, 0, 0, 0);\r\n  left: 0;\r\n  right: 0;\r\n  top: var(--split-percent);\r\n  margin-top: -2px;\r\n  height: 4px;\r\n}\r\n\r\n.storm-horizontal-static-backdrop,\r\n.storm-horizontal-split>.split-bar:hover {\r\n  cursor: row-resize;\r\n}","import { Component, Element, Event, EventEmitter, Host, Method, Prop, h } from '@stencil/core';\r\nimport PerfectScrollbar from 'perfect-scrollbar';\r\n\r\n@Component({\r\n  tag: 'storm-split-view',\r\n  styleUrl: 'storm-split-view.css',\r\n  shadow: false,\r\n})\r\nexport class StormSplitView {\r\n  private _splitBarMove: boolean = false;\r\n  private _splitBarRef: HTMLDivElement;\r\n  private _stormContainerRef: HTMLDivElement;\r\n  private _secondPaneRef: HTMLDivElement;\r\n\r\n  @Element() host: HTMLElement;\r\n  @Prop() splitPercent: number = 50;\r\n  @Prop() fixedSize?: string;\r\n  @Prop() fixedPane?: 'first' | 'second';\r\n  @Prop() direction: 'horizontal' | 'vertical' = 'vertical';\r\n  @Prop() firstPaneVisible: boolean = true;\r\n  @Prop() secondPaneVisible: boolean = true;\r\n  @Prop() firstPaneName: string = 'first-pane';\r\n  @Prop() secondPaneName: string = 'second-pane';\r\n\r\n  @Event() innerScroll: EventEmitter<number>;\r\n\r\n  @Method()\r\n  async viewToggle(token: 'first' | 'second', force: boolean) {\r\n    this._stormContainerRef.classList.toggle('storm-' + token + '-pane-d-none', !force);\r\n  }\r\n\r\n  renderPane(token: string) {\r\n    const classes = {};\r\n    classes['storm-' + token + '-pane'] = true;\r\n    return (\r\n      <div\r\n        ref={elm => {\r\n          if (token === 'second') this._secondPaneRef = elm;\r\n        }}\r\n        class={classes}\r\n      >\r\n        <div class={{ 'storm-pane': true }}>\r\n          <slot name={token === 'first' ? this.firstPaneName : this.secondPaneName}></slot>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const styles = {};\r\n    if (!this.fixedSize || !this.fixedPane) styles['--split-percent'] = this.splitPercent + '%';\r\n    else styles['--fixed-size'] = this.fixedSize;\r\n    return (\r\n      <Host style={styles}>\r\n        <div\r\n          ref={elm => (this._stormContainerRef = elm)}\r\n          class={{\r\n            'storm-container': true,\r\n            'storm-first-pane-d-none': !this.firstPaneVisible,\r\n            'storm-second-pane-d-none': !this.secondPaneVisible,\r\n            'storm-split-percent': !this.fixedSize || !this.fixedPane,\r\n            'storm-fixed-first-pane': this.fixedPane === 'first',\r\n            'storm-fixed-second-pane': this.fixedPane === 'second',\r\n            'storm-horizontal-split': this.direction === 'horizontal',\r\n            'storm-vertical-split': this.direction === 'vertical',\r\n          }}\r\n        >\r\n          {this.renderPane('first')}\r\n          {this.renderPane('second')}\r\n          <div\r\n            ref={elm => {\r\n              this._splitBarRef = elm;\r\n            }}\r\n            class={{ 'split-bar': true }}\r\n          ></div>\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n\r\n  componentDidLoad() {\r\n    this._splitBarRef.addEventListener('mousedown', () => {\r\n      this._splitBarRef.classList.add('active');\r\n      this._splitBarMove = true;\r\n      const staticBackdrop: HTMLDivElement = document.createElement('div');\r\n      staticBackdrop.classList.add('storm-' + this.direction + '-static-backdrop');\r\n      staticBackdrop.addEventListener('mousemove', (e: MouseEvent) => {\r\n        if (this._splitBarMove) {\r\n          if (this.direction === 'vertical') this._splitBarRef.style.setProperty('left', e.offsetX + 'px');\r\n          else this._splitBarRef.style.setProperty('top', e.offsetY + 'px');\r\n        }\r\n      });\r\n      staticBackdrop.addEventListener('mouseup', e => {\r\n        this._splitBarRef.classList.remove('active');\r\n        if (this._splitBarMove) {\r\n          let percent = 0;\r\n          if (this.direction === 'vertical') percent = (e.offsetX / staticBackdrop.offsetWidth) * 100;\r\n          else percent = (e.offsetY / staticBackdrop.offsetHeight) * 100;\r\n          if (percent < 10) percent = 10;\r\n          if (percent > 90) percent = 90;\r\n          this.host.style.setProperty('--split-percent', percent + '%');\r\n          this._splitBarMove = false;\r\n          if (this.direction === 'vertical') this._splitBarRef.style.removeProperty('left');\r\n          else this._splitBarRef.style.removeProperty('top');\r\n          this.host.removeChild(staticBackdrop);\r\n        }\r\n      });\r\n      this.host.appendChild(staticBackdrop);\r\n    });\r\n\r\n    const container = this._secondPaneRef.firstElementChild;\r\n    if (container) {\r\n      new PerfectScrollbar(container);\r\n      const innerScroll = this.innerScroll;\r\n      let lastKnownScrollPosition = 0;\r\n      let ticking = false;\r\n      container.addEventListener('scroll', (e: Event) => {\r\n        lastKnownScrollPosition = container.scrollTop;\r\n        if (!ticking) {\r\n          window.requestAnimationFrame(function () {\r\n            innerScroll.emit(lastKnownScrollPosition);\r\n            ticking = false;\r\n          });\r\n          ticking = true;\r\n        }\r\n        e.stopPropagation();\r\n      });\r\n    }\r\n  }\r\n}\r\n",null,"import { Component, Element, h, Host, Method, Prop } from '@stencil/core';\r\n\r\n@Component({\r\n  tag: 'storm-vertical-split-view',\r\n  styleUrl: 'storm-vertical-split-view.css',\r\n  shadow: false,\r\n})\r\nexport class StormVerticalSplitView {\r\n  private _splitViewRef: HTMLStormSplitViewElement;\r\n\r\n  @Element() host: HTMLElement;\r\n  @Prop() splitPercent: number = 50;\r\n  @Prop() fixedSize?: string;\r\n  @Prop() fixedPane?: 'left' | 'right';\r\n  @Prop({ mutable: true }) leftPaneVisible?: boolean;\r\n  @Prop({ mutable: true }) rightPaneVisible?: boolean;\r\n\r\n  @Method()\r\n  async viewToggle(token: 'left' | 'right', force: boolean) {\r\n    await this._splitViewRef.viewToggle(token === 'left' ? 'first' : 'second', force);\r\n  }\r\n\r\n  componentWillLoad() {\r\n    this.leftPaneVisible = this.leftPaneVisible ?? this.host.querySelector(':scope>[slot=\"left-pane\"]') != null;\r\n    this.rightPaneVisible = this.rightPaneVisible ?? this.host.querySelector(':scope>[slot=\"right-pane\"]') != null;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Host>\r\n        <storm-split-view\r\n          ref={elm => (this._splitViewRef = elm)}\r\n          splitPercent={this.splitPercent}\r\n          fixedSize={this.fixedSize}\r\n          fixedPane={this.fixedPane == null ? null : this.fixedPane == 'left' ? 'first' : 'second'}\r\n          firstPaneVisible={this.leftPaneVisible}\r\n          secondPaneVisible={this.rightPaneVisible}\r\n          direction={'vertical'}\r\n          firstPaneName={'left-pane'}\r\n          secondPaneName={'right-pane'}\r\n        >\r\n          <slot name=\"left-pane\"></slot>\r\n          <slot name=\"right-pane\"></slot>\r\n        </storm-split-view>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]}